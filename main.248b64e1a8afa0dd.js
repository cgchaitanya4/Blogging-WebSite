var U7e=Object.defineProperty,q7e=Object.defineProperties,$7e=Object.getOwnPropertyDescriptors,gL=Object.getOwnPropertySymbols,G7e=Object.prototype.hasOwnProperty,W7e=Object.prototype.propertyIsEnumerable,IA=Math.pow,vL=(wt,Ve,F)=>Ve in wt?U7e(wt,Ve,{enumerable:!0,configurable:!0,writable:!0,value:F}):wt[Ve]=F,lt=(wt,Ve)=>{for(var F in Ve||(Ve={}))G7e.call(Ve,F)&&vL(wt,F,Ve[F]);if(gL)for(var F of gL(Ve))W7e.call(Ve,F)&&vL(wt,F,Ve[F]);return wt},_s=(wt,Ve)=>q7e(wt,$7e(Ve));(self.webpackChunkngBlogSite=self.webpackChunkngBlogSite||[]).push([[179],{7905:(wt,Ve,F)=>{"use strict";F.d(Ve,{hO:()=>Ie,xv:()=>de,Dh:()=>W,GT:()=>pe,cc:()=>Ue,on:()=>ne,pX:()=>te});var f=F(3668),Z=F(7892),q=F(5940);wt=F.hmd(wt);const R=["ngOnDestroy"],te=(me,Ee,Ge,Xe={})=>new Proxy(me,{get:(vt,It)=>Ge.runOutsideAngular(()=>{var Gt;if(me[It])return(null===(Gt=null==Xe?void 0:Xe.spy)||void 0===Gt?void 0:Gt.get)&&Xe.spy.get(It,me[It]),me[It];if(R.indexOf(It)>-1)return()=>{};const jt=Ee.toPromise().then(Ze=>{const Se=Ze&&Ze[It];return"function"==typeof Se?Se.bind(Ze):Se&&Se.then?Se.then(De=>Ge.run(()=>De)):Ge.run(()=>Se)});return new Proxy(()=>{},{get:(Ze,Se)=>jt[Se],apply:(Ze,Se,De)=>jt.then(Fe=>{var ze;const it=Fe&&Fe(...De);return(null===(ze=null==Xe?void 0:Xe.spy)||void 0===ze?void 0:ze.apply)&&Xe.spy.apply(It,De,it),it})})})}),pe=(me,Ee)=>{Ee.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Xe=>{Object.defineProperty(me.prototype,Xe,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Xe))})})};class ve{constructor(Ee){return Ee}}const W=new f.OlP("angularfire2.app.options"),de=new f.OlP("angularfire2.app.name");function ne(me,Ee,Ge){const vt="object"==typeof Ge&&Ge||{};vt.name=vt.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const Gt=Z.Z.apps.filter(jt=>jt&&jt.name===vt.name)[0]||Ee.runOutsideAngular(()=>Z.Z.initializeApp(me,vt));try{JSON.stringify(me)!==JSON.stringify(Gt.options)&&se("error",`${Gt.name} Firebase App already initialized with different options${wt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(jt){}return new ve(Gt)}const se=(me,...Ee)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[me](...Ee)},le={provide:ve,useFactory:ne,deps:[W,f.R0b,[new f.FiY,de]]};let Ie=(()=>{class me{constructor(Ge){Z.Z.registerVersion("angularfire",q.q4.full,"core"),Z.Z.registerVersion("angularfire",q.q4.full,"app-compat"),Z.Z.registerVersion("angular",f.q4F.full,Ge.toString())}static initializeApp(Ge,Xe){return{ngModule:me,providers:[{provide:W,useValue:Ge},{provide:de,useValue:Xe}]}}}return me.\u0275fac=function(Ge){return new(Ge||me)(f.LFG(f.Lbi))},me.\u0275mod=f.oAB({type:me}),me.\u0275inj=f.cJS({providers:[le]}),me})();function Ue(me,Ee,Ge,Xe,vt){const[,It,Gt]=globalThis.\u0275AngularfireInstanceCache.find(jt=>jt[0]===me)||[];if(It)return function(me,Ee){try{return me.toString()===Ee.toString()}catch(Ge){return me===Ee}}(vt,Gt)||(Ce("error",`${Ee} was already initialized on the ${Ge} Firebase App with different settings.${qe?" You may need to reload as Firebase is not HMR aware.":""}`),Ce("warn",{is:vt,was:Gt})),It;{const jt=Xe();return globalThis.\u0275AngularfireInstanceCache.push([me,jt,vt]),jt}}const qe=!!wt.hot,Ce=(me,...Ee)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[me](...Ee)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5940:(wt,Ve,F)=>{"use strict";F.d(Ve,{q4:()=>X1,iC:()=>W3,HU:()=>Ur,vb:()=>V2,JM:()=>G3});var f=F(3668),Z=F(7713),q=F(8239),R=F(1572),te=F(4213),pe=F(1177),ve=F(3855),W=F(4995);const de="@firebase/installations",le="w:0.5.4",Ie="FIS_v2",Ee=new te.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(O){return O instanceof te.ZR&&O.code.includes("request-failed")}function Xe({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function vt(O){return{token:O.token,requestStatus:2,expiresIn:Fe(O.expiresIn),creationTime:Date.now()}}function It(O,U){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,q.Z)(function*(O,U){const ce=(yield U.json()).error;return Ee.create("request-failed",{requestName:O,serverCode:ce.code,serverMessage:ce.message,serverStatus:ce.status})})).apply(this,arguments)}function jt({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Ze(O,{refreshToken:U}){const Q=jt(O);return Q.append("Authorization",function(O){return`${Ie} ${O}`}(U)),Q}function Se(O){return De.apply(this,arguments)}function De(){return(De=(0,q.Z)(function*(O){const U=yield O();return U.status>=500&&U.status<600?O():U})).apply(this,arguments)}function Fe(O){return Number(O.replace("s","000"))}function it(O,U){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,q.Z)(function*(O,{fid:U}){const Q=Xe(O),Re={method:"POST",headers:jt(O),body:JSON.stringify({fid:U,authVersion:Ie,appId:O.appId,sdkVersion:le})},Ke=yield Se(()=>fetch(Q,Re));if(Ke.ok){const yt=yield Ke.json();return{fid:yt.fid||U,registrationStatus:2,refreshToken:yt.refreshToken,authToken:vt(yt.authToken)}}throw yield It("Create Installation",Ke)})).apply(this,arguments)}function Zt(O){return new Promise(U=>{setTimeout(U,O)})}const Ui=/^[cdef][\w-]{21}$/;function an(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const Q=function(O){return function(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Ui.test(Q)?Q:""}catch(O){return""}}function ni(O){return`${O.appName}!${O.appId}`}const Vr=new Map;function Mo(O,U){const Q=ni(O);dn(Q,U),function(O,U){const Q=(!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=O=>{dn(O.data.key,O.data.fid)}),qi);Q&&Q.postMessage({key:O,fid:U}),0===Vr.size&&qi&&(qi.close(),qi=null)}(Q,U)}function dn(O,U){const Q=Vr.get(O);if(Q)for(const ce of Q)ce(U)}let qi=null;const rr="firebase-installations-store";let yr=null;function d1(){return yr||(yr=(0,W.openDb)("firebase-installations-database",1,O=>{0===O.oldVersion&&O.createObjectStore(rr)})),yr}function Tt(O,U){return $i.apply(this,arguments)}function $i(){return($i=(0,q.Z)(function*(O,U){const Q=ni(O),ke=(yield d1()).transaction(rr,"readwrite"),Re=ke.objectStore(rr),Ke=yield Re.get(Q);return yield Re.put(U,Q),yield ke.complete,(!Ke||Ke.fid!==U.fid)&&Mo(O,U.fid),U})).apply(this,arguments)}function Eo(O){return xo.apply(this,arguments)}function xo(){return(xo=(0,q.Z)(function*(O){const U=ni(O),ce=(yield d1()).transaction(rr,"readwrite");yield ce.objectStore(rr).delete(U),yield ce.complete})).apply(this,arguments)}function Ut(O,U){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,q.Z)(function*(O,U){const Q=ni(O),ke=(yield d1()).transaction(rr,"readwrite"),Re=ke.objectStore(rr),Ke=yield Re.get(Q),yt=U(Ke);return void 0===yt?yield Re.delete(Q):yield Re.put(yt,Q),yield ke.complete,yt&&(!Ke||Ke.fid!==yt.fid)&&Mo(O,yt.fid),yt})).apply(this,arguments)}function An(O){return pn.apply(this,arguments)}function pn(){return(pn=(0,q.Z)(function*(O){let U;const Q=yield Ut(O,ce=>{const ke=or(ce),Re=Qn(O,ke);return U=Re.registrationPromise,Re.installationEntry});return""===Q.fid?{installationEntry:yield U}:{installationEntry:Q,registrationPromise:U}})).apply(this,arguments)}function or(O){return Jn(O||{fid:an(),registrationStatus:0})}function Qn(O,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(Ee.create("app-offline"))};const Q={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},ce=function(O,U){return Ht.apply(this,arguments)}(O,Q);return{installationEntry:Q,registrationPromise:ce}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:Qo(O)}:{installationEntry:U}}function Ht(){return(Ht=(0,q.Z)(function*(O,U){try{return Tt(O,yield it(O,U))}catch(Q){throw Ge(Q)&&409===Q.customData.serverCode?yield Eo(O):yield Tt(O,{fid:U.fid,registrationStatus:0}),Q}})).apply(this,arguments)}function Qo(O){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,q.Z)(function*(O){let U=yield Ii(O);for(;1===U.registrationStatus;)yield Zt(100),U=yield Ii(O);if(0===U.registrationStatus){const{installationEntry:Q,registrationPromise:ce}=yield An(O);return ce||Q}return U})).apply(this,arguments)}function Ii(O){return Ut(O,U=>{if(!U)throw Ee.create("installation-not-found");return Jn(U)})}function Jn(O){return function(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function x2(O,U){return ye.apply(this,arguments)}function ye(){return(ye=(0,q.Z)(function*({appConfig:O,platformLoggerProvider:U},Q){const ce=fe(O,Q),ke=Ze(O,Q),Re=U.getImmediate({optional:!0});Re&&ke.append("x-firebase-client",Re.getPlatformInfoString());const yt={method:"POST",headers:ke,body:JSON.stringify({installation:{sdkVersion:le}})},mt=yield Se(()=>fetch(ce,yt));if(mt.ok)return vt(yield mt.json());throw yield It("Generate Auth Token",mt)})).apply(this,arguments)}function fe(O,{fid:U}){return`${Xe(O)}/${U}/authTokens:generate`}function _e(O){return We.apply(this,arguments)}function We(){return(We=(0,q.Z)(function*(O,U=!1){let Q;const ce=yield Ut(O.appConfig,Re=>{if(!Xn(Re))throw Ee.create("not-registered");const Ke=Re.authToken;if(!U&&Jo(Ke))return Re;if(1===Ke.requestStatus)return Q=Me(O,U),Re;{if(!navigator.onLine)throw Ee.create("app-offline");const yt=sr(Re);return Q=vn(O,yt),yt}});return Q?yield Q:ce.authToken})).apply(this,arguments)}function Me(O,U){return xt.apply(this,arguments)}function xt(){return(xt=(0,q.Z)(function*(O,U){let Q=yield Dt(O.appConfig);for(;1===Q.authToken.requestStatus;)yield Zt(100),Q=yield Dt(O.appConfig);const ce=Q.authToken;return 0===ce.requestStatus?_e(O,U):ce})).apply(this,arguments)}function Dt(O){return Ut(O,U=>{if(!Xn(U))throw Ee.create("not-registered");return function(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function vn(O,U){return wi.apply(this,arguments)}function wi(){return(wi=(0,q.Z)(function*(O,U){try{const Q=yield x2(O,U),ce=Object.assign(Object.assign({},U),{authToken:Q});return yield Tt(O.appConfig,ce),Q}catch(Q){if(!Ge(Q)||401!==Q.customData.serverCode&&404!==Q.customData.serverCode){const ce=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Tt(O.appConfig,ce)}else yield Eo(O.appConfig);throw Q}})).apply(this,arguments)}function Xn(O){return void 0!==O&&2===O.registrationStatus}function Jo(O){return 2===O.requestStatus&&!function(O){const U=Date.now();return U<O.creationTime||O.creationTime+O.expiresIn<U+36e5}(O)}function sr(O){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:U})}function pc(){return(pc=(0,q.Z)(function*(O){const U=O,{installationEntry:Q,registrationPromise:ce}=yield An(U.appConfig);return ce?ce.catch(console.error):_e(U).catch(console.error),Q.fid})).apply(this,arguments)}function Fs(){return(Fs=(0,q.Z)(function*(O,U=!1){const Q=O;return yield F1(Q.appConfig),(yield _e(Q,U)).token})).apply(this,arguments)}function F1(O){return ui.apply(this,arguments)}function ui(){return(ui=(0,q.Z)(function*(O){const{registrationPromise:U}=yield An(O);U&&(yield U)})).apply(this,arguments)}function es(O){return Ee.create("missing-app-config-values",{valueName:O})}const Gi="installations";(0,R._registerComponent)(new pe.wA(Gi,O=>{const U=O.getProvider("app").getImmediate(),Q=function(O){if(!O||!O.options)throw es("App Configuration");if(!O.name)throw es("App Name");const U=["projectId","apiKey","appId"];for(const Q of U)if(!O.options[Q])throw es(Q);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(U);return{app:U,appConfig:Q,platformLoggerProvider:(0,R._getProvider)(U,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,R._registerComponent)(new pe.wA("installations-internal",O=>{const U=O.getProvider("app").getImmediate(),Q=(0,R._getProvider)(U,Gi).getImmediate();return{getId:()=>function(O){return pc.apply(this,arguments)}(Q),getToken:ke=>function(O){return Fs.apply(this,arguments)}(Q,ke)}},"PRIVATE")),(0,R.registerVersion)(de,"0.5.4"),(0,R.registerVersion)(de,"0.5.4","esm2017");const dt="@firebase/remote-config",qn=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ta{constructor(U,Q,ce,ke){this.client=U,this.storage=Q,this.storageCache=ce,this.logger=ke}isCachedDataFresh(U,Q){if(!Q)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ce=Date.now()-Q,ke=ce<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ce}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${ke}.`),ke}fetch(U){var Q=this;return(0,q.Z)(function*(){const[ce,ke]=yield Promise.all([Q.storage.getLastSuccessfulFetchTimestampMillis(),Q.storage.getLastSuccessfulFetchResponse()]);if(ke&&Q.isCachedDataFresh(U.cacheMaxAgeMillis,ce))return ke;U.eTag=ke&&ke.eTag;const Re=yield Q.client.fetch(U),Ke=[Q.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Re.status&&Ke.push(Q.storage.setLastSuccessfulFetchResponse(Re)),yield Promise.all(Ke),Re})()}}function g4(O=navigator){return O.languages&&O.languages[0]||O.language}class Ji{constructor(U,Q,ce,ke,Re,Ke){this.firebaseInstallations=U,this.sdkVersion=Q,this.namespace=ce,this.projectId=ke,this.apiKey=Re,this.appId=Ke}fetch(U){var Q=this;return(0,q.Z)(function*(){const[ce,ke]=yield Promise.all([Q.firebaseInstallations.getId(),Q.firebaseInstallations.getToken()]),Ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Q.projectId}/namespaces/${Q.namespace}:fetch?key=${Q.apiKey}`,yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},mt={sdk_version:Q.sdkVersion,app_instance_id:ce,app_instance_id_token:ke,app_id:Q.appId,language_code:g4()},kn={method:"POST",headers:yt,body:JSON.stringify(mt)},fn=fetch(Ke,kn),Yi=new Promise((Ar,k1)=>{U.signal.addEventListener(()=>{const Ol=new Error("The operation was aborted.");Ol.name="AbortError",k1(Ol)})});let Jr;try{yield Promise.race([fn,Yi]),Jr=yield fn}catch(Ar){let k1="fetch-client-network";throw"AbortError"===Ar.name&&(k1="fetch-timeout"),qn.create(k1,{originalErrorMessage:Ar.message})}let cn=Jr.status;const ia=Jr.headers.get("ETag")||void 0;let Rl,Ro;if(200===Jr.status){let Ar;try{Ar=yield Jr.json()}catch(k1){throw qn.create("fetch-client-parse",{originalErrorMessage:k1.message})}Rl=Ar.entries,Ro=Ar.state}if("INSTANCE_STATE_UNSPECIFIED"===Ro?cn=500:"NO_CHANGE"===Ro?cn=304:("NO_TEMPLATE"===Ro||"EMPTY_CONFIG"===Ro)&&(Rl={}),304!==cn&&200!==cn)throw qn.create("fetch-status",{httpStatus:cn});return{status:cn,eTag:ia,config:Rl}})()}}class p1{constructor(U,Q){this.client=U,this.storage=Q}fetch(U){var Q=this;return(0,q.Z)(function*(){const ce=(yield Q.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Q.attemptFetch(U,ce)})()}attemptFetch(U,{throttleEndTimeMillis:Q,backoffCount:ce}){var ke=this;return(0,q.Z)(function*(){yield function(O,U){return new Promise((Q,ce)=>{const ke=Math.max(U-Date.now(),0),Re=setTimeout(Q,ke);O.addEventListener(()=>{clearTimeout(Re),ce(qn.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,Q);try{const Re=yield ke.client.fetch(U);return yield ke.storage.deleteThrottleMetadata(),Re}catch(Re){if(!function(O){if(!(O instanceof te.ZR&&O.customData))return!1;const U=Number(O.customData.httpStatus);return 429===U||500===U||503===U||504===U}(Re))throw Re;const Ke={throttleEndTimeMillis:Date.now()+(0,te.$s)(ce),backoffCount:ce+1};return yield ke.storage.setThrottleMetadata(Ke),ke.attemptFetch(U,Ke)}})()}}class _c{constructor(U,Q,ce,ke,Re){this.app=U,this._client=Q,this._storageCache=ce,this._storage=ke,this._logger=Re,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function I2(O,U){const Q=O.target.error||void 0;return qn.create(U,{originalErrorMessage:Q&&Q.message})}const m1="app_namespace_store";class F3{constructor(U,Q,ce,ke=function(){return new Promise((O,U)=>{try{const Q=indexedDB.open("firebase_remote_config",1);Q.onerror=ce=>{U(I2(ce,"storage-open"))},Q.onsuccess=ce=>{O(ce.target.result)},Q.onupgradeneeded=ce=>{0===ce.oldVersion&&ce.target.result.createObjectStore(m1,{keyPath:"compositeKey"})}}catch(Q){U(qn.create("storage-open",{originalErrorMessage:Q}))}})}()){this.appId=U,this.appName=Q,this.namespace=ce,this.openDbPromise=ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var Q=this;return(0,q.Z)(function*(){const ce=yield Q.openDbPromise;return new Promise((ke,Re)=>{const yt=ce.transaction([m1],"readonly").objectStore(m1),mt=Q.createCompositeKey(U);try{const kn=yt.get(mt);kn.onerror=fn=>{Re(I2(fn,"storage-get"))},kn.onsuccess=fn=>{const Yi=fn.target.result;ke(Yi?Yi.value:void 0)}}catch(kn){Re(qn.create("storage-get",{originalErrorMessage:kn&&kn.message}))}})})()}set(U,Q){var ce=this;return(0,q.Z)(function*(){const ke=yield ce.openDbPromise;return new Promise((Re,Ke)=>{const mt=ke.transaction([m1],"readwrite").objectStore(m1),kn=ce.createCompositeKey(U);try{const fn=mt.put({compositeKey:kn,value:Q});fn.onerror=Yi=>{Ke(I2(Yi,"storage-set"))},fn.onsuccess=()=>{Re()}}catch(fn){Ke(qn.create("storage-set",{originalErrorMessage:fn&&fn.message}))}})})()}delete(U){var Q=this;return(0,q.Z)(function*(){const ce=yield Q.openDbPromise;return new Promise((ke,Re)=>{const yt=ce.transaction([m1],"readwrite").objectStore(m1),mt=Q.createCompositeKey(U);try{const kn=yt.delete(mt);kn.onerror=fn=>{Re(I2(fn,"storage-delete"))},kn.onsuccess=()=>{ke()}}catch(kn){Re(qn.create("storage-delete",{originalErrorMessage:kn&&kn.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class D2{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,q.Z)(function*(){const Q=U.storage.getLastFetchStatus(),ce=U.storage.getLastSuccessfulFetchTimestampMillis(),ke=U.storage.getActiveConfig(),Re=yield Q;Re&&(U.lastFetchStatus=Re);const Ke=yield ce;Ke&&(U.lastSuccessfulFetchTimestampMillis=Ke);const yt=yield ke;yt&&(U.activeConfig=yt)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function H3(){return Us.apply(this,arguments)}function Us(){return(Us=(0,q.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(O){return!1}})).apply(this,arguments)}(0,R._registerComponent)(new pe.wA("remote-config",function(U,{instanceIdentifier:Q}){const ce=U.getProvider("app").getImmediate(),ke=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw qn.create("registration-window");if(!(0,te.hl)())throw qn.create("indexed-db-unavailable");const{projectId:Re,apiKey:Ke,appId:yt}=ce.options;if(!Re)throw qn.create("registration-project-id");if(!Ke)throw qn.create("registration-api-key");if(!yt)throw qn.create("registration-app-id");const mt=new F3(yt,ce.name,Q=Q||"firebase"),kn=new D2(mt),fn=new ve.Yd(dt);fn.logLevel=ve.in.ERROR;const Yi=new Ji(ke,R.SDK_VERSION,Q,Re,Ke,yt),Jr=new p1(Yi,mt),cn=new Ta(Jr,mt,kn,fn),ia=new _c(ce,cn,kn,mt,fn);return function(O){const U=(0,te.m9)(O);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(ia),ia},"PUBLIC").setMultipleInstances(!0)),(0,R.registerVersion)(dt,"0.3.3"),(0,R.registerVersion)(dt,"0.3.3","esm2017");const Io="/firebase-messaging-sw.js",yc="/firebase-cloud-messaging-push-scope",Do="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Da="google.c.a.c_id",wc="google.c.a.c_l",l8="google.c.a.ts",br="google.c.a.e";var ks=(()=>{return(O=ks||(ks={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",ks;var O})();function qs(O){const U=new Uint8Array(O);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cc(O){const Q=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ce=atob(Q),ke=new Uint8Array(ce.length);for(let Re=0;Re<ce.length;++Re)ke[Re]=ce.charCodeAt(Re);return ke}const kc="fcm_token_details_db",Mc="fcm_token_object_Store";function f6(O){return za.apply(this,arguments)}function za(){return za=(0,q.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Re=>Re.name).includes(kc))return null;let U=null;return(yield(0,W.openDb)(kc,5,function(){var ce=(0,q.Z)(function*(ke){var Re;if(ke.oldVersion<2||!ke.objectStoreNames.contains(Mc))return;const Ke=ke.transaction.objectStore(Mc),yt=yield Ke.index("fcmSenderId").get(O);if(yield Ke.clear(),yt)if(2===ke.oldVersion){const mt=yt;if(!mt.auth||!mt.p256dh||!mt.endpoint)return;U={token:mt.fcmToken,createTime:null!==(Re=mt.createTime)&&void 0!==Re?Re:Date.now(),subscriptionOptions:{auth:mt.auth,p256dh:mt.p256dh,endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:"string"==typeof mt.vapidKey?mt.vapidKey:qs(mt.vapidKey)}}}else if(3===ke.oldVersion){const mt=yt;U={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:qs(mt.auth),p256dh:qs(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:qs(mt.vapidKey)}}}else if(4===ke.oldVersion){const mt=yt;U={token:mt.fcmToken,createTime:mt.createTime,subscriptionOptions:{auth:qs(mt.auth),p256dh:qs(mt.p256dh),endpoint:mt.endpoint,swScope:mt.swScope,vapidKey:qs(mt.vapidKey)}}}});return function(ke){return ce.apply(this,arguments)}}())).close(),yield(0,W.deleteDb)(kc),yield(0,W.deleteDb)("fcm_vapid_details_db"),yield(0,W.deleteDb)("undefined"),Ec(U)?U:null}),za.apply(this,arguments)}function Ec(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:U}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const On="firebase-messaging-store";let xc=null;function U1(){return xc||(xc=(0,W.openDb)("firebase-messaging-database",1,O=>{0===O.oldVersion&&O.createObjectStore(On)})),xc}function fi(O){return $s.apply(this,arguments)}function $s(){return($s=(0,q.Z)(function*(O){const U=q1(O),ce=yield(yield U1()).transaction(On).objectStore(On).get(U);if(ce)return ce;{const ke=yield f6(O.appConfig.senderId);if(ke)return yield Gs(O,ke),ke}})).apply(this,arguments)}function Gs(O,U){return Na.apply(this,arguments)}function Na(){return(Na=(0,q.Z)(function*(O,U){const Q=q1(O),ke=(yield U1()).transaction(On,"readwrite");return yield ke.objectStore(On).put(U,Q),yield ke.complete,U})).apply(this,arguments)}function wr(O){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,q.Z)(function*(O){const U=q1(O),ce=(yield U1()).transaction(On,"readwrite");yield ce.objectStore(On).delete(U),yield ce.complete})).apply(this,arguments)}function q1({appConfig:O}){return O.appId}const mn=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function v1(O,U){return La.apply(this,arguments)}function La(){return(La=(0,q.Z)(function*(O,U){const Q=yield Ml(O),ce=Ac(U),ke={method:"POST",headers:Q,body:JSON.stringify(ce)};let Re;try{Re=yield(yield fetch(qt(O.appConfig),ke)).json()}catch(Ke){throw mn.create("token-subscribe-failed",{errorInfo:Ke})}if(Re.error)throw mn.create("token-subscribe-failed",{errorInfo:Re.error.message});if(!Re.token)throw mn.create("token-subscribe-no-token");return Re.token})).apply(this,arguments)}function B3(O,U){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,q.Z)(function*(O,U){const Q=yield Ml(O),ce=Ac(U.subscriptionOptions),ke={method:"PATCH",headers:Q,body:JSON.stringify(ce)};let Re;try{Re=yield(yield fetch(`${qt(O.appConfig)}/${U.token}`,ke)).json()}catch(Ke){throw mn.create("token-update-failed",{errorInfo:Ke})}if(Re.error)throw mn.create("token-update-failed",{errorInfo:Re.error.message});if(!Re.token)throw mn.create("token-update-no-token");return Re.token})).apply(this,arguments)}function kl(O,U){return z2.apply(this,arguments)}function z2(){return(z2=(0,q.Z)(function*(O,U){const ce={method:"DELETE",headers:yield Ml(O)};try{const Re=yield(yield fetch(`${qt(O.appConfig)}/${U}`,ce)).json();if(Re.error)throw mn.create("token-unsubscribe-failed",{errorInfo:Re.error.message})}catch(ke){throw mn.create("token-unsubscribe-failed",{errorInfo:ke})}})).apply(this,arguments)}function qt({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function Ml(O){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,q.Z)(function*({appConfig:O,installations:U}){const Q=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${Q}`})})).apply(this,arguments)}function Ac({p256dh:O,auth:U,endpoint:Q,vapidKey:ce}){const ke={web:{endpoint:Q,auth:U,p256dh:O}};return ce!==Do&&(ke.web.applicationPubKey=ce),ke}const Sc=6048e5;function w4(O){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,q.Z)(function*(O){const U=yield N2(O.swRegistration,O.vapidKey),Q={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:U.endpoint,auth:qs(U.getKey("auth")),p256dh:qs(U.getKey("p256dh"))},ce=yield fi(O.firebaseDependencies);if(ce){if(El(ce.subscriptionOptions,Q))return Date.now()>=ce.createTime+Sc?Cn(O,{token:ce.token,createTime:Date.now(),subscriptionOptions:Q}):ce.token;try{yield kl(O.firebaseDependencies,ce.token)}catch(ke){console.warn(ke)}return pi(O.firebaseDependencies,Q)}return pi(O.firebaseDependencies,Q)})).apply(this,arguments)}function C4(O){return et.apply(this,arguments)}function et(){return(et=(0,q.Z)(function*(O){const U=yield fi(O.firebaseDependencies);U&&(yield kl(O.firebaseDependencies,U.token),yield wr(O.firebaseDependencies));const Q=yield O.swRegistration.pushManager.getSubscription();return!Q||Q.unsubscribe()})).apply(this,arguments)}function Cn(O,U){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,q.Z)(function*(O,U){try{const Q=yield B3(O.firebaseDependencies,U),ce=Object.assign(Object.assign({},U),{token:Q,createTime:Date.now()});return yield Gs(O.firebaseDependencies,ce),Q}catch(Q){throw yield C4(O),Q}})).apply(this,arguments)}function pi(O,U){return $1.apply(this,arguments)}function $1(){return($1=(0,q.Z)(function*(O,U){const ce={token:yield v1(O,U),createTime:Date.now(),subscriptionOptions:U};return yield Gs(O,ce),ce.token})).apply(this,arguments)}function N2(O,U){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,q.Z)(function*(O,U){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cc(U)})})).apply(this,arguments)}function El(O,U){return U.vapidKey===O.vapidKey&&U.endpoint===O.endpoint&&U.auth===O.auth&&U.p256dh===O.p256dh}function In(O){const U={from:O.from,collapseKey:O.collapse_key,messageId:O.fcm_message_id};return function(O,U){if(!U.notification)return;O.notification={};const Q=U.notification.title;Q&&(O.notification.title=Q);const ce=U.notification.body;ce&&(O.notification.body=ce);const ke=U.notification.image;ke&&(O.notification.image=ke)}(U,O),function(O,U){!U.data||(O.data=U.data)}(U,O),function(O,U){if(!U.fcmOptions)return;O.fcmOptions={};const Q=U.fcmOptions.link;Q&&(O.fcmOptions.link=Q);const ce=U.fcmOptions.analytics_label;ce&&(O.fcmOptions.analyticsLabel=ce)}(U,O),U}function Ic(O){return"object"==typeof O&&!!O&&Da in O}function Cr(O,U){const Q=[];for(let ce=0;ce<O.length;ce++)Q.push(O.charAt(ce)),ce<U.length&&Q.push(U.charAt(ce));return Q.join("")}function Kr(O){return mn.create("missing-app-config-values",{valueName:O})}Cr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Cr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zi{constructor(U,Q,ce){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ke=function(O){if(!O||!O.options)throw Kr("App Configuration Object");if(!O.name)throw Kr("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:Q}=O;for(const ce of U)if(!Q[ce])throw Kr(ce);return{appName:O.name,projectId:Q.projectId,apiKey:Q.apiKey,appId:Q.appId,senderId:Q.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:ke,installations:Q,analyticsProvider:ce}}_delete(){return Promise.resolve()}}function zo(O){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,q.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Io,{scope:yc}),O.swRegistration.update().catch(()=>{})}catch(U){throw mn.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function Dc(O,U){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,q.Z)(function*(O,U){if(!U&&!O.swRegistration&&(yield zo(O)),U||!O.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw mn.create("invalid-sw-registration");O.swRegistration=U}})).apply(this,arguments)}function j3(O,U){return G1.apply(this,arguments)}function G1(){return(G1=(0,q.Z)(function*(O,U){U?O.vapidKey=U:O.vapidKey||(O.vapidKey=Do)})).apply(this,arguments)}function Zs(){return(Zs=(0,q.Z)(function*(O,U){if(!navigator)throw mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw mn.create("permission-blocked");return yield j3(O,null==U?void 0:U.vapidKey),yield Dc(O,null==U?void 0:U.serviceWorkerRegistration),w4(O)})).apply(this,arguments)}function lr(O,U,Q){return L2.apply(this,arguments)}function L2(){return(L2=(0,q.Z)(function*(O,U,Q){const ce=Ys(U);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(ce,{message_id:Q[Da],message_name:Q[wc],message_time:Q[l8],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ys(O){switch(O){case ks.NOTIFICATION_CLICKED:return"notification_open";case ks.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function No(){return(No=(0,q.Z)(function*(O,U){const Q=U.data;if(!Q.isFirebaseMessaging)return;O.onMessageHandler&&Q.messageType===ks.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(In(Q)):O.onMessageHandler.next(In(Q)));const ce=Q.data;Ic(ce)&&"1"===ce[br]&&(yield lr(O,Q.messageType,ce))})).apply(this,arguments)}const Lo="@firebase/messaging";function E4(){return kr.apply(this,arguments)}function kr(){return(kr=(0,q.Z)(function*(){return"undefined"!=typeof window&&(0,te.hl)()&&(yield(0,te.eu)())&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,R._registerComponent)(new pe.wA("messaging",O=>{const U=new zi(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Q=>function(O,U){return No.apply(this,arguments)}(U,Q)),U},"PUBLIC")),(0,R._registerComponent)(new pe.wA("messaging-internal",O=>{const U=O.getProvider("messaging").getImmediate();return{getToken:ce=>function(O,U){return Zs.apply(this,arguments)}(U,ce)}},"PRIVATE")),(0,R.registerVersion)(Lo,"0.9.4"),(0,R.registerVersion)(Lo,"0.9.4","esm2017");const Fa="analytics",P2="firebase_id",m6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x4="https://www.googletagmanager.com/gtag/js",mi=new ve.Yd("@firebase/analytics");function Ba(O){return Promise.all(O.map(U=>U.catch(Q=>Q)))}function A4(O,U){const Q=document.createElement("script");Q.src=`${x4}?l=${O}&id=${U}`,Q.async=!0,document.head.appendChild(Q)}function zc(O,U,Q,ce,ke,Re){return rs.apply(this,arguments)}function rs(){return(rs=(0,q.Z)(function*(O,U,Q,ce,ke,Re){const Ke=ce[ke];try{if(Ke)yield U[Ke];else{const mt=(yield Ba(Q)).find(kn=>kn.measurementId===ke);mt&&(yield U[mt.appId])}}catch(yt){mi.error(yt)}O("config",ke,Re)})).apply(this,arguments)}function Tl(O,U,Q,ce,ke){return q3.apply(this,arguments)}function q3(){return(q3=(0,q.Z)(function*(O,U,Q,ce,ke){try{let Re=[];if(ke&&ke.send_to){let Ke=ke.send_to;Array.isArray(Ke)||(Ke=[Ke]);const yt=yield Ba(Q);for(const mt of Ke){const kn=yt.find(Yi=>Yi.measurementId===mt),fn=kn&&U[kn.appId];if(!fn){Re=[];break}Re.push(fn)}}0===Re.length&&(Re=Object.values(U)),yield Promise.all(Re),O("event",ce,ke||{})}catch(Re){mi.error(Re)}})).apply(this,arguments)}function S4(){const O=window.document.getElementsByTagName("script");for(const U of Object.values(O))if(U.src&&U.src.includes(x4))return U;return null}const Hr=new te.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ks=new class{constructor(U={},Q=1e3){this.throttleMetadata=U,this.intervalMillis=Q}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,Q){this.throttleMetadata[U]=Q}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function _6(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function gi(O){return ja.apply(this,arguments)}function ja(){return(ja=(0,q.Z)(function*(O){var U;const{appId:Q,apiKey:ce}=O,ke={method:"GET",headers:_6(ce)},Re=m6.replace("{app-id}",Q),Ke=yield fetch(Re,ke);if(200!==Ke.status&&304!==Ke.status){let yt="";try{const mt=yield Ke.json();(null===(U=mt.error)||void 0===U?void 0:U.message)&&(yt=mt.error.message)}catch(mt){}throw Hr.create("config-fetch-failed",{httpStatus:Ke.status,responseMessage:yt})}return Ke.json()})).apply(this,arguments)}function Br(O){return $3.apply(this,arguments)}function $3(){return($3=(0,q.Z)(function*(O,U=Ks,Q){const{appId:ce,apiKey:ke,measurementId:Re}=O.options;if(!ce)throw Hr.create("no-app-id");if(!ke){if(Re)return{measurementId:Re,appId:ce};throw Hr.create("no-api-key")}const Ke=U.getThrottleMetadata(ce)||{backoffCount:0,throttleEndTimeMillis:Date.now()},yt=new Pc;return setTimeout((0,q.Z)(function*(){yt.abort()}),void 0!==Q?Q:6e4),Ua({appId:ce,apiKey:ke,measurementId:Re},Ke,yt,U)})).apply(this,arguments)}function Ua(O,U,Q){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,q.Z)(function*(O,{throttleEndTimeMillis:U,backoffCount:Q},ce,ke=Ks){const{appId:Re,measurementId:Ke}=O;try{yield T4(ce,U)}catch(yt){if(Ke)return mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${yt.message}]`),{appId:Re,measurementId:Ke};throw yt}try{const yt=yield gi(O);return ke.deleteThrottleMetadata(Re),yt}catch(yt){if(!Il(yt)){if(ke.deleteThrottleMetadata(Re),Ke)return mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ke} provided in the "measurementId" field in the local Firebase config. [${yt.message}]`),{appId:Re,measurementId:Ke};throw yt}const mt=503===Number(yt.customData.httpStatus)?(0,te.$s)(Q,ke.intervalMillis,30):(0,te.$s)(Q,ke.intervalMillis),kn={throttleEndTimeMillis:Date.now()+mt,backoffCount:Q+1};return ke.setThrottleMetadata(Re,kn),mi.debug(`Calling attemptFetch again in ${mt} millis`),Ua(O,kn,ce,ke)}})).apply(this,arguments)}function T4(O,U){return new Promise((Q,ce)=>{const ke=Math.max(U-Date.now(),0),Re=setTimeout(Q,ke);O.addEventListener(()=>{clearTimeout(Re),ce(Hr.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function Il(O){if(!(O instanceof te.ZR&&O.customData))return!1;const U=Number(O.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Pc{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}function Wi(){return at.apply(this,arguments)}function at(){return(at=(0,q.Z)(function*(){if(!(0,te.hl)())return mi.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,te.eu)()}catch(O){return mi.warn(Hr.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function Es(){return(Es=(0,q.Z)(function*(O,U,Q,ce,ke,Re,Ke){var yt;const mt=Br(O);mt.then(cn=>{Q[cn.measurementId]=cn.appId,O.options.measurementId&&cn.measurementId!==O.options.measurementId&&mi.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${cn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(cn=>mi.error(cn)),U.push(mt);const kn=Wi().then(cn=>{if(cn)return ce.getId()}),[fn,Yi]=yield Promise.all([mt,kn]);S4()||A4(Re,fn.measurementId),ke("js",new Date);const Jr=null!==(yt=null==Ke?void 0:Ke.config)&&void 0!==yt?yt:{};return Jr.origin="firebase",Jr.update=!0,null!=Yi&&(Jr[P2]=Yi),ke("config",fn.measurementId,Jr),fn.measurementId})).apply(this,arguments)}class Dl{constructor(U){this.app=U}_delete(){return delete nn[this.app.options.appId],Promise.resolve()}}let nn={},Qr=[];const Y1={};let qa,os,Mr="dataLayer",K1=!1;function ss(O,U,Q){!function(){const O=[];if((0,te.ru)()&&O.push("This is a browser extension environment."),(0,te.zI)()||O.push("Cookies are not available."),O.length>0){const U=O.map((ce,ke)=>`(${ke+1}) ${ce}`).join(" "),Q=Hr.create("invalid-analytics-context",{errorInfo:U});mi.warn(Q.message)}}();const ce=O.options.appId;if(!ce)throw Hr.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw Hr.create("no-api-key");mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=nn[ce])throw Hr.create("already-exists",{id:ce});if(!K1){!function(O){let U=[];Array.isArray(window[O])?U=window[O]:window[O]=U}(Mr);const{wrappedGtag:Re,gtagCore:Ke}=function(O,U,Q,ce,ke){let Re=function(...Ke){window[ce].push(arguments)};return window[ke]&&"function"==typeof window[ke]&&(Re=window[ke]),window[ke]=function(O,U,Q,ce){function Re(){return(Re=(0,q.Z)(function*(Ke,yt,mt){try{"event"===Ke?yield Tl(O,U,Q,yt,mt):"config"===Ke?yield zc(O,U,Q,ce,yt,mt):O("set",yt)}catch(kn){mi.error(kn)}})).apply(this,arguments)}return function(Ke,yt,mt){return Re.apply(this,arguments)}}(Re,O,U,Q),{gtagCore:Re,wrappedGtag:window[ke]}}(nn,Qr,Y1,Mr,"gtag");os=Re,qa=Ke,K1=!0}return nn[ce]=function(O,U,Q,ce,ke,Re,Ke){return Es.apply(this,arguments)}(O,Qr,Y1,U,qa,Mr,Q),new Dl(O)}function Q1(){return(Q1=(0,q.Z)(function*(O,U,Q,ce,ke){if(ke&&ke.global)O("event",Q,ce);else{const Re=yield U;O("event",Q,Object.assign(Object.assign({},ce),{send_to:Re}))}})).apply(this,arguments)}function R2(){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,q.Z)(function*(){if((0,te.ru)()||!(0,te.zI)()||!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(O){return!1}})).apply(this,arguments)}const Za="@firebase/analytics";(0,R._registerComponent)(new pe.wA(Fa,(U,{options:Q})=>ss(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),Q),"PUBLIC")),(0,R._registerComponent)(new pe.wA("analytics-internal",function(U){try{const Q=U.getProvider(Fa).getImmediate();return{logEvent:(ce,ke,Re)=>function(O,U,Q,ce){O=(0,te.m9)(O),function(O,U,Q,ce,ke){return Q1.apply(this,arguments)}(os,nn[O.app.options.appId],U,Q,ce).catch(ke=>mi.error(ke))}(Q,ce,ke,Re)}}catch(Q){throw Hr.create("interop-component-reg-failed",{reason:Q})}},"PRIVATE")),(0,R.registerVersion)(Za,"0.7.4"),(0,R.registerVersion)(Za,"0.7.4","esm2017");var Pl=F(7575),Ya=F(8178),Oc=F(5722),Ni=F(225),Vc=F(9748);const X1=new f.GfV("7.2.0"),b1="__angularfire_symbol__analyticsIsSupported",as="__angularfire_symbol__remoteConfigIsSupported",Er="__angularfire_symbol__messagingIsSupported";function G3(O,U,Q){if(U){if(1===U.length)return U[0];const Re=U.filter(Ke=>Ke.app===Q);if(1===Re.length)return Re[0]}return Q.container.getProvider(O).getImmediate({optional:!0})}globalThis[b1]||(globalThis[b1]=R2().then(O=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=O)),globalThis[Er]||(globalThis[Er]=E4().then(O=>globalThis.__angularfire_symbol__messagingIsSupportedValue=O)),globalThis[as]||(globalThis[as]=H3().then(O=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=O));const V2=(O,U)=>{const Q=U?[U]:(0,Z.C6)(),ce=[];return Q.forEach(ke=>{ke.container.getProvider(O).instances.forEach(Ke=>{ce.includes(Ke)||ce.push(Ke)})}),ce};function w1(){}class Zi{constructor(U,Q=Pl.N){this.zone=U,this.delegate=Q}now(){return this.delegate.now()}schedule(U,Q,ce){const ke=this.zone;return this.delegate.schedule(function(Ke){ke.runGuarded(()=>{U.apply(this,[Ke])})},Q,ce)}}class Ss{constructor(U){this.zone=U,this.task=null}call(U,Q){const ce=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",w1,{},w1,w1)),Q.pipe((0,Oc.b)({next:ce,complete:ce,error:ce})).subscribe(U).add(ce)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ur=(()=>{class O{constructor(Q){this.ngZone=Q,this.outsideAngular=Q.runOutsideAngular(()=>new Zi(Zone.current)),this.insideAngular=Q.run(()=>new Zi(Zone.current,Ya.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(Q){return new(Q||O)(f.LFG(f.R0b))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function ta(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function W3(O){return ta(),function(O){return function(Q){return(Q=Q.lift(new Ss(O.ngZone))).pipe((0,Ni.R)(O.outsideAngular),(0,Vc.QV)(O.insideAngular))}}(ta())(O)}},9217:(wt,Ve)=>{(function(F){const f=F.en=F.en||{};f.dictionary=Object.assign(f.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),window,wt.exports=function(F){var f={};function Z(q){if(f[q])return f[q].exports;var R=f[q]={i:q,l:!1,exports:{}};return F[q].call(R.exports,R,R.exports,Z),R.l=!0,R.exports}return Z.m=F,Z.c=f,Z.d=function(q,R,te){Z.o(q,R)||Object.defineProperty(q,R,{enumerable:!0,get:te})},Z.r=function(q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})},Z.t=function(q,R){if(1&R&&(q=Z(q)),8&R||4&R&&"object"==typeof q&&q&&q.__esModule)return q;var te=Object.create(null);if(Z.r(te),Object.defineProperty(te,"default",{enumerable:!0,value:q}),2&R&&"string"!=typeof q)for(var pe in q)Z.d(te,pe,function(ve){return q[ve]}.bind(null,pe));return te},Z.n=function(q){var R=q&&q.__esModule?function(){return q.default}:function(){return q};return Z.d(R,"a",R),R},Z.o=function(q,R){return Object.prototype.hasOwnProperty.call(q,R)},Z.p="",Z(Z.s=110)}([function(F,f,Z){"use strict";Z.d(f,"a",function(){return q}),Z.d(f,"b",function(){return R});class q extends Error{constructor(W,de,ne){super(function(se,le){const Ie=new WeakSet;return se+(le?" "+JSON.stringify(le,(qe,Ce)=>{if("object"==typeof Ce&&null!==Ce){if(Ie.has(Ce))return`[object ${Ce.constructor.name}]`;Ie.add(Ce)}return Ce}):"")+te(se)}(W,ne)),this.name="CKEditorError",this.context=de,this.data=ne}is(W){return"CKEditorError"===W}static rethrowUnexpectedError(W,de){if(W.is&&W.is("CKEditorError"))throw W;const ne=new q(W.message,de);throw ne.stack=W.stack,ne}}function R(ve,W){console.warn(...function(ve,W){const de=te(ve);return W?[ve,W,de]:[ve,de]}(ve,W))}function te(ve){return"\nRead more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-"+ve}},function(F,f,Z){"use strict";var q,Ce,te=(Ce={},function(me){if(void 0===Ce[me]){var Ee=document.querySelector(me);if(window.HTMLIFrameElement&&Ee instanceof window.HTMLIFrameElement)try{Ee=Ee.contentDocument.head}catch(Ge){Ee=null}Ce[me]=Ee}return Ce[me]}),pe=[];function ve(Ce){for(var me=-1,Ee=0;Ee<pe.length;Ee++)if(pe[Ee].identifier===Ce){me=Ee;break}return me}function W(Ce,me){for(var Ee={},Ge=[],Xe=0;Xe<Ce.length;Xe++){var vt=Ce[Xe],It=me.base?vt[0]+me.base:vt[0],Gt=Ee[It]||0,jt="".concat(It," ").concat(Gt);Ee[It]=Gt+1;var Ze=ve(jt),Se={css:vt[1],media:vt[2],sourceMap:vt[3]};-1!==Ze?(pe[Ze].references++,pe[Ze].updater(Se)):pe.push({identifier:jt,updater:qe(Se,me),references:1}),Ge.push(jt)}return Ge}function de(Ce){var me=document.createElement("style"),Ee=Ce.attributes||{};if(void 0===Ee.nonce){var Ge=Z.nc;Ge&&(Ee.nonce=Ge)}if(Object.keys(Ee).forEach(function(vt){me.setAttribute(vt,Ee[vt])}),"function"==typeof Ce.insert)Ce.insert(me);else{var Xe=te(Ce.insert||"head");if(!Xe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Xe.appendChild(me)}return me}var ne,se=(ne=[],function(Ce,me){return ne[Ce]=me,ne.filter(Boolean).join("\n")});function le(Ce,me,Ee,Ge){var Xe=Ee?"":Ge.media?"@media ".concat(Ge.media," {").concat(Ge.css,"}"):Ge.css;if(Ce.styleSheet)Ce.styleSheet.cssText=se(me,Xe);else{var vt=document.createTextNode(Xe),It=Ce.childNodes;It[me]&&Ce.removeChild(It[me]),It.length?Ce.insertBefore(vt,It[me]):Ce.appendChild(vt)}}function Ie(Ce,me,Ee){var Ge=Ee.css,Xe=Ee.media,vt=Ee.sourceMap;if(Xe?Ce.setAttribute("media",Xe):Ce.removeAttribute("media"),vt&&"undefined"!=typeof btoa&&(Ge+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(vt))))," */")),Ce.styleSheet)Ce.styleSheet.cssText=Ge;else{for(;Ce.firstChild;)Ce.removeChild(Ce.firstChild);Ce.appendChild(document.createTextNode(Ge))}}var Ue=null,Je=0;function qe(Ce,me){var Ee,Ge,Xe;if(me.singleton){var vt=Je++;Ee=Ue||(Ue=de(me)),Ge=le.bind(null,Ee,vt,!1),Xe=le.bind(null,Ee,vt,!0)}else Ee=de(me),Ge=Ie.bind(null,Ee,me),Xe=function(){!function(It){if(null===It.parentNode)return!1;It.parentNode.removeChild(It)}(Ee)};return Ge(Ce),function(It){if(It){if(It.css===Ce.css&&It.media===Ce.media&&It.sourceMap===Ce.sourceMap)return;Ge(Ce=It)}else Xe()}}F.exports=function(Ce,me){(me=me||{}).singleton||"boolean"==typeof me.singleton||(me.singleton=(void 0===q&&(q=Boolean(window&&document&&document.all&&!window.atob)),q));var Ee=W(Ce=Ce||[],me);return function(Ge){if(Ge=Ge||[],"[object Array]"===Object.prototype.toString.call(Ge)){for(var Xe=0;Xe<Ee.length;Xe++){var vt=ve(Ee[Xe]);pe[vt].references--}for(var It=W(Ge,me),Gt=0;Gt<Ee.length;Gt++){var jt=ve(Ee[Gt]);0===pe[jt].references&&(pe[jt].updater(),pe.splice(jt,1))}Ee=It}}}},,function(F,f,Z){"use strict";var q=Z(8),R="object"==typeof self&&self&&self.Object===Object&&self,te=q.a||R||Function("return this")();f.a=te},function(F,f,Z){"use strict";(function(q){var R=Z(3),te=Z(14),pe=Ve&&!Ve.nodeType&&Ve,ve=pe&&"object"==typeof q&&q&&!q.nodeType&&q,W=ve&&ve.exports===pe?R.a.Buffer:void 0;f.a=(W?W.isBuffer:void 0)||te.a}).call(this,Z(10)(F))},function(F,f,Z){"use strict";(function(q){var R=Z(8),te=Ve&&!Ve.nodeType&&Ve,pe=te&&"object"==typeof q&&q&&!q.nodeType&&q,ve=pe&&pe.exports===te&&R.a.process,W=function(){try{return pe&&pe.require&&pe.require("util").types||ve&&ve.binding&&ve.binding("util")}catch(ne){}}();f.a=W}).call(this,Z(10)(F))},function(F,f,Z){"use strict";(function(q){var R=Z(0);const te="object"==typeof window?window:q;if(te.CKEDITOR_VERSION)throw new R.a("ckeditor-duplicated-modules",null);te.CKEDITOR_VERSION="31.0.0"}).call(this,Z(12))},function(F,f,Z){var q=Z(1),R=Z(78);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f,Z){"use strict";(function(q){f.a="object"==typeof q&&q&&q.Object===Object&&q}).call(this,Z(12))},function(F,f,Z){"use strict";(function(q){var R=Z(3),te=Ve&&!Ve.nodeType&&Ve,pe=te&&"object"==typeof q&&q&&!q.nodeType&&q,ve=pe&&pe.exports===te?R.a.Buffer:void 0,W=ve?ve.allocUnsafe:void 0;f.a=function(de,ne){if(ne)return de.slice();var se=de.length,le=W?W(se):new de.constructor(se);return de.copy(le),le}}).call(this,Z(10)(F))},function(F,f){F.exports=function(Z){if(!Z.webpackPolyfill){var q=Object.create(Z);q.children||(q.children=[]),Object.defineProperty(q,"loaded",{enumerable:!0,get:function(){return q.l}}),Object.defineProperty(q,"id",{enumerable:!0,get:function(){return q.i}}),Object.defineProperty(q,"exports",{enumerable:!0}),q.webpackPolyfill=1}return q}},function(F,f,Z){var q=Z(1),R=Z(79);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){var Z;Z=function(){return this}();try{Z=Z||new Function("return this")()}catch(q){"object"==typeof window&&(Z=window)}F.exports=Z},function(F,f,Z){var q=Z(1),R=Z(73);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f,Z){"use strict";f.a=function(){return!1}},function(F,f,Z){var q=Z(1),R=Z(16);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-editor__editable span[data-ck-hidden]{display:none}"},function(F,f,Z){var q=Z(1),R=Z(18);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-color-link-fake-selection:rgba(31,177,255,0.3);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(F,f,Z){var q=Z(1),R=Z(20);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(F,f,Z){var q=Z(1),R=Z(22);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s,.ck.ck-tooltip.ck-tooltip_se,.ck.ck-tooltip.ck-tooltip_sw{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after,.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{top:calc(var(--ck-tooltip-arrow-size)*-1 + 1px);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_sw{right:50%;left:auto}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text{left:auto;right:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_sw .ck-tooltip__text:after{left:auto;right:0}.ck.ck-tooltip.ck-tooltip_se{left:50%;right:auto}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text{right:auto;left:calc(var(--ck-tooltip-arrow-size)*-2)}.ck.ck-tooltip.ck-tooltip_se .ck-tooltip__text:after{right:auto;left:0;transform:translateX(50%)}.ck.ck-tooltip.ck-tooltip_n{top:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(var(--ck-tooltip-arrow-size)*-1);transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_e{left:calc(100% + var(--ck-tooltip-arrow-size));top:50%}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_e .ck-tooltip__text:after{left:calc(var(--ck-tooltip-arrow-size)*-1);top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:transparent;border-bottom-color:transparent;border-right-color:var(--ck-color-tooltip-background);border-top-color:transparent;border-left-width:0;border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip.ck-tooltip_w{right:calc(100% + var(--ck-tooltip-arrow-size));left:auto;top:50%}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text{left:0;transform:translateY(-50%)}.ck.ck-tooltip.ck-tooltip_w .ck-tooltip__text:after{left:100%;top:calc(50% - var(--ck-tooltip-arrow-size)*1);border-left-color:var(--ck-color-tooltip-background);border-bottom-color:transparent;border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:0;border-top-width:var(--ck-tooltip-arrow-size)}'},function(F,f,Z){var q=Z(1),R=Z(24);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(var(--ck-spacing-small)*-1);margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(F,f,Z){var q=Z(1),R=Z(26);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - var(--ck-switch-button-toggle-spacing)*2)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*0.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var(--ck-switch-button-translation)*-1))}"},function(F,f,Z){var q=Z(1),R=Z(28);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#000}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{width:var(--ck-color-grid-tile-size);height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;border:0}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{display:none;color:var(--ck-color-color-grid-check-icon)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}"},function(F,f,Z){var q=Z(1),R=Z(30);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{content:"";position:absolute;width:1px;height:100%;background-color:var(--ck-color-split-button-hover-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}'},function(F,f,Z){var q=Z(1),R=Z(32);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);max-width:var(--ck-dropdown-max-width);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(F,f,Z){var q=Z(1),R=Z(34);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;background:var(--ck-color-toolbar-border);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(F,f,Z){var q=Z(1),R=Z(36);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(var(--ck-line-height-base)*0.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(F,f,Z){var q=Z(1),R=Z(38);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{width:max-content;max-width:var(--ck-toolbar-dropdown-max-width)}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(F,f,Z){var q=Z(1),R=Z(40);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(F,f,Z){var q=Z(1),R=Z(42);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(F,f,Z){var q=Z(1),R=Z(44);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(F,f,Z){var q=Z(1),R=Z(46);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-form__header{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{padding:var(--ck-spacing-small) var(--ck-spacing-large);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-form__header .ck-form__header__label{font-weight:700}"},function(F,f,Z){var q=Z(1),R=Z(48);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(F,f,Z){var q=Z(1),R=Z(50);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{pointer-events:none;transform-origin:0 0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);background:var(--ck-color-labeled-field-label-background);padding:0 calc(var(--ck-font-size-tiny)*0.5);line-height:normal;font-weight:400;text-overflow:ellipsis;overflow:hidden;max-width:100%;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-spacing-medium),calc(var(--ck-font-size-base)*0.6)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-spacing-medium)*-1),calc(var(--ck-font-size-base)*0.6)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));background:transparent;padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}"},function(F,f,Z){var q=Z(1),R=Z(52);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border);filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);bottom:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}'},function(F,f,Z){var q=Z(1),R=Z(54);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(F,f,Z){var q=Z(1),R=Z(56);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(F,f,Z){var q=Z(1),R=Z(58);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(F,f,Z){var q=Z(1),R=Z(60);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}"},function(F,f,Z){var q=Z(1),R=Z(62);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-placeholder,.ck .ck-placeholder{position:relative}.ck.ck-placeholder:before,.ck .ck-placeholder:before{position:absolute;left:0;right:0;content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(F,f,Z){var q=Z(1),R=Z(64);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(F,f,Z){var q=Z(1),R=Z(66);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(var(--ck-widget-outline-thickness)*-0.5);left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-0.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;position:absolute;left:0;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{top:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);opacity:0;pointer-events:none}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{pointer-events:none;height:1px;animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;outline:1px solid hsla(0,0%,100%,.5);background:var(--ck-color-base-text)}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}'},function(F,f,Z){var q=Z(1),R=Z(68);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:0 var(--ck-spacing-small);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{top:calc(var(--ck-resizer-tooltip-height)*-1);left:50%;transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness));top:0}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(F,f,Z){var q=Z(1),R=Z(70);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;position:relative;pointer-events:none}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);border:1px solid var(--ck-clipboard-drop-target-color);background:var(--ck-clipboard-drop-target-color);margin-left:-1px}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{content:"";width:0;height:0;display:block;position:absolute;left:50%;top:calc(var(--ck-clipboard-drop-target-dot-height)*-0.5);transform:translateX(-50%);border-left:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-bottom:0 solid transparent;border-right:calc(var(--ck-clipboard-drop-target-dot-width)*0.5) solid transparent;border-top:calc(var(--ck-clipboard-drop-target-dot-height)) solid var(--ck-clipboard-drop-target-color)}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}'},function(F,f,Z){var q=Z(1),R=Z(72);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(F,f){F.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(F,f,Z){var q=Z(1),R=Z(75);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;position:absolute;pointer-events:none;left:0;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{position:absolute;pointer-events:all}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{width:var(--ck-resizer-size);height:var(--ck-resizer-size);background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{top:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{top:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}"},function(F,f,Z){var q=Z(1),R=Z(77);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}"},function(F,f){F.exports='.ck-vertical-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{content:"";width:0;position:absolute;right:-1px;top:var(--ck-spacing-small);bottom:var(--ck-spacing-small);z-index:1}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-text-width)*0.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-large);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after,[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}'},function(F,f){F.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:.9em auto;min-width:50px}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{display:inline-flex;max-width:100%;align-items:flex-start}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{padding-left:inherit;padding-right:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}"},function(F,f,Z){var q=Z(1),R=Z(81);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:var(--ck-color-image-caption-text);background-color:var(--ck-color-image-caption-background);padding:.6em;font-size:.75em;outline-offset:-1px}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}"},function(F,f,Z){var q=Z(1),R=Z(83);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-right:0;margin-left:auto}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-top:var(--ck-inline-image-style-spacing);margin-bottom:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}"},function(F,f,Z){var q=Z(1),R=Z(85);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image-inline .ck-progress-bar,.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(F,f,Z){var q=Z(1),R=Z(87);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:min(var(--ck-spacing-medium),6%);right:min(var(--ck-spacing-medium),6%);border-radius:50%;z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:calc(1px*var(--ck-image-upload-icon-size));animation-delay:0ms,3s;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(F,f,Z){var q=Z(1),R=Z(89);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(F,f,Z){var q=Z(1),R=Z(91);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{height:100%;border-right:1px solid var(--ck-color-base-text);margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}"},function(F,f,Z){var q=Z(1),R=Z(93);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(F,f,Z){var q=Z(1),R=Z(95);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}"},function(F,f,Z){var q=Z(1),R=Z(97);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(var(--ck-spacing-standard)*3);background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(F,f,Z){var q=Z(1),R=Z(99);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}"},function(F,f,Z){var q=Z(1),R=Z(101);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck-content .media{clear:both;margin:.9em 0;display:block;min-width:15em}"},function(F,f,Z){var q=Z(1),R=Z(103);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(F,f,Z){var q=Z(1),R=Z(105);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(F,f,Z){var q=Z(1),R=Z(107);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}'},function(F,f,Z){var q=Z(1),R=Z(109);"string"==typeof(R=R.__esModule?R.default:R)&&(R=[[F.i,R,""]]),q(R,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),F.exports=R.locals||{}},function(F,f){F.exports=".ck-content .table{margin:.9em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}"},function(F,f,Z){"use strict";Z.r(f),Z.d(f,"default",function(){return X5});class R{constructor(i,o){this.source=i,this.name=o,this.path=[],this.stop=function h(){h.called=!0},this.off=function h(){h.called=!0}}}const te=new Array(256).fill().map((h,i)=>("0"+i.toString(16)).slice(-2));function pe(){const h=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,l=4294967296*Math.random()>>>0;return"e"+te[h>>0&255]+te[h>>8&255]+te[h>>16&255]+te[h>>24&255]+te[i>>0&255]+te[i>>8&255]+te[i>>16&255]+te[i>>24&255]+te[o>>0&255]+te[o>>8&255]+te[o>>16&255]+te[o>>24&255]+te[l>>0&255]+te[l>>8&255]+te[l>>16&255]+te[l>>24&255]}var ve={get(h){return"number"!=typeof h?this[h]||this.normal:h},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},W=(Z(6),Z(0));const de=Symbol("listeningTo"),ne=Symbol("emitterId");var se={on(h,i,o={}){this.listenTo(this,h,i,o)},once(h,i,o){let l=!1;this.listenTo(this,h,function(d,...g){l||(l=!0,d.off(),i.call(this,d,...g))},o)},off(h,i){this.stopListening(this,h,i)},listenTo(h,i,o,l={}){let d,g;this[de]||(this[de]={});const y=this[de];Ie(h)||le(h);const b=Ie(h);var S,I,z,H;(d=y[b])||(d=y[b]={emitter:h,callbacks:{}}),(g=d.callbacks[i])||(g=d.callbacks[i]=[]),g.push(o),I=i,z=o,H=l,(S=h)._addEventListener?S._addEventListener(I,z,H):this._addEventListener.call(S,I,z,H)},stopListening(h,i,o){const l=this[de];let d=h&&Ie(h);const g=l&&d&&l[d],y=g&&i&&g.callbacks[i];if(!(!l||h&&!g||i&&!y))if(o)Ce(this,h,i,o),-1!==y.indexOf(o)&&(1===y.length?delete g.callbacks[i]:Ce(this,h,i,o));else if(y){for(;o=y.pop();)Ce(this,h,i,o);delete g.callbacks[i]}else if(g){for(i in g.callbacks)this.stopListening(h,i);delete l[d]}else{for(d in l)this.stopListening(l[d].emitter);delete this[de]}},fire(h,...i){try{const o=h instanceof R?h:new R(this,h),l=o.name;let d=function g(y,b){let M;return y._events&&(M=y._events[b])&&M.callbacks.length?M.callbacks:b.indexOf(":")>-1?g(y,b.substr(0,b.lastIndexOf(":"))):null}(this,l);if(o.path.push(this),d){const g=[o,...i];d=Array.from(d);for(let y=0;y<d.length&&(d[y].callback.apply(this,g),o.off.called&&(delete o.off.called,this._removeEventListener(l,d[y].callback)),!o.stop.called);y++);}if(this._delegations){const g=this._delegations.get(l),y=this._delegations.get("*");g&&qe(g,o,i),y&&qe(y,o,i)}return o.return}catch(o){W.a.rethrowUnexpectedError(o,this)}},delegate(...h){return{to:(i,o)=>{this._delegations||(this._delegations=new Map),h.forEach(l=>{const d=this._delegations.get(l);d?d.set(i,o):this._delegations.set(l,new Map([[i,o]]))})}}},stopDelegating(h,i){if(this._delegations)if(h)if(i){const o=this._delegations.get(h);o&&o.delete(i)}else this._delegations.delete(h);else this._delegations.clear()},_addEventListener(h,i,o){!function(y,b){const M=Ue(y);if(M[b])return;let S=b,I=null;const z=[];for(;""!==S&&!M[S];)M[S]={callbacks:[],childEvents:[]},z.push(M[S]),I&&M[S].childEvents.push(I),I=S,S=S.substr(0,S.lastIndexOf(":"));if(""!==S){for(const H of z)H.callbacks=M[S].callbacks.slice();M[S].childEvents.push(I)}}(this,h);const l=Je(this,h),d=ve.get(o.priority),g={callback:i,priority:d};for(const y of l){let b=!1;for(let M=0;M<y.length;M++)if(y[M].priority<d){y.splice(M,0,g),b=!0;break}b||y.push(g)}},_removeEventListener(h,i){const o=Je(this,h);for(const l of o)for(let d=0;d<l.length;d++)l[d].callback==i&&(l.splice(d,1),d--)}};function le(h,i){h[ne]||(h[ne]=i||pe())}function Ie(h){return h[ne]}function Ue(h){return h._events||Object.defineProperty(h,"_events",{value:{}}),h._events}function Je(h,i){const o=Ue(h)[i];if(!o)return[];let l=[o.callbacks];for(let d=0;d<o.childEvents.length;d++){const g=Je(h,o.childEvents[d]);l=l.concat(g)}return l}function qe(h,i,o){for(let[l,d]of h){d?"function"==typeof d&&(d=d(i.name)):d=i.name;const g=new R(i.source,d);g.path=[...i.path],l.fire(g,...o)}}function Ce(h,i,o,l){i._removeEventListener?i._removeEventListener(o,l):h._removeEventListener.call(i,o,l)}var ze,h,i,o,me=function(h){var i=typeof h;return null!=h&&("object"==i||"function"==i)},Ee=Z(3),Ge=Ee.a.Symbol,Xe=Object.prototype,vt=Xe.hasOwnProperty,It=Xe.toString,Gt=Ge?Ge.toStringTag:void 0,Ze=Object.prototype.toString,De=Ge?Ge.toStringTag:void 0,Fe=function(h){return null==h?void 0===h?"[object Undefined]":"[object Null]":De&&De in Object(h)?function(h){var i=vt.call(h,Gt),o=h[Gt];try{h[Gt]=void 0;var l=!0}catch(g){}var d=It.call(h);return l&&(i?h[Gt]=o:delete h[Gt]),d}(h):function(h){return Ze.call(h)}(h)},it=function(h){if(!me(h))return!1;var i=Fe(h);return"[object Function]"==i||"[object GeneratorFunction]"==i||"[object AsyncFunction]"==i||"[object Proxy]"==i},Pe=Ee.a["__core-js_shared__"],Zt=(ze=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||""))?"Symbol(src)_1."+ze:"",Ui=Function.prototype.toString,Wt=function(h){if(null!=h){try{return Ui.call(h)}catch(i){}try{return h+""}catch(i){}}return""},an=/^\[object .+?Constructor\]$/,si=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bi=function(h){return!(!me(h)||function(h){return!!Zt&&Zt in h}(h))&&(it(h)?si:an).test(Wt(h))},Ti=function(h,i){var o=function(h,i){return null==h?void 0:h[i]}(h,i);return bi(o)?o:void 0},qi=function(){try{var h=Ti(Object,"defineProperty");return h({},"",{}),h}catch(i){}}(),Os=function(h,i,o){"__proto__"==i&&qi?qi(h,i,{configurable:!0,enumerable:!0,value:o,writable:!0}):h[i]=o},_r=function(h,i){return h===i||h!=h&&i!=i},V1=Object.prototype.hasOwnProperty,ys=function(h,i,o){var l=h[i];V1.call(h,i)&&_r(l,o)&&(void 0!==o||i in h)||Os(h,i,o)},rr=function(h,i,o,l){var d=!o;o||(o={});for(var g=-1,y=i.length;++g<y;){var b=i[g],M=l?l(o[b],h[b],b,o,h):void 0;void 0===M&&(M=h[b]),d?Os(o,b,M):ys(o,b,M)}return o},yr=function(h){return h},d1=function(h,i,o){switch(o.length){case 0:return h.call(i);case 1:return h.call(i,o[0]);case 2:return h.call(i,o[0],o[1]);case 3:return h.call(i,o[0],o[1],o[2])}return h.apply(i,o)},Tt=Math.max,Eo=function(h){return function(){return h}},xo=qi?function(h,i){return qi(h,"toString",{configurable:!0,enumerable:!1,value:Eo(i),writable:!0})}:yr,Ut=Date.now,Ft=(h=xo,i=0,o=0,function(){var l=Ut(),d=16-(l-o);if(o=l,d>0){if(++i>=800)return arguments[0]}else i=0;return h.apply(void 0,arguments)}),An=function(h,i){return Ft(function(h,i,o){return i=Tt(void 0===i?h.length-1:i,0),function(){for(var l=arguments,d=-1,g=Tt(l.length-i,0),y=Array(g);++d<g;)y[d]=l[i+d];d=-1;for(var b=Array(i+1);++d<i;)b[d]=l[d];return b[i]=o(y),d1(h,this,b)}}(h,i,yr),h+"")},pn=function(h){return"number"==typeof h&&h>-1&&h%1==0&&h<=9007199254740991},or=function(h){return null!=h&&pn(h.length)&&!it(h)},Qn=/^(?:0|[1-9]\d*)$/,gt=function(h,i){var o=typeof h;return!!(i=null==i?9007199254740991:i)&&("number"==o||"symbol"!=o&&Qn.test(h))&&h>-1&&h%1==0&&h<i},Qo=function(h){return An(function(i,o){var l=-1,d=o.length,g=d>1?o[d-1]:void 0,y=d>2?o[2]:void 0;for(g=h.length>3&&"function"==typeof g?(d--,g):void 0,y&&function(h,i,o){if(!me(o))return!1;var l=typeof i;return!!("number"==l?or(o)&&gt(i,o.length):"string"==l&&i in o)&&_r(o[i],h)}(o[0],o[1],y)&&(g=d<3?void 0:g,d=1),i=Object(i);++l<d;){var b=o[l];b&&h(i,b,l,g)}return i})},Ii=function(h){return null!=h&&"object"==typeof h},Jn=function(h){return Ii(h)&&"[object Arguments]"==Fe(h)},uo=Object.prototype,x2=uo.hasOwnProperty,ye=uo.propertyIsEnumerable,fe=Jn(function(){return arguments}())?Jn:function(h){return Ii(h)&&x2.call(h,"callee")&&!ye.call(h,"callee")},_e=Array.isArray,We=Z(4),Me={};Me["[object Float32Array]"]=Me["[object Float64Array]"]=Me["[object Int8Array]"]=Me["[object Int16Array]"]=Me["[object Int32Array]"]=Me["[object Uint8Array]"]=Me["[object Uint8ClampedArray]"]=Me["[object Uint16Array]"]=Me["[object Uint32Array]"]=!0,Me["[object Arguments]"]=Me["[object Array]"]=Me["[object ArrayBuffer]"]=Me["[object Boolean]"]=Me["[object DataView]"]=Me["[object Date]"]=Me["[object Error]"]=Me["[object Function]"]=Me["[object Map]"]=Me["[object Number]"]=Me["[object Object]"]=Me["[object RegExp]"]=Me["[object Set]"]=Me["[object String]"]=Me["[object WeakMap]"]=!1;var Dt=function(h){return function(i){return h(i)}},vn=Z(5),wi=vn.a&&vn.a.isTypedArray,Xn=wi?Dt(wi):function(h){return Ii(h)&&pn(h.length)&&!!Me[Fe(h)]},Jo=Object.prototype.hasOwnProperty,hn=function(h,i){var o=_e(h),l=!o&&fe(h),d=!o&&!l&&Object(We.a)(h),g=!o&&!l&&!d&&Xn(h),y=o||l||d||g,b=y?function(h,i){for(var o=-1,l=Array(h);++o<h;)l[o]=i(o);return l}(h.length,String):[],M=b.length;for(var S in h)!i&&!Jo.call(h,S)||y&&("length"==S||d&&("offset"==S||"parent"==S)||g&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||gt(S,M))||b.push(S);return b},sr=Object.prototype,Wr=function(h){var i=h&&h.constructor;return h===("function"==typeof i&&i.prototype||sr)},pc=Object.prototype.hasOwnProperty,yl=function(h){if(!me(h))return function(h){var i=[];if(null!=h)for(var o in Object(h))i.push(o);return i}(h);var i=Wr(h),o=[];for(var l in h)("constructor"!=l||!i&&pc.call(h,l))&&o.push(l);return o},Fs=function(h){return or(h)?hn(h,!0):yl(h)},F1=Qo(function(h,i){rr(i,Fs(i),h)});const ui=Symbol("observableProperties"),Ao=Symbol("boundObservables"),Fr=Symbol("boundProperties"),ai=Symbol("decoratedMethods"),Xo=Symbol("decoratedOriginal"),ft={set(h,i){if(me(h))return void Object.keys(h).forEach(l=>{this.set(l,h[l])},this);ci(this);const o=this[ui];if(h in this&&!o.has(h))throw new W.a("observable-set-cannot-override",this);Object.defineProperty(this,h,{enumerable:!0,configurable:!0,get:()=>o.get(h),set(l){const d=o.get(h);let g=this.fire("set:"+h,h,l,d);void 0===g&&(g=l),d===g&&o.has(h)||(o.set(h,g),this.fire("change:"+h,h,g,d))}}),this[h]=i},bind(...h){if(!h.length||!Gi(h))throw new W.a("observable-bind-wrong-properties",this);if(new Set(h).size!==h.length)throw new W.a("observable-bind-duplicate-properties",this);ci(this);const i=this[Fr];h.forEach(l=>{if(i.has(l))throw new W.a("observable-bind-rebind",this)});const o=new Map;return h.forEach(l=>{const d={property:l,to:[]};i.set(l,d),o.set(l,d)}),{to:So,toMany:es,_observable:this,_bindProperties:h,_to:[],_bindings:o}},unbind(...h){if(!this[ui])return;const i=this[Fr],o=this[Ao];if(h.length){if(!Gi(h))throw new W.a("observable-unbind-wrong-properties",this);h.forEach(l=>{const d=i.get(l);if(!d)return;let g,y,b,M;d.to.forEach(S=>{g=S[0],y=S[1],b=o.get(g),M=b[y],M.delete(d),M.size||delete b[y],Object.keys(b).length||(o.delete(g),this.stopListening(g,"change"))}),i.delete(l)})}else o.forEach((l,d)=>{this.stopListening(d,"change")}),o.clear(),i.clear()},decorate(h){const i=this[h];if(!i)throw new W.a("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:h});this.on(h,(o,l)=>{o.return=i.apply(this,l)}),this[h]=function(...o){return this.fire(h,o)},this[h][Xo]=i,this[ai]||(this[ai]=[]),this[ai].push(h)}};F1(ft,se),ft.stopListening=function(h,i,o){if(!h&&this[ai]){for(const l of this[ai])this[l]=this[l][Xo];delete this[ai]}se.stopListening.call(this,h,i,o)};var Mt=ft;function ci(h){h[ui]||(Object.defineProperty(h,ui,{value:new Map}),Object.defineProperty(h,Ao,{value:new Map}),Object.defineProperty(h,Fr,{value:new Map}))}function So(...h){const i=function(...g){if(!g.length)throw new W.a("observable-bind-to-parse-error",null);const y={to:[]};let b;return"function"==typeof g[g.length-1]&&(y.callback=g.pop()),g.forEach(M=>{if("string"==typeof M)b.properties.push(M);else{if("object"!=typeof M)throw new W.a("observable-bind-to-parse-error",null);b={observable:M,properties:[]},y.to.push(b)}}),y}(...h),o=Array.from(this._bindings.keys()),l=o.length;if(!i.callback&&i.to.length>1)throw new W.a("observable-bind-to-no-callback",this);if(l>1&&i.callback)throw new W.a("observable-bind-to-extra-callback",this);var d;i.to.forEach(g=>{if(g.properties.length&&g.properties.length!==l)throw new W.a("observable-bind-to-properties-length",this);g.properties.length||(g.properties=this._bindProperties)}),this._to=i.to,i.callback&&(this._bindings.get(o[0]).callback=i.callback),d=this._observable,this._to.forEach(g=>{const y=d[Ao];let b;y.get(g.observable)||d.listenTo(g.observable,"change",(M,S)=>{b=y.get(g.observable)[S],b&&b.forEach(I=>{di(d,I.property)})})}),function(g){let y;g._bindings.forEach((b,M)=>{g._to.forEach(S=>{y=S.properties[b.callback?0:g._bindProperties.indexOf(M)],b.to.push([S.observable,y]),function(I,z,H,Y){const J=I[Ao],ee=J.get(H),oe=ee||{};oe[Y]||(oe[Y]=new Set),oe[Y].add(z),ee||J.set(H,oe)}(g._observable,b,S.observable,y)})})}(this),this._bindProperties.forEach(g=>{di(this._observable,g)})}function es(h,i,o){if(this._bindings.size>1)throw new W.a("observable-bind-to-many-not-one-binding",this);this.to(...function(l,d){const g=l.map(y=>[y,d]);return Array.prototype.concat.apply([],g)}(h,i),o)}function Gi(h){return h.every(i=>"string"==typeof i)}function di(h,i){const o=h[Fr].get(i);let l;o.callback?l=o.callback.apply(h,o.to.map(d=>d[0][d[1]])):(l=o.to[0],l=l[0][l[1]]),Object.prototype.hasOwnProperty.call(h,i)?h[i]=l:h.set(i,l)}function _t(h,...i){i.forEach(o=>{Object.getOwnPropertyNames(o).concat(Object.getOwnPropertySymbols(o)).forEach(l=>{if(l in h.prototype)return;const d=Object.getOwnPropertyDescriptor(o,l);d.enumerable=!1,Object.defineProperty(h.prototype,l,d)})})}class ot{constructor(i){this.editor=i,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",H1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",H1),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function H1(h){h.return=!1,h.stop()}_t(ot,Mt);class dt{constructor(i){this.editor=i,this.set("value",void 0),this.set("isEnabled",!1),this.affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",o=>{this.isEnabled||o.stop()},{priority:"high"}),this.listenTo(i,"change:isReadOnly",(o,l,d)=>{d&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(i){this._disableStack.add(i),1==this._disableStack.size&&(this.on("set:isEnabled",Sa,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(i){this._disableStack.delete(i),0==this._disableStack.size&&(this.off("set:isEnabled",Sa),this.refresh())}execute(){}destroy(){this.stopListening()}}function Sa(h){h.return=!1,h.stop()}_t(dt,Mt);class h1 extends dt{constructor(i){super(i),this._childCommands=[]}refresh(){}execute(...i){const o=this._getFirstEnabledCommand();return null!=o&&o.execute(i)}registerChildCommand(i){this._childCommands.push(i),i.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){return this._childCommands.find(i=>i.isEnabled)}}var To=function(h,i){return function(o){return h(i(o))}},Hs=To(Object.getPrototypeOf,Object),Bs=Function.prototype.toString,ho=Object.prototype.hasOwnProperty,$n=Bs.call(Object),ts=function(h){if(!Ii(h)||"[object Object]"!=Fe(h))return!1;var i=Hs(h);if(null===i)return!0;var o=ho.call(i,"constructor")&&i.constructor;return"function"==typeof o&&o instanceof o&&Bs.call(o)==$n},js=function(h,i){for(var o=h.length;o--;)if(_r(h[o][0],i))return o;return-1},gc=Array.prototype.splice;function bs(h){var i=-1,o=null==h?0:h.length;for(this.clear();++i<o;){var l=h[i];this.set(l[0],l[1])}}bs.prototype.clear=function(){this.__data__=[],this.size=0},bs.prototype.delete=function(h){var i=this.__data__,o=js(i,h);return!(o<0||(o==i.length-1?i.pop():gc.call(i,o,1),--this.size,0))},bs.prototype.get=function(h){var i=this.__data__,o=js(i,h);return o<0?void 0:i[o][1]},bs.prototype.has=function(h){return js(this.__data__,h)>-1},bs.prototype.set=function(h,i){var o=this.__data__,l=js(o,h);return l<0?(++this.size,o.push([h,i])):o[l][1]=i,this};var cr=bs,Zr=Ti(Ee.a,"Map"),Ta=Ti(Object,"create"),v4=Object.prototype.hasOwnProperty,p1=Object.prototype.hasOwnProperty;function _c(h){var i=-1,o=null==h?0:h.length;for(this.clear();++i<o;){var l=h[i];this.set(l[0],l[1])}}_c.prototype.clear=function(){this.__data__=Ta?Ta(null):{},this.size=0},_c.prototype.delete=function(h){var i=this.has(h)&&delete this.__data__[h];return this.size-=i?1:0,i},_c.prototype.get=function(h){var i=this.__data__;if(Ta){var o=i[h];return"__lodash_hash_undefined__"===o?void 0:o}return v4.call(i,h)?i[h]:void 0},_c.prototype.has=function(h){var i=this.__data__;return Ta?void 0!==i[h]:p1.call(i,h)},_c.prototype.set=function(h,i){var o=this.__data__;return this.size+=this.has(h)?0:1,o[h]=Ta&&void 0===i?"__lodash_hash_undefined__":i,this};var I2=_c,_4=function(h,i){var o=h.__data__;return function(h){var i=typeof h;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==h:null===h}(i)?o["string"==typeof i?"string":"hash"]:o.map};function bl(h){var i=-1,o=null==h?0:h.length;for(this.clear();++i<o;){var l=h[i];this.set(l[0],l[1])}}bl.prototype.clear=function(){this.size=0,this.__data__={hash:new I2,map:new(Zr||cr),string:new I2}},bl.prototype.delete=function(h){var i=_4(this,h).delete(h);return this.size-=i?1:0,i},bl.prototype.get=function(h){return _4(this,h).get(h)},bl.prototype.has=function(h){return _4(this,h).has(h)},bl.prototype.set=function(h,i){var o=_4(this,h),l=o.size;return o.set(h,i),this.size+=o.size==l?0:1,this};var Cs=bl;function Us(h){var i=this.__data__=new cr(h);this.size=i.size}Us.prototype.clear=function(){this.__data__=new cr,this.size=0},Us.prototype.delete=function(h){var i=this.__data__,o=i.delete(h);return this.size=i.size,o},Us.prototype.get=function(h){return this.__data__.get(h)},Us.prototype.has=function(h){return this.__data__.has(h)},Us.prototype.set=function(h,i){var o=this.__data__;if(o instanceof cr){var l=o.__data__;if(!Zr||l.length<199)return l.push([h,i]),this.size=++o.size,this;o=this.__data__=new Cs(l)}return o.set(h,i),this.size=o.size,this};var Io=Us,Do=To(Object.keys,Object),bc=Object.prototype.hasOwnProperty,wc=function(h){return or(h)?hn(h):function(h){if(!Wr(h))return Do(h);var i=[];for(var o in Object(h))bc.call(h,o)&&"constructor"!=o&&i.push(o);return i}(h)},y4=Z(9),ks=function(h,i){var o=-1,l=h.length;for(i||(i=Array(l));++o<l;)i[o]=h[o];return i},Cc=function(){return[]},kc=Object.prototype.propertyIsEnumerable,hi=Object.getOwnPropertySymbols,Mc=hi?function(h){return null==h?[]:(h=Object(h),function(h,i){for(var o=-1,l=null==h?0:h.length,d=0,g=[];++o<l;){var y=h[o];i(y,o,h)&&(g[d++]=y)}return g}(hi(h),function(i){return kc.call(h,i)}))}:Cc,za=function(h,i){for(var o=-1,l=i.length,d=h.length;++o<l;)h[d+o]=i[o];return h},Ec=Object.getOwnPropertySymbols?function(h){for(var i=[];h;)za(i,Mc(h)),h=Hs(h);return i}:Cc,b4=function(h,i,o){var l=i(h);return _e(h)?l:za(l,o(h))},On=function(h){return b4(h,wc,Mc)},xc=function(h){return b4(h,Fs,Ec)},U1=Ti(Ee.a,"DataView"),fi=Ti(Ee.a,"Promise"),$s=Ti(Ee.a,"Set"),Gs=Ti(Ee.a,"WeakMap"),Na=Wt(U1),wr=Wt(Zr),Cl=Wt(fi),q1=Wt($s),g1=Wt(Gs),mn=Fe;(U1&&"[object DataView]"!=mn(new U1(new ArrayBuffer(1)))||Zr&&"[object Map]"!=mn(new Zr)||fi&&"[object Promise]"!=mn(fi.resolve())||$s&&"[object Set]"!=mn(new $s)||Gs&&"[object WeakMap]"!=mn(new Gs))&&(mn=function(h){var i=Fe(h),o="[object Object]"==i?h.constructor:void 0,l=o?Wt(o):"";if(l)switch(l){case Na:return"[object DataView]";case wr:return"[object Map]";case Cl:return"[object Promise]";case q1:return"[object Set]";case g1:return"[object WeakMap]"}return i});var v1=mn,La=Object.prototype.hasOwnProperty,Yr=Ee.a.Uint8Array,kl=function(h){var i=new h.constructor(h.byteLength);return new Yr(i).set(new Yr(h)),i},qt=/\w*$/,Pa=Ge?Ge.prototype:void 0,Ac=Pa?Pa.valueOf:void 0,w4=function(h,i){var o=i?kl(h.buffer):h.buffer;return new h.constructor(o,h.byteOffset,h.length)},Tc=function(h,i,o){var l=h.constructor;switch(i){case"[object ArrayBuffer]":return kl(h);case"[object Boolean]":case"[object Date]":return new l(+h);case"[object DataView]":return function(h,i){var o=i?kl(h.buffer):h.buffer;return new h.constructor(o,h.byteOffset,h.byteLength)}(h,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return w4(h,o);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(h);case"[object RegExp]":return function(h){var i=new h.constructor(h.source,qt.exec(h));return i.lastIndex=h.lastIndex,i}(h);case"[object Symbol]":return function(h){return Ac?Object(Ac.call(h)):{}}(h)}},C4=Object.create,et=function(){function h(){}return function(i){if(!me(i))return{};if(C4)return C4(i);h.prototype=i;var o=new h;return h.prototype=void 0,o}}(),Cn=function(h){return"function"!=typeof h.constructor||Wr(h)?{}:et(Hs(h))},pi=vn.a&&vn.a.isMap,$1=pi?Dt(pi):function(h){return Ii(h)&&"[object Map]"==v1(h)},Xi=vn.a&&vn.a.isSet,El=Xi?Dt(Xi):function(h){return Ii(h)&&"[object Set]"==v1(h)},In={};In["[object Arguments]"]=In["[object Array]"]=In["[object ArrayBuffer]"]=In["[object DataView]"]=In["[object Boolean]"]=In["[object Date]"]=In["[object Float32Array]"]=In["[object Float64Array]"]=In["[object Int8Array]"]=In["[object Int16Array]"]=In["[object Int32Array]"]=In["[object Map]"]=In["[object Number]"]=In["[object Object]"]=In["[object RegExp]"]=In["[object Set]"]=In["[object String]"]=In["[object Symbol]"]=In["[object Uint8Array]"]=In["[object Uint8ClampedArray]"]=In["[object Uint16Array]"]=In["[object Uint32Array]"]=!0,In["[object Error]"]=In["[object Function]"]=In["[object WeakMap]"]=!1;var xl=function h(i,o,l,d,g,y){var b,M=1&o,S=2&o,I=4&o;if(l&&(b=g?l(i,d,g,y):l(i)),void 0!==b)return b;if(!me(i))return i;var z=_e(i);if(z){if(b=function(h){var i=h.length,o=new h.constructor(i);return i&&"string"==typeof h[0]&&La.call(h,"index")&&(o.index=h.index,o.input=h.input),o}(i),!M)return ks(i,b)}else{var H=v1(i),Y="[object Function]"==H||"[object GeneratorFunction]"==H;if(Object(We.a)(i))return Object(y4.a)(i,M);if("[object Object]"==H||"[object Arguments]"==H||Y&&!g){if(b=S||Y?{}:Cn(i),!M)return S?function(h,i){return rr(h,Ec(h),i)}(i,function(h,i){return h&&rr(i,Fs(i),h)}(b,i)):function(h,i){return rr(h,Mc(h),i)}(i,function(h,i){return h&&rr(i,wc(i),h)}(b,i))}else{if(!In[H])return g?i:{};b=Tc(i,H,M)}}y||(y=new Io);var J=y.get(i);if(J)return J;y.set(i,b),El(i)?i.forEach(function(oe){b.add(h(oe,o,l,oe,i,y))}):$1(i)&&i.forEach(function(oe,ue){b.set(ue,h(oe,o,l,ue,i,y))});var ee=z?void 0:(I?S?xc:On:S?Fs:wc)(i);return function(h,i){for(var o=-1,l=null==h?0:h.length;++o<l&&!1!==i(h[o],o,h););}(ee||i,function(oe,ue){ee&&(oe=i[ue=oe]),ys(b,ue,h(oe,o,l,ue,i,y))}),b},k4=function(h,i){return xl(h,5,i="function"==typeof i?i:void 0)},fo=function(h){return Ii(h)&&1===h.nodeType&&!ts(h)};class Ic{constructor(i,o){this._config={},o&&this.define(Cr(o)),i&&this._setObjectToTarget(this._config,i)}set(i,o){this._setToTarget(this._config,i,o)}define(i,o){this._setToTarget(this._config,i,o,!0)}get(i){return this._getFromSource(this._config,i)}*names(){for(const i of Object.keys(this._config))yield i}_setToTarget(i,o,l,d=!1){if(ts(o))return void this._setObjectToTarget(i,o,d);const g=o.split(".");o=g.pop();for(const y of g)ts(i[y])||(i[y]={}),i=i[y];if(ts(l))return ts(i[o])||(i[o]={}),void this._setObjectToTarget(i=i[o],l,d);d&&void 0!==i[o]||(i[o]=l)}_getFromSource(i,o){const l=o.split(".");o=l.pop();for(const d of l){if(!ts(i[d])){i=null;break}i=i[d]}return i?Cr(i[o]):void 0}_setObjectToTarget(i,o,l){Object.keys(o).forEach(d=>{this._setToTarget(i,d,o[d],l)})}}function Cr(h){return k4(h,Ms)}function Ms(h){return fo(h)?h:void 0}function Kr(h){return!(!h||!h[Symbol.iterator])}class zi{constructor(i={},o={}){const l=Kr(i);if(l||(o=i),this._items=[],this._itemMap=new Map,this._idProperty=o.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],l)for(const d of i)this._items.push(d),this._itemMap.set(this._getItemIdBeforeAdding(d),d)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(i,o){return this.addMany([i],o)}addMany(i,o){if(void 0===o)o=this._items.length;else if(o>this._items.length||o<0)throw new W.a("collection-add-item-invalid-index",this);for(let l=0;l<i.length;l++){const d=i[l],g=this._getItemIdBeforeAdding(d),y=o+l;this._items.splice(y,0,d),this._itemMap.set(g,d),this.fire("add",d,y)}return this.fire("change",{added:i,removed:[],index:o}),this}get(i){let o;if("string"==typeof i)o=this._itemMap.get(i);else{if("number"!=typeof i)throw new W.a("collection-get-invalid-arg",this);o=this._items[i]}return o||null}has(i){return this._itemMap.has("string"==typeof i?i:i[this._idProperty])}getIndex(i){let o;return o="string"==typeof i?this._itemMap.get(i):i,this._items.indexOf(o)}remove(i){const[o,l]=this._remove(i);return this.fire("change",{added:[],removed:[o],index:l}),o}map(i,o){return this._items.map(i,o)}find(i,o){return this._items.find(i,o)}filter(i,o){return this._items.filter(i,o)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const i=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:i,index:0})}bindTo(i){if(this._bindToCollection)throw new W.a("collection-bind-to-rebind",this);return this._bindToCollection=i,{as:o=>{this._setUpBindToBinding(l=>new o(l))},using:o=>{this._setUpBindToBinding("function"==typeof o?l=>o(l):l=>l[o])}}}_setUpBindToBinding(i){const o=this._bindToCollection,l=(d,g,y)=>{const b=o._bindToCollection==this,M=o._bindToInternalToExternalMap.get(g);if(b&&M)this._bindToExternalToInternalMap.set(g,M),this._bindToInternalToExternalMap.set(M,g);else{const S=i(g);if(!S)return void this._skippedIndexesFromExternal.push(y);let I=y;for(const z of this._skippedIndexesFromExternal)y>z&&I--;for(const z of o._skippedIndexesFromExternal)I>=z&&I++;this._bindToExternalToInternalMap.set(g,S),this._bindToInternalToExternalMap.set(S,g),this.add(S,I);for(let z=0;z<o._skippedIndexesFromExternal.length;z++)I<=o._skippedIndexesFromExternal[z]&&o._skippedIndexesFromExternal[z]++}};for(const d of o)l(0,d,o.getIndex(d));this.listenTo(o,"add",l),this.listenTo(o,"remove",(d,g,y)=>{const b=this._bindToExternalToInternalMap.get(g);b&&this.remove(b),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((M,S)=>(y<S&&M.push(S-1),y>S&&M.push(S),M),[])})}_getItemIdBeforeAdding(i){const o=this._idProperty;let l;if(o in i){if(l=i[o],"string"!=typeof l)throw new W.a("collection-add-invalid-id",this);if(this.get(l))throw new W.a("collection-add-item-already-exists",this)}else i[o]=l=pe();return l}_remove(i){let o,l,d,g=!1;const y=this._idProperty;if("string"==typeof i?(l=i,d=this._itemMap.get(l),g=!d,d&&(o=this._items.indexOf(d))):"number"==typeof i?(o=i,d=this._items[o],g=!d,d&&(l=d[y])):(d=i,l=d[y],o=this._items.indexOf(d),g=-1==o||!this._itemMap.get(l)),g)throw new W.a("collection-remove-404",this);this._items.splice(o,1),this._itemMap.delete(l);const b=this._bindToInternalToExternalMap.get(d);return this._bindToInternalToExternalMap.delete(d),this._bindToExternalToInternalMap.delete(b),this.fire("remove",d,o),[d,o]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}_t(zi,se);class zo{constructor(i,o=[],l=[]){this._context=i,this._plugins=new Map,this._availablePlugins=new Map;for(const d of o)d.pluginName&&this._availablePlugins.set(d.pluginName,d);this._contextPlugins=new Map;for(const[d,g]of l)this._contextPlugins.set(d,g),this._contextPlugins.set(g,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}*[Symbol.iterator](){for(const i of this._plugins)"function"==typeof i[0]&&(yield i)}get(i){const o=this._plugins.get(i);if(!o){let l=i;throw"function"==typeof i&&(l=i.pluginName||i.name),new W.a("plugincollection-plugin-not-loaded",this._context,{plugin:l})}return o}has(i){return this._plugins.has(i)}init(i,o=[],l=[]){const d=this,g=this._context;(function J(ee,oe=new Set){ee.forEach(ue=>{M(ue)&&(oe.has(ue)||(oe.add(ue),ue.pluginName&&!d._availablePlugins.has(ue.pluginName)&&d._availablePlugins.set(ue.pluginName,ue),ue.requires&&J(ue.requires,oe)))})})(i),H(i);const y=[...function J(ee,oe=new Set){return ee.map(ue=>M(ue)?ue:d._availablePlugins.get(ue)).reduce((ue,xe)=>oe.has(xe)?ue:(oe.add(xe),xe.requires&&(H(xe.requires,xe),J(xe.requires,oe).forEach(je=>ue.add(je))),ue.add(xe)),new Set)}(i.filter(J=>!I(J,o)))];!function(J,ee){for(const oe of ee){if("function"!=typeof oe)throw new W.a("plugincollection-replace-plugin-invalid-type",null,{pluginItem:oe});const ue=oe.pluginName;if(!ue)throw new W.a("plugincollection-replace-plugin-missing-name",null,{pluginItem:oe});if(oe.requires&&oe.requires.length)throw new W.a("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:ue});const xe=d._availablePlugins.get(ue);if(!xe)throw new W.a("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:ue});const je=J.indexOf(xe);if(-1===je){if(d._contextPlugins.has(xe))return;throw new W.a("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:ue})}if(xe.requires&&xe.requires.length)throw new W.a("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:ue});J.splice(je,1,oe),d._availablePlugins.set(ue,oe)}}(y,l);const b=y.map(ee=>{const oe=d._contextPlugins.get(ee)||new ee(g);return d._add(ee,oe),oe});return Y(b,"init").then(()=>Y(b,"afterInit")).then(()=>b);function M(J){return"function"==typeof J}function S(J){return M(J)&&J.isContextPlugin}function I(J,ee){return ee.some(oe=>oe===J||z(J)===oe||z(oe)===J)}function z(J){return M(J)?J.pluginName||J.name:J}function H(J,ee=null){J.map(oe=>M(oe)?oe:d._availablePlugins.get(oe)||oe).forEach(oe=>{(function(ue,xe){if(!M(ue))throw xe?new W.a("plugincollection-soft-required",g,{missingPlugin:ue,requiredBy:z(xe)}):new W.a("plugincollection-plugin-not-found",g,{plugin:ue})})(oe,ee),function(ue,xe){if(S(xe)&&!S(ue))throw new W.a("plugincollection-context-required",g,{plugin:z(ue),requiredBy:z(xe)})}(oe,ee),function(ue,xe){if(xe&&I(ue,o))throw new W.a("plugincollection-required",g,{plugin:z(ue),requiredBy:z(xe)})}(oe,ee)})}function Y(J,ee){return J.reduce((oe,ue)=>ue[ee]?d._contextPlugins.has(ue)?oe:oe.then(ue[ee].bind(ue)):oe,Promise.resolve())}}destroy(){const i=[];for(const[,o]of this)"function"!=typeof o.destroy||this._contextPlugins.has(o)||i.push(o.destroy());return Promise.all(i)}_add(i,o){this._plugins.set(i,o);const l=i.pluginName;if(l){if(this._plugins.has(l))throw new W.a("plugincollection-plugin-name-conflict",null,{pluginName:l,plugin1:this._plugins.get(l).constructor,plugin2:i});this._plugins.set(l,o)}}}function Vi(h){return Array.isArray(h)?h:[h]}_t(zo,se),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});const Ra=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function j3(h){return Ra.includes(h)?"rtl":"ltr"}class G1{constructor(i={}){this.uiLanguage=i.uiLanguage||"en",this.contentLanguage=i.contentLanguage||this.uiLanguage,this.uiLanguageDirection=j3(this.uiLanguage),this.contentLanguageDirection=j3(this.contentLanguage),this.t=(o,l)=>this._t(o,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(i,o=[]){return o=Vi(o),"string"==typeof i&&(i={string:i}),d=function(h,i,o=1){if("number"!=typeof o)throw new W.a("translation-service-quantity-not-a-number",null,{quantity:o});const l=Object.keys(window.CKEDITOR_TRANSLATIONS).length;1===l&&(h=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);const d=i.id||i.string;if(0===l||(M=h,!window.CKEDITOR_TRANSLATIONS[M]||!window.CKEDITOR_TRANSLATIONS[M].dictionary[d]))return 1!==o?i.plural:i.string;var M;const g=window.CKEDITOR_TRANSLATIONS[h].dictionary,y=window.CKEDITOR_TRANSLATIONS[h].getPluralForm||(M=>1===M?0:1);if("string"==typeof g[d])return g[d];const b=Number(y(o));return g[d][b]}(this.uiLanguage,i,i.plural?o[0]:1),g=o,d.replace(/%(\d+)/g,(y,b)=>b<g.length?g[b]:y);var d,g}}class Al{constructor(i){this.config=new Ic(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new zo(this,o);const l=this.config.get("language")||{};this.locale=new G1({uiLanguage:"string"==typeof l?l:l.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new zi,this._contextOwner=null}initPlugins(){const i=this.config.get("plugins")||[],o=this.config.get("substitutePlugins")||[];for(const l of i.concat(o)){if("function"!=typeof l)throw new W.a("context-initplugins-constructor-only",null,{Plugin:l});if(!0!==l.isContextPlugin)throw new W.a("context-initplugins-invalid-plugin",null,{Plugin:l})}return this.plugins.init(i,[],o)}destroy(){return Promise.all(Array.from(this.editors,i=>i.destroy())).then(()=>this.plugins.destroy())}_addEditor(i,o){if(this._contextOwner)throw new W.a("context-addeditor-private-context");this.editors.add(i),o&&(this._contextOwner=i)}_removeEditor(i){return this.editors.has(i)&&this.editors.remove(i),this._contextOwner===i?this.destroy():Promise.resolve()}_getEditorConfig(){const i={};for(const o of this.config.names())["plugins","removePlugins","extraPlugins"].includes(o)||(i[o]=this.config.get(o));return i}static create(i){return new Promise(o=>{const l=new this(i);o(l.initPlugins().then(()=>l))})}}class Zs{constructor(i){this.context=i}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}function lr(h,i){const o=Math.min(h.length,i.length);for(let l=0;l<o;l++)if(h[l]!=i[l])return l;return h.length==i.length?"same":h.length<i.length?"prefix":"extension"}_t(Zs,Mt);var L2=function(h){return xl(h,4)};class Ys{constructor(i){this.document=i,this.parent=null}get index(){let i;if(!this.parent)return null;if(-1==(i=this.parent.getChildIndex(this)))throw new W.a("view-node-not-found-in-parent",this);return i}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.index),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}getCommonAncestor(i,o={}){const l=this.getAncestors(o),d=i.getAncestors(o);let g=0;for(;l[g]==d[g]&&l[g];)g++;return 0===g?null:l[g-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),l=i.getPath(),d=lr(o,l);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<l[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}_remove(){this.parent._removeChildren(this.index)}_fireChange(i,o){this.fire("change:"+i,o),this.parent&&this.parent._fireChange(i,o)}toJSON(){const i=L2(this);return delete i.parent,i}is(i){return"node"===i||"view:node"===i}}_t(Ys,se);class Ln extends Ys{constructor(i,o){super(i),this._textData=o}is(i){return"$text"===i||"view:$text"===i||"text"===i||"view:text"===i||"node"===i||"view:node"===i}get data(){return this._textData}get _data(){return this.data}set _data(i){this._fireChange("text",this),this._textData=i}isSimilar(i){return i instanceof Ln&&(this===i||this.data===i.data)}_clone(){return new Ln(this.document,this.data)}}class No{constructor(i,o,l){if(this.textNode=i,o<0||o>i.data.length)throw new W.a("view-textproxy-wrong-offsetintext",this);if(l<0||o+l>i.data.length)throw new W.a("view-textproxy-wrong-length",this);this.data=i.data.substring(o,o+l),this.offsetInText=o}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(i){return"$textProxy"===i||"view:$textProxy"===i||"textProxy"===i||"view:textProxy"===i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let l=i.includeSelf?this.textNode:this.parent;for(;null!==l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}}function Lo(h){return Kr(h)?new Map(h):function(i){const o=new Map;for(const l in i)o.set(l,i[l]);return o}(h)}class ns{constructor(...i){this._patterns=[],this.add(...i)}add(...i){for(let o of i)("string"==typeof o||o instanceof RegExp)&&(o={name:o}),this._patterns.push(o)}match(...i){for(const o of i)for(const l of this._patterns){const d=Oa(o,l);if(d)return{element:o,pattern:l,match:d}}return null}matchAll(...i){const o=[];for(const l of i)for(const d of this._patterns){const g=Oa(l,d);g&&o.push({element:l,pattern:d,match:g})}return o.length>0?o:null}getElementName(){if(1!==this._patterns.length)return null;const i=this._patterns[0],o=i.name;return"function"==typeof i||!o||o instanceof RegExp?null:o}}function Oa(h,i){if("function"==typeof i)return i(h);const o={};return i.name&&(o.name=(d=h.name,(l=i.name)instanceof RegExp?!!d.match(l):l===d),!o.name)||i.attributes&&(o.attributes=function(l,d){const g=new Set(d.getAttributeKeys());return ts(l)?(void 0!==l.style&&Object(W.b)("matcher-pattern-deprecated-attributes-style-key",l),void 0!==l.class&&Object(W.b)("matcher-pattern-deprecated-attributes-class-key",l)):(g.delete("style"),g.delete("class")),Va(l,g,y=>d.getAttribute(y))}(i.attributes,h),!o.attributes)?null:!(i.classes&&(o.classes=function(l,d){return Va(l,d.getClassNames())}(i.classes,h),!o.classes))&&!(i.styles&&(o.styles=function(l,d){return Va(l,d.getStyleNames(!0),g=>d.getStyle(g))}(i.styles,h),!o.styles))&&o;var l,d}function Va(h,i,o){const l=(y=h,Array.isArray(y)?y.map(b=>ts(b)?(void 0!==b.key&&void 0!==b.value||Object(W.b)("matcher-pattern-missing-key-or-value",b),[b.key,b.value]):[b,!0]):ts(y)?Object.entries(y):[[y,!0]]),d=Array.from(i),g=[];var y;return l.forEach(([y,b])=>{d.forEach(M=>{var S,I;I=M,(!0===(S=y)||S===I||S instanceof RegExp&&I.match(S))&&function(S,I,z){if(!0===S)return!0;const H=z(I);return S===H||S instanceof RegExp&&!!String(H).match(S)}(b,M,o)&&g.push(M)})}),!l.length||g.length<l.length?null:g}var M4=function(h){return"symbol"==typeof h||Ii(h)&&"[object Symbol]"==Fe(h)},E4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kr=/^\w*$/;function ii(h,i){if("function"!=typeof h||null!=i&&"function"!=typeof i)throw new TypeError("Expected a function");var o=function(){var l=arguments,d=i?i.apply(this,l):l[0],g=o.cache;if(g.has(d))return g.get(d);var y=h.apply(this,l);return o.cache=g.set(d,y)||g,y};return o.cache=new(ii.Cache||Cs),o}ii.Cache=Cs;var p6=ii,dh=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hh=/\\(\\)?/g,Z1=function(h){var i=p6(function(h){var i=[];return 46===h.charCodeAt(0)&&i.push(""),h.replace(dh,function(o,l,d,g){i.push(d?g.replace(hh,"$1"):l||o)}),i},function(l){return 500===o.size&&o.clear(),l}),o=i.cache;return i}(),U3=Ge?Ge.prototype:void 0,Fa=U3?U3.toString:void 0,P2=function h(i){if("string"==typeof i)return i;if(_e(i))return function(h,i){for(var o=-1,l=null==h?0:h.length,d=Array(l);++o<l;)d[o]=i(h[o],o,h);return d}(i,h)+"";if(M4(i))return Fa?Fa.call(i):"";var o=i+"";return"0"==o&&1/i==-1/0?"-0":o},is=function(h){return null==h?"":P2(h)},Ha=function(h,i){return _e(h)?h:function(h,i){if(_e(h))return!1;var o=typeof h;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=h&&!M4(h))||kr.test(h)||!E4.test(h)||null!=i&&h in Object(i)}(h,i)?[h]:Z1(is(h))},x4=function(h){if("string"==typeof h||M4(h))return h;var i=h+"";return"0"==i&&1/h==-1/0?"-0":i},mi=function(h,i){for(var o=0,l=(i=Ha(i,h)).length;null!=h&&o<l;)h=h[x4(i[o++])];return o&&o==l?h:void 0},Ba=function(h,i,o){var l=-1,d=h.length;i<0&&(i=-i>d?0:d+i),(o=o>d?d:o)<0&&(o+=d),d=i>o?0:o-i>>>0,i>>>=0;for(var g=Array(d);++l<d;)g[l]=h[l+i];return g},Sl=function(h,i){return null==(h=function(h,i){return i.length<2?h:mi(h,Ba(i,0,-1))}(h,i=Ha(i,h)))||delete h[x4(function(h){var i=null==h?0:h.length;return i?h[i-1]:void 0}(i))]},rs=function(h,i,o){var l=null==h?void 0:mi(h,i);return void 0===l?o:l},Tl=function(h,i,o){(void 0!==o&&!_r(h[i],o)||void 0===o&&!(i in h))&&Os(h,i,o)},q3=function(i,o,l){for(var d=-1,g=Object(i),y=l(i),b=y.length;b--;){var M=y[++d];if(!1===o(g[M],M,g))break}return i},_1=function(h,i){if(("constructor"!==i||"function"!=typeof h[i])&&"__proto__"!=i)return h[i]},Nc=function(h,i,o,l,d,g,y){var b=_1(h,o),M=_1(i,o),S=y.get(M);if(S)Tl(h,o,S);else{var I=g?g(b,M,o+"",h,i,y):void 0,z=void 0===I;if(z){var H=_e(M),Y=!H&&Object(We.a)(M),J=!H&&!Y&&Xn(M);I=M,H||Y||J?_e(b)?I=b:function(h){return Ii(h)&&or(h)}(b)?I=ks(b):Y?(z=!1,I=Object(y4.a)(M,!0)):J?(z=!1,I=w4(M,!0)):I=[]:ts(M)||fe(M)?(I=b,fe(b)?I=function(h){return rr(h,Fs(h))}(b):me(b)&&!it(b)||(I=Cn(M))):z=!1}z&&(y.set(M,I),d(I,M,l,g,y),y.delete(M)),Tl(h,o,I)}},Hr=function h(i,o,l,d,g){i!==o&&q3(o,function(y,b){if(g||(g=new Io),me(y))Nc(i,o,b,l,h,d,g);else{var M=d?d(_1(i,b),y,b+"",i,o,g):void 0;void 0===M&&(M=y),Tl(i,b,M)}},Fs)},Po=Qo(function(h,i,o){Hr(h,i,o)}),v6=function(h,i,o){return null==h?h:function(h,i,o,l){if(!me(h))return h;for(var d=-1,g=(i=Ha(i,h)).length,y=g-1,b=h;null!=b&&++d<g;){var M=x4(i[d]),S=o;if("__proto__"===M||"constructor"===M||"prototype"===M)return h;if(d!=y){var I=b[M];void 0===(S=l?l(I,M,b):void 0)&&(S=me(I)?I:gt(i[d+1])?[]:{})}ys(b,M,S),b=b[M]}return h}(h,i,o)};class Ks{constructor(i){this._styles={},this._styleProcessor=i}get isEmpty(){const i=Object.entries(this._styles);return!Array.from(i).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(i){this.clear();const o=Array.from(function(l){let d=null,g=0,y=0,b=null;const M=new Map;if(""===l)return M;";"!=l.charAt(l.length-1)&&(l+=";");for(let S=0;S<l.length;S++){const I=l.charAt(S);if(null===d)switch(I){case":":b||(b=l.substr(g,S-g),y=S+1);break;case'"':case"'":d=I;break;case";":{const z=l.substr(y,S-y);b&&M.set(b.trim(),z.trim()),b=null,g=S+1;break}}else I===d&&(d=null)}return M}(i).entries());for(const[l,d]of o)this._styleProcessor.toNormalizedForm(l,d,this._styles)}has(i){if(this.isEmpty)return!1;const o=this._styleProcessor.getReducedForm(i,this._styles).find(([l])=>l===i);return Array.isArray(o)}set(i,o){if(me(i))for(const[l,d]of Object.entries(i))this._styleProcessor.toNormalizedForm(l,d,this._styles);else this._styleProcessor.toNormalizedForm(i,o,this._styles)}remove(i){const o=gi(i);(function(h,i){null==h||Sl(h,i)})(this._styles,o),delete this._styles[i],this._cleanEmptyObjectsOnPath(o)}getNormalized(i){return this._styleProcessor.getNormalized(i,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(i=>i.join(":")).sort().join(";")+";"}getAsString(i){if(this.isEmpty)return;if(this._styles[i]&&!me(this._styles[i]))return this._styles[i];const o=this._styleProcessor.getReducedForm(i,this._styles).find(([l])=>l===i);return Array.isArray(o)?o[1]:void 0}getStyleNames(i=!1){return this.isEmpty?[]:i?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([o])=>o)}clear(){this._styles={}}_getStylesEntries(){const i=[],o=Object.keys(this._styles);for(const l of o)i.push(...this._styleProcessor.getReducedForm(l,this._styles));return i}_cleanEmptyObjectsOnPath(i){const o=i.split(".");if(!(o.length>1))return;const l=o.splice(0,o.length-1).join("."),d=rs(this._styles,l);!d||!Array.from(Object.keys(d)).length&&this.remove(l)}}class _6{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(i,o,l){if(me(o))ja(l,gi(i),o);else if(this._normalizers.has(i)){const d=this._normalizers.get(i),{path:g,value:y}=d(o);ja(l,g,y)}else ja(l,i,o)}getNormalized(i,o){if(!i)return Po({},o);if(void 0!==o[i])return o[i];if(this._extractors.has(i)){const l=this._extractors.get(i);if("string"==typeof l)return rs(o,l);const d=l(i,o);if(d)return d}return rs(o,gi(i))}getReducedForm(i,o){const l=this.getNormalized(i,o);return void 0===l?[]:this._reducers.has(i)?this._reducers.get(i)(l):[[i,l]]}getStyleNames(i){const o=Array.from(this._consumables.keys()).filter(d=>{const g=this.getNormalized(d,i);return g&&"object"==typeof g?Object.keys(g).length:g}),l=new Set([...o,...Object.keys(i)]);return Array.from(l.values())}getRelatedStyles(i){return this._consumables.get(i)||[]}setNormalizer(i,o){this._normalizers.set(i,o)}setExtractor(i,o){this._extractors.set(i,o)}setReducer(i,o){this._reducers.set(i,o)}setStyleRelation(i,o){this._mapStyleNames(i,o);for(const l of o)this._mapStyleNames(l,[i])}_mapStyleNames(i,o){this._consumables.has(i)||this._consumables.set(i,[]),this._consumables.get(i).push(...o)}}function gi(h){return h.replace("-",".")}function ja(h,i,o){let l=o;me(o)&&(l=Po({},rs(h,i),o)),v6(h,i,l)}class Br extends Ys{constructor(i,o,l,d){if(super(i),this.name=o,this._attrs=function(g){g=Lo(g);for(const[y,b]of g)null===b?g.delete(y):"string"!=typeof b&&g.set(y,String(b));return g}(l),this._children=[],d&&this._insertChild(0,d),this._classes=new Set,this._attrs.has("class")){const g=this._attrs.get("class");$3(this._classes,g),this._attrs.delete("class")}this._styles=new Ks(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._isAllowedInsideAttributeElement=!1}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}get isAllowedInsideAttributeElement(){return this._isAllowedInsideAttributeElement}is(i,o=null){return o?o===this.name&&("element"===i||"view:element"===i):"element"===i||"view:element"===i||"node"===i||"view:node"===i}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(i){if("class"==i)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==i){const o=this._styles.toString();return""==o?void 0:o}return this._attrs.get(i)}hasAttribute(i){return"class"==i?this._classes.size>0:"style"==i?!this._styles.isEmpty:this._attrs.has(i)}isSimilar(i){if(!(i instanceof Br))return!1;if(this===i)return!0;if(this.name!=i.name||this.isAllowedInsideAttributeElement!=i.isAllowedInsideAttributeElement||this._attrs.size!==i._attrs.size||this._classes.size!==i._classes.size||this._styles.size!==i._styles.size)return!1;for(const[o,l]of this._attrs)if(!i._attrs.has(o)||i._attrs.get(o)!==l)return!1;for(const o of this._classes)if(!i._classes.has(o))return!1;for(const o of this._styles.getStyleNames())if(!i._styles.has(o)||i._styles.getAsString(o)!==this._styles.getAsString(o))return!1;return!0}hasClass(...i){for(const o of i)if(!this._classes.has(o))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(i){return this._styles.getAsString(i)}getNormalizedStyle(i){return this._styles.getNormalized(i)}getStyleNames(i=!1){return this._styles.getStyleNames(i)}hasStyle(...i){for(const o of i)if(!this._styles.has(o))return!1;return!0}findAncestor(...i){const o=new ns(...i);let l=this.parent;for(;l;){if(o.match(l))return l;l=l.parent}return null}getCustomProperty(i){return this._customProperties.get(i)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const i=Array.from(this._classes).sort().join(","),o=this._styles.toString(),l=Array.from(this._attrs).map(d=>`${d[0]}="${d[1]}"`).sort().join(" ");return this.name+(""==i?"":` class="${i}"`)+(o?` style="${o}"`:"")+(""==l?"":" "+l)}_clone(i=!1){const o=[];if(i)for(const d of this.getChildren())o.push(d._clone(i));const l=new this.constructor(this.document,this.name,this._attrs,o);return l._classes=new Set(this._classes),l._styles.set(this._styles.getNormalized()),l._customProperties=new Map(this._customProperties),l.getFillerOffset=this.getFillerOffset,l._isAllowedInsideAttributeElement=this.isAllowedInsideAttributeElement,l}_appendChild(i){return this._insertChild(this.childCount,i)}_insertChild(i,o){this._fireChange("children",this);let l=0;const d=(g=this.document,"string"==typeof(y=o)?[new Ln(g,y)]:(Kr(y)||(y=[y]),Array.from(y).map(b=>"string"==typeof b?new Ln(g,b):b instanceof No?new Ln(g,b.data):b)));var g,y;for(const g of d)null!==g.parent&&g._remove(),g.parent=this,g.document=this.document,this._children.splice(i,0,g),i++,l++;return l}_removeChildren(i,o=1){this._fireChange("children",this);for(let l=i;l<i+o;l++)this._children[l].parent=null;return this._children.splice(i,o)}_setAttribute(i,o){o=String(o),this._fireChange("attributes",this),"class"==i?$3(this._classes,o):"style"==i?this._styles.setTo(o):this._attrs.set(i,o)}_removeAttribute(i){return this._fireChange("attributes",this),"class"==i?this._classes.size>0&&(this._classes.clear(),!0):"style"==i?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(i)}_addClass(i){this._fireChange("attributes",this);for(const o of Vi(i))this._classes.add(o)}_removeClass(i){this._fireChange("attributes",this);for(const o of Vi(i))this._classes.delete(o)}_setStyle(i,o){this._fireChange("attributes",this),this._styles.set(i,o)}_removeStyle(i){this._fireChange("attributes",this);for(const o of Vi(i))this._styles.remove(o)}_setCustomProperty(i,o){this._customProperties.set(i,o)}_removeCustomProperty(i){return this._customProperties.delete(i)}}function $3(h,i){const o=i.split(/\s+/);h.clear(),o.forEach(l=>h.add(l))}class Ua extends Br{constructor(i,o,l,d){super(i,o,l,d),this.getFillerOffset=Lc}is(i,o=null){return o?o===this.name&&("containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}}function Lc(){const h=[...this.getChildren()],i=h[this.childCount-1];if(i&&i.is("element","br"))return this.childCount;for(const o of h)if(!o.is("uiElement"))return null;return this.childCount}class T4 extends Ua{constructor(i,o,l,d){super(i,o,l,d),this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",g=>g&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}is(i,o=null){return o?o===this.name&&("editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}destroy(){this.stopListening()}}_t(T4,Mt);const Il=Symbol("rootName");class Pc extends T4{constructor(i,o){super(i,o),this.rootName="main"}is(i,o=null){return o?o===this.name&&("rootElement"===i||"view:rootElement"===i||"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i):"rootElement"===i||"view:rootElement"===i||"editableElement"===i||"view:editableElement"===i||"containerElement"===i||"view:containerElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}get rootName(){return this.getCustomProperty(Il)}set rootName(i){this._setCustomProperty(Il,i)}set _name(i){this.name=i}}class Wi{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new W.a("view-tree-walker-no-start-position",null);if(i.direction&&"forward"!=i.direction&&"backward"!=i.direction)throw new W.a("view-tree-walker-unknown-direction",i.startPosition,{direction:i.direction});this.boundaries=i.boundaries||null,this.position=at._createAt(i.startPosition?i.startPosition:i.boundaries["backward"==i.direction?"end":"start"]),this.direction=i.direction||"forward",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(i){let o,l,d;do{d=this.position,({done:o,value:l}=this.next())}while(!o&&i(l));o||(this.position=d)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let i=this.position.clone();const o=this.position,l=i.parent;if(null===l.parent&&i.offset===l.childCount)return{done:!0};if(l===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0};let d;if(l instanceof Ln){if(i.isAtEnd)return this.position=at._createAfter(l),this._next();d=l.data[i.offset]}else d=l.getChild(i.offset);if(d instanceof Br)return this.shallow?i.offset++:i=new at(d,0),this.position=i,this._formatReturnValue("elementStart",d,o,i,1);if(d instanceof Ln){if(this.singleCharacters)return i=new at(d,0),this.position=i,this._next();{let g,y=d.data.length;return d==this._boundaryEndParent?(y=this.boundaries.end.offset,g=new No(d,0,y),i=at._createAfter(g)):(g=new No(d,0,d.data.length),i.offset++),this.position=i,this._formatReturnValue("text",g,o,i,y)}}if("string"==typeof d){let g;g=this.singleCharacters?1:(l===this._boundaryEndParent?this.boundaries.end.offset:l.data.length)-i.offset;const y=new No(l,i.offset,g);return i.offset+=g,this.position=i,this._formatReturnValue("text",y,o,i,g)}return i=at._createAfter(l),this.position=i,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",l,o,i)}_previous(){let i=this.position.clone();const o=this.position,l=i.parent;if(null===l.parent&&0===i.offset)return{done:!0};if(l==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0};let d;if(l instanceof Ln){if(i.isAtStart)return this.position=at._createBefore(l),this._previous();d=l.data[i.offset-1]}else d=l.getChild(i.offset-1);if(d instanceof Br)return this.shallow?(i.offset--,this.position=i,this._formatReturnValue("elementStart",d,o,i,1)):(i=new at(d,d.childCount),this.position=i,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",d,o,i));if(d instanceof Ln){if(this.singleCharacters)return i=new at(d,d.data.length),this.position=i,this._previous();{let g,y=d.data.length;if(d==this._boundaryStartParent){const b=this.boundaries.start.offset;g=new No(d,b,d.data.length-b),y=g.data.length,i=at._createBefore(g)}else g=new No(d,0,d.data.length),i.offset--;return this.position=i,this._formatReturnValue("text",g,o,i,y)}}if("string"==typeof d){let g;g=this.singleCharacters?1:i.offset-(l===this._boundaryStartParent?this.boundaries.start.offset:0),i.offset-=g;const y=new No(l,i.offset,g);return this.position=i,this._formatReturnValue("text",y,o,i,g)}return i=at._createBefore(l),this.position=i,this._formatReturnValue("elementStart",l,o,i,1)}_formatReturnValue(i,o,l,d,g){return o instanceof No&&(o.offsetInText+o.data.length==o.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?l=at._createAfter(o.textNode):(d=at._createAfter(o.textNode),this.position=d)),0===o.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?l=at._createBefore(o.textNode):(d=at._createBefore(o.textNode),this.position=d))),{done:!1,value:{type:i,item:o,previousPosition:l,nextPosition:d,length:g}}}}class at{constructor(i,o){this.parent=i,this.offset=o}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const i=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===i}get root(){return this.parent.root}get editableElement(){let i=this.parent;for(;!(i instanceof T4);){if(!i.parent)return null;i=i.parent}return i}getShiftedBy(i){const o=at._createAt(this),l=o.offset+i;return o.offset=l<0?0:l,o}getLastMatchingPosition(i,o={}){o.startPosition=this;const l=new Wi(o);return l.skip(i),l.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(i){const o=this.getAncestors(),l=i.getAncestors();let d=0;for(;o[d]==l[d]&&o[d];)d++;return 0===d?null:o[d-1]}is(i){return"position"===i||"view:position"===i}isEqual(i){return this.parent==i.parent&&this.offset==i.offset}isBefore(i){return"before"==this.compareWith(i)}isAfter(i){return"after"==this.compareWith(i)}compareWith(i){if(this.root!==i.root)return"different";if(this.isEqual(i))return"same";const o=this.parent.is("node")?this.parent.getPath():[],l=i.parent.is("node")?i.parent.getPath():[];o.push(this.offset),l.push(i.offset);const d=lr(o,l);switch(d){case"prefix":return"before";case"extension":return"after";default:return o[d]<l[d]?"before":"after"}}getWalker(i={}){return i.startPosition=this,new Wi(i)}clone(){return new at(this.parent,this.offset)}static _createAt(i,o){if(i instanceof at)return new this(i.parent,i.offset);{const l=i;if("end"==o)o=l.is("$text")?l.data.length:l.childCount;else{if("before"==o)return this._createBefore(l);if("after"==o)return this._createAfter(l);if(0!==o&&!o)throw new W.a("view-createpositionat-offset-required",l)}return new at(l,o)}}static _createAfter(i){if(i.is("$textProxy"))return new at(i.textNode,i.offsetInText+i.data.length);if(!i.parent)throw new W.a("view-position-after-root",i,{root:i});return new at(i.parent,i.index+1)}static _createBefore(i){if(i.is("$textProxy"))return new at(i.textNode,i.offsetInText);if(!i.parent)throw new W.a("view-position-before-root",i,{root:i});return new at(i.parent,i.index)}}class Et{constructor(i,o=null){this.start=i.clone(),this.end=o?o.clone():i.clone()}*[Symbol.iterator](){yield*new Wi({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let i=this.start.getLastMatchingPosition(Es,{direction:"backward"}),o=this.end.getLastMatchingPosition(Es);return i.parent.is("$text")&&i.isAtStart&&(i=at._createBefore(i.parent)),o.parent.is("$text")&&o.isAtEnd&&(o=at._createAfter(o.parent)),new Et(i,o)}getTrimmed(){let i=this.start.getLastMatchingPosition(Es);if(i.isAfter(this.end)||i.isEqual(this.end))return new Et(i,i);let o=this.end.getLastMatchingPosition(Es,{direction:"backward"});const l=i.nodeAfter,d=o.nodeBefore;return l&&l.is("$text")&&(i=new at(l,0)),d&&d.is("$text")&&(o=new at(d,d.data.length)),new Et(i,o)}isEqual(i){return this==i||this.start.isEqual(i.start)&&this.end.isEqual(i.end)}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const l=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return l&&d}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Et(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Et(i.end,this.end))):o.push(this.clone()),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,l=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(l=i.end),new Et(o,l)}return null}getWalker(i={}){return i.boundaries=this,new Wi(i)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let i=this.start.nodeAfter,o=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(i=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(o=this.end.parent.previousSibling),i&&i.is("element")&&i===o?i:null}clone(){return new Et(this.start,this.end)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new Wi(i);for(const l of o)yield l.item}*getPositions(i={}){i.boundaries=this;const o=new Wi(i);yield o.position;for(const l of o)yield l.nextPosition}is(i){return"range"===i||"view:range"===i}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}static _createFromParentsAndOffsets(i,o,l,d){return new this(new at(i,o),new at(l,d))}static _createFromPositionAndShift(i,o){const l=i,d=i.getShiftedBy(o);return o>0?new this(l,d):new this(d,l)}static _createIn(i){return this._createFromParentsAndOffsets(i,0,i,i.childCount)}static _createOn(i){const o=i.is("$textProxy")?i.offsetSize:1;return this._createFromPositionAndShift(at._createBefore(i),o)}}function Es(h){return!(!h.item.is("attributeElement")&&!h.item.is("uiElement"))}function Dl(h){let i=0;for(const o of h)i++;return i}class nn{constructor(i=null,o,l){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(i,o,l)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.end:i.start).clone()}get focus(){if(!this._ranges.length)return null;const i=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?i.start:i.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const i of this._ranges)yield i.clone()}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?i.clone():null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?i.clone():null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}isEqual(i){if(this.isFake!=i.isFake||this.isFake&&this.fakeSelectionLabel!=i.fakeSelectionLabel||this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let l=!1;for(const d of i._ranges)if(o.isEqual(d)){l=!0;break}if(!l)return!1}return!0}isSimilar(i){if(this.isBackward!=i.isBackward)return!1;const o=Dl(this.getRanges());if(o!=Dl(i.getRanges()))return!1;if(0==o)return!0;for(let l of this.getRanges()){l=l.getTrimmed();let d=!1;for(let g of i.getRanges())if(g=g.getTrimmed(),l.start.isEqual(g.start)&&l.end.isEqual(g.end)){d=!0;break}if(!d)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(i,o,l){if(null===i)this._setRanges([]),this._setFakeOptions(o);else if(i instanceof nn||i instanceof Qr)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Et)this._setRanges([i],o&&o.backward),this._setFakeOptions(o);else if(i instanceof at)this._setRanges([new Et(i)]),this._setFakeOptions(o);else if(i instanceof Ys){const d=!!l&&!!l.backward;let g;if(void 0===o)throw new W.a("view-selection-setto-required-second-parameter",this);g="in"==o?Et._createIn(i):"on"==o?Et._createOn(i):new Et(at._createAt(i,o)),this._setRanges([g],d),this._setFakeOptions(l)}else{if(!Kr(i))throw new W.a("view-selection-setto-not-selectable",this);this._setRanges(i,o&&o.backward),this._setFakeOptions(o)}this.fire("change")}setFocus(i,o){if(null===this.anchor)throw new W.a("view-selection-setfocus-no-ranges",this);const l=at._createAt(i,o);if("same"==l.compareWith(this.focus))return;const d=this.anchor;this._ranges.pop(),"before"==l.compareWith(d)?this._addRange(new Et(l,d),!0):this._addRange(new Et(d,l)),this.fire("change")}is(i){return"selection"===i||"view:selection"===i}_setRanges(i,o=!1){i=Array.from(i),this._ranges=[];for(const l of i)this._addRange(l);this._lastRangeBackward=!!o}_setFakeOptions(i={}){this._isFake=!!i.fake,this._fakeSelectionLabel=i.fake&&i.label||""}_addRange(i,o=!1){if(!(i instanceof Et))throw new W.a("view-selection-add-range-not-range",this);this._pushRange(i),this._lastRangeBackward=!!o}_pushRange(i){for(const o of this._ranges)if(i.isIntersecting(o))throw new W.a("view-selection-range-intersects",this,{addedRange:i,intersectingRange:o});this._ranges.push(new Et(i.start,i.end))}}_t(nn,se);class Qr{constructor(i=null,o,l){this._selection=new nn,this._selection.delegate("change").to(this),this._selection.setTo(i,o,l)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(i){return this._selection.isEqual(i)}isSimilar(i){return this._selection.isSimilar(i)}is(i){return"selection"===i||"documentSelection"==i||"view:selection"==i||"view:documentSelection"==i}_setTo(i,o,l){this._selection.setTo(i,o,l)}_setFocus(i,o){this._selection.setFocus(i,o)}}_t(Qr,se);class Y1 extends R{constructor(i,o,l){super(i,o),this.startRange=l,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Mr=Symbol("bubbling contexts");var I4={fire(h,...i){try{const o=h instanceof R?h:new R(this,h),l=d8(this);if(!l.size)return;if(qa(o,"capturing",this),os(l,"$capture",o,...i))return o.return;const d=o.startRange||this.selection.getFirstRange(),g=d?d.getContainedElement():null,y=!!g&&Boolean(K1(l,g));let b=g||function(M){if(!M)return null;const S=M.start.parent,I=M.end.parent,z=S.getPath(),H=I.getPath();return z.length>H.length?S:I}(d);if(qa(o,"atTarget",b),!y){if(os(l,"$text",o,...i))return o.return;qa(o,"bubbling",b)}for(;b;){if(b.is("rootElement")){if(os(l,"$root",o,...i))return o.return}else if(b.is("element")&&os(l,b.name,o,...i))return o.return;if(os(l,b,o,...i))return o.return;b=b.parent,qa(o,"bubbling",b)}return qa(o,"bubbling",this),os(l,"$document",o,...i),o.return}catch(o){W.a.rethrowUnexpectedError(o,this)}},_addEventListener(h,i,o){const l=Vi(o.context||"$document"),d=d8(this);for(const g of l){let y=d.get(g);y||(y=Object.create(se),d.set(g,y)),this.listenTo(y,h,i,o)}},_removeEventListener(h,i){const o=d8(this);for(const l of o.values())this.stopListening(l,h,i)}};function qa(h,i,o){h instanceof Y1&&(h._eventPhase=i,h._currentTarget=o)}function os(h,i,o,...l){const d="string"==typeof i?h.get(i):K1(h,i);return!!d&&(d.fire(o,...l),o.stop.called)}function K1(h,i){for(const[o,l]of h)if("function"==typeof o&&o(i))return l;return null}function d8(h){return h[Mr]||(h[Mr]=new Map),h[Mr]}class xs{constructor(i){this.selection=new Qr,this.roots=new zi({idProperty:"rootName"}),this.stylesProcessor=i,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(i="main"){return this.roots.get(i)}registerPostFixer(i){this._postFixers.add(i)}destroy(){this.roots.map(i=>i.destroy()),this.stopListening()}_callPostFixers(i){let o=!1;do{for(const l of this._postFixers)if(o=l(i),o)break}while(o)}}_t(xs,I4),_t(xs,Mt);class ss extends Br{constructor(i,o,l,d){super(i,o,l,d),this.getFillerOffset=$a,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new W.a("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}is(i,o=null){return o?o===this.name&&("attributeElement"===i||"view:attributeElement"===i||"element"===i||"view:element"===i):"attributeElement"===i||"view:attributeElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}isSimilar(i){return null!==this.id||null!==i.id?this.id===i.id:super.isSimilar(i)&&this.priority==i.priority}_clone(i){const o=super._clone(i);return o._priority=this._priority,o._id=this._id,o}}function $a(){if(Q1(this))return null;let h=this.parent;for(;h&&h.is("attributeElement");){if(Q1(h)>1)return null;h=h.parent}return!h||Q1(h)>1?null:this.childCount}function Q1(h){return Array.from(h.getChildren()).filter(i=>!i.is("uiElement")).length}ss.DEFAULT_PRIORITY=10;class Ga extends Br{constructor(i,o,l,d){super(i,o,l,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=Wa}is(i,o=null){return o?o===this.name&&("emptyElement"===i||"view:emptyElement"===i||"element"===i||"view:element"===i):"emptyElement"===i||"view:emptyElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof Ys||Array.from(o).length>0))throw new W.a("view-emptyelement-cannot-add",[this,o])}}function Wa(){return null}const ur=navigator.userAgent.toLowerCase();var Sn_isMac=function(h){return h.indexOf("macintosh")>-1}(ur),Sn_isGecko=function(h){return!!h.match(/gecko\/\d+/)}(ur),Sn_isSafari=function(h){return h.indexOf(" applewebkit/")>-1&&-1===h.indexOf("chrome")}(ur),Sn_isAndroid=function(h){return h.indexOf("android")>-1}(ur),Sn_isBlink=function(h){return h.indexOf("chrome/")>-1&&h.indexOf("edge/")<0}(ur);!function(){let h=!1;try{h=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(i){}}();const J1={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},y1={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Jt=function(){const h={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let i=65;i<=90;i++)h[String.fromCharCode(i).toLowerCase()]=i;for(let i=48;i<=57;i++)h[i-48]=i;for(let i=112;i<=123;i++)h["f"+(i-111)]=i;for(const i of"`-=[];',./\\")h[i]=i.charCodeAt(0);return h}(),Fi=Object.fromEntries(Object.entries(Jt).map(([h,i])=>[i,h.charAt(0).toUpperCase()+h.slice(1)]));function As(h){let i;if("string"==typeof h){if(i=Jt[h.toLowerCase()],!i)throw new W.a("keyboard-unknown-key",null,{key:h})}else i=h.keyCode+(h.altKey?Jt.alt:0)+(h.ctrlKey?Jt.ctrl:0)+(h.shiftKey?Jt.shift:0)+(h.metaKey?Jt.cmd:0);return i}function zl(h){return"string"==typeof h&&(h=function(i){return i.split("+").map(o=>o.trim())}(h)),h.map(i=>"string"==typeof i?function(o){if(o.endsWith("!"))return As(o.slice(0,-1));const l=As(o);return Sn_isMac&&l==Jt.ctrl?Jt.cmd:l}(i):i).reduce((i,o)=>o+i,0)}function R2(h){let i=zl(h);return Object.entries(Sn_isMac?J1:y1).reduce((o,[l,d])=>(0!=(i&Jt[l])&&(i&=~Jt[l],o+=d),o),"")+(i?Fi[i]:"")}function Rc(h,i){const o="ltr"===i;switch(h){case Jt.arrowleft:return o?"left":"right";case Jt.arrowright:return o?"right":"left";case Jt.arrowup:return"up";case Jt.arrowdown:return"down"}}class D4 extends Br{constructor(i,o,l,d){super(i,o,l,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=O2}is(i,o=null){return o?o===this.name&&("uiElement"===i||"view:uiElement"===i||"element"===i||"view:element"===i):"uiElement"===i||"view:uiElement"===i||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof Ys||Array.from(o).length>0))throw new W.a("view-uielement-cannot-add",this)}render(i){return this.toDomElement(i)}toDomElement(i){const o=i.createElement(this.name);for(const l of this.getAttributeKeys())o.setAttribute(l,this.getAttribute(l));return o}}function O2(){return null}class y6 extends Br{constructor(i,o,l,d){super(i,o,l,d),this._isAllowedInsideAttributeElement=!0,this.getFillerOffset=z4}is(i,o=null){return o?o===this.name&&("rawElement"===i||"view:rawElement"===i||"element"===i||"view:element"===i):"rawElement"===i||"view:rawElement"===i||i===this.name||i==="view:"+this.name||"element"===i||"view:element"===i||"node"===i||"view:node"===i}_insertChild(i,o){if(o&&(o instanceof Ys||Array.from(o).length>0))throw new W.a("view-rawelement-cannot-add",[this,o])}}function z4(){return null}class Za{constructor(i,o){this.document=i,this._children=[],o&&this._insertChild(0,o)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"===i||"view:documentFragment"===i}_appendChild(i){return this._insertChild(this.childCount,i)}getChild(i){return this._children[i]}getChildIndex(i){return this._children.indexOf(i)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(i,o){this._fireChange("children",this);let l=0;const d=(g=this.document,"string"==typeof(y=o)?[new Ln(g,y)]:(Kr(y)||(y=[y]),Array.from(y).map(b=>"string"==typeof b?new Ln(g,b):b instanceof No?new Ln(g,b.data):b)));var g,y;for(const g of d)null!==g.parent&&g._remove(),g.parent=this,this._children.splice(i,0,g),i++,l++;return l}_removeChildren(i,o=1){this._fireChange("children",this);for(let l=i;l<i+o;l++)this._children[l].parent=null;return this._children.splice(i,o)}_fireChange(i,o){this.fire("change:"+i,o)}}_t(Za,se);class Nl{constructor(i){this.document=i,this._cloneGroups=new Map}setSelection(i,o,l){this.document.selection._setTo(i,o,l)}setSelectionFocus(i,o){this.document.selection._setFocus(i,o)}createDocumentFragment(i){return new Za(this.document,i)}createText(i){return new Ln(this.document,i)}createAttributeElement(i,o,l={}){const d=new ss(this.document,i,o);return"number"==typeof l.priority&&(d._priority=l.priority),l.id&&(d._id=l.id),d}createContainerElement(i,o,l={}){const d=new Ua(this.document,i,o);return void 0!==l.isAllowedInsideAttributeElement&&(d._isAllowedInsideAttributeElement=l.isAllowedInsideAttributeElement),d}createEditableElement(i,o){const l=new T4(this.document,i,o);return l._document=this.document,l}createEmptyElement(i,o,l={}){const d=new Ga(this.document,i,o);return void 0!==l.isAllowedInsideAttributeElement&&(d._isAllowedInsideAttributeElement=l.isAllowedInsideAttributeElement),d}createUIElement(i,o,l,d={}){const g=new D4(this.document,i,o);return l&&(g.render=l),void 0!==d.isAllowedInsideAttributeElement&&(g._isAllowedInsideAttributeElement=d.isAllowedInsideAttributeElement),g}createRawElement(i,o,l,d={}){const g=new y6(this.document,i,o);return g.render=l||(()=>{}),void 0!==d.isAllowedInsideAttributeElement&&(g._isAllowedInsideAttributeElement=d.isAllowedInsideAttributeElement),g}setAttribute(i,o,l){l._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,l){ts(i)&&void 0===l&&(l=o),l._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,l){l._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}breakAttributes(i){return i instanceof at?this._breakAttributes(i):this._breakAttributesRange(i)}breakContainer(i){const o=i.parent;if(!o.is("containerElement"))throw new W.a("view-writer-break-non-container-element",this.document);if(!o.parent)throw new W.a("view-writer-break-root",this.document);if(i.isAtStart)return at._createBefore(o);if(!i.isAtEnd){const l=o._clone(!1);this.insert(at._createAfter(o),l);const d=new Et(i,at._createAt(o,"end")),g=new at(l,0);this.move(d,g)}return at._createAfter(o)}mergeAttributes(i){const o=i.offset,l=i.parent;if(l.is("$text"))return i;if(l.is("attributeElement")&&0===l.childCount){const y=l.parent,b=l.index;return l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new at(y,b))}const d=l.getChild(o-1),g=l.getChild(o);if(!d||!g)return i;if(d.is("$text")&&g.is("$text"))return Ni(d,g);if(d.is("attributeElement")&&g.is("attributeElement")&&d.isSimilar(g)){const y=d.childCount;return d._appendChild(g.getChildren()),g._remove(),this._removeFromClonedElementsGroup(g),this.mergeAttributes(new at(d,y))}return i}mergeContainers(i){const o=i.nodeBefore,l=i.nodeAfter;if(!(o&&l&&o.is("containerElement")&&l.is("containerElement")))throw new W.a("view-writer-merge-containers-invalid-position",this.document);const d=o.getChild(o.childCount-1),g=at._createAt(d instanceof Ln?d:o,"end");return this.move(Et._createIn(l),at._createAt(o,"end")),this.remove(Et._createOn(l)),g}insert(i,o){!function y(b,M){for(const S of b){if(!Vc.some(I=>S instanceof I))throw new W.a("view-writer-insert-invalid-node-type",M);S.is("$text")||y(S.getChildren(),M)}}(o=Kr(o)?[...o]:[o],this.document);const l=o.reduce((y,b)=>{const M=y[y.length-1],S=!(b.is("uiElement")&&b.isAllowedInsideAttributeElement);return M&&M.breakAttributes==S?M.nodes.push(b):y.push({breakAttributes:S,nodes:[b]}),y},[]);let d=null,g=i;for(const{nodes:y,breakAttributes:b}of l){const M=this._insertNodes(g,y,b);d||(d=M.start),g=M.end}return d?new Et(d,g):new Et(i)}remove(i){const o=i instanceof Et?i:Et._createOn(i);if(Ka(o,this.document),o.isCollapsed)return new Za(this.document);const{start:l,end:d}=this._breakAttributesRange(o,!0),b=l.parent._removeChildren(l.offset,d.offset-l.offset);for(const S of b)this._removeFromClonedElementsGroup(S);const M=this.mergeAttributes(l);return o.start=M,o.end=M.clone(),new Za(this.document,b)}clear(i,o){Ka(i,this.document);const l=i.getWalker({direction:"backward",ignoreElementEnd:!0});for(const d of l){const g=d.item;let y;if(g.is("element")&&o.isSimilar(g))y=Et._createOn(g);else if(!d.nextPosition.isAfter(i.start)&&g.is("$textProxy")){const b=g.getAncestors().find(M=>M.is("element")&&o.isSimilar(M));b&&(y=Et._createIn(b))}y&&(y.end.isAfter(i.end)&&(y.end=i.end),y.start.isBefore(i.start)&&(y.start=i.start),this.remove(y))}}move(i,o){let l;if(o.isAfter(i.end)){const d=(o=this._breakAttributes(o,!0)).parent,g=d.childCount;i=this._breakAttributesRange(i,!0),l=this.remove(i),o.offset+=d.childCount-g}else l=this.remove(i);return this.insert(o,l)}wrap(i,o){if(!(o instanceof ss))throw new W.a("view-writer-wrap-invalid-attribute",this.document);if(Ka(i,this.document),i.isCollapsed){let d=i.start;d.parent.is("element")&&!Array.from(d.parent.getChildren()).some(y=>!y.is("uiElement"))&&(d=d.getLastMatchingPosition(y=>y.item.is("uiElement"))),d=this._wrapPosition(d,o);const g=this.document.selection;return g.isCollapsed&&g.getFirstPosition().isEqual(i.start)&&this.setSelection(d),new Et(d)}return this._wrapRange(i,o)}unwrap(i,o){if(!(o instanceof ss))throw new W.a("view-writer-unwrap-invalid-attribute",this.document);if(Ka(i,this.document),i.isCollapsed)return i;const{start:l,end:d}=this._breakAttributesRange(i,!0),y=this._unwrapChildren(l.parent,l.offset,d.offset,o),b=this.mergeAttributes(y.start);b.isEqual(y.start)||y.end.offset--;const M=this.mergeAttributes(y.end);return new Et(b,M)}rename(i,o){const l=new Ua(this.document,i,o.getAttributes());return this.insert(at._createAfter(o),l),this.move(Et._createIn(o),at._createAt(l,0)),this.remove(Et._createOn(o)),l}clearClonedElementsGroup(i){this._cloneGroups.delete(i)}createPositionAt(i,o){return at._createAt(i,o)}createPositionAfter(i){return at._createAfter(i)}createPositionBefore(i){return at._createBefore(i)}createRange(i,o){return new Et(i,o)}createRangeOn(i){return Et._createOn(i)}createRangeIn(i){return Et._createIn(i)}createSelection(i,o,l){return new nn(i,o,l)}_insertNodes(i,o,l){let d,g;if(d=l?Ll(i):i.parent.is("$text")?i.parent.parent:i.parent,!d)throw new W.a("view-writer-invalid-position-container",this.document);g=l?this._breakAttributes(i,!0):i.parent.is("$text")?Oc(i):i;const y=d._insertChild(g.offset,o);for(const I of o)this._addToClonedElementsGroup(I);const b=g.getShiftedBy(y),M=this.mergeAttributes(g);M.isEqual(g)||b.offset--;const S=this.mergeAttributes(b);return new Et(M,S)}_wrapChildren(i,o,l,d){let g=o;const y=[];for(;g<l;){const M=i.getChild(g),S=M.is("$text"),I=M.is("attributeElement"),z=M.isAllowedInsideAttributeElement;if(I&&this._wrapAttributeElement(d,M))y.push(new at(i,g));else if(S||z||I&&Pl(d,M)){const H=d._clone();M._remove(),H._appendChild(M),i._insertChild(g,H),this._addToClonedElementsGroup(H),y.push(new at(i,g))}else I&&this._wrapChildren(M,0,M.childCount,d);g++}let b=0;for(const M of y)M.offset-=b,M.offset!=o&&(this.mergeAttributes(M).isEqual(M)||(b++,l--));return Et._createFromParentsAndOffsets(i,o,i,l)}_unwrapChildren(i,o,l,d){let g=o;const y=[];for(;g<l;){const M=i.getChild(g);if(M.is("attributeElement"))if(M.isSimilar(d)){const S=M.getChildren(),I=M.childCount;M._remove(),i._insertChild(g,S),this._removeFromClonedElementsGroup(M),y.push(new at(i,g),new at(i,g+I)),g+=I,l+=I-1}else this._unwrapAttributeElement(d,M)?(y.push(new at(i,g),new at(i,g+1)),g++):(this._unwrapChildren(M,0,M.childCount,d),g++);else g++}let b=0;for(const M of y)M.offset-=b,M.offset!=o&&M.offset!=l&&(this.mergeAttributes(M).isEqual(M)||(b++,l--));return Et._createFromParentsAndOffsets(i,o,i,l)}_wrapRange(i,o){const{start:l,end:d}=this._breakAttributesRange(i,!0),y=this._wrapChildren(l.parent,l.offset,d.offset,o),b=this.mergeAttributes(y.start);b.isEqual(y.start)||y.end.offset--;const M=this.mergeAttributes(y.end);return new Et(b,M)}_wrapPosition(i,o){if(o.isSimilar(i.parent))return Ya(i.clone());i.parent.is("$text")&&(i=Oc(i));const l=this.createAttributeElement();l._priority=Number.POSITIVE_INFINITY,l.isSimilar=()=>!1,i.parent._insertChild(i.offset,l);const d=new Et(i,i.getShiftedBy(1));this.wrap(d,o);const g=new at(l.parent,l.index);l._remove();const y=g.nodeBefore,b=g.nodeAfter;return y instanceof Ln&&b instanceof Ln?Ni(y,b):Ya(g)}_wrapAttributeElement(i,o){if(!b1(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const l of i.getAttributeKeys())if("class"!==l&&"style"!==l&&o.hasAttribute(l)&&o.getAttribute(l)!==i.getAttribute(l))return!1;for(const l of i.getStyleNames())if(o.hasStyle(l)&&o.getStyle(l)!==i.getStyle(l))return!1;for(const l of i.getAttributeKeys())"class"!==l&&"style"!==l&&(o.hasAttribute(l)||this.setAttribute(l,i.getAttribute(l),o));for(const l of i.getStyleNames())o.hasStyle(l)||this.setStyle(l,i.getStyle(l),o);for(const l of i.getClassNames())o.hasClass(l)||this.addClass(l,o);return!0}_unwrapAttributeElement(i,o){if(!b1(i,o)||i.name!==o.name||i.priority!==o.priority)return!1;for(const l of i.getAttributeKeys())if("class"!==l&&"style"!==l&&(!o.hasAttribute(l)||o.getAttribute(l)!==i.getAttribute(l)))return!1;if(!o.hasClass(...i.getClassNames()))return!1;for(const l of i.getStyleNames())if(!o.hasStyle(l)||o.getStyle(l)!==i.getStyle(l))return!1;for(const l of i.getAttributeKeys())"class"!==l&&"style"!==l&&this.removeAttribute(l,o);return this.removeClass(Array.from(i.getClassNames()),o),this.removeStyle(Array.from(i.getStyleNames()),o),!0}_breakAttributesRange(i,o=!1){const l=i.start,d=i.end;if(Ka(i,this.document),i.isCollapsed){const M=this._breakAttributes(i.start,o);return new Et(M,M)}const g=this._breakAttributes(d,o),y=g.parent.childCount,b=this._breakAttributes(l,o);return g.offset+=g.parent.childCount-y,new Et(b,g)}_breakAttributes(i,o=!1){const l=i.offset,d=i.parent;if(i.parent.is("emptyElement"))throw new W.a("view-writer-cannot-break-empty-element",this.document);if(i.parent.is("uiElement"))throw new W.a("view-writer-cannot-break-ui-element",this.document);if(i.parent.is("rawElement"))throw new W.a("view-writer-cannot-break-raw-element",this.document);if(!o&&d.is("$text")&&X1(d.parent)||X1(d))return i.clone();if(d.is("$text"))return this._breakAttributes(Oc(i),o);if(l==d.childCount){const g=new at(d.parent,d.index+1);return this._breakAttributes(g,o)}if(0===l){const g=new at(d.parent,d.index);return this._breakAttributes(g,o)}{const g=d.index+1,y=d._clone();d.parent._insertChild(g,y),this._addToClonedElementsGroup(y);const M=d._removeChildren(l,d.childCount-l);y._appendChild(M);const S=new at(d.parent,g);return this._breakAttributes(S,o)}}_addToClonedElementsGroup(i){if(!i.root.is("rootElement"))return;if(i.is("element"))for(const d of i.getChildren())this._addToClonedElementsGroup(d);const o=i.id;if(!o)return;let l=this._cloneGroups.get(o);l||(l=new Set,this._cloneGroups.set(o,l)),l.add(i),i._clonesGroup=l}_removeFromClonedElementsGroup(i){if(i.is("element"))for(const d of i.getChildren())this._removeFromClonedElementsGroup(d);const o=i.id;if(!o)return;const l=this._cloneGroups.get(o);l&&l.delete(i)}}function Ll(h){let i=h.parent;for(;!X1(i);){if(!i)return;i=i.parent}return i}function Pl(h,i){return h.priority<i.priority||!(h.priority>i.priority)&&h.getIdentity()<i.getIdentity()}function Ya(h){const i=h.nodeBefore;if(i&&i.is("$text"))return new at(i,i.data.length);const o=h.nodeAfter;return o&&o.is("$text")?new at(o,0):h}function Oc(h){if(h.offset==h.parent.data.length)return new at(h.parent.parent,h.parent.index+1);if(0===h.offset)return new at(h.parent.parent,h.parent.index);const i=h.parent.data.slice(h.offset);return h.parent._data=h.parent.data.slice(0,h.offset),h.parent.parent._insertChild(h.parent.index+1,new Ln(h.root.document,i)),new at(h.parent.parent,h.parent.index+1)}function Ni(h,i){const o=h.data.length;return h._data+=i.data,i._remove(),new at(h,o)}const Vc=[Ln,ss,Ua,Ga,y6,D4];function X1(h){return h&&(h.is("containerElement")||h.is("documentFragment"))}function Ka(h,i){const o=Ll(h.start),l=Ll(h.end);if(!o||!l||o!==l)throw new W.a("view-writer-invalid-range-container",i)}function b1(h,i){return null===h.id&&null===i.id}function Tn(h){return"[object Text]"==Object.prototype.toString.call(h)}const as=h=>h.createTextNode("\xa0"),Qa=h=>{const i=h.createElement("span");return i.dataset.ckeFiller=!0,i.innerHTML="\xa0",i},Er=h=>{const i=h.createElement("br");return i.dataset.ckeFiller=!0,i},Li="\u2060".repeat(7);function jr(h){return Tn(h)&&h.data.substr(0,7)===Li}function Fc(h){return 7==h.data.length&&jr(h)}function ea(h){return jr(h)?h.data.slice(7):h.data}function G3(h,i){if(i.keyCode==Jt.arrowleft){const o=i.domTarget.ownerDocument.defaultView.getSelection();if(1==o.rangeCount&&o.getRangeAt(0).collapsed){const l=o.getRangeAt(0).startContainer,d=o.getRangeAt(0).startOffset;jr(l)&&d<=7&&o.collapse(l,0)}}}function V2(h,i,o,l=!1){o=o||function(g,y){return g===y},Array.isArray(h)||(h=Array.prototype.slice.call(h)),Array.isArray(i)||(i=Array.prototype.slice.call(i));const d=function(g,y,b){const M=w1(g,y,b);if(-1===M)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const z=w1(Zi(g,M),Zi(y,M),b);return{firstIndex:M,lastIndexOld:g.length-z,lastIndexNew:y.length-z}}(h,i,o);return l?function(g,y){const{firstIndex:b,lastIndexOld:M,lastIndexNew:S}=g;if(-1===b)return Array(y).fill("equal");let I=[];return b>0&&(I=I.concat(Array(b).fill("equal"))),S-b>0&&(I=I.concat(Array(S-b).fill("insert"))),M-b>0&&(I=I.concat(Array(M-b).fill("delete"))),S<y&&(I=I.concat(Array(y-S).fill("equal"))),I}(d,i.length):function(g,y){const b=[],{firstIndex:M,lastIndexOld:S,lastIndexNew:I}=y;return I-M>0&&b.push({index:M,type:"insert",values:g.slice(M,I)}),S-M>0&&b.push({index:M+(I-M),type:"delete",howMany:S-M}),b}(i,d)}function w1(h,i,o){for(let l=0;l<Math.max(h.length,i.length);l++)if(void 0===h[l]||void 0===i[l]||!o(h[l],i[l]))return l;return-1}function Zi(h,i){return h.slice(i).reverse()}function Ss(h,i,o){o=o||function(ee,oe){return ee===oe};const l=h.length,d=i.length;if(l>200||d>200||l+d>300)return Ss.fastDiff(h,i,o,!0);let g,y;if(d<l){const ee=h;h=i,i=ee,g="delete",y="insert"}else g="insert",y="delete";const b=h.length,M=i.length,S=M-b,I={},z={};function H(ee){const oe=(void 0!==z[ee-1]?z[ee-1]:-1)+1,ue=void 0!==z[ee+1]?z[ee+1]:-1,xe=oe>ue?-1:1;I[ee+xe]&&(I[ee]=I[ee+xe].slice(0)),I[ee]||(I[ee]=[]),I[ee].push(oe>ue?g:y);let je=Math.max(oe,ue),ut=je-ee;for(;ut<b&&je<M&&o(h[ut],i[je]);)ut++,je++,I[ee].push("equal");return je}let Y,J=0;do{for(Y=-J;Y<S;Y++)z[Y]=H(Y);for(Y=S+J;Y>S;Y--)z[Y]=H(Y);z[S]=H(S),J++}while(z[S]!==M);return I[S].slice(1)}function Ur(h,i,o){h.insertBefore(o,h.childNodes[i]||null)}function ta(h){const i=h.parentNode;i&&i.removeChild(h)}function Qs(h){if(h){if(h.defaultView)return h instanceof h.defaultView.Document;if(h.ownerDocument&&h.ownerDocument.defaultView)return h instanceof h.ownerDocument.defaultView.Node}return!1}Ss.fastDiff=V2,Z(15);class xr{constructor(i,o){this.domDocuments=new Set,this.domConverter=i,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=o,this.set("isFocused",!1),this.set("isSelecting",!1),Sn_isBlink&&!Sn_isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(i,o){if("text"===i)this.domConverter.mapViewToDom(o.parent)&&this.markedTexts.add(o);else{if(!this.domConverter.mapViewToDom(o))return;if("attributes"===i)this.markedAttributes.add(o);else{if("children"!==i)throw new W.a("view-renderer-unknown-type",this);this.markedChildren.add(o)}}}render(){let i;const o=!(Sn_isBlink&&!Sn_isAndroid&&this.isSelecting);for(const l of this.markedChildren)this._updateChildrenMappings(l);o?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?i=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(i=this.selection.getFirstPosition(),this.markedChildren.add(i.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(i=this.domConverter.domPositionToView(this._inlineFiller));for(const l of this.markedAttributes)this._updateAttrs(l);for(const l of this.markedChildren)this._updateChildren(l,{inlineFillerPosition:i});for(const l of this.markedTexts)!this.markedChildren.has(l.parent)&&this.domConverter.mapViewToDom(l.parent)&&this._updateText(l,{inlineFillerPosition:i});if(o)if(i){const l=this.domConverter.viewPositionToDom(i),d=l.parent.ownerDocument;this._inlineFiller=jr(l.parent)?l.parent:C1(d,l.parent,l.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const l=Array.from(this.domConverter.mapViewToDom(i).childNodes),d=Array.from(this.domConverter.viewChildrenToDom(i,o.ownerDocument,{withChildren:!1})),g=this._diffNodeLists(l,d),y=this._findReplaceActions(g,l,d);if(-1!==y.indexOf("replace")){const b={equal:0,insert:0,delete:0};for(const M of y)if("replace"===M){const S=b.equal+b.insert,I=b.equal+b.delete,z=i.getChild(S);!z||z.is("uiElement")||z.is("rawElement")||this._updateElementMappings(z,l[I]),ta(d[S]),b.equal++}else b[M]++}}_updateElementMappings(i,o){this.domConverter.unbindDomElement(o),this.domConverter.bindElements(o,i),this.markedChildren.add(i),this.markedAttributes.add(i)}_getInlineFillerPosition(){const i=this.selection.getFirstPosition();return i.parent.is("$text")?at._createBefore(this.selection.getFirstPosition().parent):i}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=this.domConverter.viewPositionToDom(i);return!!(o&&Tn(o.parent)&&jr(o.parent))}_removeInlineFiller(){const i=this._inlineFiller;if(!jr(i))throw new W.a("view-renderer-filler-was-lost",this);Fc(i)?i.remove():i.data=i.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const i=this.selection.getFirstPosition(),o=i.parent,l=i.offset;return!!(this.domConverter.mapViewToDom(o.root)&&o.is("element")&&function(y){if("false"==y.getAttribute("contenteditable"))return!1;const b=y.findAncestor(M=>M.hasAttribute("contenteditable"));return!b||"true"==b.getAttribute("contenteditable")}(o)&&l!==o.getFillerOffset())&&!(i.nodeBefore instanceof Ln||i.nodeAfter instanceof Ln)}_updateText(i,o){const l=this.domConverter.findCorrespondingDomText(i),d=this.domConverter.viewToDom(i,l.ownerDocument),g=l.data;let y=d.data;const b=o.inlineFillerPosition;if(b&&b.parent==i.parent&&b.offset==i.index&&(y=Li+y),g!=y){const M=V2(g,y);for(const S of M)"insert"===S.type?l.insertData(S.index,S.values.join("")):l.deleteData(S.index,S.howMany)}}_updateAttrs(i){const o=this.domConverter.mapViewToDom(i);if(!o)return;const l=Array.from(o.attributes).map(g=>g.name),d=i.getAttributeKeys();for(const g of d){const y=i.getAttribute(g);this.domConverter.shouldRenderAttribute(g,y)?o.setAttribute(g,y):o.removeAttribute(g)}for(const g of l)"script"===i.name&&"data-ck-hidden"===g||i.hasAttribute(g)||o.removeAttribute(g)}_updateChildren(i,o){const l=this.domConverter.mapViewToDom(i);if(!l)return;const d=o.inlineFillerPosition,g=this.domConverter.mapViewToDom(i).childNodes,y=Array.from(this.domConverter.viewChildrenToDom(i,l.ownerDocument,{bind:!0}));d&&d.parent===i&&C1(l.ownerDocument,y,d.offset);const b=this._diffNodeLists(g,y);let M=0;const S=new Set;for(const I of b)"delete"===I?(S.add(g[M]),ta(g[M])):"equal"===I&&M++;M=0;for(const I of b)"insert"===I?(Ur(l,M,y[M]),M++):"equal"===I&&(this._markDescendantTextToSync(this.domConverter.domToView(y[M])),M++);for(const I of S)I.parentNode||this.domConverter.unbindDomElement(I)}_diffNodeLists(i,o){return Ss(i=function(l,d){const g=Array.from(l);return 0==g.length||!d||g[g.length-1]==d&&g.pop(),g}(i,this._fakeSelectionContainer),o,W3.bind(null,this.domConverter))}_findReplaceActions(i,o,l){if(-1===i.indexOf("insert")||-1===i.indexOf("delete"))return i;let d=[],g=[],y=[];const b={equal:0,insert:0,delete:0};for(const M of i)"insert"===M?y.push(l[b.equal+b.insert]):"delete"===M?g.push(o[b.equal+b.delete]):(d=d.concat(Ss(g,y,Ja).map(S=>"equal"===S?"replace":S)),d.push("equal"),g=[],y=[]),b[M]++;return d.concat(Ss(g,y,Ja).map(M=>"equal"===M?"replace":M))}_markDescendantTextToSync(i){if(i)if(i.is("$text"))this.markedTexts.add(i);else if(i.is("element"))for(const o of i.getChildren())this._markDescendantTextToSync(o)}_updateSelection(){if(Sn_isBlink&&!Sn_isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const i=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&i&&(this.selection.isFake?this._updateFakeSelection(i):(this._removeFakeSelection(),this._updateDomSelection(i)))}_updateFakeSelection(i){const o=i.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(y){const b=y.createElement("div");return b.className="ck-fake-selection-container",Object.assign(b.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),b.textContent="\xa0",b}(o));const l=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(l,this.selection),!this._fakeSelectionNeedsUpdate(i))return;l.parentElement&&l.parentElement==i||i.appendChild(l),l.textContent=this.selection.fakeSelectionLabel||"\xa0";const d=o.getSelection(),g=o.createRange();d.removeAllRanges(),g.selectNodeContents(l),d.addRange(g)}_updateDomSelection(i){const o=i.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(o))return;const l=this.domConverter.viewPositionToDom(this.selection.anchor),d=this.domConverter.viewPositionToDom(this.selection.focus);o.collapse(l.parent,l.offset),o.extend(d.parent,d.offset),Sn_isGecko&&function(g,y){const b=g.parent;if(b.nodeType!=Node.ELEMENT_NODE||g.offset!=b.childNodes.length-1)return;const M=b.childNodes[g.offset];M&&"BR"==M.tagName&&y.addRange(y.getRangeAt(0))}(d,o)}_domSelectionNeedsUpdate(i){if(!this.domConverter.isDomSelectionCorrect(i))return!0;const o=i&&this.domConverter.domSelectionToView(i);return!(o&&this.selection.isEqual(o)||!this.selection.isCollapsed&&this.selection.isSimilar(o))}_fakeSelectionNeedsUpdate(i){const o=this._fakeSelectionContainer,l=i.ownerDocument.getSelection();return!o||o.parentElement!==i||l.anchorNode!==o&&!o.contains(l.anchorNode)||o.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const i of this.domDocuments)if(i.getSelection().rangeCount){const o=i.activeElement,l=this.domConverter.mapDomToView(o);o&&l&&i.getSelection().removeAllRanges()}}_removeFakeSelection(){const i=this._fakeSelectionContainer;i&&i.remove()}_updateFocus(){if(this.isFocused){const i=this.selection.editableElement;i&&this.domConverter.focus(i)}}}function C1(h,i,o){const l=i instanceof Array?i:i.childNodes,d=l[o];if(Tn(d))return d.data=Li+d.data,d;{const g=h.createTextNode(Li);return Array.isArray(i)?l.splice(o,0,g):Ur(i,o,g),g}}function Ja(h,i){return Qs(h)&&Qs(i)&&!Tn(h)&&!Tn(i)&&h.nodeType!==Node.COMMENT_NODE&&i.nodeType!==Node.COMMENT_NODE&&h.tagName.toLowerCase()===i.tagName.toLowerCase()}function W3(h,i,o){return i===o||(Tn(i)&&Tn(o)?i.data===o.data:!(!h.isBlockFiller(i)||!h.isBlockFiller(o)))}_t(xr,Mt);var Gn={window,document};function na(h){let i=0;for(;h.previousSibling;)h=h.previousSibling,i++;return i}function F2(h){const i=[];for(;h&&h.nodeType!=Node.DOCUMENT_NODE;)i.unshift(h),h=h.parentNode;return i}const O=Er(document),U=as(document),Q=Qa(document);class ce{constructor(i,o={}){this.document=i,this.renderingMode=o.renderingMode||"editing",this.experimentalRenderingMode=!1,this.blockFillerMode=o.blockFillerMode||("editing"===this.renderingMode?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ns,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(i,o){this._fakeSelectionMapping.set(i,new nn(o))}fakeSelectionToView(i){return this._fakeSelectionMapping.get(i)}bindElements(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}unbindDomElement(i){const o=this._domToViewMapping.get(i);if(o){this._domToViewMapping.delete(i),this._viewToDomMapping.delete(o);for(const l of i.childNodes)this.unbindDomElement(l)}}bindDocumentFragments(i,o){this._domToViewMapping.set(i,o),this._viewToDomMapping.set(o,i)}shouldRenderAttribute(i,o){return!this.experimentalRenderingMode||"data"===this.renderingMode||!(i.toLowerCase().startsWith("on")||o.match(/(\b)(on\S+)(\s*)=|javascript:|(<\s*)(\/*)script/i)||o.match(/data:(?!image\/(png|jpeg|gif|webp))/i))}setContentOf(i,o){if(!this.experimentalRenderingMode||"data"===this.renderingMode)return void(i.innerHTML=o);const l=(new DOMParser).parseFromString(o,"text/html"),d=l.createDocumentFragment(),g=l.body.childNodes;for(;g.length>0;)d.appendChild(g[0]);const y=l.createTreeWalker(d,NodeFilter.SHOW_ELEMENT),b=[];let M;for(;M=y.nextNode();)b.push(M);for(const S of b){for(const z of S.getAttributeNames()){const H=S.getAttribute(z);this.shouldRenderAttribute(z,H)||S.removeAttribute(z)}const I=S.tagName.toLowerCase();this._shouldRenameElement(I)&&S.replaceWith(this._createReplacementDomElement(I,S))}for(;i.firstChild;)i.firstChild.remove();i.append(d)}viewToDom(i,o,l={}){if(i.is("$text")){const d=this._processDataFromViewText(i);return o.createTextNode(d)}{if(this.mapViewToDom(i))return this.mapViewToDom(i);let d;if(i.is("documentFragment"))d=o.createDocumentFragment(),l.bind&&this.bindDocumentFragments(d,i);else{if(i.is("uiElement"))return d="$comment"===i.name?o.createComment(i.getCustomProperty("$rawContent")):i.render(o,this),l.bind&&this.bindElements(d,i),d;d=this._shouldRenameElement(i.name)?this._createReplacementDomElement(i.name):i.hasAttribute("xmlns")?o.createElementNS(i.getAttribute("xmlns"),i.name):o.createElement(i.name),i.is("rawElement")&&i.render(d,this),l.bind&&this.bindElements(d,i);for(const g of i.getAttributeKeys()){const y=i.getAttribute(g);this.shouldRenderAttribute(g,y)&&d.setAttribute(g,y)}}if(!1!==l.withChildren)for(const g of this.viewChildrenToDom(i,o,l))d.appendChild(g);return d}}*viewChildrenToDom(i,o,l={}){const d=i.getFillerOffset&&i.getFillerOffset();let g=0;for(const y of i.getChildren())d===g&&(yield this._getBlockFiller(o)),yield this.viewToDom(y,o,l),g++;d===g&&(yield this._getBlockFiller(o))}viewRangeToDom(i){const o=this.viewPositionToDom(i.start),l=this.viewPositionToDom(i.end),d=document.createRange();return d.setStart(o.parent,o.offset),d.setEnd(l.parent,l.offset),d}viewPositionToDom(i){const o=i.parent;if(o.is("$text")){const l=this.findCorrespondingDomText(o);if(!l)return null;let d=i.offset;return jr(l)&&(d+=7),{parent:l,offset:d}}{let l,d,g;if(0===i.offset){if(l=this.mapViewToDom(o),!l)return null;g=l.childNodes[0]}else{const y=i.nodeBefore;if(d=y.is("$text")?this.findCorrespondingDomText(y):this.mapViewToDom(i.nodeBefore),!d)return null;l=d.parentNode,g=d.nextSibling}return Tn(g)&&jr(g)?{parent:g,offset:7}:{parent:l,offset:d?na(d)+1:0}}}domToView(i,o={}){if(this.isBlockFiller(i))return null;const l=this.getHostViewElement(i);if(l)return l;if(this.isComment(i)&&o.skipComments)return null;if(Tn(i)){if(Fc(i))return null;{const d=this._processDataFromDomText(i);return""===d?null:new Ln(this.document,d)}}{if(this.mapDomToView(i))return this.mapDomToView(i);let d;if(this.isDocumentFragment(i))d=new Za(this.document),o.bind&&this.bindDocumentFragments(i,d);else{d=this._createViewElement(i,o),o.bind&&this.bindElements(i,d);const g=i.attributes;if(g)for(let y=g.length-1;y>=0;y--)d._setAttribute(g[y].name,g[y].value);if(this._isViewElementWithRawContent(d,o)||this.isComment(i)){const y=this.isComment(i)?i.data:i.innerHTML;return d._setCustomProperty("$rawContent",y),this._encounteredRawContentDomNodes.add(i),d}}if(!1!==o.withChildren)for(const g of this.domChildrenToView(i,o))d._appendChild(g);return d}}*domChildrenToView(i,o={}){for(let l=0;l<i.childNodes.length;l++){const g=this.domToView(i.childNodes[l],o);null!==g&&(yield g)}}domSelectionToView(i){if(1===i.rangeCount){let d=i.getRangeAt(0).startContainer;Tn(d)&&(d=d.parentNode);const g=this.fakeSelectionToView(d);if(g)return g}const o=this.isDomSelectionBackward(i),l=[];for(let d=0;d<i.rangeCount;d++){const g=i.getRangeAt(d),y=this.domRangeToView(g);y&&l.push(y)}return new nn(l,{backward:o})}domRangeToView(i){const o=this.domPositionToView(i.startContainer,i.startOffset),l=this.domPositionToView(i.endContainer,i.endOffset);return o&&l?new Et(o,l):null}domPositionToView(i,o=0){if(this.isBlockFiller(i))return this.domPositionToView(i.parentNode,na(i));const l=this.mapDomToView(i);if(l&&(l.is("uiElement")||l.is("rawElement")))return at._createBefore(l);if(Tn(i)){if(Fc(i))return this.domPositionToView(i.parentNode,na(i));const d=this.findCorrespondingViewText(i);let g=o;return d?(jr(i)&&(g-=7,g=g<0?0:g),new at(d,g)):null}if(0===o){const d=this.mapDomToView(i);if(d)return new at(d,0)}else{const d=i.childNodes[o-1],g=Tn(d)?this.findCorrespondingViewText(d):this.mapDomToView(d);if(g&&g.parent)return new at(g.parent,g.index+1)}return null}mapDomToView(i){return this.getHostViewElement(i)||this._domToViewMapping.get(i)}findCorrespondingViewText(i){if(Fc(i))return null;const o=this.getHostViewElement(i);if(o)return o;const l=i.previousSibling;if(l){if(!this.isElement(l))return null;const d=this.mapDomToView(l);if(d)return d.nextSibling instanceof Ln?d.nextSibling:null}else{const d=this.mapDomToView(i.parentNode);if(d){const g=d.getChild(0);return g instanceof Ln?g:null}}return null}mapViewToDom(i){return this._viewToDomMapping.get(i)}findCorrespondingDomText(i){const o=i.previousSibling;return o&&this.mapViewToDom(o)?this.mapViewToDom(o).nextSibling:!o&&i.parent&&this.mapViewToDom(i.parent)?this.mapViewToDom(i.parent).childNodes[0]:null}focus(i){const o=this.mapViewToDom(i);if(o&&o.ownerDocument.activeElement!==o){const{scrollX:l,scrollY:d}=Gn.window,g=[];ke(o,y=>{const{scrollLeft:b,scrollTop:M}=y;g.push([b,M])}),o.focus(),ke(o,y=>{const[b,M]=g.shift();y.scrollLeft=b,y.scrollTop=M}),Gn.window.scrollTo(l,d)}}isElement(i){return i&&i.nodeType==Node.ELEMENT_NODE}isDocumentFragment(i){return i&&i.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(i){return i&&i.nodeType==Node.COMMENT_NODE}isBlockFiller(i){return"br"==this.blockFillerMode?i.isEqualNode(O):!("BR"!==i.tagName||!Re(i,this.blockElements)||1!==i.parentNode.childNodes.length)||i.isEqualNode(Q)||function(o,l){return o.isEqualNode(U)&&Re(o,l)&&1===o.parentNode.childNodes.length}(i,this.blockElements)}isDomSelectionBackward(i){if(i.isCollapsed)return!1;const o=document.createRange();o.setStart(i.anchorNode,i.anchorOffset),o.setEnd(i.focusNode,i.focusOffset);const l=o.collapsed;return o.detach(),l}getHostViewElement(i){const o=F2(i);for(o.pop();o.length;){const l=o.pop(),d=this._domToViewMapping.get(l);if(d&&(d.is("uiElement")||d.is("rawElement")))return d}return null}isDomSelectionCorrect(i){return this._isDomSelectionPositionCorrect(i.anchorNode,i.anchorOffset)&&this._isDomSelectionPositionCorrect(i.focusNode,i.focusOffset)}registerRawContentMatcher(i){this._rawContentElementMatcher.add(i)}_getBlockFiller(i){switch(this.blockFillerMode){case"nbsp":return as(i);case"markedNbsp":return Qa(i);case"br":return Er(i)}}_isDomSelectionPositionCorrect(i,o){if(Tn(i)&&jr(i)&&o<7||this.isElement(i)&&jr(i.childNodes[o]))return!1;const l=this.mapDomToView(i);return!l||!l.is("uiElement")&&!l.is("rawElement")}_processDataFromViewText(i){let o=i.data;if(i.getAncestors().some(l=>this.preElements.includes(l.name)))return o;if(" "==o.charAt(0)){const l=this._getTouchingInlineViewNode(i,!1);!(l&&l.is("$textProxy")&&this._nodeEndsWithSpace(l))&&l||(o="\xa0"+o.substr(1))}if(" "==o.charAt(o.length-1)){const l=this._getTouchingInlineViewNode(i,!0),d=l&&l.is("$textProxy")&&" "==l.data.charAt(0);" "!=o.charAt(o.length-2)&&l&&!d||(o=o.substr(0,o.length-1)+"\xa0")}return o.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(i){if(i.getAncestors().some(l=>this.preElements.includes(l.name)))return!1;const o=this._processDataFromViewText(i);return" "==o.charAt(o.length-1)}_processDataFromDomText(i){let o=i.data;if(I=this.preElements,F2(i).some(z=>z.tagName&&I.includes(z.tagName.toLowerCase())))return ea(i);var I;o=o.replace(/[ \n\t\r]{1,}/g," ");const l=this._getTouchingInlineDomNode(i,!1),d=this._getTouchingInlineDomNode(i,!0),g=this._checkShouldLeftTrimDomText(i,l),y=this._checkShouldRightTrimDomText(i,d);g&&(o=o.replace(/^ /,"")),y&&(o=o.replace(/ $/,"")),o=ea(new Text(o)),o=o.replace(/ \u00A0/g,"  ");const b=d&&this.isElement(d)&&"BR"!=d.tagName,M=d&&Tn(d)&&" "==d.data.charAt(0);return(/( |\u00A0)\u00A0$/.test(o)||!d||b||M)&&(o=o.replace(/\u00A0$/," ")),(g||l&&this.isElement(l)&&"BR"!=l.tagName)&&(o=o.replace(/^\u00A0/," ")),o}_checkShouldLeftTrimDomText(i,o){return!o||(this.isElement(o)?"BR"===o.tagName:!this._encounteredRawContentDomNodes.has(i.previousSibling)&&/[^\S\u00A0]/.test(o.data.charAt(o.data.length-1)))}_checkShouldRightTrimDomText(i,o){return!o&&!jr(i)}_getTouchingInlineViewNode(i,o){const l=new Wi({startPosition:o?at._createAfter(i):at._createBefore(i),direction:o?"forward":"backward"});for(const d of l){if(d.item.is("element")&&this.inlineObjectElements.includes(d.item.name))return d.item;if(d.item.is("containerElement")||d.item.is("element","br"))return null;if(d.item.is("$textProxy"))return d.item}return null}_getTouchingInlineDomNode(i,o){if(!i.parentNode)return null;const l=o?"firstChild":"lastChild",d=o?"nextSibling":"previousSibling";let g=!0;do{if(!g&&i[l]?i=i[l]:i[d]?(i=i[d],g=!1):(i=i.parentNode,g=!0),!i||this._isBlockElement(i))return null}while(!Tn(i)&&"BR"!=i.tagName&&!this._isInlineObjectElement(i));return i}_isBlockElement(i){return this.isElement(i)&&this.blockElements.includes(i.tagName.toLowerCase())}_isInlineObjectElement(i){return this.isElement(i)&&this.inlineObjectElements.includes(i.tagName.toLowerCase())}_createViewElement(i,o){if(this.isComment(i))return new D4(this.document,"$comment");const l=o.keepOriginalCase?i.tagName:i.tagName.toLowerCase();return new Br(this.document,l)}_isViewElementWithRawContent(i,o){return!1!==o.withChildren&&this._rawContentElementMatcher.match(i)}_shouldRenameElement(i){return this.experimentalRenderingMode&&"editing"==this.renderingMode&&"script"==i}_createReplacementDomElement(i,o=null){const l=document.createElement("span");if(l.setAttribute("data-ck-hidden",i),o){for(;o.firstChild;)l.appendChild(o.firstChild);for(const d of o.getAttributeNames())l.setAttribute(d,o.getAttribute(d))}return l}}function ke(h,i){for(;h&&h!=Gn.document;)i(h),h=h.parentNode}function Re(h,i){const o=h.parentNode;return o&&o.tagName&&i.includes(o.tagName.toLowerCase())}function Ke(h){const i=Object.prototype.toString.apply(h);return"[object Window]"==i||"[object global]"==i}var yt=F1({},se,{listenTo(h,...i){if(Qs(h)||Ke(h)){const o=this._getProxyEmitter(h)||new mt(h);o.attach(...i),h=o}se.listenTo.call(this,h,...i)},stopListening(h,i,o){if(Qs(h)||Ke(h)){const l=this._getProxyEmitter(h);if(!l)return;h=l}se.stopListening.call(this,h,i,o),h instanceof mt&&h.detach(i)},_getProxyEmitter(h){return i=this,o=kn(h),i[de]&&i[de][o]?i[de][o].emitter:null;var i,o}});class mt{constructor(i){le(this,kn(i)),this._domNode=i}}function kn(h){return h["data-ck-expando"]||(h["data-ck-expando"]=pe())}F1(mt.prototype,se,{attach(h,i,o={}){if(this._domListeners&&this._domListeners[h])return;const l={capture:!!o.useCapture,passive:!!o.usePassive},d=this._createDomListener(h,l);this._domNode.addEventListener(h,d,l),this._domListeners||(this._domListeners={}),this._domListeners[h]=d},detach(h){let i;!this._domListeners[h]||(i=this._events[h])&&i.callbacks.length||this._domListeners[h].removeListener()},_createDomListener(h,i){const o=l=>{this.fire(h,l)};return o.removeListener=()=>{this._domNode.removeEventListener(h,o,i),delete this._domListeners[h]},o}});class fn{constructor(i){this.view=i,this.document=i.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(i){return i&&3===i.nodeType&&(i=i.parentNode),!(!i||1!==i.nodeType)&&i.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}_t(fn,yt);function cn(h){var i=-1,o=null==h?0:h.length;for(this.__data__=new Cs;++i<o;)this.add(h[i])}cn.prototype.add=cn.prototype.push=function(h){return this.__data__.set(h,"__lodash_hash_undefined__"),this},cn.prototype.has=function(h){return this.__data__.has(h)};var ia=cn,Rl=function(h,i){for(var o=-1,l=null==h?0:h.length;++o<l;)if(i(h[o],o,h))return!0;return!1},Ro=function(h,i){return h.has(i)},Ar=function(h,i,o,l,d,g){var y=1&o,b=h.length,M=i.length;if(b!=M&&!(y&&M>b))return!1;var S=g.get(h),I=g.get(i);if(S&&I)return S==i&&I==h;var z=-1,H=!0,Y=2&o?new ia:void 0;for(g.set(h,i),g.set(i,h);++z<b;){var J=h[z],ee=i[z];if(l)var oe=y?l(ee,J,z,i,h,g):l(J,ee,z,h,i,g);if(void 0!==oe){if(oe)continue;H=!1;break}if(Y){if(!Rl(i,function(ue,xe){if(!Ro(Y,xe)&&(J===ue||d(J,ue,o,l,g)))return Y.push(xe)})){H=!1;break}}else if(J!==ee&&!d(J,ee,o,l,g)){H=!1;break}}return g.delete(h),g.delete(i),H},k1=function(h){var i=-1,o=Array(h.size);return h.forEach(function(l,d){o[++i]=[d,l]}),o},Ol=function(h){var i=-1,o=Array(h.size);return h.forEach(function(l){o[++i]=l}),o},N4=Ge?Ge.prototype:void 0,H2=N4?N4.valueOf:void 0,L4=Object.prototype.hasOwnProperty,h8=Object.prototype.hasOwnProperty,Xa=function(h,i,o,l,d,g){var y=_e(h),b=_e(i),M=y?"[object Array]":v1(h),S=b?"[object Array]":v1(i),I="[object Object]"==(M="[object Arguments]"==M?"[object Object]":M),z="[object Object]"==(S="[object Arguments]"==S?"[object Object]":S),H=M==S;if(H&&Object(We.a)(h)){if(!Object(We.a)(i))return!1;y=!0,I=!1}if(H&&!I)return g||(g=new Io),y||Xn(h)?Ar(h,i,o,l,d,g):function(h,i,o,l,d,g,y){switch(o){case"[object DataView]":if(h.byteLength!=i.byteLength||h.byteOffset!=i.byteOffset)return!1;h=h.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(h.byteLength!=i.byteLength||!g(new Yr(h),new Yr(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return _r(+h,+i);case"[object Error]":return h.name==i.name&&h.message==i.message;case"[object RegExp]":case"[object String]":return h==i+"";case"[object Map]":var b=k1;case"[object Set]":if(b||(b=Ol),h.size!=i.size&&!(1&l))return!1;var S=y.get(h);if(S)return S==i;l|=2,y.set(h,i);var I=Ar(b(h),b(i),l,d,g,y);return y.delete(h),I;case"[object Symbol]":if(H2)return H2.call(h)==H2.call(i)}return!1}(h,i,M,o,l,d,g);if(!(1&o)){var Y=I&&h8.call(h,"__wrapped__"),J=z&&h8.call(i,"__wrapped__");if(Y||J){var ee=Y?h.value():h,oe=J?i.value():i;return g||(g=new Io),d(ee,oe,o,l,g)}}return!!H&&(g||(g=new Io),function(h,i,o,l,d,g){var y=1&o,b=On(h),M=b.length;if(M!=On(i).length&&!y)return!1;for(var S=M;S--;){var I=b[S];if(!(y?I in i:L4.call(i,I)))return!1}var z=g.get(h),H=g.get(i);if(z&&H)return z==i&&H==h;var Y=!0;g.set(h,i),g.set(i,h);for(var J=y;++S<M;){var ee=h[I=b[S]],oe=i[I];if(l)var ue=y?l(oe,ee,I,i,h,g):l(ee,oe,I,h,i,g);if(!(void 0===ue?ee===oe||d(ee,oe,o,l,g):ue)){Y=!1;break}J||(J="constructor"==I)}if(Y&&!J){var xe=h.constructor,je=i.constructor;xe==je||!("constructor"in h)||!("constructor"in i)||"function"==typeof xe&&xe instanceof xe&&"function"==typeof je&&je instanceof je||(Y=!1)}return g.delete(h),g.delete(i),Y}(h,i,o,l,d,g))},B2=function h(i,o,l,d,g){return i===o||(null==i||null==o||!Ii(i)&&!Ii(o)?i!=i&&o!=o:Xa(i,o,l,d,h,g))},Vl=function(h,i,o){var l=(o="function"==typeof o?o:void 0)?o(h,i):void 0;return void 0===l?B2(h,i,void 0,o):!!l};class Fl extends fn{constructor(i){super(i),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=i.domConverter,this.renderer=i._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(i){this._domElements.push(i),this.isEnabled&&this._mutationObserver.observe(i,this._config)}enable(){super.enable();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(i){if(0===i.length)return;const o=this.domConverter,l=new Map,d=new Set;for(const S of i)if("childList"===S.type){const I=o.mapDomToView(S.target);if(I&&(I.is("uiElement")||I.is("rawElement")))continue;I&&!this._isBogusBrMutation(S)&&d.add(I)}for(const S of i){const I=o.mapDomToView(S.target);if((!I||!I.is("uiElement")&&!I.is("rawElement"))&&"characterData"===S.type){const z=o.findCorrespondingViewText(S.target);z&&!d.has(z.parent)?l.set(z,{type:"text",oldText:z.data,newText:ea(S.target),node:z}):!z&&jr(S.target)&&d.add(o.mapDomToView(S.target.parentNode))}}const g=[];for(const S of l.values())this.renderer.markToSync("text",S.node),g.push(S);for(const S of d){const I=o.mapViewToDom(S),z=Array.from(S.getChildren()),H=Array.from(o.domChildrenToView(I,{withChildren:!1}));Vl(z,H,M)||(this.renderer.markToSync("children",S),g.push({type:"children",oldChildren:z,newChildren:H,node:S}))}const y=i[0].target.ownerDocument.getSelection();let b=null;if(y&&y.anchorNode){const S=o.domPositionToView(y.anchorNode,y.anchorOffset),I=o.domPositionToView(y.focusNode,y.focusOffset);S&&I&&(b=new nn(S),b.setFocus(I))}function M(S,I){if(!Array.isArray(S))return S===I||!(!S.is("$text")||!I.is("$text"))&&S.data===I.data}g.length&&(this.document.fire("mutations",g,b),this.view.forceRender())}_isBogusBrMutation(i){let o=null;return null===i.nextSibling&&0===i.removedNodes.length&&1==i.addedNodes.length&&(o=this.domConverter.domToView(i.addedNodes[0],{withChildren:!1})),o&&o.is("element","br")}}class b6{constructor(i,o,l){this.view=i,this.document=i.document,this.domEvent=o,this.domTarget=o.target,F1(this,l)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class oa extends fn{constructor(i){super(i),this.useCapture=!1}observe(i){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(o=>{this.listenTo(i,o,(l,d)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(d.target)&&this.onDomEvent(d)},{useCapture:this.useCapture})})}fire(i,o,l){this.isEnabled&&this.document.fire(i,new b6(this.view,o,l))}}class Hl extends oa{constructor(i){super(i),this.domEventType=["keydown","keyup"]}onDomEvent(i){this.fire(i.type,i,{keyCode:i.keyCode,altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey,get keystroke(){return As(this)}})}}var Hc=function(){return Ee.a.Date.now()},f8=/\s/,P4=/^\s+/,Z3=function(h){return h&&h.slice(0,function(h){for(var i=h.length;i--&&f8.test(h.charAt(i)););return i}(h)+1).replace(P4,"")},m8=/^[-+]0x[0-9a-f]+$/i,Y3=/^0b[01]+$/i,ph=/^0o[0-7]+$/i,g8=parseInt,R4=function(h){if("number"==typeof h)return h;if(M4(h))return NaN;if(me(h)){var i="function"==typeof h.valueOf?h.valueOf():h;h=me(i)?i+"":i}if("string"!=typeof h)return 0===h?h:+h;h=Z3(h);var o=Y3.test(h);return o||ph.test(h)?g8(h.slice(2),o?2:8):m8.test(h)?NaN:+h},v8=Math.max,j2=Math.min,O4=function(h,i,o){var l,d,g,y,b,M,S=0,I=!1,z=!1,H=!0;if("function"!=typeof h)throw new TypeError("Expected a function");function Y(je){var ut=l,zt=d;return l=d=void 0,S=je,y=h.apply(zt,ut)}function J(je){return S=je,b=setTimeout(oe,i),I?Y(je):y}function ee(je){var ut=je-M;return void 0===M||ut>=i||ut<0||z&&je-S>=g}function oe(){var ut,zt,je=Hc();if(ee(je))return ue(je);b=setTimeout(oe,(zt=i-((ut=je)-M),z?j2(zt,g-(ut-S)):zt))}function ue(je){return b=void 0,H&&l?Y(je):(l=d=void 0,y)}function xe(){var je=Hc(),ut=ee(je);if(l=arguments,d=this,M=je,ut){if(void 0===b)return J(M);if(z)return clearTimeout(b),b=setTimeout(oe,i),Y(M)}return void 0===b&&(b=setTimeout(oe,i)),y}return i=R4(i)||0,me(o)&&(I=!!o.leading,g=(z="maxWait"in o)?v8(R4(o.maxWait)||0,i):g,H="trailing"in o?!!o.trailing:H),xe.cancel=function(){void 0!==b&&clearTimeout(b),S=0,l=M=d=b=void 0},xe.flush=function(){return void 0===b?y:ue(Hc())},xe};class mh extends fn{constructor(i){super(i),this._fireSelectionChangeDoneDebounced=O4(o=>this.document.fire("selectionChangeDone",o),200)}observe(){const i=this.document;i.on("arrowKey",(o,l)=>{i.selection.isFake&&this.isEnabled&&l.preventDefault()},{context:"$capture"}),i.on("arrowKey",(o,l)=>{i.selection.isFake&&this.isEnabled&&this._handleSelectionMove(l.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(i){const o=this.document.selection,l=new nn(o.getRanges(),{backward:o.isBackward,fake:!1});i!=Jt.arrowleft&&i!=Jt.arrowup||l.setTo(l.getFirstPosition()),i!=Jt.arrowright&&i!=Jt.arrowdown||l.setTo(l.getLastPosition());const d={oldSelection:o,newSelection:l,domSelection:null};this.document.fire("selectionChange",d),this._fireSelectionChangeDoneDebounced(d)}}class d9 extends fn{constructor(i){super(i),this.mutationObserver=i.getObserver(Fl),this.selection=this.document.selection,this.domConverter=i.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=O4(o=>this.document.fire("selectionChangeDone",o),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=O4(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(i){const o=i.ownerDocument,l=()=>{this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel()};this.listenTo(i,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(i,"keydown",l,{priority:"highest"}),this.listenTo(i,"keyup",l,{priority:"highest"}),this._documents.has(o)||(this.listenTo(o,"mouseup",l,{priority:"highest"}),this.listenTo(o,"selectionchange",(d,g)=>{this._handleSelectionChange(g,o),this._documentIsSelectingInactivityTimeoutDebounced()}),this._documents.add(o))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(i,o){if(!this.isEnabled)return;const l=o.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(l.anchorNode))return;this.mutationObserver.flush();const d=this.domConverter.domSelectionToView(l);if(0!=d.rangeCount){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(d)&&this.domConverter.isDomSelectionCorrect(l)||++this._loopbackCounter>60))if(this.selection.isSimilar(d))this.view.forceRender();else{const g={oldSelection:this.selection,newSelection:d,domSelection:l};this.document.fire("selectionChange",g),this._fireSelectionChangeDoneDebounced(g)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class K3 extends oa{constructor(i){super(i),this.domEventType=["focus","blur"],this.useCapture=!0;const o=this.document;o.on("focus",()=>{o.isFocused=!0,this._renderTimeoutId=setTimeout(()=>i.change(()=>{}),50)}),o.on("blur",(l,d)=>{const g=o.selection.editableElement;null!==g&&g!==d.target||(o.isFocused=!1,i.change(()=>{}))})}onDomEvent(i){this.fire(i.type,i)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Q3 extends oa{constructor(i){super(i),this.domEventType=["compositionstart","compositionupdate","compositionend"];const o=this.document;o.on("compositionstart",()=>{o.isComposing=!0}),o.on("compositionend",()=>{o.isComposing=!1})}onDomEvent(i){this.fire(i.type,i)}}class J3 extends oa{constructor(i){super(i),this.domEventType=["beforeinput"]}onDomEvent(i){this.fire(i.type,i)}}class X3{constructor(){this._replacedElements=[]}replace(i,o){this._replacedElements.push({element:i,newElement:o}),i.style.display="none",o&&i.parentNode.insertBefore(o,i.nextSibling)}restore(){this._replacedElements.forEach(({element:i,newElement:o})=>{i.style.display="",o&&o.remove()}),this._replacedElements=[]}}var w6=function(h){return"string"==typeof h||!_e(h)&&Ii(h)&&"[object String]"==Fe(h)};function sa(h){return"[object Range]"==Object.prototype.toString.apply(h)}function _8(h){const i=h.ownerDocument.defaultView.getComputedStyle(h);return{top:parseInt(i.borderTopWidth,10),right:parseInt(i.borderRightWidth,10),bottom:parseInt(i.borderBottomWidth,10),left:parseInt(i.borderLeftWidth,10)}}const y8=["top","right","bottom","left","width","height"];class Wn{constructor(i){const o=sa(i);if(Object.defineProperty(this,"_source",{value:i._source||i,writable:!0,enumerable:!1}),fo(i)||o)if(o){const l=Wn.getDomRangeRects(i);V4(this,Wn.getBoundingRect(l))}else V4(this,i.getBoundingClientRect());else if(Ke(i)){const{innerWidth:l,innerHeight:d}=i;V4(this,{top:0,right:l,bottom:d,left:0,width:l,height:d})}else V4(this,i)}clone(){return new Wn(this)}moveTo(i,o){return this.top=o,this.right=i+this.width,this.bottom=o+this.height,this.left=i,this}moveBy(i,o){return this.top+=o,this.right+=i,this.left+=i,this.bottom+=o,this}getIntersection(i){const o={top:Math.max(this.top,i.top),right:Math.min(this.right,i.right),bottom:Math.min(this.bottom,i.bottom),left:Math.max(this.left,i.left)};return o.width=o.right-o.left,o.height=o.bottom-o.top,o.width<0||o.height<0?null:new Wn(o)}getIntersectionArea(i){const o=this.getIntersection(i);return o?o.getArea():0}getArea(){return this.width*this.height}getVisible(){const i=this._source;let o=this.clone();if(!e0(i)){let l=i.parentNode||i.commonAncestorContainer;for(;l&&!e0(l);){const d=new Wn(l),g=o.getIntersection(d);if(!g)return null;g.getArea()<o.getArea()&&(o=g),l=l.parentNode}}return o}isEqual(i){for(const o of y8)if(this[o]!==i[o])return!1;return!0}contains(i){const o=this.getIntersection(i);return!(!o||!o.isEqual(i))}excludeScrollbarsAndBorders(){const i=this._source;let o,l,d;if(Ke(i))o=i.innerWidth-i.document.documentElement.clientWidth,l=i.innerHeight-i.document.documentElement.clientHeight,d=i.getComputedStyle(i.document.documentElement).direction;else{const g=_8(this._source);o=i.offsetWidth-i.clientWidth-g.left-g.right,l=i.offsetHeight-i.clientHeight-g.top-g.bottom,d=i.ownerDocument.defaultView.getComputedStyle(i).direction,this.left+=g.left,this.top+=g.top,this.right-=g.right,this.bottom-=g.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=o,"ltr"===d?this.right-=o:this.left+=o,this.height-=l,this.bottom-=l,this}static getDomRangeRects(i){const o=[],l=Array.from(i.getClientRects());if(l.length)for(const d of l)o.push(new Wn(d));else{let d=i.startContainer;Tn(d)&&(d=d.parentNode);const g=new Wn(d.getBoundingClientRect());g.right=g.left,g.width=0,o.push(g)}return o}static getBoundingRect(i){const o={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY};let l=0;for(const d of i)l++,o.left=Math.min(o.left,d.left),o.top=Math.min(o.top,d.top),o.right=Math.max(o.right,d.right),o.bottom=Math.max(o.bottom,d.bottom);return 0==l?null:(o.width=o.right-o.left,o.height=o.bottom-o.top,new Wn(o))}}function V4(h,i){for(const o of y8)h[o]=i[o]}function e0(h){return!!fo(h)&&h===h.ownerDocument.body}class Vn{constructor(i,o){Vn._observerInstance||Vn._createObserver(),this._element=i,this._callback=o,Vn._addElementCallback(i,o),Vn._observerInstance.observe(i)}destroy(){Vn._deleteElementCallback(this._element,this._callback)}static _addElementCallback(i,o){Vn._elementCallbacks||(Vn._elementCallbacks=new Map);let l=Vn._elementCallbacks.get(i);l||(l=new Set,Vn._elementCallbacks.set(i,l)),l.add(o)}static _deleteElementCallback(i,o){const l=Vn._getElementCallbacks(i);l&&(l.delete(o),l.size||(Vn._elementCallbacks.delete(i),Vn._observerInstance.unobserve(i))),Vn._elementCallbacks&&!Vn._elementCallbacks.size&&(Vn._observerInstance=null,Vn._elementCallbacks=null)}static _getElementCallbacks(i){return Vn._elementCallbacks?Vn._elementCallbacks.get(i):null}static _createObserver(){let i;i="function"==typeof Gn.window.ResizeObserver?Gn.window.ResizeObserver:e2,Vn._observerInstance=new i(o=>{for(const l of o){const d=Vn._getElementCallbacks(l.target);if(d)for(const g of d)g(l)}})}}Vn._observerInstance=null,Vn._elementCallbacks=null;class e2{constructor(i){this._callback=i,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}observe(i){this._elements.add(i),this._checkElementRectsAndExecuteCallback(),1===this._elements.size&&this._startPeriodicCheck()}unobserve(i){this._elements.delete(i),this._previousRects.delete(i),this._elements.size||this._stopPeriodicCheck()}_startPeriodicCheck(){const i=()=>{this._checkElementRectsAndExecuteCallback(),this._periodicCheckTimeout=setTimeout(i,100)};this.listenTo(Gn.window,"resize",()=>{this._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(i,100)}_stopPeriodicCheck(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}_checkElementRectsAndExecuteCallback(){const i=[];for(const o of this._elements)this._hasRectChanged(o)&&i.push({target:o,contentRect:this._previousRects.get(o)});i.length&&this._callback(i)}_hasRectChanged(i){if(!i.ownerDocument.body.contains(i))return!1;const o=new Wn(i),l=this._previousRects.get(i),d=!l||!l.isEqual(o);return this._previousRects.set(i,o),d}}function Bc(h){return i=>i+h}function qr(h){const i=h.next();return i.done?null:i.value}_t(e2,yt);class Ts{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(i){if(this._elements.has(i))throw new W.a("focustracker-add-element-already-exist",this);this.listenTo(i,"focus",()=>this._focus(i),{useCapture:!0}),this.listenTo(i,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(i)}remove(i){i===this.focusedElement&&this._blur(i),this._elements.has(i)&&(this.stopListening(i),this._elements.delete(i))}destroy(){this.stopListening()}_focus(i){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=i,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}_t(Ts,yt),_t(Ts,Mt);class aa{constructor(){this._listener=Object.create(yt)}listenTo(i){this._listener.listenTo(i,"keydown",(o,l)=>{this._listener.fire("_keydown:"+As(l),l)})}set(i,o,l={}){const d=zl(i);this._listener.listenTo(this._listener,"_keydown:"+d,(y,b)=>{o(b,()=>{b.preventDefault(),b.stopPropagation(),y.stop()}),y.return=!0},{priority:l.priority})}press(i){return!!this._listener.fire("_keydown:"+As(i),i)}destroy(){this._listener.stopListening()}}class b8 extends fn{constructor(i){super(i),this.document.on("keydown",(o,l)=>{if(this.isEnabled&&((d=l.keyCode)==Jt.arrowright||d==Jt.arrowleft||d==Jt.arrowup||d==Jt.arrowdown)){const g=new Y1(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(g,l),g.stop.called&&o.stop()}var d})}observe(){}}function w8({target:h,viewportOffset:i=0}){const o=F4(h);let l=o,d=null;for(;l;){let g;g=jl(l==o?h:d),C8(g,()=>jc(h,l));const y=jc(h,l);if(C6(l,y,i),l.parent!=l){if(d=l.frameElement,l=l.parent,!d)return}else l=null}}function C6(h,i,o){const l=i.clone().moveBy(0,o),d=i.clone().moveBy(0,-o),g=new Wn(h).excludeScrollbarsAndBorders();if(![d,l].every(y=>g.contains(y))){let{scrollX:y,scrollY:b}=h;ca(d,g)?b-=g.top-i.top+o:Xs(l,g)&&(b+=i.bottom-g.bottom+o),Bl(i,g)?y-=g.left-i.left+o:k6(i,g)&&(y+=i.right-g.right+o),h.scrollTo(y,b)}}function C8(h,i){const o=F4(h);let l,d;for(;h!=o.document.body;)d=i(),l=new Wn(h).excludeScrollbarsAndBorders(),l.contains(d)||(ca(d,l)?h.scrollTop-=l.top-d.top:Xs(d,l)&&(h.scrollTop+=d.bottom-l.bottom),Bl(d,l)?h.scrollLeft-=l.left-d.left:k6(d,l)&&(h.scrollLeft+=d.right-l.right)),h=h.parentNode}function Xs(h,i){return h.bottom>i.bottom}function ca(h,i){return h.top<i.top}function Bl(h,i){return h.left<i.left}function k6(h,i){return h.right>i.right}function F4(h){return sa(h)?h.startContainer.ownerDocument.defaultView:h.ownerDocument.defaultView}function jl(h){if(sa(h)){let i=h.commonAncestorContainer;return Tn(i)&&(i=i.parentNode),i}return h.parentNode}function jc(h,i){const o=F4(h),l=new Wn(h);if(o===i)return l;{let d=o;for(;d!=i;){const y=new Wn(d.frameElement).excludeScrollbarsAndBorders();l.moveBy(y.left,y.top),d=d.parent}}return l}Object.assign({},{scrollViewportToShowTarget:w8,scrollAncestorsToShowTarget:function(h){C8(jl(h),()=>new Wn(h))}});class M1{constructor(i){this.document=new xs(i),this.domConverter=new ce(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new xr(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Nl(this.document),this.addObserver(Fl),this.addObserver(d9),this.addObserver(K3),this.addObserver(Hl),this.addObserver(mh),this.addObserver(Q3),this.addObserver(b8),Sn_isAndroid&&this.addObserver(J3),this.document.on("arrowKey",G3,{priority:"low"}),function(h){h.document.on("arrowKey",(i,o)=>function(l,d,g){if(d.keyCode==Jt.arrowright){const y=d.domTarget.ownerDocument.defaultView.getSelection(),b=1==y.rangeCount&&y.getRangeAt(0).collapsed;if(b||d.shiftKey){const I=g.domPositionToView(y.focusNode,y.focusOffset);if(null===I)return;let z=!1;const H=I.getLastMatchingPosition(Y=>(Y.item.is("uiElement")&&(z=!0),!(!Y.item.is("uiElement")&&!Y.item.is("attributeElement"))));if(z){const Y=g.viewPositionToDom(H);b?y.collapse(Y.parent,Y.offset):y.extend(Y.parent,Y.offset)}}}}(0,o,h.domConverter),{priority:"low"})}(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(i,o="main"){const l=this.document.getRoot(o);l._name=i.tagName.toLowerCase();const d={};for(const{name:y,value:b}of Array.from(i.attributes))d[y]=b,"class"===y?this._writer.addClass(b.split(" "),l):this._writer.setAttribute(y,b,l);this._initialDomRootAttributes.set(i,d);const g=()=>{this._writer.setAttribute("contenteditable",!l.isReadOnly,l),l.isReadOnly?this._writer.addClass("ck-read-only",l):this._writer.removeClass("ck-read-only",l)};g(),this.domRoots.set(o,i),this.domConverter.bindElements(i,l),this._renderer.markToSync("children",l),this._renderer.markToSync("attributes",l),this._renderer.domDocuments.add(i.ownerDocument),l.on("change:children",(y,b)=>this._renderer.markToSync("children",b)),l.on("change:attributes",(y,b)=>this._renderer.markToSync("attributes",b)),l.on("change:text",(y,b)=>this._renderer.markToSync("text",b)),l.on("change:isReadOnly",()=>this.change(g)),l.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const y of this._observers.values())y.observe(i,o)}detachDomRoot(i){const o=this.domRoots.get(i);Array.from(o.attributes).forEach(({name:d})=>o.removeAttribute(d));const l=this._initialDomRootAttributes.get(o);for(const d in l)o.setAttribute(d,l[d]);this.domRoots.delete(i),this.domConverter.unbindDomElement(o)}getDomRoot(i="main"){return this.domRoots.get(i)}addObserver(i){let o=this._observers.get(i);if(o)return o;o=new i(this),this._observers.set(i,o);for(const[l,d]of this.domRoots)o.observe(d,l);return o.enable(),o}getObserver(i){return this._observers.get(i)}disableObservers(){for(const i of this._observers.values())i.disable()}enableObservers(){for(const i of this._observers.values())i.enable()}scrollToTheSelection(){const i=this.document.selection.getFirstRange();i&&w8({target:this.domConverter.viewRangeToDom(i),viewportOffset:20})}focus(){if(!this.document.isFocused){const i=this.document.selection.editableElement;i&&(this.domConverter.focus(i),this.forceRender())}}change(i){if(this.isRenderingInProgress||this._postFixersInProgress)throw new W.a("cannot-change-view-tree",this);try{if(this._ongoingChange)return i(this._writer);this._ongoingChange=!0;const o=i(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),o}catch(o){W.a.rethrowUnexpectedError(o,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const i of this._observers.values())i.destroy();this.document.destroy(),this.stopListening()}createPositionAt(i,o){return at._createAt(i,o)}createPositionAfter(i){return at._createAfter(i)}createPositionBefore(i){return at._createBefore(i)}createRange(i,o){return new Et(i,o)}createRangeOn(i){return Et._createOn(i)}createRangeIn(i){return Et._createIn(i)}createSelection(i,o,l){return new nn(i,o,l)}_disableRendering(i){this._renderingDisabled=i,0==i&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}_t(M1,Mt);class E1{constructor(i){this.parent=null,this._attrs=Lo(i)}get index(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildIndex(this)))throw new W.a("model-node-not-found-in-parent",this);return i}get startOffset(){let i;if(!this.parent)return null;if(null===(i=this.parent.getChildStartOffset(this)))throw new W.a("model-node-not-found-in-parent",this);return i}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const i=this.index;return null!==i&&this.parent.getChild(i+1)||null}get previousSibling(){const i=this.index;return null!==i&&this.parent.getChild(i-1)||null}get root(){let i=this;for(;i.parent;)i=i.parent;return i}isAttached(){return this.root.is("rootElement")}getPath(){const i=[];let o=this;for(;o.parent;)i.unshift(o.startOffset),o=o.parent;return i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}getCommonAncestor(i,o={}){const l=this.getAncestors(o),d=i.getAncestors(o);let g=0;for(;l[g]==d[g]&&l[g];)g++;return 0===g?null:l[g-1]}isBefore(i){if(this==i||this.root!==i.root)return!1;const o=this.getPath(),l=i.getPath(),d=lr(o,l);switch(d){case"prefix":return!0;case"extension":return!1;default:return o[d]<l[d]}}isAfter(i){return this!=i&&this.root===i.root&&!this.isBefore(i)}hasAttribute(i){return this._attrs.has(i)}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const i={};return this._attrs.size&&(i.attributes=Array.from(this._attrs).reduce((o,l)=>(o[l[0]]=l[1],o),{})),i}is(i){return"node"===i||"model:node"===i}_clone(){return new E1(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(i,o){this._attrs.set(i,o)}_setAttributesTo(i){this._attrs=Lo(i)}_removeAttribute(i){return this._attrs.delete(i)}_clearAttributes(){this._attrs.clear()}}class Pn extends E1{constructor(i,o){super(o),this._data=i||""}get offsetSize(){return this.data.length}get data(){return this._data}is(i){return"$text"===i||"model:$text"===i||"text"===i||"model:text"===i||"node"===i||"model:node"===i}toJSON(){const i=super.toJSON();return i.data=this.data,i}_clone(){return new Pn(this.data,this.getAttributes())}static fromJSON(i){return new Pn(i.data,i.attributes)}}class x1{constructor(i,o,l){if(this.textNode=i,o<0||o>i.offsetSize)throw new W.a("model-textproxy-wrong-offsetintext",this);if(l<0||o+l>i.offsetSize)throw new W.a("model-textproxy-wrong-length",this);this.data=i.data.substring(o,o+l),this.offsetInText=o}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}is(i){return"$textProxy"===i||"model:$textProxy"===i||"textProxy"===i||"model:textProxy"===i}getPath(){const i=this.textNode.getPath();return i.length>0&&(i[i.length-1]+=this.offsetInText),i}getAncestors(i={includeSelf:!1,parentFirst:!1}){const o=[];let l=i.includeSelf?this:this.parent;for(;l;)o[i.parentFirst?"push":"unshift"](l),l=l.parent;return o}hasAttribute(i){return this.textNode.hasAttribute(i)}getAttribute(i){return this.textNode.getAttribute(i)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class U2{constructor(i){this._nodes=[],i&&this._insertNodes(0,i)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((i,o)=>i+o.offsetSize,0)}getNode(i){return this._nodes[i]||null}getNodeIndex(i){const o=this._nodes.indexOf(i);return-1==o?null:o}getNodeStartOffset(i){const o=this.getNodeIndex(i);return null===o?null:this._nodes.slice(0,o).reduce((l,d)=>l+d.offsetSize,0)}indexToOffset(i){if(i==this._nodes.length)return this.maxOffset;const o=this._nodes[i];if(!o)throw new W.a("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(o)}offsetToIndex(i){let o=0;for(const l of this._nodes){if(i>=o&&i<o+l.offsetSize)return this.getNodeIndex(l);o+=l.offsetSize}if(o!=i)throw new W.a("model-nodelist-offset-out-of-bounds",this,{offset:i,nodeList:this});return this.length}_insertNodes(i,o){for(const l of o)if(!(l instanceof E1))throw new W.a("model-nodelist-insertnodes-not-node",this);this._nodes.splice(i,0,...o)}_removeNodes(i,o=1){return this._nodes.splice(i,o)}toJSON(){return this._nodes.map(i=>i.toJSON())}}class Zn extends E1{constructor(i,o,l){super(o),this.name=i,this._children=new U2,l&&this._insertChild(0,l)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(i,o=null){return o?o===this.name&&("element"===i||"model:element"===i):"element"===i||"model:element"===i||"node"===i||"model:node"===i}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}offsetToIndex(i){return this._children.offsetToIndex(i)}getNodeByPath(i){let o=this;for(const l of i)o=o.getChild(o.offsetToIndex(l));return o}findAncestor(i,o={includeSelf:!1}){let l=o.includeSelf?this:this.parent;for(;l;){if(l.name===i)return l;l=l.parent}return null}toJSON(){const i=super.toJSON();if(i.name=this.name,this._children.length>0){i.children=[];for(const o of this._children)i.children.push(o.toJSON())}return i}_clone(i=!1){const o=i?Array.from(this._children).map(l=>l._clone(!0)):null;return new Zn(this.name,this.getAttributes(),o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const l="string"==typeof(d=o)?[new Pn(d)]:(Kr(d)||(d=[d]),Array.from(d).map(g=>"string"==typeof g?new Pn(g):g instanceof x1?new Pn(g.data,g.getAttributes()):g));var d;for(const d of l)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,l)}_removeChildren(i,o=1){const l=this._children._removeNodes(i,o);for(const d of l)d.parent=null;return l}static fromJSON(i){let o=null;if(i.children){o=[];for(const l of i.children)o.push(l.name?Zn.fromJSON(l):Pn.fromJSON(l))}return new Zn(i.name,i.attributes,o)}}class t2{constructor(i={}){if(!i.boundaries&&!i.startPosition)throw new W.a("model-tree-walker-no-start-position",null);const o=i.direction||"forward";if("forward"!=o&&"backward"!=o)throw new W.a("model-tree-walker-unknown-direction",i,{direction:o});this.direction=o,this.boundaries=i.boundaries||null,this.position=i.startPosition?i.startPosition.clone():tt._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!i.singleCharacters,this.shallow=!!i.shallow,this.ignoreElementEnd=!!i.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(i){let o,l,d,g;do{d=this.position,g=this._visitedParent,({done:o,value:l}=this.next())}while(!o&&i(l));o||(this.position=d,this._visitedParent=g)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const i=this.position,o=this.position.clone(),l=this._visitedParent;if(null===l.parent&&o.offset===l.maxOffset)return{done:!0};if(l===this._boundaryEndParent&&o.offset==this.boundaries.end.offset)return{done:!0};const d=o.parent,g=Sr(o,d),y=g||la(o,d,g);if(y instanceof Zn)return this.shallow?o.offset++:(o.path.push(0),this._visitedParent=y),this.position=o,n2("elementStart",y,i,o,1);if(y instanceof Pn){let b;if(this.singleCharacters)b=1;else{let I=y.endOffset;this._boundaryEndParent==l&&this.boundaries.end.offset<I&&(I=this.boundaries.end.offset),b=I-o.offset}const S=new x1(y,o.offset-y.startOffset,b);return o.offset+=b,this.position=o,n2("text",S,i,o,b)}return o.path.pop(),o.offset++,this.position=o,this._visitedParent=l.parent,this.ignoreElementEnd?this._next():n2("elementEnd",l,i,o)}_previous(){const i=this.position,o=this.position.clone(),l=this._visitedParent;if(null===l.parent&&0===o.offset)return{done:!0};if(l==this._boundaryStartParent&&o.offset==this.boundaries.start.offset)return{done:!0};const d=o.parent,g=Sr(o,d),y=g||k8(o,d,g);if(y instanceof Zn)return o.offset--,this.shallow?(this.position=o,n2("elementStart",y,i,o,1)):(o.path.push(y.maxOffset),this.position=o,this._visitedParent=y,this.ignoreElementEnd?this._previous():n2("elementEnd",y,i,o));if(y instanceof Pn){let b;if(this.singleCharacters)b=1;else{let I=y.startOffset;this._boundaryStartParent==l&&this.boundaries.start.offset>I&&(I=this.boundaries.start.offset),b=o.offset-I}const S=new x1(y,o.offset-y.startOffset-b,b);return o.offset-=b,this.position=o,n2("text",S,i,o,b)}return o.path.pop(),this.position=o,this._visitedParent=l.parent,n2("elementStart",l,i,o,1)}}function n2(h,i,o,l,d){return{done:!1,value:{type:h,item:i,previousPosition:o,nextPosition:l,length:d}}}class tt{constructor(i,o,l="toNone"){if(!i.is("element")&&!i.is("documentFragment"))throw new W.a("model-position-root-invalid",i);if(!(o instanceof Array)||0===o.length)throw new W.a("model-position-path-incorrect-format",i,{path:o});i.is("rootElement")?o=o.slice():(o=[...i.getPath(),...o],i=i.root),this.root=i,this.path=o,this.stickiness=l}get offset(){return this.path[this.path.length-1]}set offset(i){this.path[this.path.length-1]=i}get parent(){let i=this.root;for(let o=0;o<this.path.length-1;o++)if(i=i.getChild(i.offsetToIndex(this.path[o])),!i)throw new W.a("model-position-path-incorrect",this,{position:this});if(i.is("$text"))throw new W.a("model-position-path-incorrect",this,{position:this});return i}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Sr(this,this.parent)}get nodeAfter(){const i=this.parent;return la(this,i,Sr(this,i))}get nodeBefore(){const i=this.parent;return k8(this,i,Sr(this,i))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(i){if(this.root!=i.root)return"different";const o=lr(this.path,i.path);switch(o){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[o]<i.path[o]?"before":"after"}}getLastMatchingPosition(i,o={}){o.startPosition=this;const l=new t2(o);return l.skip(i),l.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const i=this.parent;return i.is("documentFragment")?[i]:i.getAncestors({includeSelf:!0})}findAncestor(i){const o=this.parent;return o.is("element")?o.findAncestor(i,{includeSelf:!0}):null}getCommonPath(i){if(this.root!=i.root)return[];const o=lr(this.path,i.path),l="string"==typeof o?Math.min(this.path.length,i.path.length):o;return this.path.slice(0,l)}getCommonAncestor(i){const o=this.getAncestors(),l=i.getAncestors();let d=0;for(;o[d]==l[d]&&o[d];)d++;return 0===d?null:o[d-1]}getShiftedBy(i){const o=this.clone(),l=o.offset+i;return o.offset=l<0?0:l,o}isAfter(i){return"after"==this.compareWith(i)}isBefore(i){return"before"==this.compareWith(i)}isEqual(i){return"same"==this.compareWith(i)}isTouching(i){let o=null,l=null;switch(this.compareWith(i)){case"same":return!0;case"before":o=tt._createAt(this),l=tt._createAt(i);break;case"after":o=tt._createAt(i),l=tt._createAt(this);break;default:return!1}let d=o.parent;for(;o.path.length+l.path.length;){if(o.isEqual(l))return!0;if(o.path.length>l.path.length){if(o.offset!==d.maxOffset)return!1;o.path=o.path.slice(0,-1),d=d.parent,o.offset++}else{if(0!==l.offset)return!1;l.path=l.path.slice(0,-1)}}}is(i){return"position"===i||"model:position"===i}hasSameParentAs(i){return this.root===i.root&&"same"==lr(this.getParentPath(),i.getParentPath())}getTransformedByOperation(i){let o;switch(i.type){case"insert":o=this._getTransformedByInsertOperation(i);break;case"move":case"remove":case"reinsert":o=this._getTransformedByMoveOperation(i);break;case"split":o=this._getTransformedBySplitOperation(i);break;case"merge":o=this._getTransformedByMergeOperation(i);break;default:o=tt._createAt(this)}return o}_getTransformedByInsertOperation(i){return this._getTransformedByInsertion(i.position,i.howMany)}_getTransformedByMoveOperation(i){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}_getTransformedBySplitOperation(i){const o=i.movedRange;return o.containsPosition(this)||o.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(i.splitPosition,i.moveTargetPosition):i.graveyardPosition?this._getTransformedByMove(i.graveyardPosition,i.insertionPosition,1):this._getTransformedByInsertion(i.insertionPosition,1)}_getTransformedByMergeOperation(i){const o=i.movedRange;let l;return o.containsPosition(this)||o.start.isEqual(this)?(l=this._getCombined(i.sourcePosition,i.targetPosition),i.sourcePosition.isBefore(i.targetPosition)&&(l=l._getTransformedByDeletion(i.deletionPosition,1))):l=this.isEqual(i.deletionPosition)?tt._createAt(i.deletionPosition):this._getTransformedByMove(i.deletionPosition,i.graveyardPosition,1),l}_getTransformedByDeletion(i,o){const l=tt._createAt(this);if(this.root!=i.root)return l;if("same"==lr(i.getParentPath(),this.getParentPath())){if(i.offset<this.offset){if(i.offset+o>this.offset)return null;l.offset-=o}}else if("prefix"==lr(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;if(i.offset<=this.path[d]){if(i.offset+o>this.path[d])return null;l.path[d]-=o}}return l}_getTransformedByInsertion(i,o){const l=tt._createAt(this);if(this.root!=i.root)return l;if("same"==lr(i.getParentPath(),this.getParentPath()))(i.offset<this.offset||i.offset==this.offset&&"toPrevious"!=this.stickiness)&&(l.offset+=o);else if("prefix"==lr(i.getParentPath(),this.getParentPath())){const d=i.path.length-1;i.offset<=this.path[d]&&(l.path[d]+=o)}return l}_getTransformedByMove(i,o,l){if(o=o._getTransformedByDeletion(i,l),i.isEqual(o))return tt._createAt(this);const d=this._getTransformedByDeletion(i,l);return null===d||i.isEqual(this)&&"toNext"==this.stickiness||i.getShiftedBy(l).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(i,o):d._getTransformedByInsertion(o,l)}_getCombined(i,o){const l=i.path.length-1,d=tt._createAt(o);return d.stickiness=this.stickiness,d.offset=d.offset+this.path[l]-i.offset,d.path=[...d.path,...this.path.slice(l+1)],d}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(i,o,l="toNone"){if(i instanceof tt)return new tt(i.root,i.path,i.stickiness);{const d=i;if("end"==o)o=d.maxOffset;else{if("before"==o)return this._createBefore(d,l);if("after"==o)return this._createAfter(d,l);if(0!==o&&!o)throw new W.a("model-createpositionat-offset-required",[this,i])}if(!d.is("element")&&!d.is("documentFragment"))throw new W.a("model-position-parent-incorrect",[this,i]);const g=d.getPath();return g.push(o),new this(d.root,g,l)}}static _createAfter(i,o){if(!i.parent)throw new W.a("model-position-after-root",[this,i],{root:i});return this._createAt(i.parent,i.endOffset,o)}static _createBefore(i,o){if(!i.parent)throw new W.a("model-position-before-root",i,{root:i});return this._createAt(i.parent,i.startOffset,o)}static fromJSON(i,o){if("$graveyard"===i.root){const l=new tt(o.graveyard,i.path);return l.stickiness=i.stickiness,l}if(!o.getRoot(i.root))throw new W.a("model-position-fromjson-no-root",o,{rootName:i.root});return new tt(o.getRoot(i.root),i.path,i.stickiness)}}function Sr(h,i){const o=i.getChild(i.offsetToIndex(h.offset));return o&&o.is("$text")&&o.startOffset<h.offset?o:null}function la(h,i,o){return null!==o?null:i.getChild(i.offsetToIndex(h.offset))}function k8(h,i,o){return null!==o?null:i.getChild(i.offsetToIndex(h.offset)-1)}class Be{constructor(i,o=null){this.start=tt._createAt(i),this.end=tt._createAt(o||i),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new t2({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==lr(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(i){return i.isAfter(this.start)&&i.isBefore(this.end)}containsRange(i,o=!1){i.isCollapsed&&(o=!1);const l=this.containsPosition(i.start)||o&&this.start.isEqual(i.start),d=this.containsPosition(i.end)||o&&this.end.isEqual(i.end);return l&&d}containsItem(i){const o=tt._createBefore(i);return this.containsPosition(o)||this.start.isEqual(o)}is(i){return"range"===i||"model:range"===i}isEqual(i){return this.start.isEqual(i.start)&&this.end.isEqual(i.end)}isIntersecting(i){return this.start.isBefore(i.end)&&this.end.isAfter(i.start)}getDifference(i){const o=[];return this.isIntersecting(i)?(this.containsPosition(i.start)&&o.push(new Be(this.start,i.start)),this.containsPosition(i.end)&&o.push(new Be(i.end,this.end))):o.push(new Be(this.start,this.end)),o}getIntersection(i){if(this.isIntersecting(i)){let o=this.start,l=this.end;return this.containsPosition(i.start)&&(o=i.start),this.containsPosition(i.end)&&(l=i.end),new Be(o,l)}return null}getJoined(i,o=!1){let l=this.isIntersecting(i);if(l||(l=this.start.isBefore(i.start)?o?this.end.isTouching(i.start):this.end.isEqual(i.start):o?i.end.isTouching(this.start):i.end.isEqual(this.start)),!l)return null;let d=this.start,g=this.end;return i.start.isBefore(d)&&(d=i.start),i.end.isAfter(g)&&(g=i.end),new Be(d,g)}getMinimalFlatRanges(){const i=[],o=this.start.getCommonPath(this.end).length,l=tt._createAt(this.start);let d=l.parent;for(;l.path.length>o+1;){const g=d.maxOffset-l.offset;0!==g&&i.push(new Be(l,l.getShiftedBy(g))),l.path=l.path.slice(0,-1),l.offset++,d=d.parent}for(;l.path.length<=this.end.path.length;){const g=this.end.path[l.path.length-1],y=g-l.offset;0!==y&&i.push(new Be(l,l.getShiftedBy(y))),l.offset=g,l.path.push(0)}return i}getWalker(i={}){return i.boundaries=this,new t2(i)}*getItems(i={}){i.boundaries=this,i.ignoreElementEnd=!0;const o=new t2(i);for(const l of o)yield l.item}*getPositions(i={}){i.boundaries=this;const o=new t2(i);yield o.position;for(const l of o)yield l.nextPosition}getTransformedByOperation(i){switch(i.type){case"insert":return this._getTransformedByInsertOperation(i);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(i);case"split":return[this._getTransformedBySplitOperation(i)];case"merge":return[this._getTransformedByMergeOperation(i)]}return[new Be(this.start,this.end)]}getTransformedByOperations(i){const o=[new Be(this.start,this.end)];for(const l of i)for(let d=0;d<o.length;d++){const g=o[d].getTransformedByOperation(l);o.splice(d,1,...g),d+=g.length-1}for(let l=0;l<o.length;l++){const d=o[l];for(let g=l+1;g<o.length;g++){const y=o[g];(d.containsRange(y)||y.containsRange(d)||d.isEqual(y))&&o.splice(g,1)}}return o}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const i=this.start.nodeAfter,o=this.end.nodeBefore;return i&&i.is("element")&&i===o?i:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(i,o=!1){return this._getTransformedByInsertion(i.position,i.howMany,o)}_getTransformedByMoveOperation(i,o=!1){return this._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany,o)}_getTransformedBySplitOperation(i){const o=this.start._getTransformedBySplitOperation(i);let l=this.end._getTransformedBySplitOperation(i);return this.end.isEqual(i.insertionPosition)&&(l=this.end.getShiftedBy(1)),o.root!=l.root&&(l=this.end.getShiftedBy(-1)),new Be(o,l)}_getTransformedByMergeOperation(i){if(this.start.isEqual(i.targetPosition)&&this.end.isEqual(i.deletionPosition))return new Be(this.start);let o=this.start._getTransformedByMergeOperation(i),l=this.end._getTransformedByMergeOperation(i);return o.root!=l.root&&(l=this.end.getShiftedBy(-1)),o.isAfter(l)?(i.sourcePosition.isBefore(i.targetPosition)?(o=tt._createAt(l),o.offset=0):(i.deletionPosition.isEqual(o)||(l=i.deletionPosition),o=i.targetPosition),new Be(o,l)):new Be(o,l)}_getTransformedByInsertion(i,o,l=!1){if(l&&this.containsPosition(i))return[new Be(this.start,i),new Be(i.getShiftedBy(o),this.end._getTransformedByInsertion(i,o))];{const d=new Be(this.start,this.end);return d.start=d.start._getTransformedByInsertion(i,o),d.end=d.end._getTransformedByInsertion(i,o),[d]}}_getTransformedByMove(i,o,l,d=!1){if(this.isCollapsed){const z=this.start._getTransformedByMove(i,o,l);return[new Be(z)]}const g=Be._createFromPositionAndShift(i,l),y=o._getTransformedByDeletion(i,l);if(this.containsPosition(o)&&!d&&(g.containsPosition(this.start)||g.containsPosition(this.end))){const z=this.start._getTransformedByMove(i,o,l),H=this.end._getTransformedByMove(i,o,l);return[new Be(z,H)]}let b;const M=this.getDifference(g);let S=null;const I=this.getIntersection(g);if(1==M.length?S=new Be(M[0].start._getTransformedByDeletion(i,l),M[0].end._getTransformedByDeletion(i,l)):2==M.length&&(S=new Be(this.start,this.end._getTransformedByDeletion(i,l))),b=S?S._getTransformedByInsertion(y,l,null!==I||d):[],I){const z=new Be(I.start._getCombined(g.start,y),I.end._getCombined(g.start,y));2==b.length?b.splice(1,0,z):b.push(z)}return b}_getTransformedByDeletion(i,o){let l=this.start._getTransformedByDeletion(i,o),d=this.end._getTransformedByDeletion(i,o);return null==l&&null==d?null:(null==l&&(l=i),null==d&&(d=i),new Be(l,d))}static _createFromPositionAndShift(i,o){const l=i,d=i.getShiftedBy(o);return o>0?new this(l,d):new this(d,l)}static _createIn(i){return new this(tt._createAt(i,0),tt._createAt(i,i.maxOffset))}static _createOn(i){return this._createFromPositionAndShift(tt._createBefore(i),i.offsetSize)}static _createFromRanges(i){if(0===i.length)throw new W.a("range-create-from-ranges-empty-array",null);if(1==i.length)return i[0].clone();const o=i[0];i.sort((g,y)=>g.start.isAfter(y.start)?1:-1);const l=i.indexOf(o),d=new this(o.start,o.end);if(l>0)for(let g=l-1;i[g].end.isEqual(d.start);g++)d.start=tt._createAt(i[g].start);for(let g=l+1;g<i.length&&i[g].start.isEqual(d.end);g++)d.end=tt._createAt(i[g].end);return d}static fromJSON(i,o){return new this(tt.fromJSON(i.start,o),tt.fromJSON(i.end,o))}}class H4{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(i,o)=>{if(o.viewPosition)return;const l=this._modelToViewMapping.get(o.modelPosition.parent);o.viewPosition=this.findPositionIn(l,o.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(i,o)=>{if(o.modelPosition)return;const l=this.findMappedViewAncestor(o.viewPosition),d=this._viewToModelMapping.get(l),g=this._toModelOffset(o.viewPosition.parent,o.viewPosition.offset,l);o.modelPosition=tt._createAt(d,g)},{priority:"low"})}bindElements(i,o){this._modelToViewMapping.set(i,o),this._viewToModelMapping.set(o,i)}unbindViewElement(i){const o=this.toModelElement(i);if(this._viewToModelMapping.delete(i),this._elementToMarkerNames.has(i))for(const l of this._elementToMarkerNames.get(i))this._unboundMarkerNames.add(l);this._modelToViewMapping.get(o)==i&&this._modelToViewMapping.delete(o)}unbindModelElement(i){const o=this.toViewElement(i);this._modelToViewMapping.delete(i),this._viewToModelMapping.get(o)==i&&this._viewToModelMapping.delete(o)}bindElementToMarker(i,o){const l=this._markerNameToElements.get(o)||new Set;l.add(i);const d=this._elementToMarkerNames.get(i)||new Set;d.add(o),this._markerNameToElements.set(o,l),this._elementToMarkerNames.set(i,d)}unbindElementFromMarkerName(i,o){const l=this._markerNameToElements.get(o);l&&(l.delete(i),0==l.size&&this._markerNameToElements.delete(o));const d=this._elementToMarkerNames.get(i);d&&(d.delete(o),0==d.size&&this._elementToMarkerNames.delete(i))}flushUnboundMarkerNames(){const i=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),i}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}toModelElement(i){return this._viewToModelMapping.get(i)}toViewElement(i){return this._modelToViewMapping.get(i)}toModelRange(i){return new Be(this.toModelPosition(i.start),this.toModelPosition(i.end))}toViewRange(i){return new Et(this.toViewPosition(i.start),this.toViewPosition(i.end))}toModelPosition(i){const o={viewPosition:i,mapper:this};return this.fire("viewToModelPosition",o),o.modelPosition}toViewPosition(i,o={isPhantom:!1}){const l={modelPosition:i,mapper:this,isPhantom:o.isPhantom};return this.fire("modelToViewPosition",l),l.viewPosition}markerNameToElements(i){const o=this._markerNameToElements.get(i);if(!o)return null;const l=new Set;for(const d of o)if(d.is("attributeElement"))for(const g of d.getElementsWithSameId())l.add(g);else l.add(d);return l}registerViewToModelLength(i,o){this._viewToModelLengthCallbacks.set(i,o)}findMappedViewAncestor(i){let o=i.parent;for(;!this._viewToModelMapping.has(o);)o=o.parent;return o}_toModelOffset(i,o,l){if(l!=i)return this._toModelOffset(i.parent,i.index,l)+this._toModelOffset(i,o,i);if(i.is("$text"))return o;let d=0;for(let g=0;g<o;g++)d+=this.getModelLength(i.getChild(g));return d}getModelLength(i){if(this._viewToModelLengthCallbacks.get(i.name))return this._viewToModelLengthCallbacks.get(i.name)(i);if(this._viewToModelMapping.has(i))return 1;if(i.is("$text"))return i.data.length;if(i.is("uiElement"))return 0;{let o=0;for(const l of i.getChildren())o+=this.getModelLength(l);return o}}findPositionIn(i,o){let l,d=0,g=0,y=0;if(i.is("$text"))return new at(i,o);for(;g<o;)l=i.getChild(y),d=this.getModelLength(l),g+=d,y++;return g==o?this._moveViewPositionToTextNode(new at(i,y)):this.findPositionIn(l,o-(g-d))}_moveViewPositionToTextNode(i){const o=i.nodeBefore,l=i.nodeAfter;return o instanceof Ln?new at(o,o.data.length):l instanceof Ln?new at(l,0):i}}_t(H4,se);class t0{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(i,o){o=Uc(o),i instanceof x1&&(i=this._getSymbolForTextProxy(i)),this._consumable.has(i)||this._consumable.set(i,new Map),this._consumable.get(i).set(o,!0)}consume(i,o){return o=Uc(o),i instanceof x1&&(i=this._getSymbolForTextProxy(i)),!!this.test(i,o)&&(this._consumable.get(i).set(o,!1),!0)}test(i,o){o=Uc(o),i instanceof x1&&(i=this._getSymbolForTextProxy(i));const l=this._consumable.get(i);if(void 0===l)return null;const d=l.get(o);return void 0===d?null:d}revert(i,o){o=Uc(o),i instanceof x1&&(i=this._getSymbolForTextProxy(i));const l=this.test(i,o);return!1===l?(this._consumable.get(i).set(o,!0),!0):!0!==l&&null}_getSymbolForTextProxy(i){let o=null;const l=this._textProxyRegistry.get(i.startOffset);if(l){const d=l.get(i.endOffset);d&&(o=d.get(i.parent))}return o||(o=this._addSymbolForTextProxy(i.startOffset,i.endOffset,i.parent)),o}_addSymbolForTextProxy(i,o,l){const d=Symbol("textProxySymbol");let g,y;return g=this._textProxyRegistry.get(i),g||(g=new Map,this._textProxyRegistry.set(i,g)),y=g.get(o),y||(y=new Map,g.set(o,y)),y.set(l,d),d}}function Uc(h){const i=h.split(":");return"addMarker"==i[0]||"removeMarker"==i[0]?h:i.length>1?i[0]+":"+i[1]:i[0]}class q2{constructor(i){this.conversionApi=Object.assign({dispatcher:this},i),this._reconversionEventsMapping=new Map}convertChanges(i,o,l){for(const g of i.getMarkersToRemove())this.convertMarkerRemove(g.name,g.range,l);const d=this._mapChangesWithAutomaticReconversion(i);for(const g of d)"insert"===g.type?this.convertInsert(Be._createFromPositionAndShift(g.position,g.length),l):"remove"===g.type?this.convertRemove(g.position,g.length,g.name,l):"reconvert"===g.type?this.reconvertElement(g.element,l):this.convertAttribute(g.range,g.attributeKey,g.attributeOldValue,g.attributeNewValue,l);for(const g of this.conversionApi.mapper.flushUnboundMarkerNames()){const y=o.get(g).getRange();this.convertMarkerRemove(g,y,l),this.convertMarkerAdd(g,y,l)}for(const g of i.getMarkersToAdd())this.convertMarkerAdd(g.name,g.range,l)}convertInsert(i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createInsertConsumable(i);for(const l of Array.from(i).map(M6))this._convertInsertWithAttributes(l);this._clearConversionApi()}convertRemove(i,o,l,d){this.conversionApi.writer=d,this.fire("remove:"+l,{position:i,length:o},this.conversionApi),this._clearConversionApi()}convertAttribute(i,o,l,d,g){this.conversionApi.writer=g,this.conversionApi.consumable=this._createConsumableForRange(i,"attribute:"+o);for(const y of i){const b={item:y.item,range:Be._createFromPositionAndShift(y.previousPosition,y.length),attributeKey:o,attributeOldValue:l,attributeNewValue:d};this._testAndFire("attribute:"+o,b)}this._clearConversionApi()}reconvertElement(i,o){const l=Be._createOn(i);this.conversionApi.writer=o,this.conversionApi.consumable=this._createInsertConsumable(l);const d=this.conversionApi.mapper,g=d.toViewElement(i);o.remove(g),this._convertInsertWithAttributes({item:i,range:l});const y=d.toViewElement(i);for(const b of Be._createIn(i)){const{item:M}=b,S=r2(M,d);S?S.root!==y.root&&o.move(o.createRangeOn(S),d.toViewPosition(tt._createBefore(M))):this._convertInsertWithAttributes(M6(b))}d.unbindViewElement(g),this._clearConversionApi()}convertSelection(i,o,l){const d=Array.from(o.getMarkersAtPosition(i.getFirstPosition()));if(this.conversionApi.writer=l,this.conversionApi.consumable=this._createSelectionConsumable(i,d),this.fire("selection",{selection:i},this.conversionApi),i.isCollapsed){for(const g of d){const y=g.getRange();if(!M8(i.getFirstPosition(),g,this.conversionApi.mapper))continue;const b={item:i,markerName:g.name,markerRange:y};this.conversionApi.consumable.test(i,"addMarker:"+g.name)&&this.fire("addMarker:"+g.name,b,this.conversionApi)}for(const g of i.getAttributeKeys()){const y={item:i,range:i.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:i.getAttribute(g)};this.conversionApi.consumable.test(i,"attribute:"+y.attributeKey)&&this.fire("attribute:"+y.attributeKey+":$text",y,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerAdd(i,o,l){if("$graveyard"==o.root.rootName)return;this.conversionApi.writer=l;const d="addMarker:"+i,g=new t0;if(g.add(o,d),this.conversionApi.consumable=g,this.fire(d,{markerName:i,markerRange:o},this.conversionApi),g.test(o,d)){this.conversionApi.consumable=this._createConsumableForRange(o,d);for(const y of o.getItems()){if(!this.conversionApi.consumable.test(y,d))continue;const b={item:y,range:Be._createOn(y),markerName:i,markerRange:o};this.fire(d,b,this.conversionApi)}this._clearConversionApi()}else this._clearConversionApi()}convertMarkerRemove(i,o,l){"$graveyard"!=o.root.rootName&&(this.conversionApi.writer=l,this.fire("removeMarker:"+i,{markerName:i,markerRange:o},this.conversionApi),this._clearConversionApi())}_mapReconversionTriggerEvent(i,o){this._reconversionEventsMapping.set(o,i)}_createInsertConsumable(i){const o=new t0;for(const l of i){const d=l.item;o.add(d,"insert");for(const g of d.getAttributeKeys())o.add(d,"attribute:"+g)}return o}_createConsumableForRange(i,o){const l=new t0;for(const d of i.getItems())l.add(d,o);return l}_createSelectionConsumable(i,o){const l=new t0;l.add(i,"selection");for(const d of o)l.add(i,"addMarker:"+d.name);for(const d of i.getAttributeKeys())l.add(i,"attribute:"+d);return l}_testAndFire(i,o){this.conversionApi.consumable.test(o.item,i)&&this.fire(`${i}:${o.item.name||"$text"}`,o,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}_convertInsertWithAttributes(i){this._testAndFire("insert",i);for(const o of i.item.getAttributeKeys())i.attributeKey=o,i.attributeOldValue=null,i.attributeNewValue=i.item.getAttribute(o),this._testAndFire("attribute:"+o,i)}_mapChangesWithAutomaticReconversion(i){const o=new Set,l=[];for(const d of i.getChanges()){const g=d.position||d.range.start,y=g.parent;if(Sr(g,y)){l.push(d);continue}const b="attribute"===d.type?la(g,y,null):y;if(b.is("$text")){l.push(d);continue}let M;if(M="attribute"===d.type?`attribute:${d.attributeKey}:${b.name}`:`${d.type}:${d.name}`,this._isReconvertTriggerEvent(M,b.name)){if(o.has(b))continue;o.add(b),l.push({type:"reconvert",element:b})}else l.push(d)}return l}_isReconvertTriggerEvent(i,o){return this._reconversionEventsMapping.get(i)===o}}function M8(h,i,o){const l=i.getRange(),d=Array.from(h.getAncestors());return d.shift(),d.reverse(),!d.some(g=>{if(l.containsItem(g))return!!o.toViewElement(g).getCustomProperty("addHighlight")})}function M6(h){return{item:h.item,range:Be._createFromPositionAndShift(h.previousPosition,h.length)}}function r2(h,i){if(h.is("textProxy")){const o=i.toViewPosition(tt._createBefore(h)).parent;return o.is("$text")?o:null}return i.toViewElement(h)}_t(q2,se);class ua{constructor(i,o,l){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,i&&this.setTo(i,o,l)}get anchor(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.end:i.start}return null}get focus(){if(this._ranges.length>0){const i=this._ranges[this._ranges.length-1];return this._lastRangeBackward?i.start:i.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(i){if(this.rangeCount!=i.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(i.anchor)||!this.focus.isEqual(i.focus))return!1;for(const o of this._ranges){let l=!1;for(const d of i._ranges)if(o.isEqual(d)){l=!0;break}if(!l)return!1}return!0}*getRanges(){for(const i of this._ranges)yield new Be(i.start,i.end)}getFirstRange(){let i=null;for(const o of this._ranges)i&&!o.start.isBefore(i.start)||(i=o);return i?new Be(i.start,i.end):null}getLastRange(){let i=null;for(const o of this._ranges)i&&!o.end.isAfter(i.end)||(i=o);return i?new Be(i.start,i.end):null}getFirstPosition(){const i=this.getFirstRange();return i?i.start.clone():null}getLastPosition(){const i=this.getLastRange();return i?i.end.clone():null}setTo(i,o,l){if(null===i)this._setRanges([]);else if(i instanceof ua)this._setRanges(i.getRanges(),i.isBackward);else if(i&&"function"==typeof i.getRanges)this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof Be)this._setRanges([i],!!o&&!!o.backward);else if(i instanceof tt)this._setRanges([new Be(i)]);else if(i instanceof E1){const d=!!l&&!!l.backward;let g;if("in"==o)g=Be._createIn(i);else if("on"==o)g=Be._createOn(i);else{if(void 0===o)throw new W.a("model-selection-setto-required-second-parameter",[this,i]);g=new Be(tt._createAt(i,o))}this._setRanges([g],d)}else{if(!Kr(i))throw new W.a("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,o&&!!o.backward)}}_setRanges(i,o=!1){const l=(i=Array.from(i)).some(d=>{if(!(d instanceof Be))throw new W.a("model-selection-set-ranges-not-range",[this,i]);return this._ranges.every(g=>!g.isEqual(d))});if(i.length!==this._ranges.length||l){this._removeAllRanges();for(const d of i)this._pushRange(d);this._lastRangeBackward=!!o,this.fire("change:range",{directChange:!0})}}setFocus(i,o){if(null===this.anchor)throw new W.a("model-selection-setfocus-no-ranges",[this,i]);const l=tt._createAt(i,o);if("same"==l.compareWith(this.focus))return;const d=this.anchor;this._ranges.length&&this._popRange(),"before"==l.compareWith(d)?(this._pushRange(new Be(l,d)),this._lastRangeBackward=!0):(this._pushRange(new Be(d,l)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(i){return this._attrs.get(i)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(i){return this._attrs.has(i)}removeAttribute(i){this.hasAttribute(i)&&(this._attrs.delete(i),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}setAttribute(i,o){this.getAttribute(i)!==o&&(this._attrs.set(i,o),this.fire("change:attribute",{attributeKeys:[i],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}is(i){return"selection"===i||"model:selection"===i}*getSelectedBlocks(){const i=new WeakSet;for(const o of this.getRanges()){const l=Ei(o.start,i);l&&r0(l,o)&&(yield l);for(const g of o.getWalker()){const y=g.item;"elementEnd"==g.type&&E8(y,i,o)&&(yield y)}const d=Ei(o.end,i);d&&!o.end.isTouching(tt._createAt(d,0))&&r0(d,o)&&(yield d)}}containsEntireContent(i=this.anchor.root){const o=tt._createAt(i,0),l=tt._createAt(i,"end");return o.isTouching(this.getFirstPosition())&&l.isTouching(this.getLastPosition())}_pushRange(i){this._checkRange(i),this._ranges.push(new Be(i.start,i.end))}_checkRange(i){for(let o=0;o<this._ranges.length;o++)if(i.isIntersecting(this._ranges[o]))throw new W.a("model-selection-range-intersects",[this,i],{addedRange:i,intersectingRange:this._ranges[o]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function n0(h,i){return!i.has(h)&&(i.add(h),h.root.document.model.schema.isBlock(h)&&h.parent)}function E8(h,i,o){return n0(h,i)&&r0(h,o)}function Ei(h,i){const o=h.parent.root.document.model.schema,l=h.parent.getAncestors({parentFirst:!0,includeSelf:!0});let d=!1;const g=l.find(y=>!d&&(d=o.isLimit(y),!d&&n0(y,i)));return l.forEach(y=>i.add(y)),g}function r0(h,i){const o=function(l){const d=l.root.document.model.schema;let g=l.parent;for(;g;){if(d.isBlock(g))return g;g=g.parent}}(h);return!o||!i.containsRange(Be._createOn(o),!0)}_t(ua,se);class da extends Be{constructor(i,o){super(i,o),o0.call(this)}detach(){this.stopListening()}is(i){return"liveRange"===i||"model:liveRange"===i||"range"==i||"model:range"===i}toRange(){return new Be(this.start,this.end)}static fromRange(i){return new da(i.start,i.end)}}function o0(){this.listenTo(this.root.document.model,"applyOperation",(h,i)=>{const o=i[0];o.isDocumentOperation&&x8.call(this,o)},{priority:"low"})}function x8(h){const i=this.getTransformedByOperation(h),o=Be._createFromRanges(i),l=!o.isEqual(this),d=function(y,b){switch(b.type){case"insert":return y.containsPosition(b.position);case"move":case"remove":case"reinsert":case"merge":return y.containsPosition(b.sourcePosition)||y.start.isEqual(b.sourcePosition)||y.containsPosition(b.targetPosition);case"split":return y.containsPosition(b.splitPosition)||y.containsPosition(b.insertionPosition)}return!1}(this,h);let g=null;if(l){"$graveyard"==o.root.rootName&&(g="remove"==h.type?h.sourcePosition:h.deletionPosition);const y=this.toRange();this.start=o.start,this.end=o.end,this.fire("change:range",y,{deletionPosition:g})}else d&&this.fire("change:content",this.toRange(),{deletionPosition:g})}_t(da,se);class cs{constructor(i){this._selection=new A8(i),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(i){return this._selection.containsEntireContent(i)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(i){return this._selection.getAttribute(i)}hasAttribute(i){return this._selection.hasAttribute(i)}refresh(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(i){this._selection.observeMarkers(i)}is(i){return"selection"===i||"model:selection"==i||"documentSelection"==i||"model:documentSelection"==i}_setFocus(i,o){this._selection.setFocus(i,o)}_setTo(i,o,l){this._selection.setTo(i,o,l)}_setAttribute(i,o){this._selection.setAttribute(i,o)}_removeAttribute(i){this._selection.removeAttribute(i)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(i){this._selection.restoreGravity(i)}static _getStoreAttributeKey(i){return"selection:"+i}static _isStoreAttributeKey(i){return i.startsWith("selection:")}}_t(cs,se);class A8 extends ua{constructor(i){super(),this.markers=new zi({idProperty:"name"}),this._model=i.model,this._document=i,this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this.listenTo(this._model,"applyOperation",(o,l)=>{const d=l[0];d.isDocumentOperation&&"marker"!=d.type&&"rename"!=d.type&&"noop"!=d.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{for(const o of this.getRanges())if(!this._document._validateSelectionRange(o))throw new W.a("document-selection-wrong-position",this,{range:o})}),this.listenTo(this._model.markers,"update",(o,l,d,g)=>{this._updateMarker(l,g)}),this.listenTo(this._document,"change",(o,l)=>{!function(d,g){const y=d.document.differ;for(const b of y.getChanges()){if("insert"!=b.type)continue;const M=b.position.parent;b.length===M.maxOffset&&d.enqueueChange(g,S=>{const I=Array.from(M.getAttributeKeys()).filter(z=>z.startsWith("selection:"));for(const z of I)S.removeAttribute(z,M)})}}(this._model,l)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let i=0;i<this._ranges.length;i++)this._ranges[i].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(i,o,l){super.setTo(i,o,l),this._updateAttributes(!0),this._updateMarkers()}setFocus(i,o){super.setFocus(i,o),this._updateAttributes(!0),this._updateMarkers()}setAttribute(i,o){this._setAttribute(i,o)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}removeAttribute(i){this._removeAttribute(i)&&this.fire("change:attribute",{attributeKeys:[i],directChange:!0})}overrideGravity(){const i=pe();return this._overriddenGravityRegister.add(i),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),i}restoreGravity(i){if(!this._overriddenGravityRegister.has(i))throw new W.a("document-selection-gravity-wrong-restore",this,{uid:i});this._overriddenGravityRegister.delete(i),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(i){this._observedMarkers.add(i),this._updateMarkers()}_popRange(){this._ranges.pop().detach()}_pushRange(i){const o=this._prepareRange(i);o&&this._ranges.push(o)}_prepareRange(i){if(this._checkRange(i),i.root==this._document.graveyard)return;const o=da.fromRange(i);return o.on("change:range",(l,d,g)=>{if(this._hasChangedRange=!0,o.root==this._document.graveyard){this._selectionRestorePosition=g.deletionPosition;const y=this._ranges.indexOf(o);this._ranges.splice(y,1),o.detach()}}),o}_updateMarkers(){if(!this._observedMarkers.size)return;const i=[];let o=!1;for(const d of this._model.markers){const g=d.name.split(":",1)[0];if(!this._observedMarkers.has(g))continue;const y=d.getRange();for(const b of this.getRanges())y.containsRange(b,!b.isCollapsed)&&i.push(d)}const l=Array.from(this.markers);for(const d of i)this.markers.has(d)||(this.markers.add(d),o=!0);for(const d of Array.from(this.markers))i.includes(d)||(this.markers.remove(d),o=!0);o&&this.fire("change:marker",{oldMarkers:l,directChange:!1})}_updateMarker(i,o){const l=i.name.split(":",1)[0];if(!this._observedMarkers.has(l))return;let d=!1;const g=Array.from(this.markers),y=this.markers.has(i);if(o){let b=!1;for(const M of this.getRanges())if(o.containsRange(M,!M.isCollapsed)){b=!0;break}b&&!y?(this.markers.add(i),d=!0):!b&&y&&(this.markers.remove(i),d=!0)}else y&&(this.markers.remove(i),d=!0);d&&this.fire("change:marker",{oldMarkers:g,directChange:!1})}_updateAttributes(i){const o=Lo(this._getSurroundingAttributes()),l=Lo(this.getAttributes());if(i)this._attributePriority=new Map,this._attrs=new Map;else for(const[g,y]of this._attributePriority)"low"==y&&(this._attrs.delete(g),this._attributePriority.delete(g));this._setAttributesTo(o);const d=[];for(const[g,y]of this.getAttributes())l.has(g)&&l.get(g)===y||d.push(g);for(const[g]of l)this.hasAttribute(g)||d.push(g);d.length>0&&this.fire("change:attribute",{attributeKeys:d,directChange:!1})}_setAttribute(i,o,l=!0){const d=l?"normal":"low";return("low"!=d||"normal"!=this._attributePriority.get(i))&&super.getAttribute(i)!==o&&(this._attrs.set(i,o),this._attributePriority.set(i,d),!0)}_removeAttribute(i,o=!0){const l=o?"normal":"low";return!("low"==l&&"normal"==this._attributePriority.get(i)||(this._attributePriority.set(i,l),!super.hasAttribute(i)||(this._attrs.delete(i),0)))}_setAttributesTo(i){const o=new Set;for(const[l,d]of this.getAttributes())i.get(l)!==d&&this._removeAttribute(l,!1);for(const[l,d]of i)this._setAttribute(l,d,!1)&&o.add(l);return o}*_getStoredAttributes(){const i=this.getFirstPosition().parent;if(this.isCollapsed&&i.isEmpty)for(const o of i.getAttributeKeys())o.startsWith("selection:")&&(yield[o.substr("selection:".length),i.getAttribute(o)])}_getSurroundingAttributes(){const i=this.getFirstPosition(),o=this._model.schema;let l=null;if(this.isCollapsed){const d=i.textNode?i.textNode:i.nodeBefore,g=i.textNode?i.textNode:i.nodeAfter;if(this.isGravityOverridden||(l=qc(d)),l||(l=qc(g)),!this.isGravityOverridden&&!l){let y=d;for(;y&&!o.isInline(y)&&!l;)y=y.previousSibling,l=qc(y)}if(!l){let y=g;for(;y&&!o.isInline(y)&&!l;)y=y.nextSibling,l=qc(y)}l||(l=this._getStoredAttributes())}else{const d=this.getFirstRange();for(const g of d){if(g.item.is("element")&&o.isObject(g.item))break;if("text"==g.type){l=g.item.getAttributes();break}}}return l}_fixGraveyardSelection(i){const o=this._model.schema.getNearestSelectionRange(i);o&&this._pushRange(o)}}function qc(h){return h instanceof x1||h instanceof Pn?h.getAttributes():null}class E6{constructor(i){this._dispatchers=i}add(i){for(const o of this._dispatchers)i(o);return this}}var Is=function(h){return xl(h,5)};class S8 extends E6{elementToElement(i){return this.add(function(o){return(o=Is(o)).view=dr(o.view,"container"),l=>{var d;if(l.on("insert:"+o.model,(d=o.view,(g,y,b)=>{const M=d(y.item,b);if(!M||!b.consumable.consume(y.item,"insert"))return;const S=b.mapper.toViewPosition(y.range.start);b.mapper.bindElements(y.item,M),b.writer.insert(S,M)}),{priority:o.converterPriority||"normal"}),o.triggerBy){if(o.triggerBy.attributes)for(const g of o.triggerBy.attributes)l._mapReconversionTriggerEvent(o.model,`attribute:${g}:${o.model}`);if(o.triggerBy.children)for(const g of o.triggerBy.children)l._mapReconversionTriggerEvent(o.model,"insert:"+g),l._mapReconversionTriggerEvent(o.model,"remove:"+g)}}}(i))}attributeToElement(i){return this.add(function(o){let l="attribute:"+((o=Is(o)).model.key?o.model.key:o.model);if(o.model.name&&(l+=":"+o.model.name),o.model.values)for(const g of o.model.values)o.view[g]=dr(o.view[g],"attribute");else o.view=dr(o.view,"attribute");const d=Gc(o);return g=>{var y;g.on(l,(y=d,(b,M,S)=>{const I=y(M.attributeOldValue,S),z=y(M.attributeNewValue,S);if(!I&&!z||!S.consumable.consume(M.item,b.name))return;const H=S.writer;if(M.item instanceof ua||M.item instanceof cs)H.wrap(H.document.selection.getFirstRange(),z);else{let J=S.mapper.toViewRange(M.range);null!==M.attributeOldValue&&I&&(J=H.unwrap(J,I)),null!==M.attributeNewValue&&z&&H.wrap(J,z)}}),{priority:o.converterPriority||"normal"})}}(i))}attributeToAttribute(i){return this.add(function(o){let l="attribute:"+((o=Is(o)).model.key?o.model.key:o.model);if(o.model.name&&(l+=":"+o.model.name),o.model.values)for(const g of o.model.values)o.view[g]=s0(o.view[g]);else o.view=s0(o.view);const d=Gc(o);return g=>{var y;g.on(l,(y=d,(b,M,S)=>{const I=y(M.attributeOldValue,S),z=y(M.attributeNewValue,S);if(!I&&!z||!S.consumable.consume(M.item,b.name))return;const H=S.mapper.toViewElement(M.item),Y=S.writer;if(!H)throw new W.a("conversion-attribute-to-attribute-on-text",[M,S]);if(null!==M.attributeOldValue&&I)if("class"==I.key){const J=Vi(I.value);for(const ee of J)Y.removeClass(ee,H)}else if("style"==I.key){const J=Object.keys(I.value);for(const ee of J)Y.removeStyle(ee,H)}else Y.removeAttribute(I.key,H);if(null!==M.attributeNewValue&&z)if("class"==z.key){const J=Vi(z.value);for(const ee of J)Y.addClass(ee,H)}else if("style"==z.key){const J=Object.keys(z.value);for(const ee of J)Y.setStyle(ee,z.value[ee],H)}else Y.setAttribute(z.key,z.value,H)}),{priority:o.converterPriority||"normal"})}}(i))}markerToElement(i){return this.add(function(o){return(o=Is(o)).view=dr(o.view,"ui"),l=>{var d;l.on("addMarker:"+o.model,(d=o.view,(g,y,b)=>{y.isOpening=!0;const M=d(y,b);y.isOpening=!1;const S=d(y,b);if(!M||!S)return;const I=y.markerRange;if(I.isCollapsed&&!b.consumable.consume(I,g.name))return;for(const Y of I)if(!b.consumable.consume(Y.item,g.name))return;const z=b.mapper,H=b.writer;H.insert(z.toViewPosition(I.start),M),b.mapper.bindElementToMarker(M,y.markerName),I.isCollapsed||(H.insert(z.toViewPosition(I.end),S),b.mapper.bindElementToMarker(S,y.markerName)),g.stop()}),{priority:o.converterPriority||"normal"}),l.on("removeMarker:"+o.model,(g,y,b)=>{const M=b.mapper.markerNameToElements(y.markerName);if(M){for(const S of M)b.mapper.unbindElementFromMarkerName(S,y.markerName),b.writer.clear(b.writer.createRangeOn(S),S);b.writer.clearClonedElementsGroup(y.markerName),g.stop()}},{priority:o.converterPriority||"normal"})}}(i))}markerToHighlight(i){return this.add(function(o){return l=>{var d,g;l.on("addMarker:"+o.model,(d=o.view,(g,y,b)=>{if(!y.item||!(y.item instanceof ua||y.item instanceof cs||y.item.is("$textProxy")))return;const M=a0(d,y,b);if(!M||!b.consumable.consume(y.item,g.name))return;const S=b.writer,I=gh(S,M),z=S.document.selection;if(y.item instanceof ua||y.item instanceof cs)S.wrap(z.getFirstRange(),I,z);else{const H=b.mapper.toViewRange(y.range),Y=S.wrap(H,I);for(const J of Y.getItems())if(J.is("attributeElement")&&J.isSimilar(I)){b.mapper.bindElementToMarker(J,y.markerName);break}}}),{priority:o.converterPriority||"normal"}),l.on("addMarker:"+o.model,(g=o.view,(y,b,M)=>{if(!(b.item&&b.item instanceof Zn))return;const S=a0(g,b,M);if(!S||!M.consumable.test(b.item,y.name))return;const I=M.mapper.toViewElement(b.item);if(I&&I.getCustomProperty("addHighlight")){M.consumable.consume(b.item,y.name);for(const z of Be._createIn(b.item))M.consumable.consume(z.item,y.name);I.getCustomProperty("addHighlight")(I,S,M.writer),M.mapper.bindElementToMarker(I,b.markerName)}}),{priority:o.converterPriority||"normal"}),l.on("removeMarker:"+o.model,function(g){return(y,b,M)=>{if(b.markerRange.isCollapsed)return;const S=a0(g,b,M);if(!S)return;const I=gh(M.writer,S),z=M.mapper.markerNameToElements(b.markerName);if(z){for(const H of z)M.mapper.unbindElementFromMarkerName(H,b.markerName),H.is("attributeElement")?M.writer.unwrap(M.writer.createRangeOn(H),I):H.getCustomProperty("removeHighlight")(H,S.id,M.writer);M.writer.clearClonedElementsGroup(b.markerName),y.stop()}}}(o.view),{priority:o.converterPriority||"normal"})}}(i))}markerToData(i){return this.add(function(o){const l=(o=Is(o)).model;return o.view||(o.view=d=>({group:l,name:d.substr(o.model.length+1)})),d=>{var g,y;d.on("addMarker:"+l,(g=o.view,(y,b,M)=>{const S=g(b.markerName,M);if(!S)return;const I=b.markerRange;M.consumable.consume(I,y.name)&&($c(I,!1,M,b,S),$c(I,!0,M,b,S),y.stop())}),{priority:o.converterPriority||"normal"}),d.on("removeMarker:"+l,(y=o.view,(b,M,S)=>{const I=y(M.markerName,S);if(!I)return;const z=S.mapper.markerNameToElements(M.markerName);if(z){for(const Y of z)S.mapper.unbindElementFromMarkerName(Y,M.markerName),Y.is("containerElement")?(H(`data-${I.group}-start-before`,Y),H(`data-${I.group}-start-after`,Y),H(`data-${I.group}-end-before`,Y),H(`data-${I.group}-end-after`,Y)):S.writer.clear(S.writer.createRangeOn(Y),Y);S.writer.clearClonedElementsGroup(M.markerName),b.stop()}function H(Y,J){if(J.hasAttribute(Y)){const ee=new Set(J.getAttribute(Y).split(","));ee.delete(I.name),0==ee.size?S.writer.removeAttribute(Y,J):S.writer.setAttribute(Y,Array.from(ee).join(","),J)}}}),{priority:o.converterPriority||"normal"})}}(i))}}function gh(h,i){const o=h.createAttributeElement("span",i.attributes);return i.classes&&o._addClass(i.classes),"number"==typeof i.priority&&(o._priority=i.priority),o._id=i.id,o}function $c(h,i,o,l,d){const g=i?h.start:h.end,y=g.nodeAfter&&g.nodeAfter.is("element")?g.nodeAfter:null,b=g.nodeBefore&&g.nodeBefore.is("element")?g.nodeBefore:null;if(y||b){let M,S;i&&y||!i&&!b?(M=y,S=!0):(M=b,S=!1);const I=o.mapper.toViewElement(M);if(I)return void function(z,H,Y,J,ee,oe){const ue=`data-${oe.group}-${H?"start":"end"}-${Y?"before":"after"}`,xe=z.hasAttribute(ue)?z.getAttribute(ue).split(","):[];xe.unshift(oe.name),J.writer.setAttribute(ue,xe.join(","),z),J.mapper.bindElementToMarker(z,ee.markerName)}(I,i,S,o,l,d)}!function(M,S,I,z,H){const ee=I.writer.createUIElement(`${H.group}-${S?"start":"end"}`,H.name?{name:H.name}:null);I.writer.insert(M,ee),I.mapper.bindElementToMarker(ee,z.markerName)}(o.mapper.toViewPosition(g),i,o,l,d)}function dr(h,i){return"function"==typeof h?h:(o,l)=>function(d,g,y){let b;"string"==typeof d&&(d={name:d});const M=g.writer,S=Object.assign({},d.attributes);if(b="container"==y?M.createContainerElement(d.name,S):"attribute"==y?M.createAttributeElement(d.name,S,{priority:d.priority||ss.DEFAULT_PRIORITY}):M.createUIElement(d.name,S),d.styles){const I=Object.keys(d.styles);for(const z of I)M.setStyle(z,d.styles[z],b)}if(d.classes){const I=d.classes;if("string"==typeof I)M.addClass(I,b);else for(const z of I)M.addClass(z,b)}return b}(h,l,i)}function Gc(h){return h.model.values?(i,o)=>{const l=h.view[i];return l?l(i,o):null}:h.view}function s0(h){return"string"==typeof h?i=>({key:h,value:i}):"object"==typeof h?h.value?()=>h:i=>({key:h.key,value:i}):h}function a0(h,i,o){const l="function"==typeof h?h(i,o):h;return l?(l.priority||(l.priority=10),l.id||(l.id=i.markerName),l):null}function hr(h){const{schema:i,document:o}=h.model;for(const l of o.getRootNames()){const d=o.getRoot(l);if(d.isEmpty&&!i.checkChild(d,"$text")&&i.checkChild(d,"paragraph"))return h.insertElement("paragraph",d),!0}return!1}function Tr(h,i,o){const l=o.createContext(h);return!!o.checkChild(l,"paragraph")&&!!o.checkChild(l.push("paragraph"),i)}function $2(h,i){const o=i.createElement("paragraph");return i.insert(o,h),i.createPositionAt(o,0)}class T8 extends E6{elementToElement(i){return this.add(I8(i))}elementToAttribute(i){return this.add(function(o){l0(o=Is(o));const l=x6(o,!1),d=Wc(o.view),g=d?"element:"+d:"element";return y=>{y.on(g,l,{priority:o.converterPriority||"low"})}}(i))}attributeToAttribute(i){return this.add(function(o){let l=null;("string"==typeof(o=Is(o)).view||o.view.key)&&(l=function(g){"string"==typeof g.view&&(g.view={key:g.view});const y=g.view.key;let b;return b="class"==y||"style"==y?{["class"==y?"classes":"styles"]:g.view.value}:{attributes:{[y]:void 0===g.view.value?/[\s\S]*/:g.view.value}},g.view.name&&(b.name=g.view.name),g.view=b,y}(o)),l0(o,l);const d=x6(o,!0);return g=>{g.on("element",d,{priority:o.converterPriority||"low"})}}(i))}elementToMarker(i){return this.add(function(o){return function(l){const d=l.model;l.model=(g,y)=>{const b="string"==typeof d?d:d(g,y);return y.writer.createElement("$marker",{"data-name":b})}}(o=Is(o)),I8(o)}(i))}dataToMarker(i){return this.add(function(o){(o=Is(o)).model||(o.model=g=>g?o.view+":"+g:o.view);const l=c0(A6(o,"start")),d=c0(A6(o,"end"));return g=>{g.on("element:"+o.view+"-start",l,{priority:o.converterPriority||"normal"}),g.on("element:"+o.view+"-end",d,{priority:o.converterPriority||"normal"});const y=ve.get("low"),b=ve.get("highest"),M=ve.get(o.converterPriority)/b;var S;g.on("element",(S=o,(I,z,H)=>{const Y="data-"+S.view;function J(ee,oe){for(const ue of oe){const xe=S.model(ue,H),je=H.writer.createElement("$marker",{"data-name":xe});H.writer.insert(je,ee),z.modelCursor=z.modelCursor.isEqual(ee)?z.modelCursor.getShiftedBy(1):z.modelCursor._getTransformedByInsertion(ee,1),z.modelRange=z.modelRange._getTransformedByInsertion(ee,1)[0]}}(H.consumable.test(z.viewItem,{attributes:Y+"-end-after"})||H.consumable.test(z.viewItem,{attributes:Y+"-start-after"})||H.consumable.test(z.viewItem,{attributes:Y+"-end-before"})||H.consumable.test(z.viewItem,{attributes:Y+"-start-before"}))&&(z.modelRange||Object.assign(z,H.convertChildren(z.viewItem,z.modelCursor)),H.consumable.consume(z.viewItem,{attributes:Y+"-end-after"})&&J(z.modelRange.end,z.viewItem.getAttribute(Y+"-end-after").split(",")),H.consumable.consume(z.viewItem,{attributes:Y+"-start-after"})&&J(z.modelRange.end,z.viewItem.getAttribute(Y+"-start-after").split(",")),H.consumable.consume(z.viewItem,{attributes:Y+"-end-before"})&&J(z.modelRange.start,z.viewItem.getAttribute(Y+"-end-before").split(",")),H.consumable.consume(z.viewItem,{attributes:Y+"-start-before"})&&J(z.modelRange.start,z.viewItem.getAttribute(Y+"-start-before").split(",")))}),{priority:y+M})}}(i))}}function I8(h){const i=c0(h=Is(h)),o=Wc(h.view),l=o?"element:"+o:"element";return d=>{d.on(l,i,{priority:h.converterPriority||"normal"})}}function Wc(h){return"string"==typeof h?h:"object"==typeof h&&"string"==typeof h.name?h.name:null}function c0(h){const i=new ns(h.view);return(o,l,d)=>{const g=i.match(l.viewItem);if(!g)return;const y=g.match;if(y.name=!0,!d.consumable.test(l.viewItem,y))return;const b=(I=d,(M=h.model)instanceof Function?M(l.viewItem,I):I.writer.createElement(M));var M,I;b&&d.safeInsert(b,l.modelCursor)&&(d.consumable.consume(l.viewItem,y),d.convertChildren(l.viewItem,b),d.updateConversionResult(b,l))}}function l0(h,i=null){h.model={key:"object"!=typeof h.model?h.model:h.model.key,value:"object"!=typeof h.model||void 0===h.model.value?null===i||(g=>g.getAttribute(i)):h.model.value}}function x6(h,i){const o=new ns(h.view);return(l,d,g)=>{const y=o.match(d.viewItem);if(!y||(function(S,I){const z="function"==typeof S?S(I):S;return!("object"==typeof z&&!Wc(z)||z.classes||z.attributes||z.styles)}(h.view,d.viewItem)?y.match.name=!0:delete y.match.name,!g.consumable.test(d.viewItem,y.match)))return;const b=h.model.key,M="function"==typeof h.model.value?h.model.value(d.viewItem,g):h.model.value;null!==M&&(d.modelRange||Object.assign(d,g.convertChildren(d.viewItem,d.modelCursor)),function(S,I,z,H){let Y=!1;for(const J of Array.from(S.getItems({shallow:z})))H.schema.checkAttribute(J,I.key)&&(Y=!0,J.hasAttribute(I.key)||H.writer.setAttribute(I.key,I.value,J));return Y}(d.modelRange,{key:b,value:M},i,g)&&g.consumable.consume(d.viewItem,y.match))}}function A6(h,i){const o={};return o.view=h.view+"-"+i,o.model=(l,d)=>{const g=l.getAttribute("name"),y=h.model(g,d);return d.writer.createElement("$marker",{"data-name":y})},o}class ha{constructor(i,o){this.model=i,this.view=new M1(o),this.mapper=new H4,this.downcastDispatcher=new q2({mapper:this.mapper,schema:i.schema});const l=this.model.document,d=l.selection,g=this.model.markers;var y,b;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(l,"change",()=>{this.view.change(y=>{this.downcastDispatcher.convertChanges(l.differ,g,y),this.downcastDispatcher.convertSelection(d,g,y)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",(y=this.model,b=this.mapper,(M,S)=>{const I=S.newSelection,z=[];for(const Y of I.getRanges())z.push(b.toModelRange(Y));const H=y.createSelection(z,{backward:I.isBackward});H.isEqual(y.document.selection)||y.change(Y=>{Y.setSelection(H)})})),this.downcastDispatcher.on("insert:$text",(y,b,M)=>{if(!M.consumable.consume(b.item,"insert"))return;const S=M.writer,I=M.mapper.toViewPosition(b.range.start),z=S.createText(b.item.data);S.insert(I,z)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(y,b,M)=>{const S=M.mapper.toViewPosition(b.position),I=b.position.getShiftedBy(b.length),z=M.mapper.toViewPosition(I,{isPhantom:!0}),H=M.writer.createRange(S,z),Y=M.writer.remove(H.getTrimmed());for(const J of M.writer.createRangeIn(Y).getItems())M.mapper.unbindViewElement(J)},{priority:"low"}),this.downcastDispatcher.on("selection",(y,b,M)=>{const S=M.writer,I=S.document.selection;for(const z of I.getRanges())z.isCollapsed&&z.end.parent.isAttached()&&M.writer.mergeAttributes(z.start);S.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(y,b,M)=>{const S=b.selection;if(S.isCollapsed||!M.consumable.consume(S,"selection"))return;const I=[];for(const z of S.getRanges()){const H=M.mapper.toViewRange(z);I.push(H)}M.writer.setSelection(I,{backward:S.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(y,b,M)=>{const S=b.selection;if(!S.isCollapsed||!M.consumable.consume(S,"selection"))return;const I=M.writer,z=S.getFirstPosition(),H=M.mapper.toViewPosition(z),Y=I.breakAttributes(H);I.setSelection(Y)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(y=>{if("$graveyard"==y.rootName)return null;const b=new Pc(this.view.document,y.name);return b.rootName=y.rootName,this.mapper.bindElements(y,b),b})}destroy(){this.view.destroy(),this.stopListening()}}_t(ha,Mt);class D8{constructor(){this._commands=new Map}add(i,o){this._commands.set(i,o)}get(i){return this._commands.get(i)}execute(i,...o){const l=this.get(i);if(!l)throw new W.a("commandcollection-command-not-found",this,{commandName:i});return l.execute(...o)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const i of this.commands())i.destroy()}}class B4{constructor(){this._consumables=new Map}add(i,o){let l;i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):(this._consumables.has(i)?l=this._consumables.get(i):(l=new z8(i),this._consumables.set(i,l)),l.add(o))}test(i,o){const l=this._consumables.get(i);return void 0===l?null:i.is("$text")||i.is("documentFragment")?l:l.test(o)}consume(i,o){return!!this.test(i,o)&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!1):this._consumables.get(i).consume(o),!0)}revert(i,o){const l=this._consumables.get(i);void 0!==l&&(i.is("$text")||i.is("documentFragment")?this._consumables.set(i,!0):l.revert(o))}static consumablesFromElement(i){const o={element:i,name:!0,attributes:[],classes:[],styles:[]},l=i.getAttributeKeys();for(const y of l)"style"!=y&&"class"!=y&&o.attributes.push(y);const d=i.getClassNames();for(const y of d)o.classes.push(y);const g=i.getStyleNames();for(const y of g)o.styles.push(y);return o}static createFrom(i,o){if(o||(o=new B4(i)),i.is("$text"))return o.add(i),o;i.is("element")&&o.add(i,B4.consumablesFromElement(i)),i.is("documentFragment")&&o.add(i);for(const l of i.getChildren())o=B4.createFrom(l,o);return o}}class z8{constructor(i){this.element=i,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._add(o,i[o])}test(i){if(i.name&&!this._canConsumeName)return this._canConsumeName;for(const o in this._consumables)if(o in i){const l=this._test(o,i[o]);if(!0!==l)return l}return!0}consume(i){i.name&&(this._canConsumeName=!1);for(const o in this._consumables)o in i&&this._consume(o,i[o])}revert(i){i.name&&(this._canConsumeName=!0);for(const o in this._consumables)o in i&&this._revert(o,i[o])}_add(i,o){const l=_e(o)?o:[o],d=this._consumables[i];for(const g of l){if("attributes"===i&&("class"===g||"style"===g))throw new W.a("viewconsumable-invalid-attribute",this);if(d.set(g,!0),"styles"===i)for(const y of this.element.document.stylesProcessor.getRelatedStyles(g))d.set(y,!0)}}_test(i,o){const l=_e(o)?o:[o],d=this._consumables[i];for(const g of l)if("attributes"!==i||"class"!==g&&"style"!==g){const y=d.get(g);if(void 0===y)return null;if(!y)return!1}else{const y="class"==g?"classes":"styles",b=this._test(y,[...this._consumables[y].keys()]);if(!0!==b)return b}return!0}_consume(i,o){const l=_e(o)?o:[o],d=this._consumables[i];for(const g of l)if("attributes"!==i||"class"!==g&&"style"!==g){if(d.set(g,!1),"styles"==i)for(const y of this.element.document.stylesProcessor.getRelatedStyles(g))d.set(y,!1)}else{const y="class"==g?"classes":"styles";this._consume(y,[...this._consumables[y].keys()])}}_revert(i,o){const l=_e(o)?o:[o],d=this._consumables[i];for(const g of l)if("attributes"!==i||"class"!==g&&"style"!==g)!1===d.get(g)&&d.set(g,!0);else{const y="class"==g?"classes":"styles";this._revert(y,[...this._consumables[y].keys()])}}}class j4{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(i,o)=>{o[0]=new e1(o[0])},{priority:"highest"}),this.on("checkChild",(i,o)=>{o[0]=new e1(o[0]),o[1]=this.getDefinition(o[1])},{priority:"highest"})}register(i,o){if(this._sourceDefinitions[i])throw new W.a("schema-cannot-register-item-twice",this,{itemName:i});this._sourceDefinitions[i]=[Object.assign({},o)],this._clearCache()}extend(i,o){if(!this._sourceDefinitions[i])throw new W.a("schema-cannot-extend-missing-item",this,{itemName:i});this._sourceDefinitions[i].push(Object.assign({},o)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(i){let o;return o="string"==typeof i?i:i.is&&(i.is("$text")||i.is("$textProxy"))?"$text":i.name,this.getDefinitions()[o]}isRegistered(i){return!!this.getDefinition(i)}isBlock(i){const o=this.getDefinition(i);return!(!o||!o.isBlock)}isLimit(i){const o=this.getDefinition(i);return!(!o||!o.isLimit&&!o.isObject)}isObject(i){const o=this.getDefinition(i);return!!o&&!!(o.isObject||o.isLimit&&o.isSelectable&&o.isContent)}isInline(i){const o=this.getDefinition(i);return!(!o||!o.isInline)}isSelectable(i){const o=this.getDefinition(i);return!(!o||!o.isSelectable&&!o.isObject)}isContent(i){const o=this.getDefinition(i);return!(!o||!o.isContent&&!o.isObject)}checkChild(i,o){return!!o&&this._checkContextMatch(o,i)}checkAttribute(i,o){const l=this.getDefinition(i.last);return!!l&&l.allowAttributes.includes(o)}checkMerge(i,o=null){if(i instanceof tt){const l=i.nodeBefore,d=i.nodeAfter;if(!(l instanceof Zn))throw new W.a("schema-check-merge-no-element-before",this);if(!(d instanceof Zn))throw new W.a("schema-check-merge-no-element-after",this);return this.checkMerge(l,d)}for(const l of o.getChildren())if(!this.checkChild(i,l))return!1;return!0}addChildCheck(i){this.on("checkChild",(o,[l,d])=>{if(!d)return;const g=i(l,d);"boolean"==typeof g&&(o.stop(),o.return=g)},{priority:"high"})}addAttributeCheck(i){this.on("checkAttribute",(o,[l,d])=>{const g=i(l,d);"boolean"==typeof g&&(o.stop(),o.return=g)},{priority:"high"})}setAttributeProperties(i,o){this._attributeProperties[i]=Object.assign(this.getAttributeProperties(i),o)}getAttributeProperties(i){return this._attributeProperties[i]||{}}getLimitElement(i){let o;for(o=i instanceof tt?i.parent:(i instanceof Be?[i]:Array.from(i.getRanges())).reduce((l,d)=>{const g=d.getCommonAncestor();return l?l.getCommonAncestor(g,{includeSelf:!0}):g},null);!this.isLimit(o)&&o.parent;)o=o.parent;return o}checkAttributeInSelection(i,o){if(i.isCollapsed){const l=[...i.getFirstPosition().getAncestors(),new Pn("",i.getAttributes())];return this.checkAttribute(l,o)}{const l=i.getRanges();for(const d of l)for(const g of d)if(this.checkAttribute(g.item,o))return!0}return!1}*getValidRanges(i,o){i=function*(l){for(const d of l)yield*d.getMinimalFlatRanges()}(i);for(const l of i)yield*this._getValidRangesForRange(l,o)}getNearestSelectionRange(i,o="both"){if(this.checkChild(i,"$text"))return new Be(i);let l,d;const g=i.getAncestors().reverse().find(y=>this.isLimit(y))||i.root;"both"!=o&&"backward"!=o||(l=new t2({boundaries:Be._createIn(g),startPosition:i,direction:"backward"})),"both"!=o&&"forward"!=o||(d=new t2({boundaries:Be._createIn(g),startPosition:i}));for(const y of function*(b,M){let S=!1;for(;!S;){if(S=!0,b){const I=b.next();I.done||(S=!1,yield{walker:b,value:I.value})}if(M){const I=M.next();I.done||(S=!1,yield{walker:M,value:I.value})}}}(l,d)){const M=y.value;if(M.type==(y.walker==l?"elementEnd":"elementStart")&&this.isObject(M.item))return Be._createOn(M.item);if(this.checkChild(M.nextPosition,"$text"))return new Be(M.nextPosition)}return null}findAllowedParent(i,o){let l=i.parent;for(;l;){if(this.checkChild(l,o))return l;if(this.isLimit(l))return null;l=l.parent}return null}removeDisallowedAttributes(i,o){for(const l of i)if(l.is("$text"))Ul(this,l,o);else{const d=Be._createIn(l).getPositions();for(const g of d)Ul(this,g.nodeBefore||g.parent,o)}}createContext(i){return new e1(i)}_clearCache(){this._compiledDefinitions=null}_compile(){const i={},o=this._sourceDefinitions,l=Object.keys(o);for(const d of l)i[d]=Oo(o[d],d);for(const d of l)N8(i,d);for(const d of l)U4(i,d);for(const d of l)u0(i,d);for(const d of l)o2(i,d),q4(i,d);for(const d of l)Zc(i,d),L8(i,d),S6(i,d);this._compiledDefinitions=i}_checkContextMatch(i,o,l=o.length-1){const d=o.getItem(l);if(i.allowIn.includes(d.name)){if(0==l)return!0;{const g=this.getDefinition(d);return this._checkContextMatch(g,o,l-1)}}return!1}*_getValidRangesForRange(i,o){let l=i.start,d=i.start;for(const g of i.getItems({shallow:!0}))g.is("element")&&(yield*this._getValidRangesForRange(Be._createIn(g),o)),this.checkAttribute(g,o)||(l.isEqual(d)||(yield new Be(l,d)),l=tt._createAfter(g)),d=tt._createAfter(g);l.isEqual(d)||(yield new Be(l,d))}}_t(j4,Mt);class e1{constructor(i){if(i instanceof e1)return i;"string"==typeof i?i=[i]:Array.isArray(i)||(i=i.getAncestors({includeSelf:!0})),this._items=i.map(P8)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(i){const o=new e1([i]);return o._items=[...this._items,...o._items],o}getItem(i){return this._items[i]}*getNames(){yield*this._items.map(i=>i.name)}endsWith(i){return Array.from(this.getNames()).join(" ").endsWith(i)}startsWith(i){return Array.from(this.getNames()).join(" ").startsWith(i)}}function Oo(h,i){const o={name:i,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(l,d){for(const g of l){const y=Object.keys(g).filter(b=>b.startsWith("is"));for(const b of y)d[b]=g[b]}}(h,o),Yc(h,o,"allowIn"),Yc(h,o,"allowContentOf"),Yc(h,o,"allowWhere"),Yc(h,o,"allowAttributes"),Yc(h,o,"allowAttributesOf"),Yc(h,o,"allowChildren"),Yc(h,o,"inheritTypesFrom"),function(l,d){for(const g of l){const y=g.inheritAllFrom;y&&(d.allowContentOf.push(y),d.allowWhere.push(y),d.allowAttributesOf.push(y),d.inheritTypesFrom.push(y))}}(h,o),o}function N8(h,i){const o=h[i];for(const l of o.allowChildren){const d=h[l];d&&d.allowIn.push(i)}o.allowChildren.length=0}function U4(h,i){for(const o of h[i].allowContentOf)h[o]&&s2(h,o).forEach(l=>{l.allowIn.push(i)});delete h[i].allowContentOf}function u0(h,i){for(const o of h[i].allowWhere){const l=h[o];l&&h[i].allowIn.push(...l.allowIn)}delete h[i].allowWhere}function o2(h,i){for(const o of h[i].allowAttributesOf){const l=h[o];l&&h[i].allowAttributes.push(...l.allowAttributes)}delete h[i].allowAttributesOf}function q4(h,i){const o=h[i];for(const l of o.inheritTypesFrom){const d=h[l];if(d){const g=Object.keys(d).filter(y=>y.startsWith("is"));for(const y of g)y in o||(o[y]=d[y])}}delete o.inheritTypesFrom}function Zc(h,i){const o=h[i],l=o.allowIn.filter(d=>h[d]);o.allowIn=Array.from(new Set(l))}function L8(h,i){const o=h[i];for(const l of o.allowIn)h[l].allowChildren.push(i)}function S6(h,i){const o=h[i];o.allowAttributes=Array.from(new Set(o.allowAttributes))}function Yc(h,i,o){for(const l of h)"string"==typeof l[o]?i[o].push(l[o]):Array.isArray(l[o])&&i[o].push(...l[o])}function s2(h,i){const o=h[i];return(l=h,Object.keys(l).map(d=>l[d])).filter(d=>d.allowIn.includes(o.name));var l}function P8(h){return"string"==typeof h||h.is("documentFragment")?{name:"string"==typeof h?h:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:h.is("element")?h.name:"$text",*getAttributeKeys(){yield*h.getAttributeKeys()},getAttribute:i=>h.getAttribute(i)}}function Ul(h,i,o){for(const l of i.getAttributeKeys())h.checkAttribute(i,l)||o.removeAttribute(l,i)}class D{constructor(i={}){this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},i),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.safeInsert=this._safeInsert.bind(this),this.conversionApi.updateConversionResult=this._updateConversionResult.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(i,o,l=["$root"]){this.fire("viewCleanup",i),this._modelCursor=function(y,b){let M;for(const S of new e1(y)){const I={};for(const H of S.getAttributeKeys())I[H]=S.getAttribute(H);const z=b.createElement(S.name,I);M&&b.append(z,M),M=tt._createAt(z,0)}return M}(l,o),this.conversionApi.writer=o,this.conversionApi.consumable=B4.createFrom(i),this.conversionApi.store={};const{modelRange:d}=this._convertItem(i,this._modelCursor),g=o.createDocumentFragment();if(d){this._removeEmptyElements();for(const y of Array.from(this._modelCursor.parent.getChildren()))o.append(y,g);g.markers=function(y,b){const M=new Set,S=new Map,I=Be._createIn(y).getItems();for(const z of I)"$marker"==z.name&&M.add(z);for(const z of M){const H=z.getAttribute("data-name"),Y=b.createPositionBefore(z);S.has(H)?S.get(H).end=Y.clone():S.set(H,new Be(Y.clone())),b.remove(z)}return S}(g,o)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,g}_convertItem(i,o){const l=Object.assign({viewItem:i,modelCursor:o,modelRange:null});if(i.is("element")?this.fire("element:"+i.name,l,this.conversionApi):i.is("$text")?this.fire("text",l,this.conversionApi):this.fire("documentFragment",l,this.conversionApi),l.modelRange&&!(l.modelRange instanceof Be))throw new W.a("view-conversion-dispatcher-incorrect-result",this);return{modelRange:l.modelRange,modelCursor:l.modelCursor}}_convertChildren(i,o){let l=o.is("position")?o:tt._createAt(o,0);const d=new Be(l);for(const g of Array.from(i.getChildren())){const y=this._convertItem(g,l);y.modelRange instanceof Be&&(d.end=y.modelRange.end,l=y.modelCursor)}return{modelRange:d,modelCursor:l}}_safeInsert(i,o){const l=this._splitToAllowedParent(i,o);return!!l&&(this.conversionApi.writer.insert(i,l.position),!0)}_updateConversionResult(i,o){const l=this._getSplitParts(i),d=this.conversionApi.writer;o.modelRange||(o.modelRange=d.createRange(d.createPositionBefore(i),d.createPositionAfter(l[l.length-1])));const g=this._cursorParents.get(i);o.modelCursor=g?d.createPositionAt(g,0):o.modelRange.end}_splitToAllowedParent(i,o){const{schema:l,writer:d}=this.conversionApi;let g=l.findAllowedParent(o,i);if(g){if(g===o.parent)return{position:o};this._modelCursor.parent.getAncestors().includes(g)&&(g=null)}if(!g)return Tr(o,i,l)?{position:$2(o,d)}:null;const y=this.conversionApi.writer.split(o,g),b=[];for(const S of y.range.getWalker())if("elementEnd"==S.type)b.push(S.item);else{const I=b.pop();this._registerSplitPair(I,S.item)}const M=y.range.end.parent;return this._cursorParents.set(i,M),{position:y.position,cursorParent:M}}_registerSplitPair(i,o){this._splitParts.has(i)||this._splitParts.set(i,[i]);const l=this._splitParts.get(i);this._splitParts.set(o,l),l.push(o)}_getSplitParts(i){let o;return o=this._splitParts.has(i)?this._splitParts.get(i):[i],o}_removeEmptyElements(){let i=!1;for(const o of this._splitParts.keys())o.isEmpty&&(this.conversionApi.writer.remove(o),this._splitParts.delete(o),i=!0);i&&this._removeEmptyElements()}}_t(D,se);class k{getHtml(i){const o=document.implementation.createHTMLDocument("").createElement("div");return o.appendChild(i),o.innerHTML}}class E{constructor(i){this.domParser=new DOMParser,this.domConverter=new ce(i,{renderingMode:"data"}),this.htmlWriter=new k}toData(i){const o=this.domConverter.viewToDom(i,document);return this.htmlWriter.getHtml(o)}toView(i){const o=this._toDom(i);return this.domConverter.domToView(o)}registerRawContentMatcher(i){this.domConverter.registerRawContentMatcher(i)}useFillerType(i){this.domConverter.blockFillerMode="marked"==i?"markedNbsp":"nbsp"}_toDom(i){const o=this.domParser.parseFromString(i,"text/html"),l=o.createDocumentFragment();let d=o.firstChild;for(;!d.isSameNode(o.documentElement);){const y=d;d=d.nextSibling,y.nodeType==Node.COMMENT_NODE&&l.appendChild(y)}const g=o.body.childNodes;for(;g.length>0;)l.appendChild(g[0]);return l}}class N{constructor(i,o){this.model=i,this.mapper=new H4,this.downcastDispatcher=new q2({mapper:this.mapper,schema:i.schema}),this.downcastDispatcher.on("insert:$text",(l,d,g)=>{if(!g.consumable.consume(d.item,"insert"))return;const y=g.writer,b=g.mapper.toViewPosition(d.range.start),M=y.createText(d.item.data);y.insert(b,M)},{priority:"lowest"}),this.upcastDispatcher=new D({schema:i.schema}),this.viewDocument=new xs(o),this.stylesProcessor=o,this.htmlProcessor=new E(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new Nl(this.viewDocument),this.upcastDispatcher.on("text",(l,d,{schema:g,consumable:y,writer:b})=>{let M=d.modelCursor;if(!y.test(d.viewItem))return;if(!g.checkChild(M,"$text")){if(!Tr(M,"$text",g))return;M=$2(M,b)}y.consume(d.viewItem);const S=b.createText(d.viewItem.data);b.insert(S,M),d.modelRange=b.createRange(M,M.getShiftedBy(S.offsetSize)),d.modelCursor=d.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(l,d,g)=>{if(!d.modelRange&&g.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:b}=g.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=b}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(l,d,g)=>{if(!d.modelRange&&g.consumable.consume(d.viewItem,{name:!0})){const{modelRange:y,modelCursor:b}=g.convertChildren(d.viewItem,d.modelCursor);d.modelRange=y,d.modelCursor=b}},{priority:"lowest"}),this.decorate("init"),this.decorate("set"),this.decorate("get"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange("transparent",hr)},{priority:"lowest"})}get(i={}){const{rootName:o="main",trim:l="empty"}=i;if(!this._checkIfRootsExists([o]))throw new W.a("datacontroller-get-non-existent-root",this);const d=this.model.document.getRoot(o);return"empty"!==l||this.model.hasContent(d,{ignoreWhitespaces:!0})?this.stringify(d,i):""}stringify(i,o={}){const l=this.toView(i,o);return this.processor.toData(l)}toView(i,o={}){const l=this.viewDocument,d=this._viewWriter;this.mapper.clearBindings();const g=Be._createIn(i),y=new Za(l);this.mapper.bindElements(i,y),this.downcastDispatcher.conversionApi.options=o,this.downcastDispatcher.convertInsert(g,d);const b=i.is("documentFragment")?Array.from(i.markers):function(M){const S=[],I=M.root.document;if(!I)return[];const z=Be._createIn(M);for(const H of I.model.markers){const Y=H.getRange(),J=Y.isCollapsed,ee=Y.start.isEqual(z.start)||Y.end.isEqual(z.end);if(J&&ee)S.push([H.name,Y]);else{const oe=z.getIntersection(Y);oe&&S.push([H.name,oe])}}return S.sort(([H,Y],[J,ee])=>{if("after"!==Y.end.compareWith(ee.start))return 1;if("before"!==Y.start.compareWith(ee.end))return-1;switch(Y.start.compareWith(ee.start)){case"before":return 1;case"after":return-1;default:switch(Y.end.compareWith(ee.end)){case"before":return 1;case"after":return-1;default:return J.localeCompare(H)}}})}(i);for(const[M,S]of b)this.downcastDispatcher.convertMarkerAdd(M,S,d);return delete this.downcastDispatcher.conversionApi.options,y}init(i){if(this.model.document.version)throw new W.a("datacontroller-init-document-not-empty",this);let o={};if("string"==typeof i?o.main=i:o=i,!this._checkIfRootsExists(Object.keys(o)))throw new W.a("datacontroller-init-non-existent-root",this);return this.model.enqueueChange("transparent",l=>{for(const d of Object.keys(o)){const g=this.model.document.getRoot(d);l.insert(this.parse(o[d],g),g,0)}}),Promise.resolve()}set(i,o={}){let l={};if("string"==typeof i?l.main=i:l=i,!this._checkIfRootsExists(Object.keys(l)))throw new W.a("datacontroller-set-non-existent-root",this);this.model.enqueueChange(o.batchType||"default",g=>{g.setSelection(null),g.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const y of Object.keys(l)){const b=this.model.document.getRoot(y);g.remove(g.createRangeIn(b)),g.insert(this.parse(l[y],b),b,0)}})}parse(i,o="$root"){const l=this.processor.toView(i);return this.toModel(l,o)}toModel(i,o="$root"){return this.model.change(l=>this.upcastDispatcher.convert(i,l,o))}addStyleProcessorRules(i){i(this.stylesProcessor)}registerRawContentMatcher(i){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(i),this.htmlProcessor.registerRawContentMatcher(i)}destroy(){this.stopListening()}_checkIfRootsExists(i){for(const o of i)if(!this.model.document.getRootNames().includes(o))return!1;return!0}}_t(N,Mt);class j{constructor(i,o){this._helpers=new Map,this._downcast=Vi(i),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Vi(o),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(i,o){const l=this._downcast.includes(o);if(!this._upcast.includes(o)&&!l)throw new W.a("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:i,dispatchers:[o],isDowncast:l})}for(i){if(!this._helpers.has(i))throw new W.a("conversion-for-unknown-group",this);return this._helpers.get(i)}elementToElement(i){this.for("downcast").elementToElement(i);for(const{model:o,view:l}of K(i))this.for("upcast").elementToElement({model:o,view:l,converterPriority:i.converterPriority})}attributeToElement(i){this.for("downcast").attributeToElement(i);for(const{model:o,view:l}of K(i))this.for("upcast").elementToAttribute({view:l,model:o,converterPriority:i.converterPriority})}attributeToAttribute(i){this.for("downcast").attributeToAttribute(i);for(const{model:o,view:l}of K(i))this.for("upcast").attributeToAttribute({view:l,model:o})}_createConversionHelpers({name:i,dispatchers:o,isDowncast:l}){if(this._helpers.has(i))throw new W.a("conversion-group-exists",this);const d=l?new S8(o):new T8(o);this._helpers.set(i,d)}}function*K(h){if(h.model.values)for(const i of h.model.values){const o={key:h.model.key,value:i},l=h.view[i],d=h.upcastAlso?h.upcastAlso[i]:void 0;yield*be(o,l,d)}else yield*be(h.model,h.view,h.upcastAlso)}function*be(h,i,o){if(yield{model:h,view:i},o)for(const l of Vi(o))yield{model:h,view:l}}class Ne{constructor(i="default"){this.operations=[],this.type=i}get baseVersion(){for(const i of this.operations)if(null!==i.baseVersion)return i.baseVersion;return null}addOperation(i){return i.batch=this,this.operations.push(i),i}}class Qe{constructor(i){this.baseVersion=i,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const i=Object.assign({},this);return i.__className=this.constructor.className,delete i.batch,delete i.isDocumentOperation,i}static get className(){return"Operation"}static fromJSON(i){return new this(i.baseVersion)}}class pt{constructor(i){this.markers=new Map,this._children=new U2,i&&this._insertChild(0,i)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(i){return"documentFragment"===i||"model:documentFragment"===i}getChild(i){return this._children.getNode(i)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(i){return this._children.getNodeIndex(i)}getChildStartOffset(i){return this._children.getNodeStartOffset(i)}getPath(){return[]}getNodeByPath(i){let o=this;for(const l of i)o=o.getChild(o.offsetToIndex(l));return o}offsetToIndex(i){return this._children.offsetToIndex(i)}toJSON(){const i=[];for(const o of this._children)i.push(o.toJSON());return i}static fromJSON(i){const o=[];for(const l of i)o.push(l.name?Zn.fromJSON(l):Pn.fromJSON(l));return new pt(o)}_appendChild(i){this._insertChild(this.childCount,i)}_insertChild(i,o){const l="string"==typeof(d=o)?[new Pn(d)]:(Kr(d)||(d=[d]),Array.from(d).map(g=>"string"==typeof g?new Pn(g):g instanceof x1?new Pn(g.data,g.getAttributes()):g));var d;for(const d of l)null!==d.parent&&d._remove(),d.parent=this;this._children._insertNodes(i,l)}_removeChildren(i,o=1){const l=this._children._removeNodes(i,o);for(const d of l)d.parent=null;return l}}function Yt(h,i){const o=(i=ri(i)).reduce((g,y)=>g+y.offsetSize,0),l=h.parent;t1(h);const d=h.index;return l._insertChild(d,i),xi(l,d+i.length),xi(l,d),new Be(h,h.getShiftedBy(o))}function Pt(h){if(!h.isFlat)throw new W.a("operation-utils-remove-range-not-flat",this);const i=h.start.parent;t1(h.start),t1(h.end);const o=i._removeChildren(h.start.index,h.end.index-h.start.index);return xi(i,h.start.index),o}function Ct(h,i){if(!h.isFlat)throw new W.a("operation-utils-move-range-not-flat",this);const o=Pt(h);return Yt(i=i._getTransformedByDeletion(h.start,h.end.offset-h.start.offset),o)}function ri(h){const i=[];h instanceof Array||(h=[h]);for(let o=0;o<h.length;o++)if("string"==typeof h[o])i.push(new Pn(h[o]));else if(h[o]instanceof x1)i.push(new Pn(h[o].data,h[o].getAttributes()));else if(h[o]instanceof pt||h[o]instanceof U2)for(const l of h[o])i.push(l);else h[o]instanceof E1&&i.push(h[o]);for(let o=1;o<i.length;o++){const l=i[o],d=i[o-1];l instanceof Pn&&d instanceof Pn&&ql(l,d)&&(i.splice(o-1,2,new Pn(d.data+l.data,d.getAttributes())),o--)}return i}function xi(h,i){const o=h.getChild(i-1),l=h.getChild(i);if(o&&l&&o.is("$text")&&l.is("$text")&&ql(o,l)){const d=new Pn(o.data+l.data,o.getAttributes());h._removeChildren(i-1,2),h._insertChild(i-1,d)}}function t1(h){const i=h.textNode,o=h.parent;if(i){const l=h.offset-i.startOffset,d=i.index;o._removeChildren(d,1);const g=new Pn(i.data.substr(0,l),i.getAttributes()),y=new Pn(i.data.substr(l),i.getAttributes());o._insertChild(d,[g,y])}}function ql(h,i){const o=h.getAttributes(),l=i.getAttributes();for(const d of o){if(d[1]!==i.getAttribute(d[0]))return!1;l.next()}return l.next().done}var po=function(h,i){return B2(h,i)};class Pi extends Qe{constructor(i,o,l,d,g){super(g),this.range=i.clone(),this.key=o,this.oldValue=void 0===l?null:l,this.newValue=void 0===d?null:d}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new Pi(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Pi(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const i=super.toJSON();return i.range=this.range.toJSON(),i}_validate(){if(!this.range.isFlat)throw new W.a("attribute-operation-range-not-flat",this);for(const i of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!po(i.getAttribute(this.key),this.oldValue))throw new W.a("attribute-operation-wrong-old-value",this,{item:i,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&i.hasAttribute(this.key))throw new W.a("attribute-operation-attribute-exists",this,{node:i,key:this.key})}}_execute(){po(this.oldValue,this.newValue)||function(i,o,l){t1(i.start),t1(i.end);for(const d of i.getItems({shallow:!0})){const g=d.is("$textProxy")?d.textNode:d;null!==l?g._setAttribute(o,l):g._removeAttribute(o),xi(g.parent,g.index)}xi(i.end.parent,i.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(i,o){return new Pi(Be.fromJSON(i.range,o),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Kc extends Qe{constructor(i,o){super(null),this.sourcePosition=i.clone(),this.howMany=o}get type(){return"detach"}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i}_validate(){if(this.sourcePosition.root.document)throw new W.a("detach-operation-on-document-node",this)}_execute(){Pt(Be._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Yn extends Qe{constructor(i,o,l,d){super(d),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toNext",this.howMany=o,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const i=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,i,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent,l=this.sourcePosition.offset,d=this.targetPosition.offset;if(l+this.howMany>i.maxOffset)throw new W.a("move-operation-nodes-do-not-exist",this);if(i===o&&l<d&&d<l+this.howMany)throw new W.a("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==lr(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const g=this.sourcePosition.path.length-1;if(this.targetPosition.path[g]>=l&&this.targetPosition.path[g]<l+this.howMany)throw new W.a("move-operation-node-into-itself",this)}}_execute(){Ct(Be._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=this.sourcePosition.toJSON(),i.targetPosition=this.targetPosition.toJSON(),i}static get className(){return"MoveOperation"}static fromJSON(i,o){const l=tt.fromJSON(i.sourcePosition,o),d=tt.fromJSON(i.targetPosition,o);return new this(l,i.howMany,d,i.baseVersion)}}class fr extends Qe{constructor(i,o,l){super(l),this.position=i.clone(),this.position.stickiness="toNone",this.nodes=new U2(ri(o)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const i=new U2([...this.nodes].map(l=>l._clone(!0))),o=new fr(this.position,i,this.baseVersion);return o.shouldReceiveAttributes=this.shouldReceiveAttributes,o}getReversed(){const o=new tt(this.position.root.document.graveyard,[0]);return new Yn(this.position,this.nodes.maxOffset,o,this.baseVersion+1)}_validate(){const i=this.position.parent;if(!i||i.maxOffset<this.position.offset)throw new W.a("insert-operation-position-invalid",this)}_execute(){const i=this.nodes;this.nodes=new U2([...i].map(o=>o._clone(!0))),Yt(this.position,i)}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i.nodes=this.nodes.toJSON(),i}static get className(){return"InsertOperation"}static fromJSON(i,o){const l=[];for(const g of i.nodes)l.push(g.name?Zn.fromJSON(g):Pn.fromJSON(g));const d=new fr(tt.fromJSON(i.position,o),l,i.baseVersion);return d.shouldReceiveAttributes=i.shouldReceiveAttributes,d}}class Ir extends Qe{constructor(i,o,l,d,g,y){super(y),this.name=i,this.oldRange=o?o.clone():null,this.newRange=l?l.clone():null,this.affectsData=g,this._markers=d}get type(){return"marker"}clone(){return new Ir(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Ir(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this._markers[this.newRange?"_set":"_remove"](this.name,this.newRange,!0,this.affectsData)}toJSON(){const i=super.toJSON();return this.oldRange&&(i.oldRange=this.oldRange.toJSON()),this.newRange&&(i.newRange=this.newRange.toJSON()),delete i._markers,i}static get className(){return"MarkerOperation"}static fromJSON(i,o){return new Ir(i.name,i.oldRange?Be.fromJSON(i.oldRange,o):null,i.newRange?Be.fromJSON(i.newRange,o):null,o.model.markers,i.affectsData,i.baseVersion)}}class Xr extends Qe{constructor(i,o,l,d){super(d),this.position=i,this.position.stickiness="toNext",this.oldName=o,this.newName=l}get type(){return"rename"}clone(){return new Xr(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Xr(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const i=this.position.nodeAfter;if(!(i instanceof Zn))throw new W.a("rename-operation-wrong-position",this);if(i.name!==this.oldName)throw new W.a("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const i=super.toJSON();return i.position=this.position.toJSON(),i}static get className(){return"RenameOperation"}static fromJSON(i,o){return new Xr(tt.fromJSON(i.position,o),i.oldName,i.newName,i.baseVersion)}}class a2 extends Qe{constructor(i,o,l,d,g){super(g),this.root=i,this.key=o,this.oldValue=l,this.newValue=d}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new a2(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new a2(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new W.a("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new W.a("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new W.a("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const i=super.toJSON();return i.root=this.root.toJSON(),i}static get className(){return"RootAttributeOperation"}static fromJSON(i,o){if(!o.getRoot(i.root))throw new W.a("rootattribute-operation-fromjson-no-root",this,{rootName:i.root});return new a2(o.getRoot(i.root),i.key,i.oldValue,i.newValue,i.baseVersion)}}class Ri extends Qe{constructor(i,o,l,d,g){super(g),this.sourcePosition=i.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=o,this.targetPosition=l.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=d.clone()}get type(){return"merge"}get deletionPosition(){return new tt(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const i=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Be(this.sourcePosition,i)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const i=this.targetPosition._getTransformedByMergeOperation(this),o=this.sourcePosition.path.slice(0,-1),l=new tt(this.sourcePosition.root,o)._getTransformedByMergeOperation(this);return new rn(i,this.howMany,l,this.graveyardPosition,this.baseVersion+1)}_validate(){const i=this.sourcePosition.parent,o=this.targetPosition.parent;if(!i.parent)throw new W.a("merge-operation-source-position-invalid",this);if(!o.parent)throw new W.a("merge-operation-target-position-invalid",this);if(this.howMany!=i.maxOffset)throw new W.a("merge-operation-how-many-invalid",this)}_execute(){const i=this.sourcePosition.parent;Ct(Be._createIn(i),this.targetPosition),Ct(Be._createOn(i),this.graveyardPosition)}toJSON(){const i=super.toJSON();return i.sourcePosition=i.sourcePosition.toJSON(),i.targetPosition=i.targetPosition.toJSON(),i.graveyardPosition=i.graveyardPosition.toJSON(),i}static get className(){return"MergeOperation"}static fromJSON(i,o){const l=tt.fromJSON(i.sourcePosition,o),d=tt.fromJSON(i.targetPosition,o),g=tt.fromJSON(i.graveyardPosition,o);return new this(l,i.howMany,d,g,i.baseVersion)}}class rn extends Qe{constructor(i,o,l,d,g){super(g),this.splitPosition=i.clone(),this.splitPosition.stickiness="toNext",this.howMany=o,this.insertionPosition=l,this.graveyardPosition=d?d.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const i=this.insertionPosition.path.slice();return i.push(0),new tt(this.insertionPosition.root,i)}get movedRange(){const i=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Be(this.splitPosition,i)}clone(){return new this.constructor(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const o=new tt(this.splitPosition.root.document.graveyard,[0]);return new Ri(this.moveTargetPosition,this.howMany,this.splitPosition,o,this.baseVersion+1)}_validate(){const i=this.splitPosition.parent;if(!i||i.maxOffset<this.splitPosition.offset)throw new W.a("split-operation-position-invalid",this);if(!i.parent)throw new W.a("split-operation-split-in-root",this);if(this.howMany!=i.maxOffset-this.splitPosition.offset)throw new W.a("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new W.a("split-operation-graveyard-position-invalid",this)}_execute(){const i=this.splitPosition.parent;if(this.graveyardPosition)Ct(Be._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const o=i._clone();Yt(this.insertionPosition,o)}Ct(new Be(tt._createAt(i,this.splitPosition.offset),tt._createAt(i,i.maxOffset)),this.moveTargetPosition)}toJSON(){const i=super.toJSON();return i.splitPosition=this.splitPosition.toJSON(),i.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(i.graveyardPosition=this.graveyardPosition.toJSON()),i}static get className(){return"SplitOperation"}static getInsertionPosition(i){const o=i.path.slice(0,-1);return o[o.length-1]++,new tt(i.root,o,"toPrevious")}static fromJSON(i,o){const l=tt.fromJSON(i.splitPosition,o),d=tt.fromJSON(i.insertionPosition,o),g=i.graveyardPosition?tt.fromJSON(i.graveyardPosition,o):null;return new this(l,i.howMany,d,g,i.baseVersion)}}class pr extends Zn{constructor(i,o,l="main"){super(o),this._document=i,this.rootName=l}get document(){return this._document}is(i,o){return o?o===this.name&&("rootElement"===i||"model:rootElement"===i||"element"===i||"model:element"===i):"rootElement"===i||"model:rootElement"===i||"element"===i||"model:element"===i||"node"===i||"model:node"===i}toJSON(){return this.rootName}}class h9{constructor(i,o){this.model=i,this.batch=o}createText(i,o){return new Pn(i,o)}createElement(i,o){return new Zn(i,o)}createDocumentFragment(){return new pt}cloneElement(i,o=!0){return i._clone(o)}insert(i,o,l=0){if(this._assertWriterUsedCorrectly(),i instanceof Pn&&""==i.data)return;const d=tt._createAt(o,l);if(i.parent){if(Vo(i.root,d.root))return void this.move(Be._createOn(i),d);if(i.root.document)throw new W.a("model-writer-insert-forbidden-move",this);this.remove(i)}const y=new fr(d,i,d.root.document?d.root.document.version:null);if(i instanceof Pn&&(y.shouldReceiveAttributes=!0),this.batch.addOperation(y),this.model.applyOperation(y),i instanceof pt)for(const[b,M]of i.markers){const S=tt._createAt(M.root,0),I={range:new Be(M.start._getCombined(S,d),M.end._getCombined(S,d)),usingOperation:!0,affectsData:!0};this.model.markers.has(b)?this.updateMarker(b,I):this.addMarker(b,I)}}insertText(i,o,l,d){o instanceof pt||o instanceof Zn||o instanceof tt?this.insert(this.createText(i),o,l):this.insert(this.createText(i,o),l,d)}insertElement(i,o,l,d){o instanceof pt||o instanceof Zn||o instanceof tt?this.insert(this.createElement(i),o,l):this.insert(this.createElement(i,o),l,d)}append(i,o){this.insert(i,o,"end")}appendText(i,o,l){o instanceof pt||o instanceof Zn?this.insert(this.createText(i),o,"end"):this.insert(this.createText(i,o),l,"end")}appendElement(i,o,l){o instanceof pt||o instanceof Zn?this.insert(this.createElement(i),o,"end"):this.insert(this.createElement(i,o),l,"end")}setAttribute(i,o,l){if(this._assertWriterUsedCorrectly(),l instanceof Be){const d=l.getMinimalFlatRanges();for(const g of d)f9(this,i,o,g)}else vh(this,i,o,l)}setAttributes(i,o){for(const[l,d]of Lo(i))this.setAttribute(l,d,o)}removeAttribute(i,o){if(this._assertWriterUsedCorrectly(),o instanceof Be){const l=o.getMinimalFlatRanges();for(const d of l)f9(this,i,null,d)}else vh(this,i,null,o)}clearAttributes(i){this._assertWriterUsedCorrectly();const o=l=>{for(const d of l.getAttributeKeys())this.removeAttribute(d,l)};if(i instanceof Be)for(const l of i.getItems())o(l);else o(i)}move(i,o,l){if(this._assertWriterUsedCorrectly(),!(i instanceof Be))throw new W.a("writer-move-invalid-range",this);if(!i.isFlat)throw new W.a("writer-move-range-not-flat",this);const d=tt._createAt(o,l);if(d.isEqual(i.start))return;if(this._addOperationForAffectedMarkers("move",i),!Vo(i.root,d.root))throw new W.a("writer-move-different-document",this);const y=new Yn(i.start,i.end.offset-i.start.offset,d,i.root.document?i.root.document.version:null);this.batch.addOperation(y),this.model.applyOperation(y)}remove(i){this._assertWriterUsedCorrectly();const o=(i instanceof Be?i:Be._createOn(i)).getMinimalFlatRanges().reverse();for(const l of o)this._addOperationForAffectedMarkers("move",l),G2(l.start,l.end.offset-l.start.offset,this.batch,this.model)}merge(i){this._assertWriterUsedCorrectly();const o=i.nodeBefore,l=i.nodeAfter;if(this._addOperationForAffectedMarkers("merge",i),!(o instanceof Zn))throw new W.a("writer-merge-no-element-before",this);if(!(l instanceof Zn))throw new W.a("writer-merge-no-element-after",this);i.root.document?this._merge(i):this._mergeDetached(i)}createPositionFromPath(i,o,l){return this.model.createPositionFromPath(i,o,l)}createPositionAt(i,o){return this.model.createPositionAt(i,o)}createPositionAfter(i){return this.model.createPositionAfter(i)}createPositionBefore(i){return this.model.createPositionBefore(i)}createRange(i,o){return this.model.createRange(i,o)}createRangeIn(i){return this.model.createRangeIn(i)}createRangeOn(i){return this.model.createRangeOn(i)}createSelection(i,o,l){return this.model.createSelection(i,o,l)}_mergeDetached(i){const o=i.nodeBefore,l=i.nodeAfter;this.move(Be._createIn(l),tt._createAt(o,"end")),this.remove(l)}_merge(i){const o=tt._createAt(i.nodeBefore,"end"),l=tt._createAt(i.nodeAfter,0),g=new tt(i.root.document.graveyard,[0]),b=new Ri(l,i.nodeAfter.maxOffset,o,g,i.root.document.version);this.batch.addOperation(b),this.model.applyOperation(b)}rename(i,o){if(this._assertWriterUsedCorrectly(),!(i instanceof Zn))throw new W.a("writer-rename-not-element-instance",this);const l=i.root.document?i.root.document.version:null,d=new Xr(tt._createBefore(i),i.name,o,l);this.batch.addOperation(d),this.model.applyOperation(d)}split(i,o){this._assertWriterUsedCorrectly();let l,d,g=i.parent;if(!g.parent)throw new W.a("writer-split-element-no-parent",this);if(o||(o=g.parent),!i.parent.getAncestors({includeSelf:!0}).includes(o))throw new W.a("writer-split-invalid-limit-element",this);do{const y=g.root.document?g.root.document.version:null,b=g.maxOffset-i.offset,M=rn.getInsertionPosition(i),S=new rn(i,b,M,null,y);this.batch.addOperation(S),this.model.applyOperation(S),l||d||(l=g,d=i.parent.nextSibling),g=(i=this.createPositionAfter(i.parent)).parent}while(g!==o);return{position:i,range:new Be(tt._createAt(l,"end"),tt._createAt(d,0))}}wrap(i,o){if(this._assertWriterUsedCorrectly(),!i.isFlat)throw new W.a("writer-wrap-range-not-flat",this);const l=o instanceof Zn?o:new Zn(o);if(l.childCount>0)throw new W.a("writer-wrap-element-not-empty",this);if(null!==l.parent)throw new W.a("writer-wrap-element-attached",this);this.insert(l,i.start);const d=new Be(i.start.getShiftedBy(1),i.end.getShiftedBy(1));this.move(d,tt._createAt(l,0))}unwrap(i){if(this._assertWriterUsedCorrectly(),null===i.parent)throw new W.a("writer-unwrap-element-no-parent",this);this.move(Be._createIn(i),this.createPositionAfter(i)),this.remove(i)}addMarker(i,o){if(this._assertWriterUsedCorrectly(),!o||"boolean"!=typeof o.usingOperation)throw new W.a("writer-addmarker-no-usingoperation",this);const l=o.usingOperation,d=o.range,g=void 0!==o.affectsData&&o.affectsData;if(this.model.markers.has(i))throw new W.a("writer-addmarker-marker-exists",this);if(!d)throw new W.a("writer-addmarker-no-range",this);return l?(d0(this,i,null,d,g),this.model.markers.get(i)):this.model.markers._set(i,d,l,g)}updateMarker(i,o){this._assertWriterUsedCorrectly();const l="string"==typeof i?i:i.name,d=this.model.markers.get(l);if(!d)throw new W.a("writer-updatemarker-marker-not-exists",this);if(!o)return void this.model.markers._refresh(d);const g="boolean"==typeof o.usingOperation,y="boolean"==typeof o.affectsData,b=y?o.affectsData:d.affectsData;if(!g&&!o.range&&!y)throw new W.a("writer-updatemarker-wrong-options",this);const M=d.getRange(),S=o.range?o.range:M;g&&o.usingOperation!==d.managedUsingOperations?o.usingOperation?d0(this,l,null,S,b):(d0(this,l,M,null,b),this.model.markers._set(l,S,void 0,b)):d.managedUsingOperations?d0(this,l,M,S,b):this.model.markers._set(l,S,void 0,b)}removeMarker(i){this._assertWriterUsedCorrectly();const o="string"==typeof i?i:i.name;if(!this.model.markers.has(o))throw new W.a("writer-removemarker-no-marker",this);const l=this.model.markers.get(o);l.managedUsingOperations?d0(this,o,l.getRange(),null,l.affectsData):this.model.markers._remove(o)}setSelection(i,o,l){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(i,o,l)}setSelectionFocus(i,o){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(i,o)}setSelectionAttribute(i,o){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._setSelectionAttribute(i,o);else for(const[l,d]of Lo(i))this._setSelectionAttribute(l,d)}removeSelectionAttribute(i){if(this._assertWriterUsedCorrectly(),"string"==typeof i)this._removeSelectionAttribute(i);else for(const o of i)this._removeSelectionAttribute(o)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(i){this.model.document.selection._restoreGravity(i)}_setSelectionAttribute(i,o){const l=this.model.document.selection;if(l.isCollapsed&&l.anchor.parent.isEmpty){const d=cs._getStoreAttributeKey(i);this.setAttribute(d,o,l.anchor.parent)}l._setAttribute(i,o)}_removeSelectionAttribute(i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const l=cs._getStoreAttributeKey(i);this.removeAttribute(l,o.anchor.parent)}o._removeAttribute(i)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new W.a("writer-incorrect-use",this)}_addOperationForAffectedMarkers(i,o){for(const l of this.model.markers){if(!l.managedUsingOperations)continue;const d=l.getRange();let g=!1;if("move"===i)g=o.containsPosition(d.start)||o.start.isEqual(d.start)||o.containsPosition(d.end)||o.end.isEqual(d.end);else{const b=o.nodeAfter,S=d.end.parent==b&&0==d.end.offset,I=d.end.nodeAfter==b,z=d.start.nodeAfter==b;g=d.start.parent==o.nodeBefore&&d.start.isAtEnd||S||I||z}g&&this.updateMarker(l.name,{range:d})}}}function f9(h,i,o,l){const d=h.model,g=d.document;let y,b,M,S=l.start;for(const z of l.getWalker({shallow:!0}))M=z.item.getAttribute(i),y&&b!=M&&(b!=o&&I(),S=y),y=z.nextPosition,b=M;function I(){const z=new Be(S,y),Y=new Pi(z,i,b,o,z.root.document?g.version:null);h.batch.addOperation(Y),d.applyOperation(Y)}y instanceof tt&&y!=S&&b!=o&&I()}function vh(h,i,o,l){const d=h.model,g=d.document,y=l.getAttribute(i);let b,M;y!=o&&(l.root===l?M=new a2(l,i,y,o,l.document?g.version:null):(b=new Be(tt._createBefore(l),h.createPositionAfter(l)),M=new Pi(b,i,y,o,b.root.document?g.version:null)),h.batch.addOperation(M),d.applyOperation(M))}function d0(h,i,o,l,d){const g=h.model,b=new Ir(i,o,l,g.markers,d,g.document.version);h.batch.addOperation(b),g.applyOperation(b)}function G2(h,i,o,l){let d;if(h.root.document){const g=l.document,y=new tt(g.graveyard,[0]);d=new Yn(h,i,y,g.version)}else d=new Kc(h,i);o.addOperation(d),l.applyOperation(d)}function Vo(h,i){return h===i||h instanceof pr&&i instanceof pr}class Ag{constructor(i){this._markerCollection=i,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}refreshItem(i){if(this._isInInsertedElement(i.parent))return;this._markRemove(i.parent,i.startOffset,i.offsetSize),this._markInsert(i.parent,i.startOffset,i.offsetSize);const o=Be._createOn(i);for(const l of this._markerCollection.getMarkersIntersectingRange(o)){const d=l.getRange();this.bufferMarkerChange(l.name,d,d,l.affectsData)}this._cachedChanges=null}bufferOperation(i){switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=Be._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(o)){const d=l.getRange();this.bufferMarkerChange(l.name,d,d,l.affectsData)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1),this._markInsert(i.graveyardPosition.parent,i.graveyardPosition.offset,1);const d=i.targetPosition.parent;this._isInInsertedElement(d)||this._markInsert(d,i.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(i,o,l,d){const g=this._changedMarkers.get(i);g?(g.newRange=l,g.affectsData=d,null==g.oldRange&&null==g.newRange&&this._changedMarkers.delete(i)):this._changedMarkers.set(i,{oldRange:o,newRange:l,affectsData:d})}getMarkersToRemove(){const i=[];for(const[o,l]of this._changedMarkers)null!=l.oldRange&&i.push({name:o,range:l.oldRange});return i}getMarkersToAdd(){const i=[];for(const[o,l]of this._changedMarkers)null!=l.newRange&&i.push({name:o,range:l.newRange});return i}getChangedMarkers(){return Array.from(this._changedMarkers).map(i=>({name:i[0],data:{oldRange:i[1].oldRange,newRange:i[1].newRange}}))}hasDataChanges(){for(const[,i]of this._changedMarkers)if(i.affectsData)return!0;return this._changesInElement.size>0}getChanges(i={includeChangesInGraveyard:!1}){if(this._cachedChanges)return i.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let o=[];for(const l of this._changesInElement.keys()){const d=this._changesInElement.get(l).sort((I,z)=>I.offset===z.offset?I.type!=z.type?"remove"==I.type?-1:1:0:I.offset<z.offset?-1:1),g=this._elementSnapshots.get(l),y=p9(l.getChildren()),b=m9(g.length,d);let M=0,S=0;for(const I of b)if("i"===I)o.push(this._getInsertDiff(l,M,y[M].name)),M++;else if("r"===I)o.push(this._getRemoveDiff(l,M,g[S].name)),S++;else if("a"===I){const z=y[M].attributes,H=g[S].attributes;let Y;if("$text"==y[M].name)Y=new Be(tt._createAt(l,M),tt._createAt(l,M+1));else{const J=l.offsetToIndex(M);Y=new Be(tt._createAt(l,M),tt._createAt(l.getChild(J),0))}o.push(...this._getAttributesDiff(Y,H,z)),M++,S++}else M++,S++}o.sort((l,d)=>l.position.root!=d.position.root?l.position.root.rootName<d.position.root.rootName?-1:1:l.position.isEqual(d.position)?l.changeCount-d.changeCount:l.position.isBefore(d.position)?-1:1);for(let l=1,d=0;l<o.length;l++){const g=o[d],y=o[l],b="remove"==g.type&&"remove"==y.type&&"$text"==g.name&&"$text"==y.name&&g.position.isEqual(y.position),M="insert"==g.type&&"insert"==y.type&&"$text"==g.name&&"$text"==y.name&&g.position.parent==y.position.parent&&g.position.offset+g.length==y.position.offset,S="attribute"==g.type&&"attribute"==y.type&&g.position.parent==y.position.parent&&g.range.isFlat&&y.range.isFlat&&g.position.offset+g.length==y.position.offset&&g.attributeKey==y.attributeKey&&g.attributeOldValue==y.attributeOldValue&&g.attributeNewValue==y.attributeNewValue;b||M||S?(g.length++,S&&(g.range.end=g.range.end.getShiftedBy(1)),o[l]=null):d=l}o=o.filter(l=>l);for(const l of o)delete l.changeCount,"attribute"==l.type&&(delete l.position,delete l.length);return this._changeCount=0,this._cachedChangesWithGraveyard=o.slice(),this._cachedChanges=o.filter(g9),i.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(i,o,l){const d={type:"insert",offset:o,howMany:l,count:this._changeCount++};this._markChange(i,d)}_markRemove(i,o,l){const d={type:"remove",offset:o,howMany:l,count:this._changeCount++};this._markChange(i,d),this._removeAllNestedChanges(i,o,l)}_markAttribute(i){const o={type:"attribute",offset:i.startOffset,howMany:i.offsetSize,count:this._changeCount++};this._markChange(i.parent,o)}_markChange(i,o){this._makeSnapshot(i);const l=this._getChangesForElement(i);this._handleChange(o,l),l.push(o);for(let d=0;d<l.length;d++)l[d].howMany<1&&(l.splice(d,1),d--)}_getChangesForElement(i){let o;return this._changesInElement.has(i)?o=this._changesInElement.get(i):(o=[],this._changesInElement.set(i,o)),o}_makeSnapshot(i){this._elementSnapshots.has(i)||this._elementSnapshots.set(i,p9(i.getChildren()))}_handleChange(i,o){i.nodesToHandle=i.howMany;for(const l of o){const d=i.offset+i.howMany,g=l.offset+l.howMany;if("insert"==i.type&&("insert"==l.type&&(i.offset<=l.offset?l.offset+=i.howMany:i.offset<g&&(l.howMany+=i.nodesToHandle,i.nodesToHandle=0)),"remove"==l.type&&i.offset<l.offset&&(l.offset+=i.howMany),"attribute"==l.type))if(i.offset<=l.offset)l.offset+=i.howMany;else if(i.offset<g){const y=l.howMany;l.howMany=i.offset-l.offset,o.unshift({type:"attribute",offset:d,howMany:y-l.howMany,count:this._changeCount++})}if("remove"==i.type){if("insert"==l.type)if(d<=l.offset)l.offset-=i.howMany;else if(d<=g)if(i.offset<l.offset){const y=d-l.offset;l.offset=i.offset,l.howMany-=y,i.nodesToHandle-=y}else l.howMany-=i.nodesToHandle,i.nodesToHandle=0;else if(i.offset<=l.offset)i.nodesToHandle-=l.howMany,l.howMany=0;else if(i.offset<g){const y=g-i.offset;l.howMany-=y,i.nodesToHandle-=y}if("remove"==l.type&&(d<=l.offset?l.offset-=i.howMany:i.offset<l.offset&&(i.nodesToHandle+=l.howMany,l.howMany=0)),"attribute"==l.type)if(d<=l.offset)l.offset-=i.howMany;else if(i.offset<l.offset){const y=d-l.offset;l.offset=i.offset,l.howMany-=y}else if(i.offset<g)if(d<=g){const y=l.howMany;l.howMany=i.offset-l.offset,o.unshift({type:"attribute",offset:i.offset,howMany:y-l.howMany-i.nodesToHandle,count:this._changeCount++})}else l.howMany-=g-i.offset}if("attribute"==i.type){if("insert"==l.type)if(i.offset<l.offset&&d>l.offset){if(d>g){const y={type:"attribute",offset:g,howMany:d-g,count:this._changeCount++};this._handleChange(y,o),o.push(y)}i.nodesToHandle=l.offset-i.offset,i.howMany=i.nodesToHandle}else i.offset>=l.offset&&i.offset<g&&(d>g?(i.nodesToHandle=d-g,i.offset=g):i.nodesToHandle=0);if("remove"==l.type&&i.offset<l.offset&&d>l.offset){const y={type:"attribute",offset:l.offset,howMany:d-l.offset,count:this._changeCount++};this._handleChange(y,o),o.push(y),i.nodesToHandle=l.offset-i.offset,i.howMany=i.nodesToHandle}"attribute"==l.type&&(i.offset>=l.offset&&d<=g?(i.nodesToHandle=0,i.howMany=0,i.offset=0):i.offset<=l.offset&&d>=g&&(l.howMany=0))}}i.howMany=i.nodesToHandle,delete i.nodesToHandle}_getInsertDiff(i,o,l){return{type:"insert",position:tt._createAt(i,o),name:l,length:1,changeCount:this._changeCount++}}_getRemoveDiff(i,o,l){return{type:"remove",position:tt._createAt(i,o),name:l,length:1,changeCount:this._changeCount++}}_getAttributesDiff(i,o,l){const d=[];l=new Map(l);for(const[g,y]of o){const b=l.has(g)?l.get(g):null;b!==y&&d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:g,attributeOldValue:y,attributeNewValue:b,changeCount:this._changeCount++}),l.delete(g)}for(const[g,y]of l)d.push({type:"attribute",position:i.start,range:i.clone(),length:1,attributeKey:g,attributeOldValue:null,attributeNewValue:y,changeCount:this._changeCount++});return d}_isInInsertedElement(i){const o=i.parent;if(!o)return!1;const l=this._changesInElement.get(o),d=i.startOffset;if(l)for(const g of l)if("insert"==g.type&&d>=g.offset&&d<g.offset+g.howMany)return!0;return this._isInInsertedElement(o)}_removeAllNestedChanges(i,o,l){const d=new Be(tt._createAt(i,o),tt._createAt(i,o+l));for(const g of d.getItems({shallow:!0}))g.is("element")&&(this._elementSnapshots.delete(g),this._changesInElement.delete(g),this._removeAllNestedChanges(g,0,g.maxOffset))}}function p9(h){const i=[];for(const o of h)if(o.is("$text"))for(let l=0;l<o.data.length;l++)i.push({name:"$text",attributes:new Map(o.getAttributes())});else i.push({name:o.name,attributes:new Map(o.getAttributes())});return i}function m9(h,i){const o=[];let l=0,d=0;for(const g of i){if(g.offset>l){for(let y=0;y<g.offset-l;y++)o.push("e");d+=g.offset-l}if("insert"==g.type){for(let y=0;y<g.howMany;y++)o.push("i");l=g.offset+g.howMany}else if("remove"==g.type){for(let y=0;y<g.howMany;y++)o.push("r");l=g.offset,d+=g.howMany}else o.push(..."a".repeat(g.howMany).split("")),l=g.offset+g.howMany,d+=g.howMany}if(d<h)for(let g=0;g<h-d-l;g++)o.push("e");return o}function g9(h){return!(h.position&&"$graveyard"==h.position.root.rootName||h.range&&"$graveyard"==h.range.root.rootName)}class _h{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(i){this._operations.includes(i)||this._operations.push(i)}getOperations(i=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY){const l=[];for(const d of this._operations)d.baseVersion>=i&&d.baseVersion<o&&l.push(d);return l}getOperation(i){for(const o of this._operations)if(o.baseVersion==i)return o}setOperationAsUndone(i,o){this._undoPairs.set(o,i),this._undoneOperations.add(i)}isUndoingOperation(i){return this._undoPairs.has(i)}isUndoneOperation(i){return this._undoneOperations.has(i)}getUndoneOperation(i){return this._undoPairs.get(i)}}function R8(h,i){return!!(o=h.charAt(i-1))&&1==o.length&&/[\ud800-\udbff]/.test(o)&&!!(l=h.charAt(i))&&1==l.length&&/[\udc00-\udfff]/.test(l);var l,o}function O8(h,i){return!!(o=h.charAt(i))&&1==o.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(o);var o}class v9{constructor(i){this.model=i,this.version=0,this.history=new _h(this),this.selection=new cs(this),this.roots=new zi({idProperty:"rootName"}),this.differ=new Ag(i.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(i,"applyOperation",(o,l)=>{const d=l[0];if(d.isDocumentOperation&&d.baseVersion!==this.version)throw new W.a("model-document-applyoperation-wrong-version",this,{operation:d})},{priority:"highest"}),this.listenTo(i,"applyOperation",(o,l)=>{const d=l[0];d.isDocumentOperation&&this.differ.bufferOperation(d)},{priority:"high"}),this.listenTo(i,"applyOperation",(o,l)=>{const d=l[0];d.isDocumentOperation&&(this.version++,this.history.addOperation(d))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(i.markers,"update",(o,l,d,g)=>{this.differ.bufferMarkerChange(l.name,d,g,l.affectsData),null===d&&l.on("change",(y,b)=>{this.differ.bufferMarkerChange(l.name,b,l.getRange(),l.affectsData)})})}get graveyard(){return this.getRoot("$graveyard")}createRoot(i="$root",o="main"){if(this.roots.get(o))throw new W.a("model-document-createroot-name-exists",this,{name:o});const l=new pr(this,i,o);return this.roots.add(l),l}destroy(){this.selection.destroy(),this.stopListening()}getRoot(i="main"){return this.roots.get(i)}getRootNames(){return Array.from(this.roots,i=>i.rootName).filter(i=>"$graveyard"!=i)}registerPostFixer(i){this._postFixers.add(i)}toJSON(){const i=L2(this);return i.selection="[engine.model.DocumentSelection]",i.model="[engine.model.Model]",i}_handleChangeBlock(i){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(i),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",i.batch):this.fire("change",i.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const i of this.roots)if(i!==this.graveyard)return i;return this.graveyard}_getDefaultRange(){const i=this._getDefaultRoot(),o=this.model,l=o.schema,d=o.createPositionFromPath(i,[0]);return l.getNearestSelectionRange(d)||o.createRange(d)}_validateSelectionRange(i){return _9(i.start)&&_9(i.end)}_callPostFixers(i){let o=!1;do{for(const l of this._postFixers)if(this.selection.refresh(),o=l(i),o)break}while(o)}}function _9(h){const i=h.textNode;if(i){const o=i.data,l=h.offset-i.startOffset;return!R8(o,l)&&!O8(o,l)}return!0}_t(v9,se);class V8{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(i){return this._markers.has(i instanceof n1?i.name:i)}get(i){return this._markers.get(i)||null}_set(i,o,l=!1,d=!1){const g=i instanceof n1?i.name:i;if(g.includes(","))throw new W.a("markercollection-incorrect-marker-name",this);const y=this._markers.get(g);if(y){const S=y.getRange();let I=!1;return S.isEqual(o)||(y._attachLiveRange(da.fromRange(o)),I=!0),l!=y.managedUsingOperations&&(y._managedUsingOperations=l,I=!0),"boolean"==typeof d&&d!=y.affectsData&&(y._affectsData=d,I=!0),I&&this.fire("update:"+g,y,S,o),y}const b=da.fromRange(o),M=new n1(g,b,l,d);return this._markers.set(g,M),this.fire("update:"+g,M,null,o),M}_remove(i){const o=i instanceof n1?i.name:i,l=this._markers.get(o);return!!l&&(this._markers.delete(o),this.fire("update:"+o,l,l.getRange(),null),this._destroyMarker(l),!0)}_refresh(i){const o=i instanceof n1?i.name:i,l=this._markers.get(o);if(!l)throw new W.a("markercollection-refresh-marker-not-exists",this);const d=l.getRange();this.fire("update:"+o,l,d,d,l.managedUsingOperations,l.affectsData)}*getMarkersAtPosition(i){for(const o of this)o.getRange().containsPosition(i)&&(yield o)}*getMarkersIntersectingRange(i){for(const o of this)null!==o.getRange().getIntersection(i)&&(yield o)}destroy(){for(const i of this._markers.values())this._destroyMarker(i);this._markers=null,this.stopListening()}*getMarkersGroup(i){for(const o of this._markers.values())o.name.startsWith(i+":")&&(yield o)}_destroyMarker(i){i.stopListening(),i._detachLiveRange()}}_t(V8,se);class n1{constructor(i,o,l,d){this.name=i,this._liveRange=this._attachLiveRange(o),this._managedUsingOperations=l,this._affectsData=d}get managedUsingOperations(){if(!this._liveRange)throw new W.a("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new W.a("marker-destroyed",this);return this._affectsData}getStart(){if(!this._liveRange)throw new W.a("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new W.a("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new W.a("marker-destroyed",this);return this._liveRange.toRange()}is(i){return"marker"===i||"model:marker"===i}_attachLiveRange(i){return this._liveRange&&this._detachLiveRange(),i.delegate("change:range").to(this),i.delegate("change:content").to(this),this._liveRange=i,i}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}_t(n1,se);class Bi extends Qe{get type(){return"noop"}clone(){return new Bi(this.baseVersion)}getReversed(){return new Bi(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const r1={};r1[Pi.className]=Pi,r1[fr.className]=fr,r1[Ir.className]=Ir,r1[Yn.className]=Yn,r1[Bi.className]=Bi,r1[Qe.className]=Qe,r1[Xr.className]=Xr,r1[a2.className]=a2,r1[rn.className]=rn,r1[Ri.className]=Ri;class Fn extends tt{constructor(i,o,l="toNone"){if(super(i,o,l),!this.root.is("rootElement"))throw new W.a("model-liveposition-root-not-rootelement",i);c2.call(this)}detach(){this.stopListening()}is(i){return"livePosition"===i||"model:livePosition"===i||"position"==i||"model:position"===i}toPosition(){return new tt(this.root,this.path.slice(),this.stickiness)}static fromPosition(i,o){return new this(i.root,i.path.slice(),o||i.stickiness)}}function c2(){this.listenTo(this.root.document.model,"applyOperation",(h,i)=>{const o=i[0];o.isDocumentOperation&&T6.call(this,o)},{priority:"low"})}function T6(h){const i=this.getTransformedByOperation(h);if(!this.isEqual(i)){const o=this.toPosition();this.path=i.path,this.root=i.root,this.fire("change",o)}}_t(Fn,se);class F8{constructor(i,o,l){this.model=i,this.writer=o,this.position=l,this.canMergeWith=new Set([this.position.parent]),this.schema=i.schema,this._documentFragment=o.createDocumentFragment(),this._documentFragmentPosition=o.createPositionAt(this._documentFragment,0),this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(i){for(const o of Array.from(i))this._handleNode(o);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(i){const o=this.writer.createPositionAfter(this._lastNode),l=this.writer.createPositionAfter(i);if(l.isAfter(o)){if(this._lastNode=i,this.position.parent!=i||!this.position.isAtEnd)throw new W.a("insertcontent-invalid-insertion-position",this);this.position=l,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this.nodeToSelect?Be._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Be(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(i){if(this.schema.isObject(i))return void this._handleObject(i);let o=this._checkAndAutoParagraphToAllowedPosition(i);o||(o=this._checkAndSplitToAllowedPosition(i),o)?(this._appendToFragment(i),this._firstNode||(this._firstNode=i),this._lastNode=i):this._handleDisallowedNode(i)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const i=Fn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=i.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=i.toPosition(),i.detach()}_handleObject(i){this._checkAndSplitToAllowedPosition(i)?this._appendToFragment(i):this._tryAutoparagraphing(i)}_handleDisallowedNode(i){i.is("element")?this.handleNodes(i.getChildren()):this._tryAutoparagraphing(i)}_appendToFragment(i){if(!this.schema.checkChild(this.position,i))throw new W.a("insertcontent-wrong-position",this,{node:i,position:this.position});this.writer.insert(i,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(i.offsetSize),this.nodeToSelect=this.schema.isObject(i)&&!this.schema.checkChild(this.position,"$text")?i:null,this._filterAttributesOf.push(i)}_setAffectedBoundaries(i){this._affectedStart||(this._affectedStart=Fn.fromPosition(i,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(i)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Fn.fromPosition(i,"toNext"))}_mergeOnLeft(){const i=this._firstNode;if(!(i instanceof Zn&&this._canMergeLeft(i)))return;const o=Fn._createBefore(i);o.stickiness="toNext";const l=Fn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(o.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(o.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_mergeOnRight(){const i=this._lastNode;if(!(i instanceof Zn&&this._canMergeRight(i)))return;const o=Fn._createAfter(i);if(o.stickiness="toNext",!this.position.isEqual(o))throw new W.a("insertcontent-invalid-insertion-position",this);this.position=tt._createAt(o.nodeBefore,"end");const l=Fn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(o)&&(this._affectedEnd.detach(),this._affectedEnd=Fn._createAt(o.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=o.nodeBefore,this._lastNode=o.nodeBefore),this.writer.merge(o),o.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Fn._createAt(o.nodeBefore,0,"toPrevious")),this.position=l.toPosition(),l.detach(),this._filterAttributesOf.push(this.position.parent),o.detach()}_canMergeLeft(i){const o=i.previousSibling;return o instanceof Zn&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(o,i)}_canMergeRight(i){const o=i.nextSibling;return o instanceof Zn&&this.canMergeWith.has(o)&&this.model.schema.checkMerge(i,o)}_tryAutoparagraphing(i){const o=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,o)&&this.schema.checkChild(o,i)&&(o._appendChild(i),this._handleNode(o))}_checkAndAutoParagraphToAllowedPosition(i){if(this.schema.checkChild(this.position.parent,i))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",i))return!1;this._insertPartialFragment();const o=this.writer.createElement("paragraph");return this.writer.insert(o,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=o,this.position=this.writer.createPositionAt(o,0),!0}_checkAndSplitToAllowedPosition(i){const o=this._getAllowedIn(this.position.parent,i);if(!o)return!1;for(o!=this.position.parent&&this._insertPartialFragment();o!=this.position.parent;)if(this.position.isAtStart){const l=this.position.parent;this.position=this.writer.createPositionBefore(l),l.isEmpty&&l.parent===o&&this.writer.remove(l)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const l=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=l,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(i,o){return this.schema.checkChild(i,o)?i:this.schema.isLimit(i)?null:this._getAllowedIn(i.parent,o)}}function yh(h,i,o){const l=i.parent,d=o.parent;return l!=d&&!h.isLimit(l)&&!h.isLimit(d)&&function(g,y,b){const M=new Be(g,y);for(const S of M.getWalker())if(b.isLimit(S.item))return!1;return!0}(i,o,h)}function bh(h,i,o){const l=h.createElement("paragraph");h.insert(l,i),h0(h,o,h.createPositionAt(l,0))}function h0(h,i,o){i instanceof cs?h.setSelection(o):i.setTo(o)}function Sg(h,i){const{isForward:o,walker:l,unit:d,schema:g}=h,{type:y,item:b,nextPosition:M}=i;if("text"==y)return"word"===h.unit?function(S,I){let z=S.position.textNode;if(z){let H=S.position.offset-z.startOffset;for(;!H8(z.data,H,I)&&!b9(z,H,I);){S.next();const Y=I?S.position.nodeAfter:S.position.nodeBefore;if(Y&&Y.is("$text")){const J=Y.data.charAt(I?0:Y.data.length-1);' ,.?!:;"-()'.includes(J)||(S.next(),z=S.position.textNode)}H=S.position.offset-z.startOffset}}return S.position}(l,o):function(S,I){const z=S.position.textNode;if(z){const H=z.data;let Y=S.position.offset-z.startOffset;for(;R8(H,Y)||"character"==I&&O8(H,Y);)S.next(),Y=S.position.offset-z.startOffset}return S.position}(l,d);if(y==(o?"elementStart":"elementEnd")){if(g.isSelectable(b))return tt._createAt(b,o?"after":"before");if(g.checkChild(M,"$text"))return M}else{if(g.isLimit(b))return void l.skip(()=>!0);if(g.checkChild(M,"$text"))return M}}function wh(h,i){const l=tt._createAt(h.root,i?"end":0);return i?new Be(h,l):new Be(l,h)}function H8(h,i,o){return' ,.?!:;"-()'.includes(h.charAt(i+(o?0:-1)))}function b9(h,i,o){return i===(o?h.endOffset:0)}function Ch(h,i){const o=[];Array.from(h.getItems({direction:"backward"})).map(l=>i.createRangeOn(l)).filter(l=>(l.start.isAfter(h.start)||l.start.isEqual(h.start))&&(l.end.isBefore(h.end)||l.end.isEqual(h.end))).forEach(l=>{o.push(l.start.parent),i.remove(l)}),o.forEach(l=>{let d=l;for(;d.parent&&d.isEmpty;){const g=i.createRangeOn(d);d=d.parent,i.remove(g)}})}function w9(h,i){return h.isCollapsed?function(o,l){const d=o.start,g=l.getNearestSelectionRange(d);if(!g){const b=d.getAncestors().reverse().find(M=>l.isObject(M));return b?Be._createOn(b):null}if(!g.isCollapsed)return g;const y=g.start;return d.isEqual(y)?null:new Be(y)}(h,i):function(o,l){const{start:d,end:g}=o,y=l.checkChild(d,"$text"),b=l.checkChild(g,"$text"),M=l.getLimitElement(d),S=l.getLimitElement(g);if(M===S){if(y&&b)return null;if(function(H,Y,J){const ee=H.nodeAfter&&!J.isLimit(H.nodeAfter)||J.checkChild(H,"$text"),oe=Y.nodeBefore&&!J.isLimit(Y.nodeBefore)||J.checkChild(Y,"$text");return ee||oe}(d,g,l)){const H=d.nodeAfter&&l.isSelectable(d.nodeAfter)?null:l.getNearestSelectionRange(d,"forward"),Y=g.nodeBefore&&l.isSelectable(g.nodeBefore)?null:l.getNearestSelectionRange(g,"backward");return new Be(H?H.start:d,Y?Y.end:g)}}const I=M&&!M.is("rootElement"),z=S&&!S.is("rootElement");if(I||z){const H=d.nodeAfter&&g.nodeBefore&&d.nodeAfter.parent===g.nodeBefore.parent,Y=I&&(!H||!Ig(d.nodeAfter,l)),J=z&&(!H||!Ig(g.nodeBefore,l));let ee=d,oe=g;return Y&&(ee=tt._createBefore(I6(M,l))),J&&(oe=tt._createAfter(I6(S,l))),new Be(ee,oe)}return null}(h,i)}function I6(h,i){let o=h,l=o;for(;i.isLimit(l)&&l.parent;)o=l,l=l.parent;return o}function Ig(h,i){return h&&i.isSelectable(h)}class C9{constructor(){this.markers=new V8,this.document=new v9(this),this.schema=new j4,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(i=>this.decorate(i)),this.on("applyOperation",(i,o)=>{o[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((i,o)=>{if("$marker"===o.name)return!0}),function(h){h.document.registerPostFixer(i=>function(o,l){const d=l.document.selection,g=l.schema,y=[];let b=!1;for(const M of d.getRanges()){const S=w9(M,g);S&&!S.isEqual(M)?(y.push(S),b=!0):y.push(M)}b&&o.setSelection(function(M){const S=[];S.push(M.shift());for(const I of M){const z=S.pop();if(I.isEqual(z))S.push(z);else if(I.isIntersecting(z)){const H=z.start.isAfter(I.start)?I.start:z.start,Y=z.end.isAfter(I.end)?z.end:I.end,J=new Be(H,Y);S.push(J)}else S.push(z),S.push(I)}return S}(y),{backward:d.isBackward})}(i,h))}(this),this.document.registerPostFixer(hr)}change(i){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ne,callback:i}),this._runPendingChanges()[0]):i(this._currentWriter)}catch(o){W.a.rethrowUnexpectedError(o,this)}}enqueueChange(i,o){try{"string"==typeof i?i=new Ne(i):"function"==typeof i&&(o=i,i=new Ne),this._pendingChanges.push({batch:i,callback:o}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(l){W.a.rethrowUnexpectedError(l,this)}}applyOperation(i){i._execute()}insertContent(i,o,l){return g=i,y=o,b=l,(d=this).change(M=>{let S;S=y?y instanceof ua||y instanceof cs?y:M.createSelection(y,b):d.document.selection,S.isCollapsed||d.deleteContent(S,{doNotAutoparagraph:!0});const I=new F8(d,M,S.anchor);let z;z=g.is("documentFragment")?g.getChildren():[g],I.handleNodes(z);const H=I.getSelectionRange();H&&(S instanceof cs?M.setSelection(H):S.setTo(H));const Y=I.getAffectedRange()||d.createRange(S.anchor);return I.destroy(),Y});var d,g,y,b}deleteContent(i,o){!function(h,i,o={}){if(i.isCollapsed)return;const l=i.getFirstRange();if("$graveyard"==l.root.rootName)return;const d=h.schema;h.change(g=>{if(!o.doNotResetEntireContent&&function(M,S){const I=M.getLimitElement(S);if(!S.containsEntireContent(I))return!1;const z=S.getFirstRange();return z.start.parent!=z.end.parent&&M.checkChild(I,"paragraph")}(d,i))return void function(M,S){const I=M.model.schema.getLimitElement(S);M.remove(M.createRangeIn(I)),bh(M,M.createPositionAt(I,0),S)}(g,i);const[y,b]=function(M){const S=M.root.document.model,I=M.start;let z=M.end;if(S.hasContent(M,{ignoreMarkers:!0})){const H=function(Y){const J=Y.parent,ee=J.root.document.model.schema,oe=J.getAncestors({parentFirst:!0,includeSelf:!0});for(const ue of oe){if(ee.isLimit(ue))return null;if(ee.isBlock(ue))return ue}}(z);if(H&&z.isTouching(S.createPositionAt(H,0))){const Y=S.createSelection(M);S.modifySelection(Y,{direction:"backward"});const J=Y.getLastPosition(),ee=S.createRange(J,z);S.hasContent(ee,{ignoreMarkers:!0})||(z=J)}}return[Fn.fromPosition(I,"toPrevious"),Fn.fromPosition(z,"toNext")]}(l);y.isTouching(b)||g.remove(g.createRange(y,b)),o.leaveUnmerged||(function(M,S,I){const z=M.model;if(!yh(M.model.schema,S,I))return;const[H,Y]=function(J,ee){const oe=J.getAncestors(),ue=ee.getAncestors();let xe=0;for(;oe[xe]&&oe[xe]==ue[xe];)xe++;return[oe[xe],ue[xe]]}(S,I);!H||!Y||(!z.hasContent(H,{ignoreMarkers:!0})&&z.hasContent(Y,{ignoreMarkers:!0})?function J(ee,oe,ue,xe){const je=oe.parent,ut=ue.parent;if(je!=xe&&ut!=xe){for(oe=ee.createPositionAfter(je),(ue=ee.createPositionBefore(ut)).isEqual(oe)||ee.insert(je,ue);oe.parent.isEmpty;){const zt=oe.parent;oe=ee.createPositionBefore(zt),ee.remove(zt)}ue=ee.createPositionBefore(ut),function(zt,_i){const Kt=_i.nodeBefore,io=_i.nodeAfter;Kt.name!=io.name&&zt.rename(Kt,io.name),zt.clearAttributes(Kt),zt.setAttributes(Object.fromEntries(io.getAttributes()),Kt),zt.merge(_i)}(ee,ue),yh(ee.model.schema,oe,ue)&&J(ee,oe,ue,xe)}}(M,S,I,H.parent):function J(ee,oe,ue,xe){const je=oe.parent,ut=ue.parent;if(je!=xe&&ut!=xe){for(oe=ee.createPositionAfter(je),(ue=ee.createPositionBefore(ut)).isEqual(oe)||ee.insert(ut,oe),ee.merge(oe);ue.parent.isEmpty;){const zt=ue.parent;ue=ee.createPositionBefore(zt),ee.remove(zt)}!yh(ee.model.schema,oe,ue)||J(ee,oe,ue,xe)}}(M,S,I,H.parent))}(g,y,b),d.removeDisallowedAttributes(y.parent.getChildren(),g)),h0(g,i,y),!o.doNotAutoparagraph&&function(M,S){const I=M.checkChild(S,"$text"),z=M.checkChild(S,"paragraph");return!I&&z}(d,y)&&bh(g,y,i),y.detach(),b.detach()})}(this,i,o)}modifySelection(i,o){!function(l,d,g={}){const y=l.schema,b="backward"!=g.direction,M=g.unit?g.unit:"character",I=new t2({boundaries:wh(d.focus,b),singleCharacters:!0,direction:b?"forward":"backward"}),z={walker:I,schema:y,isForward:b,unit:M};let H;for(;H=I.next();){if(H.done)return;const Y=Sg(z,H.value);if(Y)return void(d instanceof cs?l.change(J=>{J.setSelectionFocus(Y)}):d.setFocus(Y))}}(this,i,o)}getSelectedContent(i){return function(o,l){return o.change(d=>{const g=d.createDocumentFragment(),y=l.getFirstRange();if(!y||y.isCollapsed)return g;const b=y.start.root,M=y.start.getCommonPath(y.end),S=b.getNodeByPath(M);let I;I=y.start.parent==y.end.parent?y:d.createRange(d.createPositionAt(S,y.start.path[M.length]),d.createPositionAt(S,y.end.path[M.length]+1));const z=I.end.offset-I.start.offset;for(const H of I.getItems({shallow:!0}))H.is("$textProxy")?d.appendText(H.data,H.getAttributes(),g):d.append(d.cloneElement(H,!0),g);if(I!=y){const H=y._getTransformedByMove(I.start,d.createPositionAt(g,0),z)[0],Y=d.createRange(d.createPositionAt(g,0),H.start);Ch(d.createRange(H.end,d.createPositionAt(g,"end")),d),Ch(Y,d)}return g})}(this,i)}hasContent(i,o={}){const l=i instanceof Zn?Be._createIn(i):i;if(l.isCollapsed)return!1;const{ignoreWhitespaces:d=!1,ignoreMarkers:g=!1}=o;if(!g)for(const y of this.markers.getMarkersIntersectingRange(l))if(y.affectsData)return!0;for(const y of l.getItems())if(this.schema.isContent(y)&&(!y.is("$textProxy")||!d||-1!==y.data.search(/\S/)))return!0;return!1}createPositionFromPath(i,o,l){return new tt(i,o,l)}createPositionAt(i,o){return tt._createAt(i,o)}createPositionAfter(i){return tt._createAfter(i)}createPositionBefore(i){return tt._createBefore(i)}createRange(i,o){return new Be(i,o)}createRangeIn(i){return Be._createIn(i)}createRangeOn(i){return Be._createOn(i)}createSelection(i,o,l){return new ua(i,o,l)}createBatch(i){return new Ne(i)}createOperationFromJSON(i){return class{static fromJSON(o,l){return r1[o.__className].fromJSON(o,l)}}.fromJSON(i,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const i=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){this._currentWriter=new h9(this,this._pendingChanges[0].batch);const l=this._pendingChanges[0].callback(this._currentWriter);i.push(l),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),i}}_t(C9,Mt);class ob extends aa{constructor(i){super(),this.editor=i}set(i,o,l={}){if("string"==typeof o){const d=o;o=(g,y)=>{this.editor.execute(d),y()}}super.set(i,o,l)}}class Dg{constructor(i={}){this._context=i.context||new Al({language:i.language}),this._context._addEditor(this,!i.context);const o=Array.from(this.constructor.builtinPlugins||[]);this.config=new Ic(i,this.constructor.defaultConfig),this.config.define("plugins",o),this.config.define(this._context._getEditorConfig()),this.plugins=new zo(this,o,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new D8,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new C9;const l=new _6;this.data=new N(this.model,l),this.editing=new ha(this.model,l),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new j([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ob(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const i=this.config,o=i.get("plugins"),l=i.get("removePlugins")||[],d=i.get("extraPlugins")||[],g=i.get("substitutePlugins")||[];return this.plugins.init(o.concat(d),l,g)}destroy(){let i=Promise.resolve();return"initializing"==this.state&&(i=new Promise(o=>this.once("ready",o))),i.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(...i){try{return this.commands.execute(...i)}catch(o){W.a.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}}_t(Dg,Mt);class $e{constructor(i){this.editor=i,this._components=new Map}*names(){for(const i of this._components.values())yield i.originalName}add(i,o){this._components.set(l2(i),{callback:o,originalName:i})}create(i){if(!this.has(i))throw new W.a("componentfactory-item-missing",this,{name:i});return this._components.get(l2(i)).callback(this.editor.locale)}has(i){return this._components.has(l2(i))}}function l2(h){return String(h).toLowerCase()}class f0{constructor(i){this.editor=i,this.componentFactory=new $e(i),this.focusTracker=new Ts,this.set("viewportOffset",this._readViewportOffsetFromConfig()),this._editableElementsMap=new Map,this.listenTo(i.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy();for(const i of this._editableElementsMap.values())i.ckeditorInstance=null;this._editableElementsMap=new Map}setEditableElement(i,o){this._editableElementsMap.set(i,o),o.ckeditorInstance||(o.ckeditorInstance=this.editor)}getEditableElement(i="main"){return this._editableElementsMap.get(i)}getEditableElementsNames(){return this._editableElementsMap.keys()}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const i=this.editor,o=i.config.get("ui.viewportOffset");if(o)return o;const l=i.config.get("toolbar.viewportTopOffset");return l?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:l}):{top:0}}}_t(f0,Mt);var zn={setData(h){this.data.set(h)},getData(h){return this.data.get(h)}},Qc={updateSourceElement(){if(!this.sourceElement)throw new W.a("editor-missing-sourceelement",this);var h,i;h=this.sourceElement,i=this.data.get(),h instanceof HTMLTextAreaElement&&(h.value=i),h.innerHTML=i}};class kh extends Zs{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new zi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(i){if("string"!=typeof i)throw new W.a("pendingactions-add-invalid-message",this);const o=Object.create(Mt);return o.set("message",i),this._actions.add(o),this.hasAny=!0,o}remove(i){this._actions.remove(i),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}var M9='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>';const vi={cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:M9};function er({emitter:h,activator:i,callback:o,contextElements:l}){h.listenTo(document,"mousedown",(d,g)=>{if(!i())return;const y="function"==typeof g.composedPath?g.composedPath():[];for(const b of l)if(b.contains(g.target)||y.includes(b))return;o()})}function p0(h){h.set("_isCssTransitionsDisabled",!1),h.disableCssTransitions=()=>{h._isCssTransitionsDisabled=!0},h.enableCssTransitions=()=>{h._isCssTransitionsDisabled=!1},h.extendTemplate({attributes:{class:[h.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function m0({view:h}){h.listenTo(h.element,"submit",(i,o)=>{o.preventDefault(),h.fire("submit")},{useCapture:!0})}class $4 extends zi{constructor(i=[]){super(i,{idProperty:"viewUid"}),this.on("add",(o,l,d)=>{this._renderViewIntoCollectionParent(l,d)}),this.on("remove",(o,l)=>{l.element&&this._parentElement&&l.element.remove()}),this._parentElement=null}destroy(){this.map(i=>i.destroy())}setParent(i){this._parentElement=i;for(const o of this)this._renderViewIntoCollectionParent(o)}delegate(...i){if(!i.length||!i.every(o=>"string"==typeof o))throw new W.a("ui-viewcollection-delegate-wrong-events",this);return{to:o=>{for(const l of this)for(const d of i)l.delegate(d).to(o);this.on("add",(l,d)=>{for(const g of i)d.delegate(g).to(o)}),this.on("remove",(l,d)=>{for(const g of i)d.stopDelegating(g,o)})}}}_renderViewIntoCollectionParent(i,o){i.isRendered||i.render(),i.element&&this._parentElement&&this._parentElement.insertBefore(i.element,this._parentElement.children[o])}}Z(17);class _n{constructor(i){this.element=null,this.isRendered=!1,this.locale=i,this.t=i&&i.t,this._viewCollections=new zi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(o,l)=>{l.locale=i}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=A1.bind(this,this)}createCollection(i){const o=new $4(i);return this._viewCollections.add(o),o}registerChild(i){Kr(i)||(i=[i]);for(const o of i)this._unboundChildren.add(o)}deregisterChild(i){Kr(i)||(i=[i]);for(const o of i)this._unboundChildren.remove(o)}setTemplate(i){this.template=new A1(i)}extendTemplate(i){A1.extend(this.template,i)}render(){if(this.isRendered)throw new W.a("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(i=>i.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}_t(_n,yt),_t(_n,Mt);class A1{constructor(i){Object.assign(this,G4(Eh(i))),this._isRendered=!1,this._revertData=null}render(){const i=this._renderNode({intoFragment:!0});return this._isRendered=!0,i}apply(i){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:i,isApplying:!0,revertData:this._revertData}),i}revert(i){if(!this._revertData)throw new W.a("ui-template-revert-not-applied",[this,i]);this._revertTemplateFromNode(i,this._revertData)}*getViews(){yield*function*i(o){if(o.children)for(const l of o.children)fa(l)?yield l:N6(l)&&(yield*i(l))}(this)}static bind(i,o){return{to:(l,d)=>new E9({eventNameOrFunction:l,attribute:l,observable:i,emitter:o,callback:d}),if:(l,d,g)=>new x9({observable:i,emitter:o,attribute:l,valueIfTrue:d,callback:g})}}static extend(i,o){if(i._isRendered)throw new W.a("template-extend-render",[this,i]);!function l(d,g){if(g.attributes&&(d.attributes||(d.attributes={}),j8(d.attributes,g.attributes)),g.eventListeners&&(d.eventListeners||(d.eventListeners={}),j8(d.eventListeners,g.eventListeners)),g.text&&d.text.push(...g.text),g.children&&g.children.length){if(d.children.length!=g.children.length)throw new W.a("ui-template-extend-children-mismatch",d);let y=0;for(const b of g.children)l(d.children[y++],b)}}(i,G4(Eh(o)))}_renderNode(i){let o;if(o=i.node?this.tag&&this.text:this.tag?this.text:!this.text,o)throw new W.a("ui-template-wrong-syntax",this);return this.text?this._renderText(i):this._renderElement(i)}_renderElement(i){let o=i.node;return o||(o=i.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(i),this._renderElementChildren(i),this._setUpListeners(i),o}_renderText(i){let o=i.node;return o?i.revertData.text=o.textContent:o=i.node=document.createTextNode(""),B8(this.text)?this._bindToObservable({schema:this.text,updater:Rt(o),data:i}):o.textContent=this.text.join(""),o}_renderAttributes(i){let o,l,d,g;if(!this.attributes)return;const y=i.node,b=i.revertData;for(o in this.attributes)if(d=y.getAttribute(o),l=this.attributes[o],b&&(b.attributes[o]=d),g=me(l[0])&&l[0].ns?l[0].ns:null,B8(l)){const M=g?l[0].value:l;b&&q8(o)&&M.unshift(d),this._bindToObservable({schema:M,updater:D6(y,o,g),data:i})}else"style"==o&&"string"!=typeof l[0]?this._renderStyleAttribute(l[0],i):(b&&d&&q8(o)&&l.unshift(d),l=l.map(M=>M&&M.value||M).reduce((M,S)=>M.concat(S),[]).reduce(z6,""),$l(l)||y.setAttributeNS(g,o,l))}_renderStyleAttribute(i,o){const l=o.node;for(const d in i){const g=i[d];B8(g)?this._bindToObservable({schema:[g],updater:Mh(l,d),data:o}):l.style[d]=g}}_renderElementChildren(i){const o=i.node,l=i.intoFragment?document.createDocumentFragment():o,d=i.isApplying;let g=0;for(const y of this.children)if(U8(y)){if(!d){y.setParent(o);for(const b of y)l.appendChild(b.element)}}else if(fa(y))d||(y.isRendered||y.render(),l.appendChild(y.element));else if(Qs(y))l.appendChild(y);else if(d){const b={children:[],bindings:[],attributes:{}};i.revertData.children.push(b),y._renderNode({node:l.childNodes[g++],isApplying:!0,revertData:b})}else l.appendChild(y.render());i.intoFragment&&o.appendChild(l)}_setUpListeners(i){if(this.eventListeners)for(const o in this.eventListeners){const l=this.eventListeners[o].map(d=>{const[g,y]=o.split("@");return d.activateDomEventListener(g,y,i)});i.revertData&&i.revertData.bindings.push(l)}}_bindToObservable({schema:i,updater:o,data:l}){const d=l.revertData;A9(i,o,l);const g=i.filter(y=>!$l(y)).filter(y=>y.observable).map(y=>y.activateAttributeListener(i,o,l));d&&d.bindings.push(g)}_revertTemplateFromNode(i,o){for(const l of o.bindings)for(const d of l)d();if(o.text)i.textContent=o.text;else{for(const l in o.attributes){const d=o.attributes[l];null===d?i.removeAttribute(l):i.setAttribute(l,d)}for(let l=0;l<o.children.length;++l)this._revertTemplateFromNode(i.childNodes[l],o.children[l])}}}_t(A1,se);class g0{constructor(i){Object.assign(this,i)}getValue(i){const o=this.observable[this.attribute];return this.callback?this.callback(o,i):o}activateAttributeListener(i,o,l){const d=()=>A9(i,o,l);return this.emitter.listenTo(this.observable,"change:"+this.attribute,d),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,d)}}}class E9 extends g0{activateDomEventListener(i,o,l){const d=(g,y)=>{o&&!y.target.matches(o)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(y):this.observable.fire(this.eventNameOrFunction,y))};return this.emitter.listenTo(l.node,i,d),()=>{this.emitter.stopListening(l.node,i,d)}}}class x9 extends g0{getValue(i){return!$l(super.getValue(i))&&(this.valueIfTrue||!0)}}function B8(h){return!!h&&(h.value&&(h=h.value),Array.isArray(h)?h.some(B8):h instanceof g0)}function A9(h,i,{node:o}){let l=(g=o,h.map(y=>y instanceof g0?y.getValue(g):y));var g;l=1==h.length&&h[0]instanceof x9?l[0]:l.reduce(z6,""),$l(l)?i.remove():i.set(l)}function Rt(h){return{set(i){h.textContent=i},remove(){h.textContent=""}}}function D6(h,i,o){return{set(l){h.setAttributeNS(o,i,l)},remove(){h.removeAttributeNS(o,i)}}}function Mh(h,i){return{set(o){h.style[i]=o},remove(){h.style[i]=null}}}function Eh(h){return k4(h,i=>{if(i&&(i instanceof g0||N6(i)||fa(i)||U8(i)))return i})}function G4(h){if("string"==typeof h?h=function(i){return{text:[i]}}(h):h.text&&function(i){i.text=Vi(i.text)}(h),h.on&&(h.eventListeners=function(i){for(const o in i)Ds(i,o);return i}(h.on),delete h.on),!h.text){h.attributes&&function(o){for(const l in o)o[l].value&&(o[l].value=Vi(o[l].value)),Ds(o,l)}(h.attributes);const i=[];if(h.children)if(U8(h.children))i.push(h.children);else for(const o of h.children)N6(o)||fa(o)||Qs(o)?i.push(o):i.push(new A1(o));h.children=i}return h}function Ds(h,i){h[i]=Vi(h[i])}function z6(h,i){return $l(i)?h:$l(h)?i:`${h} ${i}`}function j8(h,i){for(const o in i)h[o]?h[o].push(...i[o]):h[o]=i[o]}function $l(h){return!h&&0!==h}function fa(h){return h instanceof _n}function N6(h){return h instanceof A1}function U8(h){return h instanceof $4}function q8(h){return"class"==h||"style"==h}class $8 extends $4{constructor(i,o=[]){super(o),this.locale=i}attachToDom(){this._bodyCollectionContainer=new A1({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let i=document.querySelector(".ck-body-wrapper");i||(i=function(o,l,d={},g=[]){const y=d&&d.xmlns,b=y?o.createElementNS(y,l):o.createElement(l);for(const M in d)b.setAttribute(M,d[M]);!w6(g)&&Kr(g)||(g=[g]);for(let M of g)w6(M)&&(M=o.createTextNode(M)),b.appendChild(M);return b}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(i)),i.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const i=document.querySelector(".ck-body-wrapper");i&&0==i.childElementCount&&i.remove()}}Z(19);class v0 extends _n{constructor(){super();const i=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:i.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const i=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),o=i.getAttribute("viewBox");for(o&&(this.viewBox=o),this.element.innerHTML="";i.childNodes.length>0;)this.element.appendChild(i.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(i=>{i.style.fill=this.fillColor})}}Z(21);class G8 extends _n{constructor(i){super(i),this.set("text",""),this.set("position","s");const o=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",o.to("position",l=>"ck-tooltip_"+l),o.if("text","ck-hidden",l=>!l.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:o.to("text")}]}]})}}Z(23);class Ci extends _n{constructor(i){super(i);const o=this.bindTemplate,l=pe();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(l),this.iconView=new v0,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",o.to("class"),o.if("isEnabled","ck-disabled",d=>!d),o.if("isVisible","ck-hidden",d=>!d),o.to("isOn",d=>d?"ck-on":"ck-off"),o.if("withText","ck-button_with-text"),o.if("withKeystroke","ck-button_with-keystroke")],type:o.to("type",d=>d||"button"),tabindex:o.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+l,"aria-disabled":o.if("isEnabled",!0,d=>!d),"aria-pressed":o.to("isOn",d=>!!this.isToggleable&&String(d))},children:this.children,on:{mousedown:o.to(d=>{d.preventDefault()}),click:o.to(d=>{this.isEnabled?this.fire("execute"):d.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createTooltipView(){const i=new G8;return i.bind("text").to(this,"_tooltipString"),i.bind("position").to(this,"tooltipPosition"),i}_createLabelView(i){const o=new _n;return o.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:this.bindTemplate.to("labelStyle"),id:"ck-editor__aria-label_"+i},children:[{text:this.bindTemplate.to("label")}]}),o}_createKeystrokeView(){const i=new _n;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",o=>R2(o))}]}),i}_getTooltipString(i,o,l){return i?"string"==typeof i?i:(l&&(l=R2(l)),i instanceof Function?i(o,l):`${o}${l?` (${l})`:""}`):""}}Z(25);class _0 extends Ci{constructor(i){super(i),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const i=new _n;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),i}}class Gl{constructor(i){if(Object.assign(this,i),i.actions&&i.keystrokeHandler)for(const o in i.actions){let l=i.actions[o];"string"==typeof l&&(l=[l]);for(const d of l)i.keystrokeHandler.set(d,(g,y)=>{this[o](),y()})}}get first(){return this.focusables.find(L6)||null}get last(){return this.focusables.filter(L6).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let i=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((o,l)=>{const d=o.element===this.focusTracker.focusedElement;return d&&(i=l),d}),i)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(i){i&&i.focus()}_getFocusableItem(i){const o=this.current,l=this.focusables.length;if(!l)return null;if(null===o)return this[1===i?"first":"last"];let d=(o+l+i)%l;do{const g=this.focusables.get(d);if(L6(g))return g;d=(d+l+i)%l}while(d!==o);return null}}function L6(h){return!(!h.focus||"none"==Gn.window.getComputedStyle(h.element).display)}Z(27);var W8='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class S9 extends Ci{constructor(i){super(i),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const i=new v0;return i.content=W8,i.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),i}}Z(29);class Z8 extends _n{constructor(i){super(i);const o=this.bindTemplate;this.set("class"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new aa,this.focusTracker=new Ts,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",o.to("class"),o.if("isVisible","ck-hidden",l=>!l),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(i,o)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",(i,o)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),o())})}focus(){this.actionView.focus()}_createActionView(){const i=new Ci;return i.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),i.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),i.delegate("execute").to(this),i}_createArrowView(){const i=new Ci,o=i.bindTemplate;return i.icon=W8,i.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":o.to("isOn",l=>String(l))}}),i.bind("isEnabled").to(this),i.delegate("execute").to(this,"open"),i}}class T9 extends _n{constructor(i){super(i);const o=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",o.to("position",l=>"ck-dropdown__panel_"+l),o.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:o.to(l=>l.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const i=this.children.last;"function"==typeof i.focusLast?i.focusLast():i.focus()}}}function Y8({element:h,target:i,positions:o,limiter:l,fitInViewport:d,viewportOffsetConfig:g}){it(i)&&(i=i()),it(l)&&(l=l());const y=(I=h)&&I.parentNode?I.offsetParent===Gn.document.body?null:I.offsetParent:null,b=new Wn(h);var I;let M;const S={targetRect:new Wn(i),elementRect:b,positionedElementAncestor:y};if(l||d){const I=l&&new Wn(l).getVisible(),z=d&&function(H){H=Object.assign({top:0,bottom:0,left:0,right:0},H);const Y=new Wn(Gn.window);return Y.top+=H.top,Y.height-=H.top,Y.bottom-=H.bottom,Y.height-=H.bottom,Y}(g);Object.assign(S,{limiterRect:I,viewportRect:z}),M=function(H,Y){const{elementRect:J}=Y,ee=J.getArea(),oe=H.map(je=>new Wl(je,Y)).filter(je=>!!je.name);let ue=0,xe=null;for(const je of oe){const{_limiterIntersectionArea:ut,_viewportIntersectionArea:zt}=je;if(ut===ee)return je;const _i=IA(zt,2)+IA(ut,2);_i>ue&&(ue=_i,xe=je)}return xe}(o,S)||new Wl(o[0],S)}else M=new Wl(o[0],S);return M}function xh(h){const{scrollX:i,scrollY:o}=Gn.window;return h.clone().moveBy(i,o)}Z(31);class Wl{constructor(i,o){const l=i(o.targetRect,o.elementRect,o.viewportRect);if(!l)return;const{left:d,top:g,name:y,config:b}=l;Object.assign(this,{name:y,config:b}),this._positioningFunctionCorrdinates={left:d,top:g},this._options=o}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get _limiterIntersectionArea(){const i=this._options.limiterRect;if(i){const o=this._options.viewportRect;if(!o)return i.getIntersectionArea(this._rect);{const l=i.getIntersection(o);if(l)return l.getIntersectionArea(this._rect)}}return 0}get _viewportIntersectionArea(){const i=this._options.viewportRect;return i?i.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=xh(this._rect),this._options.positionedElementAncestor&&function(i,o){const l=xh(new Wn(o)),d=_8(o);let g=0,y=0;g-=l.left,y-=l.top,g+=o.scrollLeft,y+=o.scrollTop,g-=d.left,y-=d.top,i.moveBy(g,y)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}class P6 extends _n{constructor(i,o,l){super(i);const d=this.bindTemplate;this.buttonView=o,this.panelView=l,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("id"),this.set("panelPosition","auto"),this.keystrokes=new aa,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",d.to("class"),d.if("isEnabled","ck-disabled",g=>!g)],id:d.to("id"),"aria-describedby":d.to("ariaDescribedById")},children:[o,l]}),o.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{this.isOpen&&(this.panelView.position="auto"===this.panelPosition?P6._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelPosition)}),this.keystrokes.listenTo(this.element);const i=(o,l)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,l())};this.keystrokes.set("arrowdown",(o,l)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,l())}),this.keystrokes.set("arrowright",(o,l)=>{this.isOpen&&l()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:i,north:o,southEast:l,southWest:d,northEast:g,northWest:y,southMiddleEast:b,southMiddleWest:M,northMiddleEast:S,northMiddleWest:I}=P6.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[l,d,b,M,i,g,y,S,I,o]:[d,l,M,b,i,y,g,I,S,o]}}P6.defaultPanelPositions={south:(h,i)=>({top:h.bottom,left:h.left-(i.width-h.width)/2,name:"s"}),southEast:h=>({top:h.bottom,left:h.left,name:"se"}),southWest:(h,i)=>({top:h.bottom,left:h.left-i.width+h.width,name:"sw"}),southMiddleEast:(h,i)=>({top:h.bottom,left:h.left-(i.width-h.width)/4,name:"sme"}),southMiddleWest:(h,i)=>({top:h.bottom,left:h.left-3*(i.width-h.width)/4,name:"smw"}),north:(h,i)=>({top:h.top-i.height,left:h.left-(i.width-h.width)/2,name:"n"}),northEast:(h,i)=>({top:h.top-i.height,left:h.left,name:"ne"}),northWest:(h,i)=>({top:h.top-i.height,left:h.left-i.width+h.width,name:"nw"}),northMiddleEast:(h,i)=>({top:h.top-i.height,left:h.left-(i.width-h.width)/4,name:"nme"}),northMiddleWest:(h,i)=>({top:h.top-i.height,left:h.left-3*(i.width-h.width)/4,name:"nmw"})},P6._getOptimalPosition=Y8;class K8 extends _n{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class zg extends _n{constructor(i){super(i),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function Ah(h){return Array.isArray(h)?{items:h,removeItems:[]}:h?Object.assign({items:[],removeItems:[]},h):{items:[],removeItems:[]}}Z(33);class y0 extends _n{constructor(i,o){super(i);const l=this.bindTemplate,d=this.t;this.options=o||{},this.set("ariaLabel",d("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Ts,this.keystrokes=new aa,this.set("class"),this.set("isCompact",!1),this.itemsView=new I9(i),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const g="rtl"===i.uiLanguageDirection;this._focusCycler=new Gl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[g?"arrowright":"arrowleft","arrowup"],focusNext:[g?"arrowleft":"arrowright","arrowdown"]}});const y=["ck","ck-toolbar",l.to("class"),l.if("isCompact","ck-toolbar_compact")];var b;this.options.shouldGroupWhenFull&&this.options.isFloating&&y.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:y,role:"toolbar","aria-label":l.to("ariaLabel"),style:{maxWidth:l.to("maxWidth")}},children:this.children,on:{mousedown:(b=this,b.bindTemplate.to(M=>{M.target===b.element&&M.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new D9(this):new Q8(this)}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(i,o){const l=Ah(i),d=l.items.filter((y,b,M)=>"|"===y||-1===l.removeItems.indexOf(y)&&("-"===y?!this.options.shouldGroupWhenFull||(Object(W.b)("toolbarview-line-break-ignored-when-grouping-items",M),!1):!!o.has(y)||(Object(W.b)("toolbarview-item-unavailable",{name:y}),!1))),g=this._cleanSeparators(d).map(y=>"|"===y?new K8:"-"===y?new zg:o.create(y));this.items.addMany(g)}_cleanSeparators(i){const o=y=>"-"!==y&&"|"!==y,l=i.length,d=i.findIndex(o),g=l-i.slice().reverse().findIndex(o);return i.slice(d,g).filter((y,b,M)=>!!o(y)||!(b>0&&M[b-1]===y))}}class I9 extends _n{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Q8{constructor(i){const o=i.bindTemplate;i.set("isVertical",!1),i.itemsView.children.bindTo(i.items).using(l=>l),i.focusables.bindTo(i.items).using(l=>l),i.extendTemplate({attributes:{class:[o.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class D9{constructor(i){this.view=i,this.viewChildren=i.children,this.viewFocusables=i.focusables,this.viewItemsView=i.itemsView,this.viewFocusTracker=i.focusTracker,this.viewLocale=i.locale,this.ungroupedItems=i.createCollection(),this.groupedItems=i.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,i.itemsView.children.bindTo(this.ungroupedItems).using(o=>o),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),i.children.on("add",this._updateFocusCycleableItems.bind(this)),i.children.on("remove",this._updateFocusCycleableItems.bind(this)),i.items.on("change",(o,l)=>{const d=l.index;for(const g of l.removed)d>=this.ungroupedItems.length?this.groupedItems.remove(g):this.ungroupedItems.remove(g);for(let g=d;g<d+l.added.length;g++){const y=l.added[g-d];g>this.ungroupedItems.length?this.groupedItems.add(y,g-this.ungroupedItems.length):this.ungroupedItems.add(y,g)}this._updateGrouping()}),i.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(i){this.viewElement=i.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(i)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);const i=this.groupedItems.length;let o;for(;this._areItemsOverflowing;)this._groupLastItem(),o=!0;if(!o&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==i&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const i=this.viewElement,o=this.viewLocale.uiLanguageDirection,l=new Wn(i.lastChild),d=new Wn(i);if(!this.cachedPadding){const g=Gn.window.getComputedStyle(i);this.cachedPadding=Number.parseInt(g["ltr"===o?"paddingRight":"paddingLeft"])}return"ltr"===o?l.right>d.right-this.cachedPadding:l.left<d.left+this.cachedPadding}_enableGroupingOnResize(){let i;this.resizeObserver=new Vn(this.viewElement,o=>{i&&i===o.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),i=o.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(i){i.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new K8),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const i=this.viewLocale,o=i.t,l=Jc(i);return l.class="ck-toolbar__grouped-dropdown",l.panelPosition="ltr"===i.uiLanguageDirection?"sw":"se",Sh(l,[]),l.buttonView.set({label:o("Show more items"),tooltip:!0,tooltipPosition:"rtl"===i.uiLanguageDirection?"se":"sw",icon:M9}),l.toolbarView.items.bindTo(this.groupedItems).using(d=>d),l}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(i=>{this.viewFocusables.add(i)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}Z(35);class sb extends _n{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new Ts,this.keystrokes=new aa,this._focusCycler=new Gl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const i of this.items)this.focusTracker.add(i.element);this.items.on("add",(i,o)=>{this.focusTracker.add(o.element)}),this.items.on("remove",(i,o)=>{this.focusTracker.remove(o.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class ab extends _n{constructor(i){super(i),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class cb extends _n{constructor(i){super(i),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}function Jc(h,i=S9){const o=new i(h),l=new T9(h),d=new P6(h,o,l);return o.bind("isEnabled").to(d),o instanceof S9?o.bind("isOn").to(d,"isOpen"):o.arrowView.bind("isOn").to(d,"isOpen"),(y=g=d).on("render",()=>{er({emitter:y,activator:()=>y.isOpen,callback:()=>{y.isOpen=!1},contextElements:[y.element]})}),function(y){y.on("execute",b=>{b.source instanceof _0||(y.isOpen=!1)})}(g),function(y){y.keystrokes.set("arrowdown",(b,M)=>{y.isOpen&&(y.panelView.focus(),M())}),y.keystrokes.set("arrowup",(b,M)=>{y.isOpen&&(y.panelView.focusLast(),M())})}(g),d;var g,y}function Sh(h,i){const o=h.locale,l=o.t,d=h.toolbarView=new y0(o);d.set("ariaLabel",l("Dropdown toolbar")),h.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),i.map(g=>d.items.add(g)),h.panelView.children.add(d),d.items.delegate("execute").to(h)}function Th(h,i){const o=h.locale,l=h.listView=new sb(o);l.items.bindTo(i).using(({type:d,model:g})=>{if("separator"===d)return new cb(o);if("button"===d||"switchbutton"===d){const y=new ab(o);let b;return b="button"===d?new Ci(o):new _0(o),b.bind(...Object.keys(g)).to(g),b.delegate("execute").to(y),y.children.add(b),y}}),h.panelView.children.add(l),l.items.delegate("execute").to(h)}Z(37),Z(39),Z(41);class z9 extends _n{constructor(i){super(i),this.body=new $8(i)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}Z(43);class N9 extends _n{constructor(i){super(i),this.set("text"),this.set("for"),this.id="ck-editor__label_"+pe();const o=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:o.to("for")},children:[{text:o.to("text")}]})}}class lb extends z9{constructor(i){super(i),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:i.uiLanguageDirection,lang:i.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const i=this.t,o=new N9;return o.text=i("Rich Text Editor"),o.extendTemplate({attributes:{class:"ck-voice-label"}}),o}}class Xc extends _n{constructor(i,o,l){super(i),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:i.contentLanguage,dir:i.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=l,this._hasExternalElement=!!this._editableElement,this._editingView=o}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const i=this._editingView;function o(l){i.change(d=>{const g=i.document.getRoot(l.name);d.addClass(l.isFocused?"ck-focused":"ck-blurred",g),d.removeClass(l.isFocused?"ck-blurred":"ck-focused",g)})}i.isRenderingInProgress?function l(d){i.once("change:isRenderingInProgress",(g,y,b)=>{b?l(d):o(d)})}(this):o(this)}}class b0 extends Xc{constructor(i,o,l){super(i,o,l),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const i=this._editingView,o=this.t;i.change(l=>{const d=i.document.getRoot(this.name);l.setAttribute("aria-label",o("Rich Text Editor, %0",this.name),d)})}}Z(45),Z(47);class Ng extends _n{constructor(i){super(i),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById"),this.focusTracker=new Ts,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",o.if("isFocused","ck-input_focused"),o.if("isEmpty","ck-input-text_empty"),o.if("hasError","ck-error")],id:o.to("id"),placeholder:o.to("placeholder"),readonly:o.to("isReadOnly"),"aria-invalid":o.if("hasError",!0),"aria-describedby":o.to("ariaDescribedById")},on:{input:o.to((...l)=>{this.fire("input",...l),this._updateIsEmpty()}),change:o.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(i,o,l)=>{this._setDomElementValue(l),this._updateIsEmpty()})}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(i){this.element.value=i||0===i?i:""}}Z(49);class J8 extends _n{constructor(i,o){super(i);const l="ck-labeled-field-view-"+pe(),d="ck-labeled-field-view-status-"+pe();this.fieldView=o(this,l,d),this.set("label"),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class"),this.set("placeholder"),this.labelView=this._createLabelView(l),this.statusView=this._createStatusView(d),this.bind("_statusText").to(this,"errorText",this,"infoText",(y,b)=>y||b);const g=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",g.to("class"),g.if("isEnabled","ck-disabled",y=>!y),g.if("isEmpty","ck-labeled-field-view_empty"),g.if("isFocused","ck-labeled-field-view_focused"),g.if("placeholder","ck-labeled-field-view_placeholder"),g.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:[this.fieldView,this.labelView]},this.statusView]})}_createLabelView(i){const o=new N9(this.locale);return o.for=i,o.bind("text").to(this,"label"),o}_createStatusView(i){const o=new _n(this.locale),l=this.bindTemplate;return o.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",l.if("errorText","ck-labeled-field-view__status_error"),l.if("_statusText","ck-hidden",d=>!d)],id:i,role:l.if("errorText","alert")},children:[{text:l.to("_statusText")}]}),o}focus(){this.fieldView.focus()}}function R6(h,i,o){const l=new Ng(h.locale);return l.set({id:i,ariaDescribedById:o}),l.bind("isReadOnly").to(h,"isEnabled",d=>!d),l.bind("hasError").to(h,"errorText",d=>!!d),l.on("input",()=>{h.errorText=null}),h.bind("isEmpty","isFocused","placeholder").to(l),l}class X8 extends Zs{static get pluginName(){return"Notification"}init(){this.on("show:warning",(i,o)=>{window.alert(o.message)},{priority:"lowest"})}showSuccess(i,o={}){this._showNotification({message:i,type:"success",namespace:o.namespace,title:o.title})}showInfo(i,o={}){this._showNotification({message:i,type:"info",namespace:o.namespace,title:o.title})}showWarning(i,o={}){this._showNotification({message:i,type:"warning",namespace:o.namespace,title:o.title})}_showNotification(i){this.fire("show:"+i.type+(i.namespace?":"+i.namespace:""),{message:i.message,type:i.type,title:i.title||""})}}class O6{constructor(i,o){o&&F1(this,o),i&&this.set(i)}}_t(O6,Mt),Z(51);const L9=Bc("px"),el=Gn.document.body;class Mn extends _n{constructor(i){super(i);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",o.to("position",l=>"ck-balloon-panel_"+l),o.if("isVisible","ck-balloon-panel_visible"),o.if("withArrow","ck-balloon-panel_with-arrow"),o.to("class")],style:{top:o.to("top",L9),left:o.to("left",L9)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(i){this.show();const o=Mn.defaultPositions,l=Object.assign({},{element:this.element,positions:[o.southArrowNorth,o.southArrowNorthMiddleWest,o.southArrowNorthMiddleEast,o.southArrowNorthWest,o.southArrowNorthEast,o.northArrowSouth,o.northArrowSouthMiddleWest,o.northArrowSouthMiddleEast,o.northArrowSouthWest,o.northArrowSouthEast,o.viewportStickyNorth],limiter:el,fitInViewport:!0},i),d=Mn._getOptimalPosition(l),g=parseInt(d.left),y=parseInt(d.top),{name:b,config:M={}}=d,{withArrow:S=!0}=M;Object.assign(this,{top:y,left:g,position:b,withArrow:S})}pin(i){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(i):this._stopPinning()},this._startPinning(i),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(i){this.attachTo(i);const o=Ih(i.target),l=i.limiter?Ih(i.limiter):el;this.listenTo(Gn.document,"scroll",(d,g)=>{const y=g.target,b=o&&y.contains(o),M=l&&y.contains(l);!b&&!M&&o&&l||this.attachTo(i)},{useCapture:!0}),this.listenTo(Gn.window,"resize",()=>{this.attachTo(i)})}_stopPinning(){this.stopListening(Gn.document,"scroll"),this.stopListening(Gn.window,"resize")}}function Ih(h){return fo(h)?h:sa(h)?h.commonAncestorContainer:"function"==typeof h?Ih(h()):null}function Fo(h,i){return h.top-i.height-Mn.arrowVerticalOffset}function mo(h){return h.bottom+Mn.arrowVerticalOffset}Mn.arrowHorizontalOffset=25,Mn.arrowVerticalOffset=10,Mn.stickyVerticalOffset=20,Mn._getOptimalPosition=Y8,Mn.defaultPositions={northWestArrowSouthWest:(h,i)=>({top:Fo(h,i),left:h.left-Mn.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthMiddleWest:(h,i)=>({top:Fo(h,i),left:h.left-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_smw"}),northWestArrowSouth:(h,i)=>({top:Fo(h,i),left:h.left-i.width/2,name:"arrow_s"}),northWestArrowSouthMiddleEast:(h,i)=>({top:Fo(h,i),left:h.left-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_sme"}),northWestArrowSouthEast:(h,i)=>({top:Fo(h,i),left:h.left-i.width+Mn.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(h,i)=>({top:Fo(h,i),left:h.left+h.width/2-Mn.arrowHorizontalOffset,name:"arrow_sw"}),northArrowSouthMiddleWest:(h,i)=>({top:Fo(h,i),left:h.left+h.width/2-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_smw"}),northArrowSouth:(h,i)=>({top:Fo(h,i),left:h.left+h.width/2-i.width/2,name:"arrow_s"}),northArrowSouthMiddleEast:(h,i)=>({top:Fo(h,i),left:h.left+h.width/2-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_sme"}),northArrowSouthEast:(h,i)=>({top:Fo(h,i),left:h.left+h.width/2-i.width+Mn.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(h,i)=>({top:Fo(h,i),left:h.right-Mn.arrowHorizontalOffset,name:"arrow_sw"}),northEastArrowSouthMiddleWest:(h,i)=>({top:Fo(h,i),left:h.right-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_smw"}),northEastArrowSouth:(h,i)=>({top:Fo(h,i),left:h.right-i.width/2,name:"arrow_s"}),northEastArrowSouthMiddleEast:(h,i)=>({top:Fo(h,i),left:h.right-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_sme"}),northEastArrowSouthEast:(h,i)=>({top:Fo(h,i),left:h.right-i.width+Mn.arrowHorizontalOffset,name:"arrow_se"}),southWestArrowNorthWest:(h,i)=>({top:mo(h),left:h.left-Mn.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthMiddleWest:(h,i)=>({top:mo(h),left:h.left-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_nmw"}),southWestArrowNorth:(h,i)=>({top:mo(h),left:h.left-i.width/2,name:"arrow_n"}),southWestArrowNorthMiddleEast:(h,i)=>({top:mo(h),left:h.left-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_nme"}),southWestArrowNorthEast:(h,i)=>({top:mo(h),left:h.left-i.width+Mn.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(h,i)=>({top:mo(h),left:h.left+h.width/2-Mn.arrowHorizontalOffset,name:"arrow_nw"}),southArrowNorthMiddleWest:(h,i)=>({top:mo(h),left:h.left+h.width/2-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_nmw"}),southArrowNorth:(h,i)=>({top:mo(h),left:h.left+h.width/2-i.width/2,name:"arrow_n"}),southArrowNorthMiddleEast:(h,i)=>({top:mo(h),left:h.left+h.width/2-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_nme"}),southArrowNorthEast:(h,i)=>({top:mo(h),left:h.left+h.width/2-i.width+Mn.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(h,i)=>({top:mo(h),left:h.right-Mn.arrowHorizontalOffset,name:"arrow_nw"}),southEastArrowNorthMiddleWest:(h,i)=>({top:mo(h),left:h.right-.25*i.width-Mn.arrowHorizontalOffset,name:"arrow_nmw"}),southEastArrowNorth:(h,i)=>({top:mo(h),left:h.right-i.width/2,name:"arrow_n"}),southEastArrowNorthMiddleEast:(h,i)=>({top:mo(h),left:h.right-.75*i.width+Mn.arrowHorizontalOffset,name:"arrow_nme"}),southEastArrowNorthEast:(h,i)=>({top:mo(h),left:h.right-i.width+Mn.arrowHorizontalOffset,name:"arrow_ne"}),viewportStickyNorth:(h,i,o)=>h.getIntersection(o)?{top:o.top+Mn.stickyVerticalOffset,left:h.left+h.width/2-i.width/2,name:"arrowless",config:{withArrow:!1}}:null},Z(53),Z(55);const w0=Bc("px");class V6 extends ot{static get pluginName(){return"ContextualBalloon"}constructor(i){super(i),this.positionLimiter=()=>{const o=this.editor.editing.view,l=o.document.selection.editableElement;return l?o.domConverter.mapViewToDom(l.root):null},this.set("visibleView",null),this.view=new Mn(i.locale),i.ui.view.body.add(this.view),i.ui.focusTracker.add(this.view.element),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}hasView(i){return Array.from(this._viewToStack.keys()).includes(i)}add(i){if(this.hasView(i.view))throw new W.a("contextualballoon-add-view-exist",[this,i]);const o=i.stackId||"main";if(!this._idToStack.has(o))return this._idToStack.set(o,new Map([[i.view,i]])),this._viewToStack.set(i.view,this._idToStack.get(o)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!i.singleViewMode||this.showStack(o));const l=this._idToStack.get(o);i.singleViewMode&&this.showStack(o),l.set(i.view,i),this._viewToStack.set(i.view,l),l===this._visibleStack&&this._showView(i)}remove(i){if(!this.hasView(i))throw new W.a("contextualballoon-remove-view-not-exist",[this,i]);const o=this._viewToStack.get(i);this._singleViewMode&&this.visibleView===i&&(this._singleViewMode=!1),this.visibleView===i&&(1===o.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(o.values())[o.size-2])),1===o.size?(this._idToStack.delete(this._getStackId(o)),this._numberOfStacks=this._idToStack.size):o.delete(i),this._viewToStack.delete(i)}updatePosition(i){i&&(this._visibleStack.get(this.visibleView).position=i),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(i){this.visibleStack=i;const o=this._idToStack.get(i);if(!o)throw new W.a("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==o&&this._showView(Array.from(o.values()).pop())}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(i){return Array.from(this._idToStack.entries()).find(o=>o[1]===i)[0]}_showNextStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)+1;i[o]||(o=0),this.showStack(this._getStackId(i[o]))}_showPrevStack(){const i=Array.from(this._idToStack.values());let o=i.indexOf(this._visibleStack)-1;i[o]||(o=i.length-1),this.showStack(this._getStackId(i[o]))}_createRotatorView(){const i=new Dh(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(l,d)=>!d&&l>1),i.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(l,d)=>{if(d<2)return"";const g=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return o("%0 of %1",[g,d])}),i.buttonNextView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),i.buttonPrevView.on("execute",()=>{i.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),i}_createFakePanelsView(){const i=new F6(this.editor.locale,this.view);return i.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(o,l)=>!l&&o>=2?Math.min(o-1,2):0),i.listenTo(this.view,"change:top",()=>i.updatePosition()),i.listenTo(this.view,"change:left",()=>i.updatePosition()),this.editor.ui.view.body.add(i),i}_showView({view:i,balloonClassName:o="",withArrow:l=!0,singleViewMode:d=!1}){this.view.class=o,this.view.withArrow=l,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}_getBalloonPosition(){let i=Array.from(this._visibleStack.values()).pop().position;return i&&(i.limiter||(i=Object.assign({},i,{limiter:this.positionLimiter})),i=Object.assign({},i,{viewportOffsetConfig:this.editor.ui.viewportOffset})),i}}class Dh extends _n{constructor(i){super(i);const o=i.t,l=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Ts,this.buttonPrevView=this._createButtonView(o("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(o("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",l.to("isNavigationVisible",d=>d?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:l.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}showView(i){this.hideView(),this.content.add(i)}hideView(){this.content.clear()}_createButtonView(i,o){const l=new Ci(this.locale);return l.set({label:i,icon:o,tooltip:!0}),l}}class F6 extends _n{constructor(i,o){super(i);const l=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=o,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",l.to("numberOfPanels",d=>d?"":"ck-hidden")],style:{top:l.to("top",w0),left:l.to("left",w0),width:l.to("width",w0),height:l.to("height",w0)}},children:this.content}),this.on("change:numberOfPanels",(d,g,y,b)=>{y>b?this._addPanels(y-b):this._removePanels(b-y),this.updatePosition()})}_addPanels(i){for(;i--;){const o=new _n;o.setTemplate({tag:"div"}),this.content.add(o),this.registerChild(o)}}_removePanels(i){for(;i--;){const o=this.content.last;this.content.remove(o),this.deregisterChild(o),o.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:i,left:o}=this._balloonPanelView,{width:l,height:d}=new Wn(this._balloonPanelView.element);Object.assign(this,{top:i,left:o,width:l,height:d})}}}Z(57);const W2=Bc("px");class zh extends _n{constructor(i){super(i);const o=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new A1({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:o.to("isSticky",l=>l?"block":"none"),height:o.to("isSticky",l=>l?W2(this._panelRect.height):null)}}}).render(),this._contentPanel=new A1({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",o.if("isSticky","ck-sticky-panel__content_sticky"),o.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:o.to("isSticky",l=>l?W2(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:o.to("_hasViewportTopOffset",l=>l?W2(this.viewportTopOffset):null),bottom:o.to("_isStickyToTheLimiter",l=>l?W2(this.limiterBottomOffset):null),marginLeft:o.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(Gn.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const i=this._panelRect=this._contentPanel.getBoundingClientRect();let o;this.limiterElement?(o=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&o.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<o.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=o.bottom<i.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:W2(-Gn.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}Bc("px"),Z(59),Bc("px"),Bc("px"),Z(61);const Z2=new WeakMap;function W4(h){const{view:i,element:o,text:l,isDirectHost:d=!0,keepOnFocus:g=!1}=h,y=i.document;Z2.has(y)||(Z2.set(y,new Map),y.registerPostFixer(b=>Nh(y,b))),Z2.get(y).set(o,{text:l,isDirectHost:d,keepOnFocus:g,hostElement:d?o:null}),i.change(b=>Nh(y,b))}function Nh(h,i){const o=Z2.get(h),l=[];let d=!1;for(const[g,y]of o)y.isDirectHost&&(l.push(g),e5(i,g,y)&&(d=!0));for(const[g,y]of o){if(y.isDirectHost)continue;const b=Lg(g);b&&(l.includes(b)||(y.hostElement=b,e5(i,g,y)&&(d=!0)))}return d}function e5(h,i,o){const{text:l,isDirectHost:d,hostElement:g}=o;let y=!1;return g.getAttribute("data-placeholder")!==l&&(h.setAttribute("data-placeholder",l,g),y=!0),(d||1==i.childCount)&&function(b,M){if(!b.isAttached()||Array.from(b.getChildren()).some(z=>!z.is("uiElement")))return!1;if(M)return!0;const S=b.document;if(!S.isFocused)return!0;const I=S.selection.anchor;return I&&I.parent!==b}(g,o.keepOnFocus)?(b=h,!(M=g).hasClass("ck-placeholder")&&(b.addClass("ck-placeholder",M),!0)&&(y=!0)):function(h,i){return!!i.hasClass("ck-placeholder")&&(h.removeClass("ck-placeholder",i),!0)}(h,g)&&(y=!0),y;var b,M}function Lg(h){if(h.childCount){const i=h.getChild(0);if(i.is("element")&&!i.is("uiElement"))return i}return null}const H6=new Map;function Hn(h,i,o){let l=H6.get(h);l||(l=new Map,H6.set(h,l)),l.set(i,o)}function Pg(h){return[h]}function Y4(h,i,o={}){const l=function(d,g){const y=H6.get(d);return y&&y.has(g)?y.get(g):Pg}(h.constructor,i.constructor);try{return l(h=h.clone(),i,o)}catch(d){throw d}}function ub(h,i,o){h=h.slice(),i=i.slice();const l=new P9(o.document,o.useRelations,o.forceWeakRemove);l.setOriginalOperations(h),l.setOriginalOperations(i);const d=l.originalOperations;if(0==h.length||0==i.length)return{operationsA:h,operationsB:i,originalOperations:d};const g=new WeakMap;for(const M of h)g.set(M,0);const y={nextBaseVersionA:h[h.length-1].baseVersion+1,nextBaseVersionB:i[i.length-1].baseVersion+1,originalOperationsACount:h.length,originalOperationsBCount:i.length};let b=0;for(;b<h.length;){const M=h[b],S=g.get(M);if(S==i.length){b++;continue}const I=i[S],z=Y4(M,I,l.getContext(M,I,!0)),H=Y4(I,M,l.getContext(I,M,!1));l.updateRelation(M,I),l.setOriginalOperations(z,M),l.setOriginalOperations(H,I);for(const Y of z)g.set(Y,S+H.length);h.splice(b,1,...z),i.splice(S,1,...H)}if(o.padWithNoOps){const M=h.length-y.originalOperationsACount,S=i.length-y.originalOperationsBCount;Lh(h,S-M),Lh(i,M-S)}return R9(h,y.nextBaseVersionB),R9(i,y.nextBaseVersionA),{operationsA:h,operationsB:i,originalOperations:d}}class P9{constructor(i,o,l=!1){this.originalOperations=new Map,this._history=i.history,this._useRelations=o,this._forceWeakRemove=!!l,this._relations=new Map}setOriginalOperations(i,o=null){const l=o?this.originalOperations.get(o):null;for(const d of i)this.originalOperations.set(d,l||d)}updateRelation(i,o){switch(i.constructor){case Yn:switch(o.constructor){case Ri:i.targetPosition.isEqual(o.sourcePosition)||o.movedRange.containsPosition(i.targetPosition)?this._setRelation(i,o,"insertAtSource"):i.targetPosition.isEqual(o.deletionPosition)?this._setRelation(i,o,"insertBetween"):i.targetPosition.isAfter(o.sourcePosition)&&this._setRelation(i,o,"moveTargetAfter");break;case Yn:i.targetPosition.isEqual(o.sourcePosition)||i.targetPosition.isBefore(o.sourcePosition)?this._setRelation(i,o,"insertBefore"):this._setRelation(i,o,"insertAfter")}break;case rn:switch(o.constructor){case Ri:i.splitPosition.isBefore(o.sourcePosition)&&this._setRelation(i,o,"splitBefore");break;case Yn:if(i.splitPosition.isEqual(o.sourcePosition)||i.splitPosition.isBefore(o.sourcePosition))this._setRelation(i,o,"splitBefore");else{const l=Be._createFromPositionAndShift(o.sourcePosition,o.howMany);i.splitPosition.hasSameParentAs(o.sourcePosition)&&l.containsPosition(i.splitPosition)&&this._setRelation(i,o,{howMany:l.end.offset-i.splitPosition.offset,offset:i.splitPosition.offset-l.start.offset})}}break;case Ri:switch(o.constructor){case Ri:i.targetPosition.isEqual(o.sourcePosition)||this._setRelation(i,o,"mergeTargetNotMoved"),i.sourcePosition.isEqual(o.targetPosition)&&this._setRelation(i,o,"mergeSourceNotMoved"),i.sourcePosition.isEqual(o.sourcePosition)&&this._setRelation(i,o,"mergeSameElement");break;case rn:i.sourcePosition.isEqual(o.splitPosition)&&this._setRelation(i,o,"splitAtSource")}break;case Ir:{const l=i.newRange;if(!l)return;switch(o.constructor){case Yn:{const d=Be._createFromPositionAndShift(o.sourcePosition,o.howMany),g=d.containsPosition(l.start)||d.start.isEqual(l.start),y=d.containsPosition(l.end)||d.end.isEqual(l.end);!g&&!y||d.containsRange(l)||this._setRelation(i,o,{side:g?"left":"right",path:g?l.start.path.slice():l.end.path.slice()});break}case Ri:{const d=l.start.isEqual(o.targetPosition),g=l.start.isEqual(o.deletionPosition),y=l.end.isEqual(o.deletionPosition),b=l.end.isEqual(o.sourcePosition);(d||g||y||b)&&this._setRelation(i,o,{wasInLeftElement:d,wasStartBeforeMergedElement:g,wasEndBeforeMergedElement:y,wasInRightElement:b});break}}break}}}getContext(i,o,l){return{aIsStrong:l,aWasUndone:this._wasUndone(i),bWasUndone:this._wasUndone(o),abRelation:this._useRelations?this._getRelation(i,o):null,baRelation:this._useRelations?this._getRelation(o,i):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(i){const o=this.originalOperations.get(i);return o.wasUndone||this._history.isUndoneOperation(o)}_getRelation(i,o){const l=this.originalOperations.get(o),d=this._history.getUndoneOperation(l);if(!d)return null;const g=this.originalOperations.get(i),y=this._relations.get(g);return y&&y.get(d)||null}_setRelation(i,o,l){const d=this.originalOperations.get(i),g=this.originalOperations.get(o);let y=this._relations.get(d);y||(y=new Map,this._relations.set(d,y)),y.set(g,l)}}function R9(h,i){for(const o of h)o.baseVersion=i++}function Lh(h,i){for(let o=0;o<i;o++)h.push(new Bi(0))}function t5(h,i,o){const l=h.nodes.getNode(0).getAttribute(i);if(l==o)return null;const d=new Be(h.position,h.position.getShiftedBy(h.howMany));return new Pi(d,i,l,o,0)}function n5(h,i){return null===h.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany)}function tl(h,i){const o=[];for(let l=0;l<h.length;l++){const d=h[l],g=new Yn(d.start,d.end.offset-d.start.offset,i,0);o.push(g);for(let y=l+1;y<h.length;y++)h[y]=h[y]._getTransformedByMove(g.sourcePosition,g.targetPosition,g.howMany)[0];i=i._getTransformedByMove(g.sourcePosition,g.targetPosition,g.howMany)}return o}Hn(Pi,Pi,(h,i,o)=>{if(h.key===i.key&&h.range.start.hasSameParentAs(i.range.start)){const l=h.range.getDifference(i.range).map(g=>new Pi(g,h.key,h.oldValue,h.newValue,0)),d=h.range.getIntersection(i.range);return d&&o.aIsStrong&&l.push(new Pi(d,i.key,i.newValue,h.newValue,0)),0==l.length?[new Bi(0)]:l}return[h]}),Hn(Pi,fr,(h,i)=>{if(h.range.start.hasSameParentAs(i.position)&&h.range.containsPosition(i.position)){const o=h.range._getTransformedByInsertion(i.position,i.howMany,!i.shouldReceiveAttributes).map(l=>new Pi(l,h.key,h.oldValue,h.newValue,h.baseVersion));if(i.shouldReceiveAttributes){const l=t5(i,h.key,h.oldValue);l&&o.unshift(l)}return o}return h.range=h.range._getTransformedByInsertion(i.position,i.howMany,!1)[0],[h]}),Hn(Pi,Ri,(h,i)=>{const o=[];h.range.start.hasSameParentAs(i.deletionPosition)&&(h.range.containsPosition(i.deletionPosition)||h.range.start.isEqual(i.deletionPosition))&&o.push(Be._createFromPositionAndShift(i.graveyardPosition,1));const l=h.range._getTransformedByMergeOperation(i);return l.isCollapsed||o.push(l),o.map(d=>new Pi(d,h.key,h.oldValue,h.newValue,h.baseVersion))}),Hn(Pi,Yn,(h,i)=>function(o,l){const d=Be._createFromPositionAndShift(l.sourcePosition,l.howMany);let g=null,y=[];d.containsRange(o,!0)?g=o:o.start.hasSameParentAs(d.start)?(y=o.getDifference(d),g=o.getIntersection(d)):y=[o];const b=[];for(let M of y){M=M._getTransformedByDeletion(l.sourcePosition,l.howMany);const S=l.getMovedRangeStart(),I=M.start.hasSameParentAs(S);M=M._getTransformedByInsertion(S,l.howMany,I),b.push(...M)}return g&&b.push(g._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),b}(h.range,i).map(o=>new Pi(o,h.key,h.oldValue,h.newValue,h.baseVersion))),Hn(Pi,rn,(h,i)=>{if(h.range.end.isEqual(i.insertionPosition))return i.graveyardPosition||h.range.end.offset++,[h];if(h.range.start.hasSameParentAs(i.splitPosition)&&h.range.containsPosition(i.splitPosition)){const o=h.clone();return o.range=new Be(i.moveTargetPosition.clone(),h.range.end._getCombined(i.splitPosition,i.moveTargetPosition)),h.range.end=i.splitPosition.clone(),h.range.end.stickiness="toPrevious",[h,o]}return h.range=h.range._getTransformedBySplitOperation(i),[h]}),Hn(fr,Pi,(h,i)=>{const o=[h];if(h.shouldReceiveAttributes&&h.position.hasSameParentAs(i.range.start)&&i.range.containsPosition(h.position)){const l=t5(h,i.key,i.newValue);l&&o.push(l)}return o}),Hn(fr,fr,(h,i,o)=>(h.position.isEqual(i.position)&&o.aIsStrong||(h.position=h.position._getTransformedByInsertOperation(i)),[h])),Hn(fr,Yn,(h,i)=>(h.position=h.position._getTransformedByMoveOperation(i),[h])),Hn(fr,rn,(h,i)=>(h.position=h.position._getTransformedBySplitOperation(i),[h])),Hn(fr,Ri,(h,i)=>(h.position=h.position._getTransformedByMergeOperation(i),[h])),Hn(Ir,fr,(h,i)=>(h.oldRange&&(h.oldRange=h.oldRange._getTransformedByInsertOperation(i)[0]),h.newRange&&(h.newRange=h.newRange._getTransformedByInsertOperation(i)[0]),[h])),Hn(Ir,Ir,(h,i,o)=>{if(h.name==i.name){if(!o.aIsStrong)return[new Bi(0)];h.oldRange=i.newRange?i.newRange.clone():null}return[h]}),Hn(Ir,Ri,(h,i)=>(h.oldRange&&(h.oldRange=h.oldRange._getTransformedByMergeOperation(i)),h.newRange&&(h.newRange=h.newRange._getTransformedByMergeOperation(i)),[h])),Hn(Ir,Yn,(h,i,o)=>{if(h.oldRange&&(h.oldRange=Be._createFromRanges(h.oldRange._getTransformedByMoveOperation(i))),h.newRange){if(o.abRelation){const l=Be._createFromRanges(h.newRange._getTransformedByMoveOperation(i));if("left"==o.abRelation.side&&i.targetPosition.isEqual(h.newRange.start))return h.newRange.start.path=o.abRelation.path,h.newRange.end=l.end,[h];if("right"==o.abRelation.side&&i.targetPosition.isEqual(h.newRange.end))return h.newRange.start=l.start,h.newRange.end.path=o.abRelation.path,[h]}h.newRange=Be._createFromRanges(h.newRange._getTransformedByMoveOperation(i))}return[h]}),Hn(Ir,rn,(h,i,o)=>{if(h.oldRange&&(h.oldRange=h.oldRange._getTransformedBySplitOperation(i)),h.newRange){if(o.abRelation){const l=h.newRange._getTransformedBySplitOperation(i);return h.newRange.start.isEqual(i.splitPosition)&&o.abRelation.wasStartBeforeMergedElement?h.newRange.start=tt._createAt(i.insertionPosition):h.newRange.start.isEqual(i.splitPosition)&&!o.abRelation.wasInLeftElement&&(h.newRange.start=tt._createAt(i.moveTargetPosition)),h.newRange.end=h.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasInRightElement?tt._createAt(i.moveTargetPosition):h.newRange.end.isEqual(i.splitPosition)&&o.abRelation.wasEndBeforeMergedElement?tt._createAt(i.insertionPosition):l.end,[h]}h.newRange=h.newRange._getTransformedBySplitOperation(i)}return[h]}),Hn(Ri,fr,(h,i)=>(h.sourcePosition.hasSameParentAs(i.position)&&(h.howMany+=i.howMany),h.sourcePosition=h.sourcePosition._getTransformedByInsertOperation(i),h.targetPosition=h.targetPosition._getTransformedByInsertOperation(i),[h])),Hn(Ri,Ri,(h,i,o)=>{if(h.sourcePosition.isEqual(i.sourcePosition)&&h.targetPosition.isEqual(i.targetPosition)){if(o.bWasUndone){const l=i.graveyardPosition.path.slice();return l.push(0),h.sourcePosition=new tt(i.graveyardPosition.root,l),h.howMany=0,[h]}return[new Bi(0)]}if(h.sourcePosition.isEqual(i.sourcePosition)&&!h.targetPosition.isEqual(i.targetPosition)&&!o.bWasUndone&&"splitAtSource"!=o.abRelation){const l="$graveyard"==h.targetPosition.root.rootName,d="$graveyard"==i.targetPosition.root.rootName;if(d&&!l||(!l||d)&&o.aIsStrong){const y=i.targetPosition._getTransformedByMergeOperation(i),b=h.targetPosition._getTransformedByMergeOperation(i);return[new Yn(y,h.howMany,b,0)]}return[new Bi(0)]}return h.sourcePosition.hasSameParentAs(i.targetPosition)&&(h.howMany+=i.howMany),h.sourcePosition=h.sourcePosition._getTransformedByMergeOperation(i),h.targetPosition=h.targetPosition._getTransformedByMergeOperation(i),h.graveyardPosition.isEqual(i.graveyardPosition)&&o.aIsStrong||(h.graveyardPosition=h.graveyardPosition._getTransformedByMergeOperation(i)),[h]}),Hn(Ri,Yn,(h,i,o)=>{const l=Be._createFromPositionAndShift(i.sourcePosition,i.howMany);return"remove"==i.type&&!o.bWasUndone&&!o.forceWeakRemove&&h.deletionPosition.hasSameParentAs(i.sourcePosition)&&l.containsPosition(h.sourcePosition)?[new Bi(0)]:(h.sourcePosition.hasSameParentAs(i.targetPosition)&&(h.howMany+=i.howMany),h.sourcePosition.hasSameParentAs(i.sourcePosition)&&(h.howMany-=i.howMany),h.sourcePosition=h.sourcePosition._getTransformedByMoveOperation(i),h.targetPosition=h.targetPosition._getTransformedByMoveOperation(i),h.graveyardPosition.isEqual(i.targetPosition)||(h.graveyardPosition=h.graveyardPosition._getTransformedByMoveOperation(i)),[h])}),Hn(Ri,rn,(h,i,o)=>{if(i.graveyardPosition&&(h.graveyardPosition=h.graveyardPosition._getTransformedByDeletion(i.graveyardPosition,1),h.deletionPosition.isEqual(i.graveyardPosition)&&(h.howMany=i.howMany)),h.targetPosition.isEqual(i.splitPosition)){const l=0!=i.howMany,d=i.graveyardPosition&&h.deletionPosition.isEqual(i.graveyardPosition);if(l||d||"mergeTargetNotMoved"==o.abRelation)return h.sourcePosition=h.sourcePosition._getTransformedBySplitOperation(i),[h]}if(h.sourcePosition.isEqual(i.splitPosition)){if("mergeSourceNotMoved"==o.abRelation)return h.howMany=0,h.targetPosition=h.targetPosition._getTransformedBySplitOperation(i),[h];if("mergeSameElement"==o.abRelation||h.sourcePosition.offset>0)return h.sourcePosition=i.moveTargetPosition.clone(),h.targetPosition=h.targetPosition._getTransformedBySplitOperation(i),[h]}return h.sourcePosition.hasSameParentAs(i.splitPosition)&&(h.howMany=i.splitPosition.offset),h.sourcePosition=h.sourcePosition._getTransformedBySplitOperation(i),h.targetPosition=h.targetPosition._getTransformedBySplitOperation(i),[h]}),Hn(Yn,fr,(h,i)=>{const o=Be._createFromPositionAndShift(h.sourcePosition,h.howMany)._getTransformedByInsertOperation(i,!1)[0];return h.sourcePosition=o.start,h.howMany=o.end.offset-o.start.offset,h.targetPosition.isEqual(i.position)||(h.targetPosition=h.targetPosition._getTransformedByInsertOperation(i)),[h]}),Hn(Yn,Yn,(h,i,o)=>{const l=Be._createFromPositionAndShift(h.sourcePosition,h.howMany),d=Be._createFromPositionAndShift(i.sourcePosition,i.howMany);let g,y=o.aIsStrong,b=!o.aIsStrong;if("insertBefore"==o.abRelation||"insertAfter"==o.baRelation?b=!0:"insertAfter"!=o.abRelation&&"insertBefore"!=o.baRelation||(b=!1),g=h.targetPosition.isEqual(i.targetPosition)&&b?h.targetPosition._getTransformedByDeletion(i.sourcePosition,i.howMany):h.targetPosition._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),n5(h,i)&&n5(i,h))return[i.getReversed()];if(l.containsPosition(i.targetPosition)&&l.containsRange(d,!0))return l.start=l.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),l.end=l.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),tl([l],g);if(d.containsPosition(h.targetPosition)&&d.containsRange(l,!0))return l.start=l.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),l.end=l.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),tl([l],g);const M=lr(h.sourcePosition.getParentPath(),i.sourcePosition.getParentPath());if("prefix"==M||"extension"==M)return l.start=l.start._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),l.end=l.end._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany),tl([l],g);"remove"!=h.type||"remove"==i.type||o.aWasUndone||o.forceWeakRemove?"remove"==h.type||"remove"!=i.type||o.bWasUndone||o.forceWeakRemove||(y=!1):y=!0;const S=[],I=l.getDifference(d);for(const H of I){H.start=H.start._getTransformedByDeletion(i.sourcePosition,i.howMany),H.end=H.end._getTransformedByDeletion(i.sourcePosition,i.howMany);const Y="same"==lr(H.start.getParentPath(),i.getMovedRangeStart().getParentPath()),J=H._getTransformedByInsertion(i.getMovedRangeStart(),i.howMany,Y);S.push(...J)}const z=l.getIntersection(d);return null!==z&&y&&(z.start=z.start._getCombined(i.sourcePosition,i.getMovedRangeStart()),z.end=z.end._getCombined(i.sourcePosition,i.getMovedRangeStart()),0===S.length?S.push(z):1==S.length?d.start.isBefore(l.start)||d.start.isEqual(l.start)?S.unshift(z):S.push(z):S.splice(1,0,z)),0===S.length?[new Bi(h.baseVersion)]:tl(S,g)}),Hn(Yn,rn,(h,i,o)=>{let l=h.targetPosition.clone();h.targetPosition.isEqual(i.insertionPosition)&&i.graveyardPosition&&"moveTargetAfter"!=o.abRelation||(l=h.targetPosition._getTransformedBySplitOperation(i));const d=Be._createFromPositionAndShift(h.sourcePosition,h.howMany);if(d.end.isEqual(i.insertionPosition))return i.graveyardPosition||h.howMany++,h.targetPosition=l,[h];if(d.start.hasSameParentAs(i.splitPosition)&&d.containsPosition(i.splitPosition)){let y=new Be(i.splitPosition,d.end);return y=y._getTransformedBySplitOperation(i),tl([new Be(d.start,i.splitPosition),y],l)}h.targetPosition.isEqual(i.splitPosition)&&"insertAtSource"==o.abRelation&&(l=i.moveTargetPosition),h.targetPosition.isEqual(i.insertionPosition)&&"insertBetween"==o.abRelation&&(l=h.targetPosition);const g=[d._getTransformedBySplitOperation(i)];if(i.graveyardPosition){const y=d.start.isEqual(i.graveyardPosition)||d.containsPosition(i.graveyardPosition);h.howMany>1&&y&&!o.aWasUndone&&g.push(Be._createFromPositionAndShift(i.insertionPosition,1))}return tl(g,l)}),Hn(Yn,Ri,(h,i,o)=>{const l=Be._createFromPositionAndShift(h.sourcePosition,h.howMany);if(i.deletionPosition.hasSameParentAs(h.sourcePosition)&&l.containsPosition(i.sourcePosition))if("remove"!=h.type||o.forceWeakRemove){if(1==h.howMany)return o.bWasUndone?(h.sourcePosition=i.graveyardPosition.clone(),h.targetPosition=h.targetPosition._getTransformedByMergeOperation(i),[h]):[new Bi(0)]}else if(!o.aWasUndone){const g=[];let y=i.graveyardPosition.clone(),b=i.targetPosition._getTransformedByMergeOperation(i);h.howMany>1&&(g.push(new Yn(h.sourcePosition,h.howMany-1,h.targetPosition,0)),y=y._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany-1),b=b._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany-1));const M=i.deletionPosition._getCombined(h.sourcePosition,h.targetPosition),S=new Yn(y,1,M,0),I=S.getMovedRangeStart().path.slice();I.push(0);const z=new tt(S.targetPosition.root,I);b=b._getTransformedByMove(y,M,1);const H=new Yn(b,i.howMany,z,0);return g.push(S),g.push(H),g}const d=Be._createFromPositionAndShift(h.sourcePosition,h.howMany)._getTransformedByMergeOperation(i);return h.sourcePosition=d.start,h.howMany=d.end.offset-d.start.offset,h.targetPosition=h.targetPosition._getTransformedByMergeOperation(i),[h]}),Hn(Xr,fr,(h,i)=>(h.position=h.position._getTransformedByInsertOperation(i),[h])),Hn(Xr,Ri,(h,i)=>h.position.isEqual(i.deletionPosition)?(h.position=i.graveyardPosition.clone(),h.position.stickiness="toNext",[h]):(h.position=h.position._getTransformedByMergeOperation(i),[h])),Hn(Xr,Yn,(h,i)=>(h.position=h.position._getTransformedByMoveOperation(i),[h])),Hn(Xr,Xr,(h,i,o)=>{if(h.position.isEqual(i.position)){if(!o.aIsStrong)return[new Bi(0)];h.oldName=i.newName}return[h]}),Hn(Xr,rn,(h,i)=>{if("same"==lr(h.position.path,i.splitPosition.getParentPath())&&!i.graveyardPosition){const o=new Xr(h.position.getShiftedBy(1),h.oldName,h.newName,0);return[h,o]}return h.position=h.position._getTransformedBySplitOperation(i),[h]}),Hn(a2,a2,(h,i,o)=>{if(h.root===i.root&&h.key===i.key){if(!o.aIsStrong||h.newValue===i.newValue)return[new Bi(0)];h.oldValue=i.newValue}return[h]}),Hn(rn,fr,(h,i)=>(h.splitPosition.hasSameParentAs(i.position)&&h.splitPosition.offset<i.position.offset&&(h.howMany+=i.howMany),h.splitPosition=h.splitPosition._getTransformedByInsertOperation(i),h.insertionPosition=h.insertionPosition._getTransformedByInsertOperation(i),[h])),Hn(rn,Ri,(h,i,o)=>{if(!h.graveyardPosition&&!o.bWasUndone&&h.splitPosition.hasSameParentAs(i.sourcePosition)){const l=i.graveyardPosition.path.slice();l.push(0);const d=new tt(i.graveyardPosition.root,l),g=rn.getInsertionPosition(new tt(i.graveyardPosition.root,l)),y=new rn(d,0,g,null,0);return h.splitPosition=h.splitPosition._getTransformedByMergeOperation(i),h.insertionPosition=rn.getInsertionPosition(h.splitPosition),h.graveyardPosition=y.insertionPosition.clone(),h.graveyardPosition.stickiness="toNext",[y,h]}return h.splitPosition.hasSameParentAs(i.deletionPosition)&&!h.splitPosition.isAfter(i.deletionPosition)&&h.howMany--,h.splitPosition.hasSameParentAs(i.targetPosition)&&(h.howMany+=i.howMany),h.splitPosition=h.splitPosition._getTransformedByMergeOperation(i),h.insertionPosition=rn.getInsertionPosition(h.splitPosition),h.graveyardPosition&&(h.graveyardPosition=h.graveyardPosition._getTransformedByMergeOperation(i)),[h]}),Hn(rn,Yn,(h,i,o)=>{const l=Be._createFromPositionAndShift(i.sourcePosition,i.howMany);if(h.graveyardPosition){const g=l.start.isEqual(h.graveyardPosition)||l.containsPosition(h.graveyardPosition);if(!o.bWasUndone&&g){const y=h.splitPosition._getTransformedByMoveOperation(i),b=h.graveyardPosition._getTransformedByMoveOperation(i),M=b.path.slice();M.push(0);const S=new tt(b.root,M);return[new Yn(y,h.howMany,S,0)]}h.graveyardPosition=h.graveyardPosition._getTransformedByMoveOperation(i)}const d=h.splitPosition.isEqual(i.targetPosition);if(d&&("insertAtSource"==o.baRelation||"splitBefore"==o.abRelation))return h.howMany+=i.howMany,h.splitPosition=h.splitPosition._getTransformedByDeletion(i.sourcePosition,i.howMany),h.insertionPosition=rn.getInsertionPosition(h.splitPosition),[h];if(d&&o.abRelation&&o.abRelation.howMany){const{howMany:g,offset:y}=o.abRelation;return h.howMany+=g,h.splitPosition=h.splitPosition.getShiftedBy(y),[h]}return h.splitPosition.hasSameParentAs(i.sourcePosition)&&l.containsPosition(h.splitPosition)?(h.howMany-=i.howMany-(h.splitPosition.offset-i.sourcePosition.offset),h.splitPosition.hasSameParentAs(i.targetPosition)&&h.splitPosition.offset<i.targetPosition.offset&&(h.howMany+=i.howMany),h.splitPosition=i.sourcePosition.clone(),h.insertionPosition=rn.getInsertionPosition(h.splitPosition),[h]):(i.sourcePosition.isEqual(i.targetPosition)||(h.splitPosition.hasSameParentAs(i.sourcePosition)&&h.splitPosition.offset<=i.sourcePosition.offset&&(h.howMany-=i.howMany),h.splitPosition.hasSameParentAs(i.targetPosition)&&h.splitPosition.offset<i.targetPosition.offset&&(h.howMany+=i.howMany)),h.splitPosition.stickiness="toNone",h.splitPosition=h.splitPosition._getTransformedByMoveOperation(i),h.splitPosition.stickiness="toNext",h.insertionPosition=h.graveyardPosition?h.insertionPosition._getTransformedByMoveOperation(i):rn.getInsertionPosition(h.splitPosition),[h])}),Hn(rn,rn,(h,i,o)=>{if(h.splitPosition.isEqual(i.splitPosition)){if(!h.graveyardPosition&&!i.graveyardPosition)return[new Bi(0)];if(h.graveyardPosition&&i.graveyardPosition&&h.graveyardPosition.isEqual(i.graveyardPosition))return[new Bi(0)];if("splitBefore"==o.abRelation)return h.howMany=0,h.graveyardPosition=h.graveyardPosition._getTransformedBySplitOperation(i),[h]}if(h.graveyardPosition&&i.graveyardPosition&&h.graveyardPosition.isEqual(i.graveyardPosition)){const l="$graveyard"==h.splitPosition.root.rootName,d="$graveyard"==i.splitPosition.root.rootName;if(d&&!l||(!l||d)&&o.aIsStrong){const y=[];return i.howMany&&y.push(new Yn(i.moveTargetPosition,i.howMany,i.splitPosition,0)),h.howMany&&y.push(new Yn(h.splitPosition,h.howMany,h.moveTargetPosition,0)),y}return[new Bi(0)]}if(h.graveyardPosition&&(h.graveyardPosition=h.graveyardPosition._getTransformedBySplitOperation(i)),h.splitPosition.isEqual(i.insertionPosition)&&"splitBefore"==o.abRelation)return h.howMany++,[h];if(i.splitPosition.isEqual(h.insertionPosition)&&"splitBefore"==o.baRelation){const l=i.insertionPosition.path.slice();l.push(0);const d=new tt(i.insertionPosition.root,l);return[h,new Yn(h.insertionPosition,1,d,0)]}return h.splitPosition.hasSameParentAs(i.splitPosition)&&h.splitPosition.offset<i.splitPosition.offset&&(h.howMany-=i.howMany),h.splitPosition=h.splitPosition._getTransformedBySplitOperation(i),h.insertionPosition=rn.getInsertionPosition(h.splitPosition),[h]});class db extends oa{constructor(i){super(i),this.domEventType="click"}onDomEvent(i){this.fire(i.type,i)}}class C0 extends oa{constructor(i){super(i),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(i){this.fire(i.type,i)}}class Ho{constructor(i){this.document=i}createDocumentFragment(i){return new Za(this.document,i)}createElement(i,o,l){return new Br(this.document,i,o,l)}createText(i){return new Ln(this.document,i)}clone(i,o=!1){return i._clone(o)}appendChild(i,o){return o._appendChild(i)}insertChild(i,o,l){return l._insertChild(i,o)}removeChildren(i,o,l){return l._removeChildren(i,o)}remove(i){const o=i.parent;return o?this.removeChildren(o.getChildIndex(i),1,o):[]}replace(i,o){const l=i.parent;if(l){const d=l.getChildIndex(i);return this.removeChildren(d,1,l),this.insertChild(d,o,l),!0}return!1}unwrapElement(i){const o=i.parent;if(o){const l=o.getChildIndex(i);this.remove(i),this.insertChild(l,i.getChildren(),o)}}rename(i,o){const l=new Br(this.document,i,o.getAttributes(),o.getChildren());return this.replace(o,l)?l:null}setAttribute(i,o,l){l._setAttribute(i,o)}removeAttribute(i,o){o._removeAttribute(i)}addClass(i,o){o._addClass(i)}removeClass(i,o){o._removeClass(i)}setStyle(i,o,l){ts(i)&&void 0===l&&(l=o),l._setStyle(i,o)}removeStyle(i,o){o._removeStyle(i)}setCustomProperty(i,o,l){l._setCustomProperty(i,o)}removeCustomProperty(i,o){return o._removeCustomProperty(i)}createPositionAt(i,o){return at._createAt(i,o)}createPositionAfter(i){return at._createAfter(i)}createPositionBefore(i){return at._createBefore(i)}createRange(i,o){return new Et(i,o)}createRangeOn(i){return Et._createOn(i)}createRangeIn(i){return Et._createIn(i)}createSelection(i,o,l){return new nn(i,o,l)}}new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]);class Rg extends f0{constructor(i,o){super(i),this.view=o,this._toolbarConfig=Ah(i.config.get("toolbar")),this._elementReplacer=new X3}get element(){return this.view.element}init(i){const l=this.view,d=this.editor.editing.view,g=l.editable,y=d.document.getRoot();g.name=y.rootName,l.render();const b=g.element;this.setEditableElement(g.name,b),this.focusTracker.add(b),l.editable.bind("isFocused").to(this.focusTracker),d.attachDomRoot(b),i&&this._elementReplacer.replace(i,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const i=this.view,o=this.editor.editing.view;this._elementReplacer.restore(),o.detachDomRoot(i.editable.name),i.destroy(),super.destroy()}_initToolbar(){const i=this.editor,o=this.view,l=i.editing.view;o.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),o.stickyPanel.limiterElement=o.element,o.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:d})=>d),o.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),function({origin:d,originKeystrokeHandler:g,originFocusTracker:y,toolbar:b,beforeFocus:M,afterBlur:S}){y.add(b.element),g.set("Alt+F10",(I,z)=>{y.isFocused&&!b.focusTracker.isFocused&&(M&&M(),b.focus(),z())}),b.keystrokes.set("Esc",(I,z)=>{b.focusTracker.isFocused&&(d.focus(),S&&S(),z())})}({origin:l,originFocusTracker:this.focusTracker,originKeystrokeHandler:i.keystrokes,toolbar:o.toolbar})}_initPlaceholder(){const i=this.editor,o=i.editing.view,l=o.document.getRoot(),d=i.sourceElement,g=i.config.get("placeholder")||d&&"textarea"===d.tagName.toLowerCase()&&d.getAttribute("placeholder");g&&W4({view:o,element:l,text:g,isDirectHost:!1,keepOnFocus:!0})}}Z(63);class hb extends lb{constructor(i,o,l={}){super(i),this.stickyPanel=new zh(i),this.toolbar=new y0(i,{shouldGroupWhenFull:l.shouldToolbarGroupWhenFull}),this.editable=new b0(i,o)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class O9 extends Dg{constructor(i,o){super(o),fo(i)&&(this.sourceElement=i),this.model.document.createRoot();const l=!this.config.get("toolbar.shouldNotGroupWhenFull"),d=new hb(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:l});this.ui=new Rg(this,d),function(g){if(!it(g.updateSourceElement))throw new W.a("attachtoform-missing-elementapi-interface",g);const y=g.sourceElement;if(y&&"textarea"===y.tagName.toLowerCase()&&y.form){let b;const M=y.form,S=()=>g.updateSourceElement();it(M.submit)&&(b=M.submit,M.submit=()=>{S(),b.apply(M)}),M.addEventListener("submit",S),g.on("destroy",()=>{M.removeEventListener("submit",S),b&&(M.submit=b)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(i,o={}){return new Promise(l=>{const d=new this(i,o);l(d.initPlugins().then(()=>d.ui.init(fo(i)?i:null)).then(()=>{if(!fo(i)&&o.initialData)throw new W.a("editor-create-initial-data",null);const g=void 0!==o.initialData?o.initialData:fo(y=i)?(b=y)instanceof HTMLTextAreaElement?b.value:b.innerHTML:y;var y,b;return d.data.init(g)}).then(()=>d.fire("ready")).then(()=>d))})}}_t(O9,zn),_t(O9,Qc);class fb{constructor(i){this.files=function(o){const l=Array.from(o.files||[]),d=Array.from(o.items||[]);return l.length?l:d.filter(g=>"file"===g.kind).map(g=>g.getAsFile())}(i),this._native=i}get types(){return this._native.types}getData(i){return this._native.getData(i)}setData(i,o){this._native.setData(i,o)}set effectAllowed(i){this._native.effectAllowed=i}get effectAllowed(){return this._native.effectAllowed}set dropEffect(i){this._native.dropEffect=i}get dropEffect(){return this._native.dropEffect}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}class Ph extends oa{constructor(i){super(i);const o=this.document;function l(d){return(g,y)=>{y.preventDefault();const b=y.dropRange?[y.dropRange]:null,M=new R(o,d);o.fire(M,{dataTransfer:y.dataTransfer,method:g.name,targetRanges:b,target:y.target}),M.stop.called&&y.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(o,"paste",l("clipboardInput"),{priority:"low"}),this.listenTo(o,"drop",l("clipboardInput"),{priority:"low"}),this.listenTo(o,"dragover",l("dragging"),{priority:"low"})}onDomEvent(i){const o={dataTransfer:new fb(i.clipboardData?i.clipboardData:i.dataTransfer)};"drop"!=i.type&&"dragover"!=i.type||(o.dropRange=function(l,d){const g=d.target.ownerDocument,y=d.clientX,b=d.clientY;let M;return g.caretRangeFromPoint&&g.caretRangeFromPoint(y,b)?M=g.caretRangeFromPoint(y,b):d.rangeParent&&(M=g.createRange(),M.setStart(d.rangeParent,d.rangeOffset),M.collapse(!0)),M?l.domConverter.domRangeToView(M):null}(this.view,i)),this.fire(i.type,i,o)}}const pb=["figcaption","li"];class Y2 extends ot{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Ph),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const i=this.editor,o=i.model,l=i.editing.view,d=l.document;this.listenTo(d,"clipboardInput",g=>{i.isReadOnly&&g.stop()},{priority:"highest"}),this.listenTo(d,"clipboardInput",(g,y)=>{const b=y.dataTransfer;let M=y.content||"";var S;M||(b.getData("text/html")?M=b.getData("text/html").replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(H,Y)=>1==Y.length?" ":Y).replace(/<!--[\s\S]*?-->/g,""):b.getData("text/plain")&&(((S=(S=b.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||S.includes("<br>"))&&(S=`<p>${S}</p>`),M=S),M=this.editor.data.htmlProcessor.toView(M));const I=new R(this,"inputTransformation");this.fire(I,{content:M,dataTransfer:b,targetRanges:y.targetRanges,method:y.method}),I.stop.called&&g.stop(),l.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(g,y)=>{if(y.content.isEmpty)return;const b=this.editor.data.toModel(y.content,"$clipboardHolder");0!=b.childCount&&(g.stop(),o.change(()=>{this.fire("contentInsertion",{content:b,method:y.method,dataTransfer:y.dataTransfer,targetRanges:y.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(g,y)=>{y.resultRange=o.insertContent(y.content)},{priority:"low"})}_setupCopyCut(){const i=this.editor,o=i.model.document,l=i.editing.view.document;function d(g,y){const b=y.dataTransfer;y.preventDefault();const M=i.data.toView(i.model.getSelectedContent(o.selection));l.fire("clipboardOutput",{dataTransfer:b,content:M,method:g.name})}this.listenTo(l,"copy",d,{priority:"low"}),this.listenTo(l,"cut",(g,y)=>{i.isReadOnly?y.preventDefault():d(g,y)},{priority:"low"}),this.listenTo(l,"clipboardOutput",(g,y)=>{y.content.isEmpty||(y.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(y.content)),y.dataTransfer.setData("text/plain",function b(M){let S="";if(M.is("$text")||M.is("$textProxy"))S=M.data;else if(M.is("element","img")&&M.hasAttribute("alt"))S=M.getAttribute("alt");else if(M.is("element","br"))S="\n";else{let I=null;for(const z of M.getChildren()){const H=b(z);I&&(I.is("containerElement")||z.is("containerElement"))&&(pb.includes(I.name)||pb.includes(z.name)?S+="\n":S+="\n\n"),S+=H,I=z}}return S}(y.content))),"cut"==y.method&&i.model.deleteContent(o.selection)},{priority:"low"})}}function*Rh(h,i){for(const o of i)o&&h.getAttributeProperties(o[0]).copyOnEnter&&(yield o)}class Og extends dt{execute(){const i=this.editor.model,o=i.document;i.change(l=>{(function(d,g,y,b){const M=y.isCollapsed,S=y.getFirstRange(),I=S.start.parent,z=S.end.parent;if(b.isLimit(I)||b.isLimit(z))M||I!=z||d.deleteContent(y);else if(M){const H=Rh(g.model.schema,y.getAttributes());Vg(g,S.start),g.setSelectionAttribute(H)}else{const H=!(S.start.isAtStart&&S.end.isAtEnd),Y=I==z;d.deleteContent(y,{leaveUnmerged:H}),H&&(Y?Vg(g,y.focus):g.setSelection(z,0))}})(this.editor.model,l,o.selection,i.schema),this.fire("afterExecute",{writer:l})})}}function Vg(h,i){h.split(i),h.setSelection(i.parent.nextSibling,0)}class Fg extends fn{constructor(i){super(i);const o=this.document;o.on("keydown",(l,d)=>{if(this.isEnabled&&d.keyCode==Jt.enter){const g=new Y1(o,"enter",o.selection.getFirstRange());o.fire(g,new b6(o,d.domEvent,{isSoft:d.shiftKey})),g.stop.called&&l.stop()}})}observe(){}}class Oh extends ot{static get pluginName(){return"Enter"}init(){const i=this.editor,o=i.editing.view,l=o.document;o.addObserver(Fg),i.commands.add("enter",new Og(i)),this.listenTo(l,"enter",(d,g)=>{g.preventDefault(),g.isSoft||(i.execute("enter"),o.scrollToTheSelection())},{priority:"low"})}}class Vh{constructor(i,o=20){this.model=i,this.size=0,this.limit=o,this.isLocked=!1,this._changeCallback=(l,d)=>{"transparent"!=d.type&&d!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(i){this.size+=i,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(i){this.isLocked&&!i||(this._batch=null,this.size=0)}}class Fh extends dt{constructor(i,o){super(i),this.direction=o,this._buffer=new Vh(i.model,i.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(i={}){const o=this.editor.model,l=o.document;o.enqueueChange(this._buffer.batch,d=>{this._buffer.lock();const g=d.createSelection(i.selection||l.selection),y=i.sequence||1,b=g.isCollapsed;if(g.isCollapsed&&o.modifySelection(g,{direction:this.direction,unit:i.unit}),this._shouldEntireContentBeReplacedWithParagraph(y))return void this._replaceEntireContentWithParagraph(d);if(this._shouldReplaceFirstBlockWithParagraph(g,y))return void this.editor.execute("paragraph",{selection:g});if(g.isCollapsed)return;let M=0;g.getFirstRange().getMinimalFlatRanges().forEach(S=>{M+=Dl(S.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(g,{doNotResetEntireContent:b,direction:this.direction}),this._buffer.input(M),d.setSelection(g),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(i){if(i>1)return!1;const o=this.editor.model,l=o.document.selection,d=o.schema.getLimitElement(l);if(!l.isCollapsed||!l.containsEntireContent(d)||!o.schema.checkChild(d,"paragraph"))return!1;const g=d.getChild(0);return!g||"paragraph"!==g.name}_replaceEntireContentWithParagraph(i){const o=this.editor.model,d=o.schema.getLimitElement(o.document.selection),g=i.createElement("paragraph");i.remove(i.createRangeIn(d)),i.insert(g,d),i.setSelection(g,0)}_shouldReplaceFirstBlockWithParagraph(i,o){const l=this.editor.model;if(o>1||"backward"!=this.direction||!i.isCollapsed)return!1;const d=i.getFirstPosition(),g=l.schema.getLimitElement(d),y=g.getChild(0);return d.parent==y&&!!i.containsEntireContent(y)&&!!l.schema.checkChild(g,"paragraph")&&"paragraph"!=y.name}}class Hh extends fn{constructor(i){super(i);const o=i.document;let l=0;function d(g,y,b){const M=new Y1(o,"delete",o.selection.getFirstRange());o.fire(M,new b6(o,y,b)),M.stop.called&&g.stop()}o.on("keyup",(g,y)=>{y.keyCode!=Jt.delete&&y.keyCode!=Jt.backspace||(l=0)}),o.on("keydown",(g,y)=>{const b={};if(y.keyCode==Jt.delete)b.direction="forward",b.unit="character";else{if(y.keyCode!=Jt.backspace)return;b.direction="backward",b.unit="codePoint"}b.unit=(Sn_isMac?y.altKey:y.ctrlKey)?"word":b.unit,b.sequence=++l,d(g,y.domEvent,b)}),Sn_isAndroid&&o.on("beforeinput",(g,y)=>{if("deleteContentBackward"!=y.domEvent.inputType)return;const b={unit:"codepoint",direction:"backward",sequence:1},M=y.domTarget.ownerDocument.defaultView.getSelection();M.anchorNode==M.focusNode&&M.anchorOffset+1!=M.focusOffset&&(b.selectionToRemove=i.domConverter.domSelectionToView(M)),d(g,y.domEvent,b)})}observe(){}}class nl extends ot{static get pluginName(){return"Delete"}init(){const i=this.editor,o=i.editing.view,l=o.document,d=i.model.document;o.addObserver(Hh),this._undoOnBackspace=!1;const g=new Fh(i,"forward");if(i.commands.add("deleteForward",g),i.commands.add("forwardDelete",g),i.commands.add("delete",new Fh(i,"backward")),this.listenTo(l,"delete",(y,b)=>{const M={unit:b.unit,sequence:b.sequence};if(b.selectionToRemove){const S=i.model.createSelection(),I=[];for(const z of b.selectionToRemove.getRanges())I.push(i.editing.mapper.toModelRange(z));S.setTo(I),M.selection=S}i.execute("forward"==b.direction?"deleteForward":"delete",M),b.preventDefault(),o.scrollToTheSelection()},{priority:"low"}),Sn_isAndroid){let y=null;this.listenTo(l,"delete",(b,M)=>{const S=M.domTarget.ownerDocument.defaultView.getSelection();y={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}},{priority:"lowest"}),this.listenTo(l,"keyup",(b,M)=>{if(y){const S=M.domTarget.ownerDocument.defaultView.getSelection();S.collapse(y.anchorNode,y.anchorOffset),S.extend(y.focusNode,y.focusOffset),y=null}})}this.editor.plugins.has("UndoEditing")&&(this.listenTo(l,"delete",(y,b)=>{this._undoOnBackspace&&"backward"==b.direction&&1==b.sequence&&"codePoint"==b.unit&&(this._undoOnBackspace=!1,i.execute("undo"),b.preventDefault(),y.stop())},{context:"$capture"}),this.listenTo(d,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Bh{constructor(){this._stack=[]}add(i,o){const l=this._stack,d=l[0];this._insertDescriptor(i);const g=l[0];d===g||B6(d,g)||this.fire("change:top",{oldDescriptor:d,newDescriptor:g,writer:o})}remove(i,o){const l=this._stack,d=l[0];this._removeDescriptor(i);const g=l[0];d===g||B6(d,g)||this.fire("change:top",{oldDescriptor:d,newDescriptor:g,writer:o})}_insertDescriptor(i){const o=this._stack,l=o.findIndex(g=>g.id===i.id);if(B6(i,o[l]))return;l>-1&&o.splice(l,1);let d=0;for(;o[d]&&jh(o[d],i);)d++;o.splice(d,0,i)}_removeDescriptor(i){const o=this._stack,l=o.findIndex(d=>d.id===i);l>-1&&o.splice(l,1)}}function B6(h,i){return h&&i&&h.priority==i.priority&&j6(h.classes)==j6(i.classes)}function jh(h,i){return h.priority>i.priority||!(h.priority<i.priority)&&j6(h.classes)>j6(i.classes)}function j6(h){return Array.isArray(h)?h.sort().join(","):h}function Bn(h){return!!h.is("element")&&!!h.getCustomProperty("widget")}function i5(h,i,o={}){if(!h.is("containerElement"))throw new W.a("widget-to-widget-wrong-element-type",null,{element:h});return i.setAttribute("contenteditable","false",h),i.addClass("ck-widget",h),i.setCustomProperty("widget",!0,h),h.getFillerOffset=Hg,o.label&&i.setCustomProperty("widgetLabel",o.label,h),o.hasSelectionHandle&&function(l,d){const g=d.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(y){const b=this.toDomElement(y),M=new v0;return M.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),M.render(),b.appendChild(M.element),b});d.insert(d.createPositionAt(l,0),g),d.addClass(["ck-widget_with-selection-handle"],l)}(h,i),o5(h,i),h}function S1(h,i,o){if(i.classes&&o.addClass(Vi(i.classes),h),i.attributes)for(const l in i.attributes)o.setAttribute(l,i.attributes[l],h)}function r5(h,i,o){if(i.classes&&o.removeClass(Vi(i.classes),h),i.attributes)for(const l in i.attributes)o.removeAttribute(l,h)}function o5(h,i,o=S1,l=r5){const d=new Bh;d.on("change:top",(g,y)=>{y.oldDescriptor&&l(h,y.oldDescriptor,y.writer),y.newDescriptor&&o(h,y.newDescriptor,y.writer)}),i.setCustomProperty("addHighlight",(g,y,b)=>d.add(y,b),h),i.setCustomProperty("removeHighlight",(g,y,b)=>d.remove(y,b),h)}function V9(h){const i=h.getCustomProperty("widgetLabel");return i?"function"==typeof i?i():i:""}function Uh(h,i){return i.addClass(["ck-editor__editable","ck-editor__nested-editable"],h),i.setAttribute("contenteditable",h.isReadOnly?"false":"true",h),h.on("change:isReadOnly",(o,l,d)=>{i.setAttribute("contenteditable",d?"false":"true",h)}),h.on("change:isFocused",(o,l,d)=>{d?i.addClass("ck-editor__nested-editable_focused",h):i.removeClass("ck-editor__nested-editable_focused",h)}),o5(h,i),h}function U6(h,i){const o=h.getSelectedElement();if(o){const d=Zl(h);if(d)return i.createRange(i.createPositionAt(o,d));if(i.schema.isObject(o)&&!i.schema.isInline(o))return i.createRangeOn(o)}const l=h.getSelectedBlocks().next().value;if(l){if(l.isEmpty)return i.createRange(i.createPositionAt(l,0));const d=i.createPositionAfter(l);return h.focus.isTouching(d)?i.createRange(d):i.createRange(i.createPositionBefore(l))}return i.createRange(h.focus)}function Hg(){return null}function il(h,i,o){return h&&Bn(h)&&!o.isInline(i)}function Zl(h){return h.getAttribute("widget-type-around")}_t(Bh,se);const qh=[As("arrowUp"),As("arrowRight"),As("arrowDown"),As("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let h=112;h<=135;h++)qh.push(h);function q6(h){return!(!h.ctrlKey&&!h.metaKey)||qh.includes(h.keyCode)}Z(65);const s5=["before","after"],a5=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild;class $h extends ot{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Oh,nl]}constructor(i){super(i),this._currentFakeCaretModelElement=null}init(){const i=this.editor,o=i.editing.view;this.on("change:isEnabled",(l,d,g)=>{o.change(y=>{for(const b of o.document.roots)g?y.removeClass("ck-widget__type-around_disabled",b):y.addClass("ck-widget__type-around_disabled",b)}),g||i.model.change(y=>{y.removeSelectionAttribute("widget-type-around")})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableDeleteContentIntegration()}destroy(){this._currentFakeCaretModelElement=null}_insertParagraph(i,o){const l=this.editor,d=l.editing.view;l.execute("insertParagraph",{position:l.model.createPositionAt(i,o)}),d.focus(),d.scrollToTheSelection()}_listenToIfEnabled(i,o,l,d){this.listenTo(i,o,(...g)=>{this.isEnabled&&l(...g)},d)}_insertParagraphAccordingToFakeCaretPosition(){const i=this.editor.model.document.selection,o=Zl(i);if(!o)return!1;const l=i.getSelectedElement();return this._insertParagraph(l,o),!0}_enableTypeAroundUIInjection(){const i=this.editor,o=i.model.schema,l=i.locale.t,d={before:l("Insert paragraph before block"),after:l("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",(g,y,b)=>{const M=b.mapper.toViewElement(y.item);il(M,y.item,o)&&function(S,I,z){const H=S.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(Y){const J=this.toDomElement(Y);return function(ee,oe){for(const ue of s5){const xe=new A1({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+ue],title:oe[ue]},children:[ee.ownerDocument.importNode(a5,!0)]});ee.appendChild(xe.render())}}(J,I),function(ee){const oe=new A1({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});ee.appendChild(oe.render())}(J),J});S.insert(S.createPositionAt(z,"end"),H)}(b.writer,d,M)},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const i=this.editor,o=i.model,l=o.document.selection,d=o.schema;function y(b){return"ck-widget_type-around_show-fake-caret_"+b}this._listenToIfEnabled(i.editing.view.document,"arrowKey",(b,M)=>{this._handleArrowKeyPress(b,M)},{context:[Bn,"$text"],priority:"high"}),this._listenToIfEnabled(l,"change:range",(b,M)=>{M.directChange&&i.model.change(S=>{S.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(o.document,"change:data",()=>{const b=l.getSelectedElement();b&&il(i.editing.mapper.toViewElement(b),b,d)||i.model.change(M=>{M.removeSelectionAttribute("widget-type-around")})}),this._listenToIfEnabled(i.editing.downcastDispatcher,"selection",(b,M,S)=>{const I=S.writer;if(this._currentFakeCaretModelElement){const J=S.mapper.toViewElement(this._currentFakeCaretModelElement);J&&(I.removeClass(s5.map(y),J),this._currentFakeCaretModelElement=null)}const z=M.selection.getSelectedElement();if(!z)return;const H=S.mapper.toViewElement(z);if(!il(H,z,d))return;const Y=Zl(M.selection);Y&&(I.addClass(y(Y),H),this._currentFakeCaretModelElement=z)}),this._listenToIfEnabled(i.ui.focusTracker,"change:isFocused",(b,M,S)=>{S||i.model.change(I=>{I.removeSelectionAttribute("widget-type-around")})})}_handleArrowKeyPress(i,o){const l=this.editor,d=l.model,g=d.document.selection,y=d.schema,b=l.editing.view,M=function(z,H){const Y=Rc(z,H);return"down"===Y||"right"===Y}(o.keyCode,l.locale.contentLanguageDirection),S=b.document.selection.getSelectedElement();let I;il(S,l.editing.mapper.toModelElement(S),y)?I=this._handleArrowKeyPressOnSelectedWidget(M):g.isCollapsed?I=this._handleArrowKeyPressWhenSelectionNextToAWidget(M):o.shiftKey||(I=this._handleArrowKeyPressWhenNonCollapsedSelection(M)),I&&(o.preventDefault(),i.stop())}_handleArrowKeyPressOnSelectedWidget(i){const o=this.editor.model,l=Zl(o.document.selection);return o.change(d=>l?l!==(i?"after":"before")&&(d.removeSelectionAttribute("widget-type-around"),!0):(d.setSelectionAttribute("widget-type-around",i?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(i){const o=this.editor,l=o.model,d=l.schema,g=o.plugins.get("Widget"),y=g._getObjectElementNextToSelection(i);return!!il(o.editing.mapper.toViewElement(y),y,d)&&(l.change(b=>{g._setSelectionOverElement(y),b.setSelectionAttribute("widget-type-around",i?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(i){const o=this.editor,l=o.model,d=l.schema,g=o.editing.mapper,y=l.document.selection,b=i?y.getLastPosition().nodeBefore:y.getFirstPosition().nodeAfter;return!!il(g.toViewElement(b),b,d)&&(l.change(M=>{M.setSelection(b,"on"),M.setSelectionAttribute("widget-type-around",i?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const i=this.editor,o=i.editing.view;this._listenToIfEnabled(o.document,"mousedown",(l,d)=>{const g=d.domTarget.closest(".ck-widget__type-around__button");if(!g)return;const y=g.classList.contains("ck-widget__type-around__button_before")?"before":"after",b=function(S,I){const z=S.closest(".ck-widget");return I.mapDomToView(z)}(g,o.domConverter),M=i.editing.mapper.toModelElement(b);this._insertParagraph(M,y),d.preventDefault(),l.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const i=this.editor,o=i.model.document.selection;this._listenToIfEnabled(i.editing.view.document,"enter",(d,g)=>{if("atTarget"!=d.eventPhase)return;const y=o.getSelectedElement(),b=i.editing.mapper.toViewElement(y),M=i.model.schema;let S;this._insertParagraphAccordingToFakeCaretPosition()?S=!0:il(b,y,M)&&(this._insertParagraph(y,g.isSoft?"before":"after"),S=!0),S&&(g.preventDefault(),d.stop())},{context:Bn})}_enableInsertingParagraphsOnTypingKeystroke(){const o=[Jt.enter,Jt.delete,Jt.backspace];this._listenToIfEnabled(this.editor.editing.view.document,"keydown",(l,d)=>{o.includes(d.keyCode)||q6(d)||this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const i=this.editor,l=i.model,d=l.schema;this._listenToIfEnabled(i.editing.view.document,"delete",(g,y)=>{if("atTarget"!=g.eventPhase)return;const b=Zl(l.document.selection);if(!b)return;const M=y.direction,S=l.document.selection.getSelectedElement(),I="forward"==M;if("before"===b===I)i.execute("delete",{selection:l.createSelection(S,"on")});else{const z=d.getNearestSelectionRange(l.createPositionAt(S,b),M);if(z)if(z.isCollapsed){const H=l.createSelection(z.start);if(l.modifySelection(H,{direction:M}),H.focus.isEqual(z.start)){const Y=function(J,ee){let oe=ee;for(const ue of ee.getAncestors({parentFirst:!0})){if(ue.childCount>1||J.isLimit(ue))break;oe=ue}return oe}(d,z.start.parent);l.deleteContent(l.createSelection(Y,"on"),{doNotAutoparagraph:!0})}else l.change(Y=>{Y.setSelection(z),i.execute(I?"deleteForward":"delete")})}else l.change(H=>{H.setSelection(z),i.execute(I?"deleteForward":"delete")})}y.preventDefault(),g.stop()},{context:Bn})}_enableInsertContentIntegration(){const o=this.editor.model,l=o.document.selection;this._listenToIfEnabled(this.editor.model,"insertContent",(d,[g,y])=>{if(y&&!y.is("documentSelection"))return;const b=Zl(l);return b?(d.stop(),o.change(M=>{const S=l.getSelectedElement(),I=o.createPositionAt(S,b),z=M.createSelection(I),H=o.insertContent(g,z);return M.setSelection(z),H})):void 0},{priority:"high"})}_enableDeleteContentIntegration(){const o=this.editor.model.document.selection;this._listenToIfEnabled(this.editor.model,"deleteContent",(l,[d])=>{d&&!d.is("documentSelection")||Zl(o)&&l.stop()},{priority:"high"})}}function $6(h,i,o){const l=h.schema,d=h.createRangeIn(i.root),g="forward"==o?"elementStart":"elementEnd";for(const{previousPosition:y,item:b,type:M}of d.getWalker({startPosition:i,direction:o})){if(l.isLimit(b)&&!l.isInline(b))return y;if(M==g&&l.isBlock(b))return null}return null}function F9(h,i,o){const l="backward"==o?i.end:i.start;if(h.checkChild(l,"$text"))return l;for(const{nextPosition:d}of i.getWalker({direction:o}))if(h.checkChild(d,"$text"))return d;return null}Z(67);class Bo extends ot{static get pluginName(){return"Widget"}static get requires(){return[$h,nl]}init(){const i=this.editor,o=i.editing.view,l=o.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(d,g,y)=>{const b=y.writer,M=g.selection;if(M.isCollapsed)return;const S=M.getSelectedElement();if(!S)return;const I=i.editing.mapper.toViewElement(S);Bn(I)&&y.consumable.consume(M,"selection")&&b.setSelection(b.createRangeOn(I),{fake:!0,label:V9(I)})}),this.editor.editing.downcastDispatcher.on("selection",(d,g,y)=>{this._clearPreviouslySelectedWidgets(y.writer);const b=y.writer,M=b.document.selection;let S=null;for(const I of M.getRanges())for(const z of I){const H=z.item;Bn(H)&&!K4(H,S)&&(b.addClass("ck-widget_selected",H),this._previouslySelected.add(H),S=H)}},{priority:"low"}),o.addObserver(C0),this.listenTo(l,"mousedown",(...d)=>this._onMousedown(...d)),this.listenTo(l,"arrowKey",(...d)=>{this._handleSelectionChangeOnArrowKeyPress(...d)},{context:[Bn,"$text"]}),this.listenTo(l,"arrowKey",(...d)=>{this._preventDefaultOnArrowKeyPress(...d)},{context:"$root"}),this.listenTo(l,"arrowKey",function(h){const i=h.model;return(o,l)=>{const g=l.keyCode==Jt.arrowdown,y=l.shiftKey,b=i.document.selection;if(l.keyCode!=Jt.arrowup&&!g)return;const M=g;if(y&&!(I=b).isCollapsed&&I.isBackward==M)return;var I;const S=function(I,z,H){const Y=I.model;if(H){const J=z.isCollapsed?z.focus:z.getLastPosition(),ee=$6(Y,J,"forward");if(!ee)return null;const oe=Y.createRange(J,ee),ue=F9(Y.schema,oe,"backward");return ue?Y.createRange(J,ue):null}{const J=z.isCollapsed?z.focus:z.getFirstPosition(),ee=$6(Y,J,"backward");if(!ee)return null;const oe=Y.createRange(ee,J),ue=F9(Y.schema,oe,"forward");return ue?Y.createRange(ue,J):null}}(h,b,M);if(S){if(S.isCollapsed&&(b.isCollapsed||y))return;(S.isCollapsed||function(I,z,H){const Y=I.model,J=I.view.domConverter;if(H){const je=Y.createSelection(z.start);Y.modifySelection(je),je.focus.isAtEnd||z.start.isEqual(je.focus)||(z=Y.createRange(je.focus,z.end))}const ee=I.mapper.toViewRange(z),oe=J.viewRangeToDom(ee),ue=Wn.getDomRangeRects(oe);let xe;for(const je of ue)if(void 0!==xe){if(Math.round(je.top)>=xe)return!1;xe=Math.max(xe,Math.round(je.bottom))}else xe=Math.round(je.bottom);return!0}(h,S,M))&&(i.change(I=>{const z=M?S.end:S.start;if(y){const H=i.createSelection(b.anchor);H.setFocus(z),I.setSelection(H)}else I.setSelection(z)}),o.stop(),l.preventDefault(),l.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(l,"delete",(d,g)=>{this._handleDelete("forward"==g.direction)&&(g.preventDefault(),d.stop())},{context:"$root"})}_onMousedown(i,o){const l=this.editor,d=l.editing.view,g=d.document;let y=o.target;if(function(M){for(;M;){if(M.is("editableElement")&&!M.is("rootElement"))return!0;if(Bn(M))return!1;M=M.parent}return!1}(y)){if((Sn_isSafari||Sn_isGecko)&&o.domEvent.detail>=3){const M=l.editing.mapper,S=y.is("attributeElement")?y.findAncestor(z=>!z.is("attributeElement")):y,I=M.toModelElement(S);o.preventDefault(),this.editor.model.change(z=>{z.setSelection(I,"in")})}return}if(!Bn(y)&&(y=y.findAncestor(Bn),!y))return;Sn_isAndroid&&o.preventDefault(),g.isFocused||d.focus();const b=l.editing.mapper.toModelElement(y);this._setSelectionOverElement(b)}_handleSelectionChangeOnArrowKeyPress(i,o){const l=o.keyCode,d=this.editor.model,g=d.schema,y=d.document.selection,b=y.getSelectedElement(),M=Rc(l,this.editor.locale.contentLanguageDirection),S="down"==M||"right"==M,I="up"==M||"down"==M;if(b&&g.isObject(b)){const H=S?y.getLastPosition():y.getFirstPosition(),Y=g.getNearestSelectionRange(H,S?"forward":"backward");return void(Y&&(d.change(J=>{J.setSelection(Y)}),o.preventDefault(),i.stop()))}if(!y.isCollapsed&&!o.shiftKey){const H=y.getFirstPosition(),Y=y.getLastPosition(),J=H.nodeAfter,ee=Y.nodeBefore;return void((J&&g.isObject(J)||ee&&g.isObject(ee))&&(d.change(oe=>{oe.setSelection(S?Y:H)}),o.preventDefault(),i.stop()))}if(!y.isCollapsed)return;const z=this._getObjectElementNextToSelection(S);if(z&&g.isObject(z)){if(g.isInline(z)&&I)return;this._setSelectionOverElement(z),o.preventDefault(),i.stop()}}_preventDefaultOnArrowKeyPress(i,o){const l=this.editor.model,d=l.schema,g=l.document.selection.getSelectedElement();g&&d.isObject(g)&&(o.preventDefault(),i.stop())}_handleDelete(i){if(this.editor.isReadOnly)return;const o=this.editor.model.document.selection;if(!o.isCollapsed)return;const l=this._getObjectElementNextToSelection(i);return l?(this.editor.model.change(d=>{let g=o.anchor.parent;for(;g.isEmpty;){const y=g;g=y.parent,d.remove(y)}this._setSelectionOverElement(l)}),!0):void 0}_setSelectionOverElement(i){this.editor.model.change(o=>{o.setSelection(o.createRangeOn(i))})}_getObjectElementNextToSelection(i){const o=this.editor.model,l=o.schema,d=o.document.selection,g=o.createSelection(d);if(o.modifySelection(g,{direction:i?"forward":"backward"}),g.isEqual(d))return null;const y=i?g.focus.nodeBefore:g.focus.nodeAfter;return y&&l.isObject(y)?y:null}_clearPreviouslySelectedWidgets(i){for(const o of this._previouslySelected)i.removeClass("ck-widget_selected",o);this._previouslySelected.clear()}}function K4(h,i){return!!i&&Array.from(h.getAncestors()).includes(i)}var Bg=function(h,i,o){var l=!0,d=!0;if("function"!=typeof h)throw new TypeError("Expected a function");return me(o)&&(l="leading"in o?!!o.leading:l,d="trailing"in o?!!o.trailing:d),O4(h,i,{leading:l,maxWait:i,trailing:d})};Z(69);class jg extends ot{static get pluginName(){return"DragDrop"}static get requires(){return[Y2,Bo]}init(){const i=this.editor,o=i.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Bg(l=>this._updateDropMarker(l),40),this._removeDropMarkerDelayed=Wh(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=Wh(()=>this._clearDraggableAttributes(),40),o.addObserver(Ph),o.addObserver(C0),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(i,"change:isReadOnly",(l,d,g)=>{g?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(l,d,g)=>{g||this._finalizeDragging(!1)}),Sn_isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const i=this.editor,o=i.model,l=o.document,d=i.editing.view,g=d.document;this.listenTo(g,"dragstart",(y,b)=>{const M=l.selection;if(b.target&&b.target.is("editableElement"))return void b.preventDefault();const S=b.target?jo(b.target):null;if(S){const H=i.editing.mapper.toModelElement(S);this._draggedRange=da.fromRange(o.createRangeOn(H)),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!g.selection.isCollapsed){const H=g.selection.getSelectedElement();H&&Bn(H)||(this._draggedRange=da.fromRange(M.getFirstRange()))}if(!this._draggedRange)return void b.preventDefault();this._draggingUid=pe(),b.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",b.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const I=o.createSelection(this._draggedRange.toRange()),z=i.data.toView(o.getSelectedContent(I));g.fire("clipboardOutput",{dataTransfer:b.dataTransfer,content:z,method:y.name}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(g,"dragend",(y,b)=>{this._finalizeDragging(!b.dataTransfer.isCanceled&&"move"==b.dataTransfer.dropEffect)},{priority:"low"}),this.listenTo(g,"dragenter",()=>{this.isEnabled&&d.focus()}),this.listenTo(g,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(g,"dragging",(y,b)=>{if(!this.isEnabled)return void(b.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const M=K2(i,b.targetRanges,b.target);this._draggedRange||(b.dataTransfer.dropEffect="copy"),Sn_isGecko||("copy"==b.dataTransfer.effectAllowed?b.dataTransfer.dropEffect="copy":["all","copyMove"].includes(b.dataTransfer.effectAllowed)&&(b.dataTransfer.dropEffect="move")),M&&this._updateDropMarkerThrottled(M)},{priority:"low"})}_setupClipboardInputIntegration(){const i=this.editor;this.listenTo(i.editing.view.document,"clipboardInput",(l,d)=>{if("drop"!=d.method)return;const g=K2(i,d.targetRanges,d.target);return this._removeDropMarker(),g?(this._draggedRange&&this._draggingUid!=d.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==Gh(d.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(g,!0)?(this._finalizeDragging(!1),void l.stop()):void(d.targetRanges=[i.editing.mapper.toViewRange(g)])):(this._finalizeDragging(!1),void l.stop())},{priority:"high"})}_setupContentInsertionIntegration(){const i=this.editor.plugins.get(Y2);i.on("contentInsertion",(o,l)=>{if(!this.isEnabled||"drop"!==l.method)return;const d=l.targetRanges.map(g=>this.editor.editing.mapper.toModelRange(g));this.editor.model.change(g=>g.setSelection(d))},{priority:"high"}),i.on("contentInsertion",(o,l)=>{if(!this.isEnabled||"drop"!==l.method)return;const d="move"==Gh(l.dataTransfer);this._finalizeDragging((!l.resultRange||!l.resultRange.isCollapsed)&&d)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const i=this.editor,o=i.editing.view,l=o.document;this.listenTo(l,"mousedown",(d,g)=>{if(Sn_isAndroid||!g)return;this._clearDraggableAttributesDelayed.cancel();let y=jo(g.target);if(Sn_isBlink&&!i.isReadOnly&&!y&&!l.selection.isCollapsed){const b=l.selection.getSelectedElement();b&&Bn(b)||(y=l.selection.editableElement)}y&&(o.change(b=>{b.setAttribute("draggable","true",y)}),this._draggableElement=i.editing.mapper.toModelElement(y))}),this.listenTo(l,"mouseup",()=>{Sn_isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const i=this.editor.editing;i.view.change(o=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&o.removeAttribute("draggable",i.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const i=this.editor;i.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),i.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(o,{writer:l})=>{if(i.model.schema.checkChild(o.markerRange.start,"$text"))return l.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(d){const g=this.toDomElement(d);return g.innerHTML="&NoBreak;<span></span>&NoBreak;",g})}})}_updateDropMarker(i){const o=this.editor,l=o.model.markers;o.model.change(d=>{l.has("drop-target")?l.get("drop-target").getRange().isEqual(i)||d.updateMarker("drop-target",{range:i}):d.addMarker("drop-target",{range:i,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const i=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),i.markers.has("drop-target")&&i.change(o=>{o.removeMarker("drop-target")})}_finalizeDragging(i){const o=this.editor,l=o.model;this._removeDropMarker(),this._clearDraggableAttributes(),o.plugins.has("WidgetToolbarRepository")&&o.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(i&&this.isEnabled&&l.deleteContent(l.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function K2(h,i,o){const l=h.model,d=h.editing.mapper;let g=null;const y=i?i[0].start:null;if(o.is("uiElement")&&(o=o.parent),g=function(S,I){const z=S.model,H=S.editing.mapper;if(Bn(I))return z.createRangeOn(H.toModelElement(I));if(!I.is("editableElement")){const Y=I.findAncestor(J=>Bn(J)||J.is("editableElement"));if(Bn(Y))return z.createRangeOn(H.toModelElement(Y))}return null}(h,o),g)return g;const b=function(S,I){const z=S.editing.mapper,H=S.editing.view,Y=z.toModelElement(I);if(Y)return Y;const J=H.createPositionBefore(I),ee=z.findMappedViewAncestor(J);return z.toModelElement(ee)}(h,o),M=y?d.toModelPosition(y):null;return M?(g=function(S,I,z){const H=S.model;if(!H.schema.checkChild(z,"$block"))return null;const Y=H.createPositionAt(z,0),J=I.path.slice(0,Y.path.length),ee=H.createPositionFromPath(I.root,J).nodeAfter;return ee&&H.schema.isObject(ee)?H.createRangeOn(ee):null}(h,M,b),g||(g=l.schema.getNearestSelectionRange(M,Sn_isGecko?"forward":"backward"),g||function(S,I){const z=S.model;for(;I;){if(z.schema.isObject(I))return z.createRangeOn(I);I=I.parent}}(h,M.parent))):function(S,I){const z=S.model,H=z.schema,Y=z.createPositionAt(I,0);return H.getNearestSelectionRange(Y,"forward")}(h,b)}function Gh(h){return Sn_isGecko?h.dropEffect:["all","copyMove"].includes(h.effectAllowed)?"move":"copy"}function Wh(h,i){let o;function l(...d){l.cancel(),o=setTimeout(()=>h(...d),i)}return l.cancel=()=>{clearTimeout(o)},l}function jo(h){if(h.is("editableElement"))return null;if(h.hasClass("ck-widget__selection-handle"))return h.findAncestor(Bn);if(Bn(h))return h;const i=h.findAncestor(o=>Bn(o)||o.is("editableElement"));return Bn(i)?i:null}class Q4 extends ot{static get pluginName(){return"PastePlainText"}static get requires(){return[Y2]}init(){const i=this.editor,o=i.model,l=i.editing.view,d=l.document,g=o.document.selection;let y=!1;l.addObserver(Ph),this.listenTo(d,"keydown",(b,M)=>{y=M.shiftKey}),i.plugins.get(Y2).on("contentInsertion",(b,M)=>{(y||function(S,I){if(S.childCount>1)return!1;const z=S.getChild(0);return!I.isObject(z)&&0==[...z.getAttributeKeys()].length}(M.content,o.schema))&&o.change(S=>{const I=Array.from(g.getAttributes()).filter(([H])=>o.schema.getAttributeProperties(H).isFormatting);g.isCollapsed||o.deleteContent(g,{doNotAutoparagraph:!0}),I.push(...g.getAttributes());const z=S.createRangeIn(M.content);for(const H of z.getItems())H.is("$textProxy")&&S.setAttributes(I,H)})})}}class pa extends ot{static get pluginName(){return"Clipboard"}static get requires(){return[Y2,jg,Q4]}}class c5 extends dt{execute(){const i=this.editor.model,o=i.document;i.change(l=>{(function(d,g,y){const b=y.isCollapsed,M=y.getFirstRange(),I=M.end.parent,z=M.start.parent==I;if(b){const H=Rh(d.schema,y.getAttributes());H9(d,g,M.end),g.removeSelectionAttribute(y.getAttributeKeys()),g.setSelectionAttribute(H)}else{const H=!(M.start.isAtStart&&M.end.isAtEnd);d.deleteContent(y,{leaveUnmerged:H}),z?H9(d,g,y.focus):H&&g.setSelection(I,0)}})(i,l,o.selection),this.fire("afterExecute",{writer:l})})}refresh(){const i=this.editor.model;this.isEnabled=function(l,d){if(d.rangeCount>1)return!1;const g=d.anchor;if(!g||!l.checkChild(g,"softBreak"))return!1;const y=d.getFirstRange(),b=y.start.parent,M=y.end.parent;return!((Zh(b,l)||Zh(M,l))&&b!==M)}(i.schema,i.document.selection)}}function H9(h,i,o){const l=i.createElement("softBreak");h.insertContent(l,o),i.setSelection(l,"after")}function Zh(h,i){return!h.is("rootElement")&&(i.isLimit(h)||Zh(h.parent,i))}class eo extends ot{static get pluginName(){return"ShiftEnter"}init(){const i=this.editor,l=i.conversion,d=i.editing.view,g=d.document;i.model.schema.register("softBreak",{allowWhere:"$text",isInline:!0}),l.for("upcast").elementToElement({model:"softBreak",view:"br"}),l.for("downcast").elementToElement({model:"softBreak",view:(y,{writer:b})=>b.createEmptyElement("br")}),d.addObserver(Fg),i.commands.add("shiftEnter",new c5(i)),this.listenTo(g,"enter",(y,b)=>{b.preventDefault(),b.isSoft&&(i.execute("shiftEnter"),d.scrollToTheSelection())},{priority:"low"})}}class G6 extends dt{constructor(i){super(i),this.affectsData=!1}execute(){const i=this.editor.model,o=i.document.selection;let l=i.schema.getLimitElement(o);if(o.containsEntireContent(l)||!l5(i.schema,l))do{if(l=l.parent,!l)return}while(!l5(i.schema,l));i.change(d=>{d.setSelection(l,"in")})}}function l5(h,i){return h.isLimit(i)&&(h.checkChild(i,"$text")||h.checkChild(i,"paragraph"))}const W6=zl("Ctrl+A");class Z6 extends ot{static get pluginName(){return"SelectAllEditing"}init(){const i=this.editor,o=i.editing.view.document;i.commands.add("selectAll",new G6(i)),this.listenTo(o,"keydown",(l,d)=>{As(d)===W6&&(i.execute("selectAll"),d.preventDefault())})}}class rl extends ot{static get pluginName(){return"SelectAllUI"}init(){const i=this.editor;i.ui.componentFactory.add("selectAll",o=>{const l=i.commands.get("selectAll"),d=new Ci(o);return d.set({label:(0,o.t)("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),d.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(d,"execute",()=>{i.execute("selectAll"),i.editing.view.focus()}),d})}}class Y6 extends ot{static get requires(){return[Z6,rl]}static get pluginName(){return"SelectAll"}}class M0 extends dt{constructor(i,o){super(i),this._buffer=new Vh(i.model,o),this._batches=new WeakSet}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(i={}){const o=this.editor.model,l=o.document,d=i.text||"",g=d.length,y=i.range?o.createSelection(i.range):l.selection,b=i.resultRange;o.enqueueChange(this._buffer.batch,M=>{this._buffer.lock(),this._batches.add(this._buffer.batch),o.deleteContent(y),d&&o.insertContent(M.createText(d,l.selection.getAttributes()),y),b?M.setSelection(b):y.is("documentSelection")||M.setSelection(y),this._buffer.unlock(),this._buffer.input(g)})}}function Yh(h){if(h.newChildren.length-h.oldChildren.length!=1)return;const i=function(l,d){const g=[];let y,b=0;return l.forEach(I=>{"equal"==I?(M(),b++):"insert"==I?(S("insert")?y.values.push(d[b]):(M(),y={type:"insert",index:b,values:[d[b]]}),b++):S("delete")?y.howMany++:(M(),y={type:"delete",index:b,howMany:1})}),M(),g;function M(){y&&(g.push(y),y=null)}function S(I){return y&&y.type==I}}(Ss(h.oldChildren,h.newChildren,B9),h.newChildren);if(i.length>1)return;const o=i[0];return o.values[0]&&o.values[0].is("$text")?o:void 0}function B9(h,i){return h&&h.is("$text")&&i&&i.is("$text")?h.data===i.data:h===i}class Ug{constructor(i){this.editor=i,this.editing=this.editor.editing}handle(i,o){if(function(l){if(0==l.length)return!1;for(const d of l)if("children"===d.type&&!Yh(d))return!0;return!1}(i))this._handleContainerChildrenMutations(i,o);else for(const l of i)this._handleTextMutation(l,o),this._handleTextNodeInsertion(l)}_handleContainerChildrenMutations(i,o){const l=function(io){const ro=io.map(oo=>oo.node).reduce((oo,s1)=>oo.getCommonAncestor(s1,{includeSelf:!0}));if(ro)return ro.getAncestors({includeSelf:!0,parentFirst:!0}).find(oo=>oo.is("containerElement")||oo.is("rootElement"))}(i);if(!l)return;const d=this.editor.editing.view.domConverter.mapViewToDom(l),g=new ce(this.editor.editing.view.document),y=this.editor.data.toModel(g.domToView(d)).getChild(0),b=this.editor.editing.mapper.toModelElement(l);if(!b)return;const M=Array.from(y.getChildren()),S=Array.from(b.getChildren()),I=M[M.length-1],z=S[S.length-1],H=I&&I.is("element","softBreak"),Y=z&&!z.is("element","softBreak");H&&Y&&M.pop();const J=this.editor.model.schema;if(!u5(M,J)||!u5(S,J))return;const ee=M.map(io=>io.is("$text")?io.data:"@").join("").replace(/\u00A0/g," "),oe=S.map(io=>io.is("$text")?io.data:"@").join("").replace(/\u00A0/g," ");if(oe===ee)return;const ue=Ss(oe,ee),{firstChangeAt:xe,insertions:je,deletions:ut}=j9(ue);let zt=null;o&&(zt=this.editing.mapper.toModelRange(o.getFirstRange()));const _i=ee.substr(xe,je),Kt=this.editor.model.createRange(this.editor.model.createPositionAt(b,xe),this.editor.model.createPositionAt(b,xe+ut));this.editor.execute("input",{text:_i,range:Kt,resultRange:zt})}_handleTextMutation(i,o){if("text"!=i.type)return;const l=i.newText.replace(/\u00A0/g," "),d=i.oldText.replace(/\u00A0/g," ");if(d===l)return;const g=Ss(d,l),{firstChangeAt:y,insertions:b,deletions:M}=j9(g);let S=null;o&&(S=this.editing.mapper.toModelRange(o.getFirstRange()));const I=this.editing.view.createPositionAt(i.node,y),z=this.editing.mapper.toModelPosition(I),H=this.editor.model.createRange(z,z.getShiftedBy(M)),Y=l.substr(y,b);this.editor.execute("input",{text:Y,range:H,resultRange:S})}_handleTextNodeInsertion(i){if("children"!=i.type)return;const o=Yh(i),l=this.editing.view.createPositionAt(i.node,o.index),d=this.editing.mapper.toModelPosition(l);this.editor.execute("input",{text:o.values[0].data.replace(/\u00A0/g," "),range:this.editor.model.createRange(d)})}}function u5(h,i){return h.every(o=>i.isInline(o))}function j9(h){let i=null,o=null;for(let g=0;g<h.length;g++)"equal"!=h[g]&&(i=null===i?g:i,o=g);let l=0,d=0;for(let g=i;g<=o;g++)"insert"!=h[g]&&l++,"delete"!=h[g]&&d++;return{insertions:d,deletions:l,firstChangeAt:i}}class U9 extends ot{static get pluginName(){return"Input"}init(){const i=this.editor,o=new M0(i,i.config.get("typing.undoStep")||20);var l;i.commands.add("input",o),function(l){let d=null;const g=l.model,y=l.editing.view,b=l.commands.get("input");function S(){const I=b.buffer;I.lock();const z=I.batch;b._batches.add(z),g.enqueueChange(z,()=>{g.deleteContent(g.document.selection)}),I.unlock()}y.document.on(Sn_isAndroid?"beforeinput":"keydown",(I,z)=>function(I){const z=g.document,H=y.document.isComposing,Y=d&&d.isEqual(z.selection);d=null,b.isEnabled&&(q6(I)||z.selection.isCollapsed||H&&229===I.keyCode||!H&&229===I.keyCode&&Y||S())}(z),{priority:"lowest"}),y.document.on("compositionstart",function(){const I=g.document,z=1!==I.selection.rangeCount||I.selection.getFirstRange().isFlat;I.selection.isCollapsed||z||S()},{priority:"lowest"}),y.document.on("compositionend",()=>{d=g.createSelection(g.document.selection)},{priority:"lowest"})}(i),(l=i).editing.view.document.on("mutations",(d,g,y)=>{new Ug(l).handle(g,y)})}isInput(i){return this.editor.commands.get("input")._batches.has(i)}}class q9 extends ot{static get requires(){return[U9,nl]}static get pluginName(){return"Typing"}}function Yl(h,i){let o=h.start;return{text:Array.from(h.getItems()).reduce((l,d)=>d.is("$text")||d.is("$textProxy")?l+d.data:(o=i.createPositionAfter(d),""),""),range:i.createRange(o,h.end)}}class K6{constructor(i,o){this.model=i,this.testCallback=o,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(i.document.selection),this.stopListening(i.document))}),this._startListening()}_startListening(){const i=this.model.document;this.listenTo(i.selection,"change:range",(o,{directChange:l})=>{l&&(i.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this.hasMatch=!1))}),this.listenTo(i,"change:data",(o,l)=>{"transparent"!=l.type&&this._evaluateTextBeforeSelection("data",{batch:l})})}_evaluateTextBeforeSelection(i,o={}){const l=this.model,d=l.document.selection,g=l.createRange(l.createPositionAt(d.focus.parent,0),d.focus),{text:y,range:b}=Yl(g,l),M=this.testCallback(y);if(!M&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!M,M){const S=Object.assign(o,{text:y,range:b});"object"==typeof M&&Object.assign(S,M),this.fire("matched:"+i,S)}}}_t(K6,Mt);class $9 extends ot{static get pluginName(){return"TwoStepCaretMovement"}constructor(i){super(i),this.attributes=new Set,this._overrideUid=null}init(){const i=this.editor,d=i.locale,g=i.model.document.selection;this.listenTo(i.editing.view.document,"arrowKey",(y,b)=>{if(!g.isCollapsed||b.shiftKey||b.altKey||b.ctrlKey)return;const M=b.keyCode==Jt.arrowright,S=b.keyCode==Jt.arrowleft;if(!M&&!S)return;const I=d.contentLanguageDirection;let z=!1;z="ltr"===I&&M||"rtl"===I&&S?this._handleForwardMovement(b):this._handleBackwardMovement(b),!0===z&&y.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(g,"change:range",(y,b)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!b.directChange&&Q6(g.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(i){this.attributes.add(i)}_handleForwardMovement(i){const o=this.attributes,l=this.editor.model.document.selection,d=l.getFirstPosition();return!this._isGravityOverridden&&(!d.isAtStart||!Kh(l,o))&&(Q6(d,o)?(d5(i),this._overrideGravity(),!0):void 0)}_handleBackwardMovement(i){const o=this.attributes,l=this.editor.model,d=l.document.selection,g=d.getFirstPosition();return this._isGravityOverridden?(d5(i),this._restoreGravity(),Kl(l,o,g),!0):g.isAtStart?!!Kh(d,o)&&(d5(i),Kl(l,o,g),!0):(b=o,Q6(g.getShiftedBy(-1),b)?g.isAtEnd&&!Kh(d,o)&&Q6(g,o)?(d5(i),Kl(l,o,g),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1):void 0);var b}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(i=>i.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(i=>{i.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Kh(h,i){for(const o of i)if(h.hasAttribute(o))return!0;return!1}function Kl(h,i,o){const l=o.nodeBefore;h.change(d=>{l?d.setSelectionAttribute(l.getAttributes()):d.removeSelectionAttribute(i)})}function d5(h){h.preventDefault()}function Q6(h,i){const{nodeBefore:o,nodeAfter:l}=h;for(const d of i){const g=o?o.getAttribute(d):void 0;if((l?l.getAttribute(d):void 0)!==g)return!0}return!1}var En=/[\\^$.*+?()[\]{}|]/g,qg=RegExp(En.source);const G9={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:sl('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:sl("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:sl("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:sl('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:sl('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:sl("'"),to:[null,"\u201a",null,"\u2019"]}},X6={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Ki=["symbols","mathematical","typography","quotes"];function Qh(h){return"string"==typeof h?new RegExp(`(${function(h){return(h=is(h))&&qg.test(h)?h.replace(En,"\\$&"):h}(h)})$`):h}function ol(h){return"string"==typeof h?()=>[h]:h instanceof Array?()=>h:h}function ma(h){return(h.textNode?h.textNode:h.nodeAfter).getAttributes()}function sl(h){return new RegExp(`(^|\\s)(${h})([^${h}]*)(${h})$`)}function J4(h,i,o,l){return l.createRange(Jh(h,i,o,!0,l),Jh(h,i,o,!1,l))}function Jh(h,i,o,l,d){let g=h.textNode||(l?h.nodeBefore:h.nodeAfter),y=null;for(;g&&g.getAttribute(i)==o;)y=g,g=l?g.previousSibling:g.nextSibling;return y?d.createPositionAt(y,l?"before":"after"):h}class W9 extends dt{constructor(i){super(i),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(i.data,"set",(o,l)=>{l[1]=lt({},l[1]);const d=l[1];d.batchType||(d.batchType="transparent")},{priority:"high"}),this.listenTo(i.data,"set",(o,l)=>{"transparent"===l[1].batchType&&this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(i){const o=this.editor.model.document.selection,l={ranges:o.hasOwnRange?Array.from(o.getRanges()):[],isBackward:o.isBackward};this._stack.push({batch:i,selection:l}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(i,o,l){const d=this.editor.model,g=d.document,y=[],b=i.map(S=>S.getTransformedByOperations(l)),M=b.flat();for(const S of b){const I=S.filter(z=>z.root!=g.graveyard).filter(z=>!u2(z,M));I.length&&(go(I),y.push(I[0]))}y.length&&d.change(S=>{S.setSelection(y,{backward:o})})}_undo(i,o){const l=this.editor.model,d=l.document;this._createdBatches.add(o);const g=i.operations.slice().filter(y=>y.isDocumentOperation);g.reverse();for(const y of g){const M=Array.from(d.history.getOperations(y.baseVersion+1)),S=ub([y.getReversed()],M,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const I of S)o.addOperation(I),l.applyOperation(I),d.history.setOperationAsUndone(y,I)}}}function go(h){h.sort((i,o)=>i.start.isBefore(o.start)?-1:1);for(let i=1;i<h.length;i++){const o=h[i-1].getJoined(h[i],!0);o&&(i--,h.splice(i,2,o))}}function u2(h,i){return i.some(o=>o!==h&&o.containsRange(h,!0))}class Z9 extends W9{execute(i=null){const o=i?this._stack.findIndex(g=>g.batch==i):this._stack.length-1,l=this._stack.splice(o,1)[0],d=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(d,()=>{this._undo(l.batch,d);const g=this.editor.model.document.history.getOperations(l.batch.baseVersion);this._restoreSelection(l.selection.ranges,l.selection.isBackward,g),this.fire("revert",l.batch,d)}),this.refresh()}}class $g extends W9{execute(){const i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,()=>{const d=this.editor.model.document.history.getOperations(i.batch.operations[i.batch.operations.length-1].baseVersion+1);this._restoreSelection(i.selection.ranges,i.selection.isBackward,d),this._undo(i.batch,o)}),this.refresh()}}class Y9 extends ot{static get pluginName(){return"UndoEditing"}constructor(i){super(i),this._batchRegistry=new WeakSet}init(){const i=this.editor;this._undoCommand=new Z9(i),this._redoCommand=new $g(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",(o,l)=>{const d=l[0];if(!d.isDocumentOperation)return;const g=d.batch,y=this._redoCommand._createdBatches.has(g),b=this._undoCommand._createdBatches.has(g);this._batchRegistry.has(g)||"transparent"==g.type&&!y&&!b||(y?this._undoCommand.addBatch(g):b||(this._undoCommand.addBatch(g),this._redoCommand.clearStack()),this._batchRegistry.add(g))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(o,l,d)=>{this._redoCommand.addBatch(d)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}var X4='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',h5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class Xh extends ot{static get pluginName(){return"UndoUI"}init(){const i=this.editor,o=i.locale,l=i.t,d="ltr"==o.uiLanguageDirection?X4:h5,g="ltr"==o.uiLanguageDirection?h5:X4;this._addButton("undo",l("Undo"),"CTRL+Z",d),this._addButton("redo",l("Redo"),"CTRL+Y",g)}_addButton(i,o,l,d){const g=this.editor;g.ui.componentFactory.add(i,y=>{const b=g.commands.get(i),M=new Ci(y);return M.set({label:o,icon:d,keystroke:l,tooltip:!0}),M.bind("isEnabled").to(b,"isEnabled"),this.listenTo(M,"execute",()=>{g.execute(i),g.editing.view.focus()}),M})}}class ef extends ot{static get requires(){return[Y9,Xh]}static get pluginName(){return"Undo"}}class f5{constructor(){const i=new window.FileReader;this._reader=i,this._data=void 0,this.set("loaded",0),i.onprogress=o=>{this.loaded=o.loaded}}get error(){return this._reader.error}get data(){return this._data}read(i){const o=this._reader;return this.total=i.size,new Promise((l,d)=>{o.onload=()=>{const g=o.result;this._data=g,l(g)},o.onerror=()=>{d("error")},o.onabort=()=>{d("aborted")},this._reader.readAsDataURL(i)})}abort(){this._reader.abort()}}_t(f5,Mt);class ga extends ot{static get pluginName(){return"FileRepository"}static get requires(){return[kh]}init(){this.loaders=new zi,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(i,o)=>o?i/o*100:0)}getLoader(i){return this._loadersMap.get(i)||null}createLoader(i){if(!this.createUploadAdapter)return Object(W.b)("filerepository-no-upload-adapter"),null;const o=new E0(Promise.resolve(i),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(i,o),i instanceof Promise&&o.file.then(l=>{this._loadersMap.set(l,o)}).catch(()=>{}),o.on("change:uploaded",()=>{let l=0;for(const d of this.loaders)l+=d.uploaded;this.uploaded=l}),o.on("change:uploadTotal",()=>{let l=0;for(const d of this.loaders)d.uploadTotal&&(l+=d.uploadTotal);this.uploadTotal=l}),o}destroyLoader(i){const o=i instanceof E0?i:this.getLoader(i);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach((l,d)=>{l===o&&this._loadersMap.delete(d)})}_updatePendingAction(){const i=this.editor.plugins.get(kh);if(this.loaders.length){if(!this._pendingAction){const o=this.editor.t,l=d=>`${o("Upload in progress")} ${parseInt(d)}%.`;this._pendingAction=i.add(l(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",l)}}else i.remove(this._pendingAction),this._pendingAction=null}}_t(ga,Mt);class E0{constructor(i,o){this.id=pe(),this._filePromiseWrapper=this._createFilePromiseWrapper(i),this._adapter=o(this),this._reader=new f5,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(l,d)=>d?l/d*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(i=>this._filePromiseWrapper?i:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new W.a("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(i=>this._reader.read(i)).then(i=>{if("reading"!==this.status)throw this.status;return this.status="idle",i}).catch(i=>{throw"aborted"===i?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:i)})}upload(){if("idle"!=this.status)throw new W.a("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(i=>(this.uploadResponse=i,this.status="idle",i)).catch(i=>{throw"aborted"===this.status?"aborted":(this.status="error",i)})}abort(){const i=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==i?this._reader.abort():"uploading"==i&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(i){const o={};return o.promise=new Promise((l,d)=>{o.rejecter=d,o.isFulfilled=!1,i.then(g=>{o.isFulfilled=!0,l(g)}).catch(g=>{o.isFulfilled=!0,d(g)})}),o}}_t(E0,Mt);class e3 extends _n{constructor(i){super(i),this.buttonView=new Ci(i),this._fileInputView=new Nn(i),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Nn extends _n{constructor(i){super(i),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const o=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:o.to("acceptedType"),multiple:o.to("allowMultipleFiles")},on:{change:o.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}class K9{constructor(i,o,l){this.loader=i,this.url=o,this.t=l}upload(){return this.loader.file.then(i=>new Promise((o,l)=>{this._initRequest(),this._initListeners(o,l,i),this._sendRequest(i)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const i=this.xhr=new XMLHttpRequest;i.open("POST",this.url,!0),i.responseType="json"}_initListeners(i,o,l){const d=this.xhr,g=this.loader,y=(0,this.t)("Cannot upload file:")+` ${l.name}.`;d.addEventListener("error",()=>o(y)),d.addEventListener("abort",()=>o()),d.addEventListener("load",()=>{const b=d.response;if(!b||!b.uploaded)return o(b&&b.error&&b.error.message?b.error.message:y);i({default:b.url})}),d.upload&&d.upload.addEventListener("progress",b=>{b.lengthComputable&&(g.uploadTotal=b.total,g.uploaded=b.loaded)})}_sendRequest(i){const o=new FormData;o.append("upload",i),o.append("ckCsrfToken",function(){let h=function(l){l=l.toLowerCase();const d=document.cookie.split(";");for(const g of d){const y=g.split("=");if(decodeURIComponent(y[0].trim().toLowerCase())===l)return decodeURIComponent(y[1])}return null}("ckCsrfToken");var o;return h&&40==h.length||(h=function(l){let d="";const g=new Uint8Array(40);window.crypto.getRandomValues(g);for(let y=0;y<g.length;y++){const b="abcdefghijklmnopqrstuvwxyz0123456789".charAt(g[y]%"abcdefghijklmnopqrstuvwxyz0123456789".length);d+=Math.random()>.5?b.toUpperCase():b}return d}(),o=h,document.cookie=encodeURIComponent("ckCsrfToken")+"="+encodeURIComponent(o)+";path=/"),h}()),this.xhr.send(o)}}function T1(h,i,o,l){let d,g=null;"function"==typeof l?d=l:(g=h.commands.get(l),d=()=>{h.execute(l)}),h.model.document.on("change:data",(y,b)=>{if(g&&!g.isEnabled||!i.isEnabled)return;const M=qr(h.model.document.selection.getRanges());if(!M.isCollapsed||"transparent"==b.type)return;const S=Array.from(h.model.document.differ.getChanges()),I=S[0];if(1!=S.length||"insert"!==I.type||"$text"!=I.name||1!=I.length)return;const z=I.position.parent;if(z.is("element","codeBlock")||z.is("element","listItem")&&"function"!=typeof l&&!["numberedList","bulletedList","todoList"].includes(l)||g&&!0===g.value)return;const H=z.getChild(0),Y=h.model.createRangeOn(H);if(!Y.containsRange(M)&&!M.end.isEqual(Y.end))return;const J=o.exec(H.data.substr(0,M.end.offset));J&&h.model.enqueueChange(ee=>{const oe=ee.createPositionAt(z,0),ue=ee.createPositionAt(z,J[0].length),xe=new da(oe,ue);if(!1!==d({match:J})){ee.remove(xe);const je=h.model.document.selection.getFirstRange(),ut=ee.createRangeIn(z);!z.isEmpty||ut.isEqual(je)||ut.containsRange(je,!0)||ee.remove(z)}xe.detach(),h.model.enqueueChange(()=>{h.plugins.get("Delete").requestUndoOnBackspace()})})})}function t3(h,i,o,l){let d,g;o instanceof RegExp?d=o:g=o,g=g||(y=>{let b;const M=[],S=[];for(;null!==(b=d.exec(y))&&!(b&&b.length<4);){let{index:I,1:z,2:H,3:Y}=b;I+=b[0].length-(z+H+Y).length;const oe=[I+z.length+H.length,I+z.length+H.length+Y.length];M.push([I,I+z.length]),M.push(oe),S.push([I+z.length,I+z.length+H.length])}return{remove:M,format:S}}),h.model.document.on("change:data",(y,b)=>{if("transparent"==b.type||!i.isEnabled)return;const M=h.model,S=M.document.selection;if(!S.isCollapsed)return;const I=Array.from(M.document.differ.getChanges()),z=I[0];if(1!=I.length||"insert"!==z.type||"$text"!=z.name||1!=z.length)return;const H=S.focus,Y=H.parent,{text:J,range:ee}=function(je,ut){let zt=je.start;return{text:Array.from(je.getItems()).reduce((_i,Kt)=>!Kt.is("$text")&&!Kt.is("$textProxy")||Kt.getAttribute("code")?(zt=ut.createPositionAfter(Kt),""):_i+Kt.data,""),range:ut.createRange(zt,je.end)}}(M.createRange(M.createPositionAt(Y,0),H),M),oe=g(J),ue=tf(ee.start,oe.format,M),xe=tf(ee.start,oe.remove,M);ue.length&&xe.length&&M.enqueueChange(je=>{if(!1!==l(je,ue)){for(const ut of xe.reverse())je.remove(ut);M.enqueueChange(()=>{h.plugins.get("Delete").requestUndoOnBackspace()})}})})}function tf(h,i,o){return i.filter(l=>void 0!==l[0]&&void 0!==l[1]).map(l=>o.createRange(h.getShiftedBy(l[0]),h.getShiftedBy(l[1])))}function tu(h,i){return(o,l)=>{if(!h.commands.get(i).isEnabled)return!1;const d=h.model.schema.getValidRanges(l,i);for(const g of d)o.setAttribute(i,!0,g);o.removeSelectionAttribute(i)}}class Gg extends dt{constructor(i,o){super(i),this.attributeKey=o}refresh(){const i=this.editor.model,o=i.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=i.schema.checkAttributeInSelection(o.selection,this.attributeKey)}execute(i={}){const o=this.editor.model,l=o.document.selection,d=void 0===i.forceValue?!this.value:i.forceValue;o.change(g=>{if(l.isCollapsed)d?g.setSelectionAttribute(this.attributeKey,!0):g.removeSelectionAttribute(this.attributeKey);else{const y=o.schema.getValidRanges(l.getRanges(),this.attributeKey);for(const b of y)d?g.setAttribute(this.attributeKey,d,b):g.removeAttribute(this.attributeKey,b)}})}_getValueFromFirstAllowedNode(){const i=this.editor.model,o=i.schema,l=i.document.selection;if(l.isCollapsed)return l.hasAttribute(this.attributeKey);for(const d of l.getRanges())for(const g of d.getItems())if(o.checkAttribute(g,this.attributeKey))return g.hasAttribute(this.attributeKey);return!1}}class nf extends ot{static get pluginName(){return"BoldEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"bold"}),i.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",o=>{const l=o.getStyle("font-weight");return l?"bold"==l||Number(l)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),i.commands.add("bold",new Gg(i,"bold")),i.keystrokes.set("CTRL+B","bold")}}class n3 extends ot{static get pluginName(){return"BoldUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("bold",l=>{const d=i.commands.get("bold"),g=new Ci(l);return g.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(g,"execute",()=>{i.execute("bold"),i.editing.view.focus()}),g})}}class Q9 extends ot{static get pluginName(){return"ItalicEditing"}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"italic"}),i.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),i.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),i.commands.add("italic",new Gg(i,"italic")),i.keystrokes.set("CTRL+I","italic")}}class nu extends ot{static get pluginName(){return"ItalicUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("italic",l=>{const d=i.commands.get("italic"),g=new Ci(l);return g.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(g,"execute",()=>{i.execute("italic"),i.editing.view.focus()}),g})}}class J9 extends dt{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,l=o.schema,g=Array.from(o.document.selection.getSelectedBlocks()),y=void 0===i.forceValue?!this.value:i.forceValue;o.change(b=>{if(y){const M=g.filter(S=>iu(S)||X9(l,S));this._applyQuote(b,M)}else this._removeQuote(b,g.filter(iu))})}_getValue(){const i=qr(this.editor.model.document.selection.getSelectedBlocks());return!(!i||!iu(i))}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,l=qr(this.editor.model.document.selection.getSelectedBlocks());return!!l&&X9(o,l)}_removeQuote(i,o){zs(i,o).reverse().forEach(l=>{if(l.start.isAtStart&&l.end.isAtEnd)return void i.unwrap(l.start.parent);if(l.start.isAtStart){const g=i.createPositionBefore(l.start.parent);return void i.move(l,g)}l.end.isAtEnd||i.split(l.end);const d=i.createPositionAfter(l.end.parent);i.move(l,d)})}_applyQuote(i,o){const l=[];zs(i,o).reverse().forEach(d=>{let g=iu(d.start);g||(g=i.createElement("blockQuote"),i.wrap(d,g)),l.push(g)}),l.reverse().reduce((d,g)=>d.nextSibling==g?(i.merge(i.createPositionAfter(d)),d):g)}}function iu(h){return"blockQuote"==h.parent.name?h.parent:null}function zs(h,i){let o,l=0;const d=[];for(;l<i.length;){const g=i[l],y=i[l+1];o||(o=h.createPositionBefore(g)),y&&g.nextSibling==y||(d.push(h.createRange(o,h.createPositionAfter(g))),o=null),l++}return d}function X9(h,i){const o=h.checkChild(i.parent,"blockQuote"),l=h.checkChild(["$root","blockQuote"],i);return o&&l}class Wg extends ot{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Oh,nl]}init(){const i=this.editor,o=i.model.schema;i.commands.add("blockQuote",new J9(i)),o.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),i.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),i.model.document.registerPostFixer(y=>{const b=i.model.document.differ.getChanges();for(const M of b)if("insert"==M.type){const S=M.position.nodeAfter;if(!S)continue;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0;if(S.is("element","blockQuote")&&!o.checkChild(M.position,S))return y.unwrap(S),!0;if(S.is("element")){const I=y.createRangeIn(S);for(const z of I.getItems())if(z.is("element","blockQuote")&&!o.checkChild(y.createPositionBefore(z),z))return y.unwrap(z),!0}}else if("remove"==M.type){const S=M.position.parent;if(S.is("element","blockQuote")&&S.isEmpty)return y.remove(S),!0}return!1});const l=this.editor.editing.view.document,d=i.model.document.selection,g=i.commands.get("blockQuote");this.listenTo(l,"enter",(y,b)=>{!d.isCollapsed||!g.value||d.getLastPosition().parent.isEmpty&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),b.preventDefault(),y.stop())},{context:"blockquote"}),this.listenTo(l,"delete",(y,b)=>{if("backward"!=b.direction||!d.isCollapsed||!g.value)return;const M=d.getLastPosition().parent;M.isEmpty&&!M.previousSibling&&(i.execute("blockQuote"),i.editing.view.scrollToTheSelection(),b.preventDefault(),y.stop())},{context:"blockquote"})}}Z(71);class ep extends ot{static get pluginName(){return"BlockQuoteUI"}init(){const i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",l=>{const d=i.commands.get("blockQuote"),g=new Ci(l);return g.set({label:o("Block quote"),icon:vi.quote,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(d,"value","isEnabled"),this.listenTo(g,"execute",()=>{i.execute("blockQuote"),i.editing.view.focus()}),g})}}class tp extends ot{static get pluginName(){return"CKFinderUI"}init(){const i=this.editor,l=i.t;i.ui.componentFactory.add("ckfinder",d=>{const g=i.commands.get("ckfinder"),y=new Ci(d);return y.set({label:l("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),y.bind("isEnabled").to(g),y.on("execute",()=>{i.execute("ckfinder"),i.editing.view.focus()}),y})}}class np extends dt{constructor(i){super(i),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const i=this.editor.commands.get("insertImage"),o=this.editor.commands.get("link");this.isEnabled=i.isEnabled||o.isEnabled}execute(){const i=this.editor,o=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=o&&"modal"!=o)throw new W.a("ckfinder-unknown-openermethod",i);const l=this.editor.config.get("ckfinder.options")||{};l.chooseFiles=!0;const d=l.onInit;l.language||(l.language=i.locale.uiLanguage),l.onInit=g=>{d&&d(g),g.on("files:choose",y=>{const b=y.data.files.toArray(),M=b.filter(z=>!z.isImage()),S=b.filter(z=>z.isImage());for(const z of M)i.execute("link",z.getUrl());const I=[];for(const z of S){const H=z.getUrl();I.push(H||g.request("file:getProxyUrl",{file:z}))}I.length&&ru(i,I)}),g.on("file:choose:resizedImage",y=>{const b=y.data.resizedUrl;if(b)ru(i,[b]);else{const M=i.plugins.get("Notification"),S=i.locale.t;M.showWarning(S("Could not obtain resized image URL."),{title:S("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[o](l)}}function ru(h,i){if(h.commands.get("insertImage").isEnabled)h.execute("insertImage",{source:i});else{const o=h.plugins.get("Notification"),l=h.locale.t;o.showWarning(l("Could not insert image at the current position."),{title:l("Inserting image failed"),namespace:"ckfinder"})}}class mb extends ot{static get pluginName(){return"CKFinderEditing"}static get requires(){return[X8,"LinkEditing"]}init(){const i=this.editor;if(!i.plugins.has("ImageBlockEditing")&&!i.plugins.has("ImageInlineEditing"))throw new W.a("ckfinder-missing-image-plugin",i);i.commands.add("ckfinder",new np(i))}}class ip extends ot{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",ga]}init(){const i=this.editor,o=i.plugins.get("CloudServices"),l=o.token,d=o.uploadUrl;l&&(this._uploadGateway=i.plugins.get("CloudServicesCore").createUploadGateway(l,d),i.plugins.get(ga).createUploadAdapter=g=>new rf(this._uploadGateway,g))}}class rf{constructor(i,o){this.uploadGateway=i,this.loader=o}upload(){return this.loader.file.then(i=>(this.fileUploader=this.uploadGateway.upload(i),this.fileUploader.on("progress",(o,l)=>{this.loader.uploadTotal=l.total,this.loader.uploaded=l.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class Zg extends dt{refresh(){const i=this.editor.model,o=qr(i.document.selection.getSelectedBlocks());this.value=!!o&&o.is("element","paragraph"),this.isEnabled=!!o&&p5(o,i.schema)}execute(i={}){const o=this.editor.model,l=o.document;o.change(d=>{const g=(i.selection||l.selection).getSelectedBlocks();for(const y of g)!y.is("element","paragraph")&&p5(y,o.schema)&&d.rename(y,"paragraph")})}}function p5(h,i){return i.checkChild(h.parent,"paragraph")&&!i.isObject(h)}class rp extends dt{execute(i){const o=this.editor.model;let l=i.position;o.change(d=>{const g=d.createElement("paragraph");if(!o.schema.checkChild(l.parent,g)){const y=o.schema.findAllowedParent(l,g);if(!y)return;l=d.split(l,y).position}o.insertContent(g,l),d.setSelection(g,"in")})}}class i3 extends ot{static get pluginName(){return"Paragraph"}init(){const i=this.editor,o=i.model;i.commands.add("paragraph",new Zg(i)),i.commands.add("insertParagraph",new rp(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:(l,{writer:d})=>i3.paragraphLikeElements.has(l.name)?l.isEmpty?null:d.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}i3.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class sf extends dt{constructor(i,o){super(i),this.modelElements=o}refresh(){const i=qr(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(o=>Q2(i,o,this.editor.model.schema))}execute(i){const o=this.editor.model,l=o.document,d=i.value;o.change(g=>{const y=Array.from(l.selection.getSelectedBlocks()).filter(b=>Q2(b,d,o.schema));for(const b of y)b.is("element",d)||g.rename(b,d)})}}function Q2(h,i,o){return o.checkChild(h.parent,i)&&!o.isObject(h)}class x0 extends ot{static get pluginName(){return"HeadingEditing"}constructor(i){super(i),i.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[i3]}init(){const i=this.editor,o=i.config.get("heading.options"),l=[];for(const d of o)"paragraph"!==d.model&&(i.model.schema.register(d.model,{inheritAllFrom:"$block"}),i.conversion.elementToElement(d),l.push(d.model));this._addDefaultH1Conversion(i),i.commands.add("heading",new sf(i,l))}afterInit(){const i=this.editor,o=i.commands.get("enter"),l=i.config.get("heading.options");o&&this.listenTo(o,"afterExecute",(d,g)=>{const y=i.model.document.selection.getFirstPosition().parent;l.some(b=>y.is("element",b.model))&&!y.is("element","paragraph")&&0===y.childCount&&g.writer.rename(y,"paragraph")})}_addDefaultH1Conversion(i){i.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:ve.get("low")+1})}}Z(13);class op extends ot{static get pluginName(){return"HeadingUI"}init(){const i=this.editor,o=i.t,l=function(y){const b=y.t,M={Paragraph:b("Paragraph"),"Heading 1":b("Heading 1"),"Heading 2":b("Heading 2"),"Heading 3":b("Heading 3"),"Heading 4":b("Heading 4"),"Heading 5":b("Heading 5"),"Heading 6":b("Heading 6")};return y.config.get("heading.options").map(S=>{const I=M[S.title];return I&&I!=S.title&&(S.title=I),S})}(i),d=o("Choose heading"),g=o("Heading");i.ui.componentFactory.add("heading",y=>{const b={},M=new zi,S=i.commands.get("heading"),I=i.commands.get("paragraph"),z=[S];for(const Y of l){const J={type:"button",model:new O6({label:Y.title,class:Y.class,withText:!0})};"paragraph"===Y.model?(J.model.bind("isOn").to(I,"value"),J.model.set("commandName","paragraph"),z.push(I)):(J.model.bind("isOn").to(S,"value",ee=>ee===Y.model),J.model.set({commandName:"heading",commandValue:Y.model})),M.add(J),b[Y.model]=Y.title}const H=Jc(y);return Th(H,M),H.buttonView.set({isOn:!1,withText:!0,tooltip:g}),H.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),H.bind("isEnabled").toMany(z,"isEnabled",(...Y)=>Y.some(J=>J)),H.buttonView.bind("label").to(S,"value",I,"value",(Y,J)=>{const ee=Y||J&&"paragraph";return b[ee]?b[ee]:d}),this.listenTo(H,"execute",Y=>{i.execute(Y.source.commandName,Y.source.commandValue?{value:Y.source.commandValue}:void 0),i.editing.view.focus()}),H})}}class Ql extends ot{static get requires(){return[V6]}static get pluginName(){return"WidgetToolbarRepository"}init(){const i=this.editor;if(i.plugins.has("BalloonToolbar")){const o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",l=>{(function(d){const g=d.getSelectedElement();return!(!g||!Bn(g))})(i.editing.view.document.selection)&&l.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const i of this._toolbarDefinitions.values())i.view.destroy()}register(i,{ariaLabel:o,items:l,getRelatedElement:d,balloonClassName:g="ck-toolbar-container"}){if(!l.length)return void Object(W.b)("widget-toolbar-no-items",{toolbarId:i});const y=this.editor,b=y.t,M=new y0(y.locale);if(M.ariaLabel=o||b("Widget toolbar"),this._toolbarDefinitions.has(i))throw new W.a("widget-toolbar-duplicated",this,{toolbarId:i});M.fillFromConfig(l,y.ui.componentFactory),this._toolbarDefinitions.set(i,{view:M,getRelatedElement:d,balloonClassName:g})}_updateToolbarsVisibility(){let i=0,o=null,l=null;for(const d of this._toolbarDefinitions.values()){const g=d.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&g)if(this.editor.ui.focusTracker.isFocused){const y=g.getAncestors().length;y>i&&(i=y,o=g,l=d)}else this._isToolbarVisible(d)&&this._hideToolbar(d);else this._isToolbarInBalloon(d)&&this._hideToolbar(d)}l&&this._showToolbar(l,o)}_hideToolbar(i){this._balloon.remove(i.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(i,o){this._isToolbarVisible(i)?r3(this.editor,o):this._isToolbarInBalloon(i)||(this._balloon.add({view:i.view,position:va(this.editor,o),balloonClassName:i.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const l of this._toolbarDefinitions.values())if(this._isToolbarVisible(l)){const d=l.getRelatedElement(this.editor.editing.view.document.selection);r3(this.editor,d)}}))}_isToolbarVisible(i){return this._balloon.visibleView===i.view}_isToolbarInBalloon(i){return this._balloon.hasView(i.view)}}function r3(h,i){const o=h.plugins.get("ContextualBalloon"),l=va(h,i);o.updatePosition(l)}function va(h,i){const l=Mn.defaultPositions;return{target:h.editing.view.domConverter.mapViewToDom(i),positions:[l.northArrowSouth,l.northArrowSouthWest,l.northArrowSouthEast,l.southArrowNorth,l.southArrowNorthWest,l.southArrowNorthEast,l.viewportStickyNorth]}}class o3{constructor(i){this.set("activeHandlePosition",null),this.set("proposedWidthPercents",null),this.set("proposedWidth",null),this.set("proposedHeight",null),this.set("proposedHandleHostWidth",null),this.set("proposedHandleHostHeight",null),this._options=i,this._referenceCoordinates=null}begin(i,o,l){const d=new Wn(o);this.activeHandlePosition=function(y){const b=["top-left","top-right","bottom-right","bottom-left"];for(const M of b)if(y.classList.contains("ck-widget__resizer__handle-"+M))return M}(i),this._referenceCoordinates=function(y,b){const M=new Wn(y),S=b.split("-"),I={x:"right"==S[1]?M.right:M.left,y:"bottom"==S[0]?M.bottom:M.top};return I.x+=y.ownerDocument.defaultView.scrollX,I.y+=y.ownerDocument.defaultView.scrollY,I}(o,function(y){const b=y.split("-"),M={top:"bottom",bottom:"top",left:"right",right:"left"};return`${M[b[0]]}-${M[b[1]]}`}(this.activeHandlePosition)),this.originalWidth=d.width,this.originalHeight=d.height,this.aspectRatio=d.width/d.height;const g=l.style.width;this.originalWidthPercents=g&&g.match(/^\d+(\.\d*)?%$/)?parseFloat(g):function(y,b){const M=y.parentElement,S=parseFloat(M.ownerDocument.defaultView.getComputedStyle(M).width);return b.width/S*100}(l,d)}update(i){this.proposedWidth=i.width,this.proposedHeight=i.height,this.proposedWidthPercents=i.widthPercents,this.proposedHandleHostWidth=i.handleHostWidth,this.proposedHandleHostHeight=i.handleHostHeight}}_t(o3,Mt);class Yg extends _n{constructor(){super();const i=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-size-view",i.to("_viewPosition",o=>o?"ck-orientation-"+o:"")],style:{display:i.if("_isVisible","none",o=>!o)}},children:[{text:i.to("_label")}]})}_bindToState(i,o){this.bind("_isVisible").to(o,"proposedWidth",o,"proposedHeight",(l,d)=>null!==l&&null!==d),this.bind("_label").to(o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",o,"proposedWidthPercents",(l,d,g)=>"px"===i.unit?`${l}\xd7${d}`:g+"%"),this.bind("_viewPosition").to(o,"activeHandlePosition",o,"proposedHandleHostWidth",o,"proposedHandleHostHeight",(l,d,g)=>d<50||g<50?"above-center":l)}_dismiss(){this.unbind(),this._isVisible=!1}}class A0{constructor(i){this._options=i,this._viewResizerWrapper=null,this.set("isEnabled",!0),this.decorate("begin"),this.decorate("cancel"),this.decorate("commit"),this.decorate("updateSize"),this.on("commit",o=>{this.state.proposedWidth||this.state.proposedWidthPercents||(this._cleanup(),o.stop())},{priority:"high"}),this.on("change:isEnabled",()=>{this.isEnabled&&this.redraw()})}attach(){const i=this,o=this._options.viewElement;this._options.editor.editing.view.change(l=>{const d=l.createUIElement("div",{class:"ck ck-reset_all ck-widget__resizer"},function(g){const y=this.toDomElement(g);return i._appendHandles(y),i._appendSizeUI(y),i.on("change:isEnabled",(b,M,S)=>{y.style.display=S?"":"none"}),y.style.display=i.isEnabled?"":"none",y});l.insert(l.createPositionAt(o,"end"),d),l.addClass("ck-widget_with-resizer",o),this._viewResizerWrapper=d})}begin(i){this.state=new o3(this._options),this._sizeView._bindToState(this._options,this.state),this._initialViewWidth=this._options.viewElement.getStyle("width"),this.state.begin(i,this._getHandleHost(),this._getResizeHost())}updateSize(i){const o=this._proposeNewSize(i);this._options.editor.editing.view.change(y=>{const b=this._options.unit||"%";y.setStyle("width",("%"===b?o.widthPercents:o.width)+b,this._options.viewElement)});const l=this._getHandleHost(),d=new Wn(l);o.handleHostWidth=Math.round(d.width),o.handleHostHeight=Math.round(d.height);const g=new Wn(l);o.width=Math.round(g.width),o.height=Math.round(g.height),this.redraw(d),this.state.update(o)}commit(){const i=this._options.unit||"%",o=("%"===i?this.state.proposedWidthPercents:this.state.proposedWidth)+i;this._options.editor.editing.view.change(()=>{this._cleanup(),this._options.onCommit(o)})}cancel(){this._cleanup()}destroy(){this.cancel()}redraw(i){const o=this._domResizerWrapper;if(!((l=o)&&l.ownerDocument&&l.ownerDocument.contains(l)))return;var l;const d=o.parentElement,g=this._getHandleHost(),y=this._viewResizerWrapper,b=[y.getStyle("width"),y.getStyle("height"),y.getStyle("left"),y.getStyle("top")];let M;if(d.isSameNode(g)){const S=i||new Wn(g);M=[S.width+"px",S.height+"px",void 0,void 0]}else M=[g.offsetWidth+"px",g.offsetHeight+"px",g.offsetLeft+"px",g.offsetTop+"px"];"same"!==lr(b,M)&&this._options.editor.editing.view.change(S=>{S.setStyle({width:M[0],height:M[1],left:M[2],top:M[3]},y)})}containsHandle(i){return this._domResizerWrapper.contains(i)}static isResizeHandle(i){return i.classList.contains("ck-widget__resizer__handle")}_cleanup(){this._sizeView._dismiss(),this._options.editor.editing.view.change(i=>{i.setStyle("width",this._initialViewWidth,this._options.viewElement)})}_proposeNewSize(i){const o=this.state,l_x=(d=i).pageX,l_y=d.pageY;var d;const g=!this._options.isCentered||this._options.isCentered(this),y={x:o._referenceCoordinates.x-(l_x+o.originalWidth),y:l_y-o.originalHeight-o._referenceCoordinates.y};g&&o.activeHandlePosition.endsWith("-right")&&(y.x=l_x-(o._referenceCoordinates.x+o.originalWidth)),g&&(y.x*=2);const b={width:Math.abs(o.originalWidth+y.x),height:Math.abs(o.originalHeight+y.y)};b.dominant=b.width/o.aspectRatio>b.height?"width":"height",b.max=b[b.dominant];const M={width:b.width,height:b.height};return"width"==b.dominant?M.height=M.width/o.aspectRatio:M.width=M.height*o.aspectRatio,{width:Math.round(M.width),height:Math.round(M.height),widthPercents:Math.min(Math.round(o.originalWidthPercents/o.originalWidth*M.width*100)/100,100)}}_getResizeHost(){return this._options.getResizeHost(this._domResizerWrapper.parentElement)}_getHandleHost(){return this._options.getHandleHost(this._domResizerWrapper.parentElement)}get _domResizerWrapper(){return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper)}_appendHandles(i){const o=["top-left","top-right","bottom-right","bottom-left"];for(const d of o)i.appendChild(new A1({tag:"div",attributes:{class:"ck-widget__resizer__handle "+(l=d,"ck-widget__resizer__handle-"+l)}}).render());var l}_appendSizeUI(i){this._sizeView=new Yg,this._sizeView.render(),i.appendChild(this._sizeView.element)}}_t(A0,Mt),Z(74),_t(class extends ot{static get pluginName(){return"WidgetResize"}init(){const h=this.editor.editing,i=Gn.window.document;this.set("visibleResizer",null),this.set("_activeResizer",null),this._resizers=new Map,h.view.addObserver(C0),this._observer=Object.create(yt),this.listenTo(h.view.document,"mousedown",this._mouseDownListener.bind(this),{priority:"high"}),this._observer.listenTo(i,"mousemove",this._mouseMoveListener.bind(this)),this._observer.listenTo(i,"mouseup",this._mouseUpListener.bind(this));const o=()=>{this.visibleResizer&&this.visibleResizer.redraw()};this._redrawFocusedResizerThrottled=Bg(o,200),this.on("change:visibleResizer",o),this.editor.ui.on("update",this._redrawFocusedResizerThrottled),this.editor.model.document.on("change",()=>{for(const[d,g]of this._resizers)d.isAttached()||(this._resizers.delete(d),g.destroy())},{priority:"lowest"}),this._observer.listenTo(Gn.window,"resize",this._redrawFocusedResizerThrottled);const l=this.editor.editing.view.document.selection;l.on("change",()=>{const d=l.getSelectedElement();this.visibleResizer=this.getResizerByViewElement(d)||null})}destroy(){this._observer.stopListening();for(const h of this._resizers.values())h.destroy();this._redrawFocusedResizerThrottled.cancel()}attachTo(h){const i=new A0(h),o=this.editor.plugins;if(i.attach(),o.has("WidgetToolbarRepository")){const d=o.get("WidgetToolbarRepository");i.on("begin",()=>{d.forceDisabled("resize")},{priority:"lowest"}),i.on("cancel",()=>{d.clearForceDisabled("resize")},{priority:"highest"}),i.on("commit",()=>{d.clearForceDisabled("resize")},{priority:"highest"})}this._resizers.set(h.viewElement,i);const l=this.editor.editing.view.document.selection.getSelectedElement();return this.getResizerByViewElement(l)==i&&(this.visibleResizer=i),i}getResizerByViewElement(h){return this._resizers.get(h)}_getResizerByHandle(h){for(const i of this._resizers.values())if(i.containsHandle(h))return i}_mouseDownListener(h,i){const o=i.domTarget;A0.isResizeHandle(o)&&(this._activeResizer=this._getResizerByHandle(o),this._activeResizer&&(this._activeResizer.begin(o),h.stop(),i.preventDefault()))}_mouseMoveListener(h,i){this._activeResizer&&this._activeResizer.updateSize(i)}_mouseUpListener(){this._activeResizer&&(this._activeResizer.commit(),this._activeResizer=null)}},Mt);class m5 extends dt{refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.value=!(!this.isEnabled||!i.hasAttribute("alt"))&&i.getAttribute("alt")}execute(i){const o=this.editor,l=o.plugins.get("ImageUtils"),d=o.model,g=l.getClosestSelectedImageElement(d.document.selection);d.change(y=>{y.setAttribute("alt",i.newValue,g)})}}function o1(h,i){const o=h.createEmptyElement("img"),l="imageBlock"===i?h.createContainerElement("figure",{class:"image"}):h.createContainerElement("span",{class:"image-inline"},{isAllowedInsideAttributeElement:!0});return h.insert(h.createPositionAt(l,0),o),l}function s3(h,i){if(h.plugins.has("ImageInlineEditing")!==h.plugins.has("ImageBlockEditing"))return{name:"img"};const o=h.plugins.get("ImageUtils");return l=>o.isInlineImageView(l)?(l.findAncestor(o.isBlockImageView)?"imageBlock":"imageInline")!==i?null:{name:!0}:null}function $r(h,i){const o=qr(i.getSelectedBlocks());return!o||h.isObject(o)||o.isEmpty&&"listItem"!=o.name?"imageBlock":"imageInline"}class vo extends ot{static get pluginName(){return"ImageUtils"}isImage(i){return this.isInlineImage(i)||this.isBlockImage(i)}isInlineImageView(i){return!!i&&i.is("element","img")}isBlockImageView(i){return!!i&&i.is("element","figure")&&i.hasClass("image")}insertImage(i={},o=null,l=null){const d=this.editor,g=d.model,y=g.document.selection;l=ou(d,o||y,l),i=lt(lt({},Object.fromEntries(y.getAttributes())),i);for(const b in i)g.schema.checkAttribute(l,b)||delete i[b];return g.change(b=>{const M=b.createElement(l,i);return o||"imageInline"==l||(o=U6(y,g)),g.insertContent(M,o),M.parent?(b.setSelection(M,"on"),M):null})}getClosestSelectedImageWidget(i){const o=i.getSelectedElement();if(o&&this.isImageWidget(o))return o;let l=i.getFirstPosition().parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(i){const o=i.getSelectedElement();return this.isImage(o)?o:i.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const i=this.editor.model.document.selection;return function(o,l){if("imageBlock"==ou(o,l)){const d=function(g,y){const b=U6(g,y).start.parent;return b.isEmpty&&!b.is("element","$root")?b.parent:b}(l,o.model);if(o.model.schema.checkChild(d,"imageBlock"))return!0}else if(o.model.schema.checkChild(l.focus,"imageInline"))return!0;return!1}(this.editor,i)&&function(o){return[...o.focus.getAncestors()].every(l=>!l.is("element","imageBlock"))}(i)}toImageWidget(i,o,l){return o.setCustomProperty("image",!0,i),i5(i,o,{label:()=>{const d=this.findViewImgElement(i).getAttribute("alt");return d?`${d} ${l}`:l}})}isImageWidget(i){return!!i.getCustomProperty("image")&&Bn(i)}isBlockImage(i){return!!i&&i.is("element","imageBlock")}isInlineImage(i){return!!i&&i.is("element","imageInline")}findViewImgElement(i){if(this.isInlineImageView(i))return i;const o=this.editor.editing.view;for(const{item:l}of o.createRangeIn(i))if(this.isInlineImageView(l))return l}}function ou(h,i,o){const l=h.model.schema,d=h.config.get("image.insert.type");return h.plugins.has("ImageBlockEditing")?h.plugins.has("ImageInlineEditing")?o||("inline"===d?"imageInline":"block"===d?"imageBlock":i.is("selection")?$r(l,i):l.checkChild(i,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class ls extends ot{static get requires(){return[vo]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new m5(this.editor))}}Z(76),Z(7);class af extends _n{constructor(i){super(i);const o=this.locale.t;this.focusTracker=new Ts,this.keystrokes=new aa,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(o("Save"),vi.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),vi.cancel,"ck-button-cancel","cancel"),this._focusables=new $4,this._focusCycler=new Gl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),p0(this)}render(){super.render(),this.keystrokes.listenTo(this.element),m0({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)})}_createButton(i,o,l,d){const g=new Ci(this.locale);return g.set({label:i,icon:o,tooltip:!0}),g.extendTemplate({attributes:{class:l}}),d&&g.delegate("execute").to(this,d),g}_createLabeledInputView(){const i=this.locale.t,o=new J8(this.locale,R6);return o.label=i("Text alternative"),o}}function a3(h){const i=h.editing.view,o=Mn.defaultPositions,l=h.plugins.get("ImageUtils");return{target:i.domConverter.viewToDom(l.getClosestSelectedImageWidget(i.document.selection)),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}class S0 extends ot{static get requires(){return[V6]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",l=>{const d=i.commands.get("imageTextAlternative"),g=new Ci(l);return g.set({label:o("Change image text alternative"),icon:vi.lowVision,tooltip:!0}),g.bind("isEnabled").to(d,"isEnabled"),this.listenTo(g,"execute",()=>{this._showForm()}),g})}_createForm(){const i=this.editor,o=i.editing.view.document,l=i.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new af(i.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{i.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(d,g)=>{this._hideForm(!0),g()}),this.listenTo(i.ui,"update",()=>{l.getClosestSelectedImageWidget(o.selection)?this._isVisible&&function(d){const g=d.plugins.get("ContextualBalloon");if(d.plugins.get("ImageUtils").getClosestSelectedImageWidget(d.editing.view.document.selection)){const y=a3(d);g.updatePosition(y)}}(i):this._hideForm(!0)}),er({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const i=this.editor,o=i.commands.get("imageTextAlternative"),l=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:a3(i)}),l.fieldView.value=l.fieldView.element.value=o.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(i){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),i&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView===this._form}get _isInBalloon(){return this._balloon.hasView(this._form)}}class J2 extends ot{static get requires(){return[ls,S0]}static get pluginName(){return"ImageTextAlternative"}}function d2(h,i){return l=>{l.on("attribute:srcset:"+i,o)};function o(l,d,g){if(!g.consumable.consume(d.item,l.name))return;const y=g.writer,b=g.mapper.toViewElement(d.item),M=h.findViewImgElement(b);if(null===d.attributeNewValue){const S=d.attributeOldValue;S.data&&(y.removeAttribute("srcset",M),y.removeAttribute("sizes",M),S.width&&y.removeAttribute("width",M))}else{const S=d.attributeNewValue;S.data&&(y.setAttribute("srcset",S.data,M),y.setAttribute("sizes","100vw",M),S.width&&y.setAttribute("width",S.width,M))}}}function h2(h,i,o){return d=>{d.on(`attribute:${o}:${i}`,l)};function l(d,g,y){if(!y.consumable.consume(g.item,d.name))return;const b=y.writer,M=y.mapper.toViewElement(g.item),S=h.findViewImgElement(M);b.setAttribute(g.attributeKey,g.attributeNewValue||"",S)}}class c3 extends fn{observe(i){this.listenTo(i,"load",(o,l)=>{const d=l.target;this.checkShouldIgnoreEventFromTarget(d)||"IMG"==d.tagName&&this._fireEvents(l)},{useCapture:!0})}_fireEvents(i){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",i))}}class l3 extends dt{constructor(i){super(i);const o=i.config.get("image.insert.type");i.plugins.has("ImageBlockEditing")||"block"===o&&Object(W.b)("image-block-plugin-required"),i.plugins.has("ImageInlineEditing")||"inline"===o&&Object(W.b)("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(i){const o=Vi(i.source),l=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),g=Object.fromEntries(l.getAttributes());o.forEach((y,b)=>{const M=l.getSelectedElement();if("string"==typeof y&&(y={src:y}),b&&M&&d.isImage(M)){const S=this.editor.model.createPositionAfter(M);d.insertImage(lt(lt({},y),g),S)}else d.insertImage(lt(lt({},y),g))})}}class u3 extends ot{static get requires(){return[vo]}static get pluginName(){return"ImageEditing"}init(){const i=this.editor,o=i.conversion;i.editing.view.addObserver(c3),o.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:d=>{const g={data:d.getAttribute("srcset")};return d.hasAttribute("width")&&(g.width=d.getAttribute("width")),g}}});const l=new l3(i);i.commands.add("insertImage",l),i.commands.add("imageInsert",l)}}class al extends dt{constructor(i,o){super(i),this._modelElementName=o}refresh(){const i=this.editor.plugins.get("ImageUtils"),o=i.getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled="imageBlock"===this._modelElementName?i.isInlineImage(o):i.isBlockImage(o)}execute(){const o=this.editor.model,l=this.editor.plugins.get("ImageUtils"),d=l.getClosestSelectedImageElement(o.document.selection),g=Object.fromEntries(d.getAttributes());return g.src||g.uploadId?o.change(y=>{const b=Array.from(o.markers).filter(I=>I.getRange().containsItem(d)),M=l.insertImage(g,o.createSelection(d,"on"),this._modelElementName);if(!M)return null;const S=y.createRangeOn(M);for(const I of b){const z=I.getRange(),H="$graveyard"!=z.root.rootName?z.getJoined(S,!0):S;y.updateMarker(I,{range:H})}return{oldElement:d,newElement:M}}):null}}class cf extends ot{static get requires(){return[u3,vo,Y2]}static get pluginName(){return"ImageBlockEditing"}init(){const i=this.editor;i.model.schema.register("imageBlock",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),i.plugins.has("ImageInlineEditing")&&(i.commands.add("imageTypeBlock",new al(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,l=i.conversion,d=i.plugins.get("ImageUtils");l.for("dataDowncast").elementToElement({model:"imageBlock",view:(g,{writer:y})=>o1(y,"imageBlock")}),l.for("editingDowncast").elementToElement({model:"imageBlock",view:(g,{writer:y})=>d.toImageWidget(o1(y,"imageBlock"),y,o("image widget"))}),l.for("downcast").add(h2(d,"imageBlock","src")).add(h2(d,"imageBlock","alt")).add(d2(d,"imageBlock")),l.for("upcast").elementToElement({view:s3(i,"imageBlock"),model:(g,{writer:y})=>y.createElement("imageBlock",g.hasAttribute("src")?{src:g.getAttribute("src")}:null)}).add(function(g){return b=>{b.on("element:figure",y)};function y(b,M,S){if(!S.consumable.test(M.viewItem,{name:!0,classes:"image"}))return;const I=g.findViewImgElement(M.viewItem);if(!I||!S.consumable.test(I,{name:!0}))return;const z=qr(S.convertItem(I,M.modelCursor).modelRange.getItems());z&&(S.consumable.consume(M.viewItem,{name:!0,classes:"image"}),S.convertChildren(M.viewItem,z),S.updateConversionResult(z,M))}}(d))}_setupClipboardIntegration(){const i=this.editor,o=i.model,l=i.editing.view,d=i.plugins.get("ImageUtils");this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(g,y)=>{const b=Array.from(y.content.getChildren());let M;if(!b.every(d.isInlineImageView))return;M=y.targetRanges?i.editing.mapper.toModelRange(y.targetRanges[0]):o.document.selection.getFirstRange();const S=o.createSelection(M);if("imageBlock"===$r(o.schema,S)){const I=new Ho(l.document),z=b.map(H=>I.createElement("figure",{class:"image"},H));y.content=I.createDocumentFragment(z)}})}}Z(11);class sp extends ot{static get requires(){return[cf,Bo,J2]}static get pluginName(){return"ImageBlock"}}class ap extends ot{static get requires(){return[u3,vo,Y2]}static get pluginName(){return"ImageInlineEditing"}init(){const i=this.editor,o=i.model.schema;o.register("imageInline",{isObject:!0,isInline:!0,allowWhere:"$text",allowAttributes:["alt","src","srcset"]}),o.addChildCheck((l,d)=>{if(l.endsWith("caption")&&"imageInline"===d.name)return!1}),this._setupConversion(),i.plugins.has("ImageBlockEditing")&&(i.commands.add("imageTypeInline",new al(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const i=this.editor,o=i.t,l=i.conversion,d=i.plugins.get("ImageUtils");l.for("dataDowncast").elementToElement({model:"imageInline",view:(g,{writer:y})=>y.createEmptyElement("img")}),l.for("editingDowncast").elementToElement({model:"imageInline",view:(g,{writer:y})=>d.toImageWidget(o1(y,"imageInline"),y,o("image widget"))}),l.for("downcast").add(h2(d,"imageInline","src")).add(h2(d,"imageInline","alt")).add(d2(d,"imageInline")),l.for("upcast").elementToElement({view:s3(i,"imageInline"),model:(g,{writer:y})=>y.createElement("imageInline",g.hasAttribute("src")?{src:g.getAttribute("src")}:null)})}_setupClipboardIntegration(){const i=this.editor,o=i.model,l=i.editing.view,d=i.plugins.get("ImageUtils");this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(g,y)=>{const b=Array.from(y.content.getChildren());let M;if(!b.every(d.isBlockImageView))return;M=y.targetRanges?i.editing.mapper.toModelRange(y.targetRanges[0]):o.document.selection.getFirstRange();const S=o.createSelection(M);if("imageInline"===$r(o.schema,S)){const I=new Ho(l.document),z=b.map(H=>1===H.childCount?(Array.from(H.getAttributes()).forEach(Y=>I.setAttribute(...Y,d.findViewImgElement(H))),H.getChild(0)):H);y.content=I.createDocumentFragment(z)}})}}class lf extends ot{static get requires(){return[ap,Bo,J2]}static get pluginName(){return"ImageInline"}}function d3(h){for(const i of h.getChildren())if(i&&i.is("element","caption"))return i;return null}function g5(h,i){const o=i.getFirstPosition().findAncestor("caption");return o&&h.isBlockImage(o.parent)?o:null}class v5 extends dt{refresh(){const i=this.editor,o=i.plugins.get("ImageUtils");if(!i.plugins.has(cf))return this.isEnabled=!1,void(this.value=!1);const l=i.model.document.selection,d=l.getSelectedElement();if(!d){const g=g5(o,l);return this.isEnabled=!!g,void(this.value=!!g)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(d),this.value=!!this.isEnabled&&!!d3(d)}execute(i={}){const{focusCaptionOnShow:o}=i;this.editor.model.change(l=>{this.value?this._hideImageCaption(l):this._showImageCaption(l,o)})}_showImageCaption(i,o){const l=this.editor.model.document.selection,d=this.editor.plugins.get("ImageCaptionEditing");let g=l.getSelectedElement();const y=d._getSavedCaption(g);this.editor.plugins.get("ImageUtils").isInlineImage(g)&&(this.editor.execute("imageTypeBlock"),g=l.getSelectedElement());const b=y||i.createElement("caption");i.append(b,g),o&&i.setSelection(b,"in")}_hideImageCaption(i){const o=this.editor,l=o.model.document.selection,d=o.plugins.get("ImageCaptionEditing"),g=o.plugins.get("ImageUtils");let y,b=l.getSelectedElement();b?y=d3(b):(y=g5(g,l),b=y.parent),d._saveCaption(b,y),i.setSelection(b,"on"),i.remove(y)}}class cp extends ot{static get requires(){return[vo]}static get pluginName(){return"ImageCaptionEditing"}constructor(i){super(i),this._savedCaptionsMap=new WeakMap}init(){const i=this.editor,o=i.model.schema;o.isRegistered("caption")?o.extend("caption",{allowIn:"imageBlock"}):o.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),i.commands.add("toggleImageCaption",new v5(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration()}_setupConversion(){const i=this.editor,o=i.editing.view,l=i.plugins.get("ImageUtils"),d=i.t;i.conversion.for("upcast").elementToElement({view:g=>{return"figcaption"==(b=g).name&&l.isBlockImageView(b.parent)?{name:!0}:null;var b},model:"caption"}),i.conversion.for("dataDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>l.isBlockImage(g.parent)?y.createContainerElement("figcaption"):null}),i.conversion.for("editingDowncast").elementToElement({model:"caption",view:(g,{writer:y})=>{if(!l.isBlockImage(g.parent))return null;const b=y.createEditableElement("figcaption");return y.setCustomProperty("imageCaption",!0,b),W4({view:o,element:b,text:d("Enter image caption"),keepOnFocus:!0}),Uh(b,y)}}),i.editing.mapper.on("modelToViewPosition",_5(o)),i.data.mapper.on("modelToViewPosition",_5(o))}_setupImageTypeCommandsIntegration(){const i=this.editor,o=i.plugins.get("ImageUtils"),l=i.commands.get("imageTypeInline"),d=i.commands.get("imageTypeBlock"),g=y=>{if(!y.return)return;const{oldElement:b,newElement:M}=y.return;if(!b)return;if(o.isBlockImage(b)){const I=d3(b);if(I)return void this._saveCaption(M,I)}const S=this._getSavedCaption(b);S&&this._saveCaption(M,S)};l&&this.listenTo(l,"execute",g,{priority:"low"}),d&&this.listenTo(d,"execute",g,{priority:"low"})}_getSavedCaption(i){const o=this._savedCaptionsMap.get(i);return o?Zn.fromJSON(o):null}_saveCaption(i,o){this._savedCaptionsMap.set(i,o.toJSON())}}function _5(h){return(i,o)=>{const l=o.modelPosition,d=l.parent;if(!d.is("element","imageBlock"))return;const g=o.mapper.toViewElement(d);o.viewPosition=h.createPositionAt(g,l.offset+1)}}class lp extends ot{static get requires(){return[vo]}static get pluginName(){return"ImageCaptionUI"}init(){const i=this.editor,o=i.editing.view,l=i.plugins.get("ImageUtils"),d=i.t;i.ui.componentFactory.add("toggleImageCaption",g=>{const y=i.commands.get("toggleImageCaption"),b=new Ci(g);return b.set({icon:vi.caption,tooltip:!0,isToggleable:!0}),b.bind("isOn","isEnabled").to(y,"value","isEnabled"),b.bind("label").to(y,"value",M=>d(M?"Toggle caption off":"Toggle caption on")),this.listenTo(b,"execute",()=>{i.execute("toggleImageCaption",{focusCaptionOnShow:!0});const M=g5(l,i.model.document.selection);if(M){const S=i.editing.mapper.toViewElement(M);o.scrollToTheSelection(),o.change(I=>{I.addClass("image__caption_highlighted",S)})}}),b})}}Z(80);class up extends dt{constructor(i,o){super(i),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(o.map(l=>{if(l.isDefault)for(const d of l.modelElements)this._defaultStyles[d]=l.name;return[l.name,l]}))}refresh(){const i=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!i,this.value=!!this.isEnabled&&(i.hasAttribute("imageStyle")?i.getAttribute("imageStyle"):this._defaultStyles[i.name])}execute(i={}){const o=this.editor,l=o.model,d=o.plugins.get("ImageUtils");l.change(g=>{const y=i.value;let b=d.getClosestSelectedImageElement(l.document.selection);y&&this.shouldConvertImageType(y,b)&&(this.editor.execute(d.isBlockImage(b)?"imageTypeInline":"imageTypeBlock"),b=d.getClosestSelectedImageElement(l.document.selection)),!y||this._styles.get(y).isDefault?g.removeAttribute("imageStyle",b):g.setAttribute("imageStyle",y,b)})}shouldConvertImageType(i,o){return!this._styles.get(i).modelElements.includes(o.name)}}const{objectFullWidth:Kg,objectInline:uf,objectLeft:su,objectRight:X2,objectCenter:df,objectBlockLeft:cl,objectBlockRight:dp}=vi,au={inline:{name:"inline",title:"In line",icon:uf,modelElements:["imageInline"],isDefault:!0},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:su,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"},alignBlockLeft:{name:"alignBlockLeft",title:"Left aligned image",icon:cl,modelElements:["imageBlock"],className:"image-style-block-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:df,modelElements:["imageBlock"],className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:X2,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"},alignBlockRight:{name:"alignBlockRight",title:"Right aligned image",icon:dp,modelElements:["imageBlock"],className:"image-style-block-align-right"},block:{name:"block",title:"Centered image",icon:df,modelElements:["imageBlock"],isDefault:!0},side:{name:"side",title:"Side image",icon:X2,modelElements:["imageBlock"],className:"image-style-side"}},hp={full:Kg,left:cl,right:dp,center:df,inlineLeft:su,inlineRight:X2,inline:uf},fp=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function T0(h){Object(W.b)("image-style-configuration-definition-invalid",h)}var Jl={normalizeStyles:function(h){return(h.configuredStyles.options||[]).map(i=>function(o){return"string"==typeof(o="string"==typeof o?au[o]?lt({},au[o]):{name:o}:function(l,d){const g=lt({},d);for(const y in l)Object.prototype.hasOwnProperty.call(d,y)||(g[y]=l[y]);return g}(au[o.name],o)).icon&&(o.icon=hp[o.icon]||o.icon),o}(i)).filter(i=>function(o,{isBlockPluginLoaded:l,isInlinePluginLoaded:d}){const{modelElements:g,name:y}=o;if(!(g&&g.length&&y))return T0({style:o}),!1;{const b=[l?"imageBlock":null,d?"imageInline":null];if(!g.some(M=>b.includes(M)))return Object(W.b)("image-style-missing-dependency",{style:o,missingPlugins:g.map(M=>"imageBlock"===M?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(i,h))},getDefaultStylesConfiguration:function(h,i){return h&&i?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:h?{options:["block","side"]}:i?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(h){return h.has("ImageBlockEditing")&&h.has("ImageInlineEditing")?[...fp]:[]},warnInvalidStyle:T0,DEFAULT_OPTIONS:au,DEFAULT_ICONS:hp,DEFAULT_DROPDOWN_DEFINITIONS:fp};function Qg(h,i){for(const o of i)if(o.name===h)return o}class cu extends ot{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[vo]}init(){const{normalizeStyles:i,getDefaultStylesConfiguration:o}=Jl,l=this.editor,d=l.plugins.has("ImageBlockEditing"),g=l.plugins.has("ImageInlineEditing");l.config.define("image.styles",o(d,g)),this.normalizedStyles=i({configuredStyles:l.config.get("image.styles"),isBlockPluginLoaded:d,isInlinePluginLoaded:g}),this._setupConversion(d,g),this._setupPostFixer(),l.commands.add("imageStyle",new up(l,this.normalizedStyles))}_setupConversion(i,o){const l=this.editor,d=l.model.schema,g=(y=this.normalizedStyles,(M,S,I)=>{if(!I.consumable.consume(S.item,M.name))return;const z=Qg(S.attributeNewValue,y),H=Qg(S.attributeOldValue,y),Y=I.mapper.toViewElement(S.item),J=I.writer;H&&J.removeClass(H.className,Y),z&&J.addClass(z.className,Y)});var y;const b=function(M){const S={imageInline:M.filter(I=>!I.isDefault&&I.modelElements.includes("imageInline")),imageBlock:M.filter(I=>!I.isDefault&&I.modelElements.includes("imageBlock"))};return(I,z,H)=>{if(!z.modelRange)return;const Y=z.viewItem,J=qr(z.modelRange.getItems());if(J&&H.schema.checkAttribute(J,"imageStyle"))for(const ee of S[J.name])H.consumable.consume(Y,{classes:ee.className})&&H.writer.setAttribute("imageStyle",ee.name,J)}}(this.normalizedStyles);l.editing.downcastDispatcher.on("attribute:imageStyle",g),l.data.downcastDispatcher.on("attribute:imageStyle",g),i&&(d.extend("imageBlock",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:figure",b,{priority:"low"})),o&&(d.extend("imageInline",{allowAttributes:"imageStyle"}),l.data.upcastDispatcher.on("element:img",b,{priority:"low"}))}_setupPostFixer(){const i=this.editor,o=i.model.document,l=i.plugins.get(vo),d=new Map(this.normalizedStyles.map(g=>[g.name,g]));o.registerPostFixer(g=>{let y=!1;for(const b of o.differ.getChanges())if("insert"==b.type||"attribute"==b.type&&"imageStyle"==b.attributeKey){let M="insert"==b.type?b.position.nodeAfter:b.range.start.nodeAfter;if(M&&M.is("element","paragraph")&&M.childCount>0&&(M=M.getChild(0)),!l.isImage(M))continue;const S=M.getAttribute("imageStyle");if(!S)continue;const I=d.get(S);I&&I.modelElements.includes(M.name)||(g.removeAttribute("imageStyle",M),y=!0)}return y})}}Z(82);class hf extends ot{static get requires(){return[cu]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const i=this.editor.t;return{"Wrap text":i("Wrap text"),"Break text":i("Break text"),"In line":i("In line"),"Full size image":i("Full size image"),"Side image":i("Side image"),"Left aligned image":i("Left aligned image"),"Centered image":i("Centered image"),"Right aligned image":i("Right aligned image")}}init(){const i=this.editor.plugins,o=this.editor.config.get("image.toolbar")||[],l=Jg(i.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const g of l)this._createButton(g);const d=Jg([...o.filter(me),...Jl.getDefaultDropdownDefinitions(i)],this.localizedDefaultStylesTitles);for(const g of d)this._createDropdown(g,l)}_createDropdown(i,o){const l=this.editor.ui.componentFactory;l.add(i.name,d=>{let g;const{defaultItem:y,items:b,title:M}=i,S=b.filter(H=>o.find(({name:Y})=>ff(Y)===H)).map(H=>{const Y=l.create(H);return H===y&&(g=Y),Y});b.length!==S.length&&Jl.warnInvalidStyle({dropdown:i});const I=Jc(d,Z8),z=I.buttonView;return Sh(I,S),z.set({label:pf(M,g.label),class:null,tooltip:!0}),z.bind("icon").toMany(S,"isOn",(...H)=>{const Y=H.findIndex(yr);return Y<0?g.icon:S[Y].icon}),z.bind("label").toMany(S,"isOn",(...H)=>{const Y=H.findIndex(yr);return pf(M,Y<0?g.label:S[Y].label)}),z.bind("isOn").toMany(S,"isOn",(...H)=>H.some(yr)),z.bind("class").toMany(S,"isOn",(...H)=>H.some(yr)?"ck-splitbutton_flatten":null),z.on("execute",()=>{S.some(({isOn:H})=>H)?I.isOpen=!I.isOpen:g.fire("execute")}),I.bind("isEnabled").toMany(S,"isEnabled",(...H)=>H.some(yr)),I})}_createButton(i){const o=i.name;this.editor.ui.componentFactory.add(ff(o),l=>{const d=this.editor.commands.get("imageStyle"),g=new Ci(l);return g.set({label:i.title,icon:i.icon,tooltip:!0,isToggleable:!0}),g.bind("isEnabled").to(d,"isEnabled"),g.bind("isOn").to(d,"value",y=>y===o),g.on("execute",this._executeCommand.bind(this,o)),g})}_executeCommand(i){this.editor.execute("imageStyle",{value:i}),this.editor.editing.view.focus()}}function Jg(h,i){for(const o of h)i[o.title]&&(o.title=i[o.title]);return h}function ff(h){return"imageStyle:"+h}function pf(h,i){return(h?h+": ":"")+i}function y5(h){const i=h.map(o=>o.replace("+","\\+"));return new RegExp(`^image\\/(${i.join("|")})$`)}function mf(h){return new Promise((i,o)=>{const l=h.getAttribute("src");fetch(l).then(d=>d.blob()).then(d=>{const g=b5(d,l),y=g.replace("image/",""),b=new File([d],"image."+y,{type:g});i(b)}).catch(d=>{return d&&"TypeError"===d.name?(g=l,(y=g,new Promise((b,M)=>{const S=Gn.document.createElement("img");S.addEventListener("load",()=>{const I=Gn.document.createElement("canvas");I.width=S.width,I.height=S.height,I.getContext("2d").drawImage(S,0,0),I.toBlob(z=>z?b(z):M())}),S.addEventListener("error",()=>M()),S.src=y})).then(y=>{const b=b5(y,g),M=b.replace("image/","");return new File([y],"image."+M,{type:b})})).then(i).catch(o):o(d);var g,y})})}function b5(h,i){return h.type?h.type:i.match(/data:(image\/\w+);base64/)?i.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class f2 extends ot{static get pluginName(){return"ImageUploadUI"}init(){const i=this.editor,o=i.t,l=d=>{const g=new e3(d),y=i.commands.get("uploadImage"),b=i.config.get("image.upload.types"),M=y5(b);return g.set({acceptedType:b.map(S=>"image/"+S).join(","),allowMultipleFiles:!0}),g.buttonView.set({label:o("Insert image"),icon:vi.image,tooltip:!0}),g.buttonView.bind("isEnabled").to(y),g.on("done",(S,I)=>{const z=Array.from(I).filter(H=>M.test(H.type));z.length&&i.execute("uploadImage",{file:z})}),g};i.ui.componentFactory.add("uploadImage",l),i.ui.componentFactory.add("imageUpload",l)}}Z(84),Z(86),Z(88);class Xg extends ot{static get pluginName(){return"ImageUploadProgress"}constructor(i){super(i),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>')}init(){const i=this.editor;i.plugins.has("ImageBlockEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...o)=>this.uploadStatusChange(...o)),i.plugins.has("ImageInlineEditing")&&i.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...o)=>this.uploadStatusChange(...o))}uploadStatusChange(i,o,l){const d=this.editor,g=o.item,y=g.getAttribute("uploadId");if(!l.consumable.consume(o.item,i.name))return;const b=d.plugins.get("ImageUtils"),M=d.plugins.get(ga),S=y?o.attributeNewValue:null,I=this.placeholder,z=d.editing.mapper.toViewElement(g),H=l.writer;if("reading"==S)return pp(z,H),void lu(b,I,z,H);if("uploading"==S){const Y=M.loaders.get(y);return pp(z,H),void(Y?(I0(z,H),function(J,ee,oe,ue){const xe=function(je){const ut=je.createUIElement("div",{class:"ck-progress-bar"});return je.setCustomProperty("progressBar",!0,ut),ut}(ee);ee.insert(ee.createPositionAt(J,"end"),xe),oe.on("change:uploadedPercent",(je,ut,zt)=>{ue.change(_i=>{_i.setStyle("width",zt+"%",xe)})})}(z,H,Y,d.editing.view),function(J,ee,oe,ue){if(ue.data){const xe=J.findViewImgElement(ee);oe.setAttribute("src",ue.data,xe)}}(b,z,H,Y)):lu(b,I,z,H))}"complete"==S&&M.loaders.get(y)&&function(Y,J,ee){const oe=J.createUIElement("div",{class:"ck-image-upload-complete-icon"});J.insert(J.createPositionAt(Y,"end"),oe),setTimeout(()=>{ee.change(ue=>ue.remove(ue.createRangeOn(oe)))},3e3)}(z,H,d.editing.view),mp(z,H,"progressBar"),I0(z,H),H.removeClass("ck-appear",z)}}function pp(h,i){h.hasClass("ck-appear")||i.addClass("ck-appear",h)}function lu(h,i,o,l){o.hasClass("ck-image-upload-placeholder")||l.addClass("ck-image-upload-placeholder",o);const d=h.findViewImgElement(o);d.getAttribute("src")!==i&&l.setAttribute("src",i,d),ev(o,"placeholder")||l.insert(l.createPositionAfter(d),function(g){const y=g.createUIElement("div",{class:"ck-upload-placeholder-loader"});return g.setCustomProperty("placeholder",!0,y),y}(l))}function I0(h,i){h.hasClass("ck-image-upload-placeholder")&&i.removeClass("ck-image-upload-placeholder",h),mp(h,i,"placeholder")}function ev(h,i){for(const o of h.getChildren())if(o.getCustomProperty(i))return o}function mp(h,i,o){const l=ev(h,o);l&&i.remove(i.createRangeOn(l))}class D0 extends dt{refresh(){const i=this.editor,o=i.plugins.get("ImageUtils"),l=i.model.document.selection.getSelectedElement();this.isEnabled=o.isImageAllowed()||o.isImage(l)}execute(i){const o=Vi(i.file),l=this.editor.model.document.selection,d=this.editor.plugins.get("ImageUtils"),g=Object.fromEntries(l.getAttributes());o.forEach((y,b)=>{const M=l.getSelectedElement();if(b&&M&&d.isImage(M)){const S=this.editor.model.createPositionAfter(M);this._uploadImage(y,g,S)}else this._uploadImage(y,g)})}_uploadImage(i,o,l){const d=this.editor,g=d.plugins.get(ga).createLoader(i),y=d.plugins.get("ImageUtils");g&&y.insertImage(_s(lt({},o),{uploadId:g.id}),l)}}class tv extends ot{static get requires(){return[ga,X8,Y2,vo]}static get pluginName(){return"ImageUploadEditing"}constructor(i){super(i),i.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const i=this.editor,o=i.model.document,l=i.conversion,d=i.plugins.get(ga),g=i.plugins.get("ImageUtils"),y=y5(i.config.get("image.upload.types")),b=new D0(i);i.commands.add("uploadImage",b),i.commands.add("imageUpload",b),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",(M,S)=>{if(I=S.dataTransfer,Array.from(I.types).includes("text/html")&&""!==I.getData("text/html"))return;var I;const z=Array.from(S.dataTransfer.files).filter(H=>!!H&&y.test(H.type));z.length&&(M.stop(),i.model.change(H=>{S.targetRanges&&H.setSelection(S.targetRanges.map(Y=>i.editing.mapper.toModelRange(Y))),i.model.enqueueChange("default",()=>{i.execute("uploadImage",{file:z})})}))}),this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",(M,S)=>{const I=Array.from(i.editing.view.createRangeIn(S.content)).filter(H=>{return!(!g.isInlineImageView(J=H.item)||!J.getAttribute("src"))&&(J.getAttribute("src").match(/^data:image\/\w+;base64,/g)||J.getAttribute("src").match(/^blob:/g))&&!H.item.getAttribute("uploadProcessed");var J}).map(H=>({promise:mf(H.item),imageElement:H.item}));if(!I.length)return;const z=new Ho(i.editing.view.document);for(const H of I){z.setAttribute("uploadProcessed",!0,H.imageElement);const Y=d.createLoader(H.promise);Y&&(z.setAttribute("src","",H.imageElement),z.setAttribute("uploadId",Y.id,H.imageElement))}}),i.editing.view.document.on("dragover",(M,S)=>{S.preventDefault()}),o.on("change",()=>{const M=o.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),S=new Set;for(const I of M)if("insert"==I.type&&"$text"!=I.name){const z=I.position.nodeAfter,H="$graveyard"==I.position.root.rootName;for(const Y of uu(i,z)){const J=Y.getAttribute("uploadId");if(!J)continue;const ee=d.loaders.get(J);ee&&(H?S.has(J)||ee.abort():(S.add(J),this._uploadImageElements.set(J,Y),"idle"==ee.status&&this._readAndUpload(ee)))}}}),this.on("uploadComplete",(M,{imageElement:S,data:I})=>{const z=I.urls?I.urls:I;this.editor.model.change(H=>{H.setAttribute("src",z.default,S),this._parseAndSetSrcsetAttributeOnImage(z,S,H)})},{priority:"low"})}afterInit(){const i=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&i.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&i.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(i){const o=this.editor,l=o.model,d=o.locale.t,g=o.plugins.get(ga),y=o.plugins.get(X8),b=o.plugins.get("ImageUtils"),M=this._uploadImageElements;return l.enqueueChange("transparent",I=>{I.setAttribute("uploadStatus","reading",M.get(i.id))}),i.read().then(()=>{const I=i.upload(),z=M.get(i.id);if(Sn_isSafari){const H=o.editing.mapper.toViewElement(z),Y=b.findViewImgElement(H);o.editing.view.once("render",()=>{if(!Y.parent)return;const J=o.editing.view.domConverter.mapViewToDom(Y.parent);if(!J)return;const ee=J.style.display;J.style.display="none",J._ckHack=J.offsetHeight,J.style.display=ee})}return l.enqueueChange("transparent",H=>{H.setAttribute("uploadStatus","uploading",z)}),I}).then(I=>{l.enqueueChange("transparent",z=>{const H=M.get(i.id);z.setAttribute("uploadStatus","complete",H),this.fire("uploadComplete",{data:I,imageElement:H})}),S()}).catch(I=>{if("error"!==i.status&&"aborted"!==i.status)throw I;"error"==i.status&&I&&y.showWarning(I,{title:d("Upload failed"),namespace:"upload"}),l.enqueueChange("transparent",z=>{z.remove(M.get(i.id))}),S()});function S(){l.enqueueChange("transparent",I=>{const z=M.get(i.id);I.removeAttribute("uploadId",z),I.removeAttribute("uploadStatus",z),M.delete(i.id)}),g.destroyLoader(i)}}_parseAndSetSrcsetAttributeOnImage(i,o,l){let d=0;const g=Object.keys(i).filter(y=>{const b=parseInt(y,10);if(!isNaN(b))return d=Math.max(d,b),!0}).map(y=>`${i[y]} ${y}w`).join(", ");""!=g&&l.setAttribute("srcset",{data:g,width:d},o)}}function uu(h,i){const o=h.plugins.get("ImageUtils");return Array.from(h.model.createRangeOn(i)).filter(l=>o.isImage(l.item)).map(l=>l.item)}class gp extends ot{static get pluginName(){return"IndentEditing"}init(){const i=this.editor;i.commands.add("indent",new h1(i)),i.commands.add("outdent",new h1(i))}}var w5='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ll='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class vp extends ot{static get pluginName(){return"IndentUI"}init(){const i=this.editor,o=i.locale,l=i.t,d="ltr"==o.uiLanguageDirection?w5:ll,g="ltr"==o.uiLanguageDirection?ll:w5;this._defineButton("indent",l("Increase indent"),d),this._defineButton("outdent",l("Decrease indent"),g)}_defineButton(i,o,l){const d=this.editor;d.ui.componentFactory.add(i,g=>{const y=d.commands.get(i),b=new Ci(g);return b.set({label:o,icon:l,tooltip:!0}),b.bind("isOn","isEnabled").to(y,"value","isEnabled"),this.listenTo(b,"execute",()=>{d.execute(i),d.editing.view.focus()}),b})}}class du{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(i){Array.isArray(i)?i.forEach(o=>this._definitions.add(o)):this._definitions.add(i)}getDispatcher(){return i=>{i.on("attribute:linkHref",(o,l,d)=>{if(!d.consumable.test(l.item,"attribute:linkHref"))return;const g=d.writer,y=g.document.selection;for(const b of this._definitions){const M=g.createAttributeElement("a",b.attributes,{priority:5});b.classes&&g.addClass(b.classes,M);for(const S in b.styles)g.setStyle(S,b.styles[S],M);g.setCustomProperty("link",!0,M),b.callback(l.attributeNewValue)?l.item.is("selection")?g.wrap(y.getFirstRange(),M):g.wrap(d.mapper.toViewRange(l.range),M):g.unwrap(d.mapper.toViewRange(l.range),M)}},{priority:"high"})}}getDispatcherForLinkedImage(){return i=>{i.on("attribute:linkHref:imageBlock",(o,l,{writer:d,mapper:g})=>{const y=g.toViewElement(l.item),b=Array.from(y.getChildren()).find(M=>"a"===M.name);for(const M of this._definitions){const S=Lo(M.attributes);if(M.callback(l.attributeNewValue)){for(const[I,z]of S)"class"===I?d.addClass(z,b):d.setAttribute(I,z,b);M.classes&&d.addClass(M.classes,b);for(const I in M.styles)d.setStyle(I,M.styles[I],b)}else{for(const[I,z]of S)"class"===I?d.removeClass(z,b):d.removeAttribute(I,b);M.classes&&d.removeClass(M.classes,b);for(const I in M.styles)d.removeStyle(I,b)}}})}}}var nv=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),yp=function(h){return nv.test(h)},C5="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hu="\\ud83c[\\udffb-\\udfff]",gf="[^\\ud800-\\udfff]",k5="(?:\\ud83c[\\udde6-\\uddff]){2}",h3="[\\ud800-\\udbff][\\udc00-\\udfff]",ov="(?:"+C5+"|"+hu+")?",vf="[\\ufe0e\\ufe0f]?"+ov+"(?:\\u200d(?:"+[gf,k5,h3].join("|")+")[\\ufe0e\\ufe0f]?"+ov+")*",M5="(?:"+[gf+C5+"?",C5,k5,h3,"[\\ud800-\\udfff]"].join("|")+")",gb=RegExp(hu+"(?="+hu+")|"+M5+vf,"g"),bp=function(h){return yp(h)?function(h){return h.match(gb)||[]}(h):function(h){return h.split("")}(h)},_f=function(i){i=is(i);var o=yp(i)?bp(i):void 0,l=o?o[0]:i.charAt(0),d=o?function(h,i,o){var l=h.length;return o=void 0===o?l:o,!i&&o>=l?h:Ba(h,i,o)}(o,1).join(""):i.slice(1);return l.toUpperCase()+d};const f3=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,sv=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,yf=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,bf=/^((\w+:(\/{2,})?)|(\W))/i;function wf(h,{writer:i}){const o=i.createAttributeElement("a",{href:h},{priority:5});return i.setCustomProperty("link",!0,o),o}function av(h){return function(i){return i.replace(f3,"").match(sv)}(h=String(h))?h:"#"}function Cf(h,i){return!!h&&i.checkAttribute(h.name,"linkHref")}function E5(h,i){const o=yf.test(h)?"mailto:":i,d=!!o&&!bf.test(h);return h&&d?o+h:h}class kf extends dt{constructor(i){super(i),this.manualDecorators=new zi,this.automaticDecorators=new du}restoreManualDecoratorStates(){for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}refresh(){const i=this.editor.model,o=i.document.selection,l=o.getSelectedElement()||qr(o.getSelectedBlocks());Cf(l,i.schema)?(this.value=l.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttribute(l,"linkHref")):(this.value=o.getAttribute("linkHref"),this.isEnabled=i.schema.checkAttributeInSelection(o,"linkHref"));for(const d of this.manualDecorators)d.value=this._getDecoratorStateFromModel(d.id)}execute(i,o={}){const l=this.editor.model,d=l.document.selection,g=[],y=[];for(const b in o)o[b]?g.push(b):y.push(b);l.change(b=>{if(d.isCollapsed){const M=d.getFirstPosition();if(d.hasAttribute("linkHref")){const S=J4(M,"linkHref",d.getAttribute("linkHref"),l);b.setAttribute("linkHref",i,S),g.forEach(I=>{b.setAttribute(I,!0,S)}),y.forEach(I=>{b.removeAttribute(I,S)}),b.setSelection(b.createPositionAfter(S.end.nodeBefore))}else if(""!==i){const S=Lo(d.getAttributes());S.set("linkHref",i),g.forEach(z=>{S.set(z,!0)});const{end:I}=l.insertContent(b.createText(i,S),M);b.setSelection(I)}["linkHref",...g,...y].forEach(S=>{b.removeSelectionAttribute(S)})}else{const M=l.schema.getValidRanges(d.getRanges(),"linkHref"),S=[];for(const z of d.getSelectedBlocks())l.schema.checkAttribute(z,"linkHref")&&S.push(b.createRangeOn(z));const I=S.slice();for(const z of M)this._isRangeToUpdate(z,S)&&I.push(z);for(const z of I)b.setAttribute("linkHref",i,z),g.forEach(H=>{b.setAttribute(H,!0,z)}),y.forEach(H=>{b.removeAttribute(H,z)})}})}_getDecoratorStateFromModel(i){const o=this.editor.model,l=o.document.selection,d=l.getSelectedElement();return Cf(d,o.schema)?d.getAttribute(i):l.getAttribute(i)}_isRangeToUpdate(i,o){for(const l of o)if(l.containsRange(i))return!1;return!0}}class cv extends dt{refresh(){const i=this.editor.model,o=i.document.selection,l=o.getSelectedElement();this.isEnabled=Cf(l,i.schema)?i.schema.checkAttribute(l,"linkHref"):i.schema.checkAttributeInSelection(o,"linkHref")}execute(){const o=this.editor.model,l=o.document.selection,d=this.editor.commands.get("link");o.change(g=>{const y=l.isCollapsed?[J4(l.getFirstPosition(),"linkHref",l.getAttribute("linkHref"),o)]:o.schema.getValidRanges(l.getRanges(),"linkHref");for(const b of y)if(g.removeAttribute("linkHref",b),d)for(const M of d.manualDecorators)g.removeAttribute(M.id,b)})}}class x5{constructor({id:i,label:o,attributes:l,classes:d,styles:g,defaultValue:y}){this.id=i,this.set("value"),this.defaultValue=y,this.label=o,this.attributes=l,this.classes=d,this.styles=g}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}_t(x5,Mt),Z(90);const Mf=/^(https?:)?\/\//;class wp extends ot{static get pluginName(){return"LinkEditing"}static get requires(){return[$9,U9,Y2]}constructor(i){super(i),i.config.define("link",{addTargetToExternalLinks:!1})}init(){const i=this.editor;i.model.schema.extend("$text",{allowAttributes:"linkHref"}),i.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:wf}),i.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(l,d)=>wf(av(l),d)}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:l=>l.getAttribute("href")}}),i.commands.add("link",new kf(i)),i.commands.add("unlink",new cv(i));const o=function(l,d){const g={"Open in a new tab":l("Open in a new tab"),Downloadable:l("Downloadable")};return d.forEach(y=>(y.label&&g[y.label]&&(y.label=g[y.label]),y)),d}(i.t,function(l){const d=[];if(l)for(const[g,y]of Object.entries(l)){const b=Object.assign({},y,{id:"link"+_f(g)});d.push(b)}return d}(i.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(l=>"automatic"===l.mode)),this._enableManualDecorators(o.filter(l=>"manual"===l.mode)),i.plugins.get($9).registerAttribute("linkHref"),function(l,d,g,y){const b=l.editing.view,M=new Set;b.document.registerPostFixer(S=>{const I=l.model.document.selection;let z=!1;if(I.hasAttribute(d)){const H=J4(I.getFirstPosition(),d,I.getAttribute(d),l.model),Y=l.editing.mapper.toViewRange(H);for(const J of Y.getItems())J.is("element","a")&&!J.hasClass(y)&&(S.addClass(y,J),M.add(J),z=!0)}return z}),l.conversion.for("editingDowncast").add(S=>{function I(){b.change(z=>{for(const H of M.values())z.removeClass(y,H),M.delete(H)})}S.on("insert",I,{priority:"highest"}),S.on("remove",I,{priority:"highest"}),S.on("attribute",I,{priority:"highest"}),S.on("selection",I,{priority:"highest"})})}(i,"linkHref",0,"ck-link_selected"),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink()}_enableAutomaticDecorators(i){const o=this.editor,l=o.commands.get("link").automaticDecorators;o.config.get("link.addTargetToExternalLinks")&&l.add({id:"linkIsExternal",mode:"automatic",callback:d=>Mf.test(d),attributes:{target:"_blank",rel:"noopener noreferrer"}}),l.add(i),l.length&&o.conversion.for("downcast").add(l.getDispatcher())}_enableManualDecorators(i){if(!i.length)return;const o=this.editor,l=o.commands.get("link").manualDecorators;i.forEach(d=>{o.model.schema.extend("$text",{allowAttributes:d.id}),d=new x5(d),l.add(d),o.conversion.for("downcast").attributeToElement({model:d.id,view:(g,{writer:y})=>{if(g){const b=y.createAttributeElement("a",d.attributes,{priority:5});d.classes&&y.addClass(d.classes,b);for(const M in d.styles)y.setStyle(M,d.styles[M],b);return y.setCustomProperty("link",!0,b),b}}}),o.conversion.for("upcast").elementToAttribute({view:lt({name:"a"},d._createPattern()),model:{key:d.id}})})}_enableInsertContentSelectionAttributesFixer(){const i=this.editor.model,o=i.document.selection;this.listenTo(i,"insertContent",()=>{const l=o.anchor.nodeBefore,d=o.anchor.nodeAfter;o.hasAttribute("linkHref")&&l&&l.hasAttribute("linkHref")&&(d&&d.hasAttribute("linkHref")||i.change(g=>{fu(g,pu(i.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const i=this.editor,o=i.model;i.editing.view.addObserver(C0);let l=!1;this.listenTo(i.editing.view.document,"mousedown",()=>{l=!0}),this.listenTo(i.editing.view.document,"selectionChange",()=>{if(!l)return;l=!1;const d=o.document.selection;if(!d.isCollapsed||!d.hasAttribute("linkHref"))return;const g=d.getFirstPosition(),y=J4(g,"linkHref",d.getAttribute("linkHref"),o);(g.isTouching(y.start)||g.isTouching(y.end))&&o.change(b=>{fu(b,pu(o.schema))})})}_enableTypingOverLink(){const i=this.editor;let l,d;this.listenTo(i.editing.view.document,"delete",()=>{d=!0},{priority:"high"}),this.listenTo(i.model,"deleteContent",()=>{const g=i.model.document.selection;g.isCollapsed||(d?d=!1:A5(i)&&function(y){const b=y.document.selection,M=b.getFirstPosition(),S=b.getLastPosition(),I=M.nodeAfter;return!!(I&&I.is("$text")&&I.hasAttribute("linkHref"))&&(I===(S.textNode||S.nodeBefore)||J4(M,"linkHref",I.getAttribute("linkHref"),y).containsRange(y.createRange(M,S),!0))}(i.model)&&(l=g.getAttributes()))},{priority:"high"}),this.listenTo(i.model,"insertContent",(g,[y])=>{d=!1,A5(i)&&l&&(i.model.change(b=>{for(const[M,S]of l)b.setAttribute(M,S,y)}),l=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const i=this.editor,o=i.model,l=o.document.selection;let g=!1,y=!1;this.listenTo(i.editing.view.document,"delete",(b,M)=>{y=M.domEvent.keyCode===Jt.backspace},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{g=!1;const b=l.getFirstPosition(),M=l.getAttribute("linkHref");if(!M)return;const S=J4(b,"linkHref",M,o);g=S.containsPosition(b)||S.end.isEqual(b)},{priority:"high"}),this.listenTo(o,"deleteContent",()=>{y&&(y=!1,g||i.model.enqueueChange(b=>{fu(b,pu(o.schema))}))},{priority:"low"})}}function fu(h,i){h.removeSelectionAttribute("linkHref");for(const o of i)h.removeSelectionAttribute(o)}function A5(h){return h.plugins.get("Input").isInput(h.model.change(i=>i.batch))}function pu(h){return h.getDefinition("$text").allowAttributes.filter(i=>i.startsWith("link"))}Z(92);class Cp extends _n{constructor(i,o){super(i);const l=i.t;this.focusTracker=new Ts,this.keystrokes=new aa,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),vi.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(l("Cancel"),vi.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(o),this.children=this._createFormChildren(o.manualDecorators),this._focusables=new $4,this._focusCycler=new Gl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const d=["ck","ck-link-form","ck-responsive-form"];o.manualDecorators.length&&d.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:d,tabindex:"-1"},children:this.children}),p0(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((i,o)=>(i[o.name]=o.isOn,i),{})}render(){super.render(),m0({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const i=this.locale.t,o=new J8(this.locale,R6);return o.label=i("Link URL"),o}_createButton(i,o,l,d){const g=new Ci(this.locale);return g.set({label:i,icon:o,tooltip:!0}),g.extendTemplate({attributes:{class:l}}),d&&g.delegate("execute").to(this,d),g}_createManualDecoratorSwitches(i){const o=this.createCollection();for(const l of i.manualDecorators){const d=new _0(this.locale);d.set({name:l.id,label:l.label,withText:!0}),d.bind("isOn").toMany([l,i],"value",(g,y)=>void 0===y&&void 0===g?l.defaultValue:g),d.on("execute",()=>{l.set("value",!d.isOn)}),o.add(d)}return o}_createFormChildren(i){const o=this.createCollection();if(o.add(this.urlInputView),i.length){const l=new _n;l.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(d=>({tag:"li",children:[d],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),o.add(l)}return o.add(this.saveButtonView),o.add(this.cancelButtonView),o}}Z(94);class lv extends _n{constructor(i){super(i);const o=i.t;this.focusTracker=new Ts,this.keystrokes=new aa,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(o("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(o("Edit link"),vi.pencil,"edit"),this.set("href"),this._focusables=new $4,this._focusCycler=new Gl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(i,o,l){const d=new Ci(this.locale);return d.set({label:i,icon:o,tooltip:!0}),d.delegate("execute").to(this,l),d}_createPreviewButton(){const i=new Ci(this.locale),o=this.bindTemplate,l=this.t;return i.set({withText:!0,tooltip:l("Open link in new tab")}),i.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:o.to("href",d=>d&&av(d)),target:"_blank",rel:"noopener noreferrer"}}),i.bind("label").to(this,"href",d=>d||l("This link has no URL")),i.bind("isEnabled").to(this,"href",d=>!!d),i.template.tag="a",i.template.eventListeners={},i}}class Ef extends ot{static get requires(){return[V6]}static get pluginName(){return"LinkUI"}init(){const i=this.editor;i.editing.view.addObserver(db),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=i.plugins.get(V6),this._createToolbarLinkButton(),this._enableUserBalloonInteractions(),i.conversion.for("editingDowncast").markerToHighlight({model:"link-ui",view:{classes:["ck-fake-link-selection"]}}),i.conversion.for("editingDowncast").markerToElement({model:"link-ui",view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const i=this.editor,o=new lv(i.locale),l=i.commands.get("link"),d=i.commands.get("unlink");return o.bind("href").to(l,"value"),o.editButtonView.bind("isEnabled").to(l),o.unlinkButtonView.bind("isEnabled").to(d),this.listenTo(o,"edit",()=>{this._addFormView()}),this.listenTo(o,"unlink",()=>{i.execute("unlink"),this._hideUI()}),o.keystrokes.set("Esc",(g,y)=>{this._hideUI(),y()}),o.keystrokes.set("Ctrl+K",(g,y)=>{this._addFormView(),y()}),o}_createFormView(){const i=this.editor,o=i.commands.get("link"),l=i.config.get("link.defaultProtocol"),d=new Cp(i.locale,o);return d.urlInputView.fieldView.bind("value").to(o,"value"),d.urlInputView.bind("isReadOnly").to(o,"isEnabled",g=>!g),d.saveButtonView.bind("isEnabled").to(o),this.listenTo(d,"submit",()=>{const{value:g}=d.urlInputView.fieldView.element,y=E5(g,l);i.execute("link",y,d.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(d,"cancel",()=>{this._closeFormView()}),d.keystrokes.set("Esc",(g,y)=>{this._closeFormView(),y()}),d}_createToolbarLinkButton(){const i=this.editor,o=i.commands.get("link"),l=i.t;i.keystrokes.set("Ctrl+K",(d,g)=>{g(),o.isEnabled&&this._showUI(!0)}),i.ui.componentFactory.add("link",d=>{const g=new Ci(d);return g.isEnabled=!0,g.label=l("Link"),g.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',g.keystroke="Ctrl+K",g.tooltip=!0,g.isToggleable=!0,g.bind("isEnabled").to(o,"isEnabled"),g.bind("isOn").to(o,"value",y=>!!y),this.listenTo(g,"execute",()=>this._showUI(!0)),g})}_enableUserBalloonInteractions(){this.listenTo(this.editor.editing.view.document,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(o,l)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),l())},{priority:"high"}),this.editor.keystrokes.set("Esc",(o,l)=>{this._isUIVisible&&(this._hideUI(),l())}),er({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const i=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=i.value||""}_closeFormView(){const i=this.editor.commands.get("link");i.restoreManualDecoratorStates(),void 0!==i.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(i=!1){this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),i&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),i&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const i=this.editor;this.stopListening(i.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),i.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const i=this.editor,o=i.editing.view.document;let l=this._getSelectedLinkElement(),d=y();const g=()=>{const b=this._getSelectedLinkElement(),M=y();l&&!b||!l&&M!==d?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),l=b,d=M};function y(){return o.selection.focus.getAncestors().reverse().find(b=>b.is("element"))}this.listenTo(i.ui,"update",g),this.listenTo(this._balloon,"change:visibleView",g)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const i=this.editor.editing.view,l=i.document;let d=null;if(this.editor.model.markers.has("link-ui")){const g=Array.from(this.editor.editing.mapper.markerNameToElements("link-ui")),y=i.createRange(i.createPositionBefore(g[0]),i.createPositionAfter(g[g.length-1]));d=i.domConverter.viewRangeToDom(y)}else d=()=>{const g=this._getSelectedLinkElement();return g?i.domConverter.mapViewToDom(g):i.domConverter.viewRangeToDom(l.selection.getFirstRange())};return{target:d}}_getSelectedLinkElement(){const i=this.editor.editing.view,o=i.document.selection,l=o.getSelectedElement();if(o.isCollapsed||l&&Bn(l))return z0(o.getFirstPosition());{const d=o.getFirstRange().getTrimmed(),g=z0(d.start),y=z0(d.end);return g&&g==y&&i.createRangeIn(g).getTrimmed().isEqual(d)?g:null}}_showFakeVisualSelection(){const i=this.editor.model;i.change(o=>{const l=i.document.selection.getFirstRange();if(i.markers.has("link-ui"))o.updateMarker("link-ui",{range:l});else if(l.start.isAtEnd){const d=l.start.getLastMatchingPosition(({item:g})=>!i.schema.isContent(g),{boundaries:l});o.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:o.createRange(d,l.end)})}else o.addMarker("link-ui",{usingOperation:!1,affectsData:!1,range:l})})}_hideFakeVisualSelection(){const i=this.editor.model;i.markers.has("link-ui")&&i.change(o=>{o.removeMarker("link-ui")})}}function z0(h){return h.getAncestors().find(i=>{return(o=i).is("attributeElement")&&!!o.getCustomProperty("link");var o})}const xf=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class kp extends ot{static get requires(){return[nl]}static get pluginName(){return"AutoLink"}init(){const i=this.editor.model.document.selection;i.on("change:range",()=>{this.isEnabled=!i.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const i=this.editor,o=new K6(i.model,d=>{if(!((y=d).length>4&&" "===y[y.length-1]&&" "!==y[y.length-2]))return;var y;const g=Af(d.substr(0,d.length-1));return g?{url:g}:void 0}),l=i.plugins.get("Input");o.on("matched:data",(d,g)=>{const{batch:y,range:b,url:M}=g;if(!l.isInput(y))return;const S=b.end.getShiftedBy(-1),I=S.getShiftedBy(-M.length),z=i.model.createRange(I,S);this._applyAutoLink(M,z)}),o.bind("isEnabled").to(this)}_enableEnterHandling(){const i=this.editor,o=i.model,l=i.commands.get("enter");l&&l.on("execute",()=>{const d=o.document.selection.getFirstPosition();if(!d.parent.previousSibling)return;const g=o.createRangeIn(d.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(g)})}_enableShiftEnterHandling(){const i=this.editor,o=i.model,l=i.commands.get("shiftEnter");l&&l.on("execute",()=>{const d=o.document.selection.getFirstPosition(),g=o.createRange(o.createPositionAt(d.parent,0),d.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(g)})}_checkAndApplyAutoLinkOnRange(i){const o=this.editor.model,{text:l,range:d}=Yl(i,o),g=Af(l);if(g){const y=o.createRange(d.end.getShiftedBy(-g.length),d.end);this._applyAutoLink(g,y)}}_applyAutoLink(i,o){const l=this.editor.model,d=this.editor.plugins.get("Delete");var y;this.isEnabled&&(y=l).schema.checkAttributeInSelection(y.createSelection(o),"linkHref")&&l.enqueueChange(g=>{const y=this.editor.config.get("link.defaultProtocol"),b=E5(i,y);g.setAttribute("linkHref",b,o),l.enqueueChange(()=>{d.requestUndoOnBackspace()})})}}function Af(h){const i=xf.exec(h);return i?i[2]:null}class Sf extends dt{constructor(i,o){super(i),this.type=o}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(i={}){const o=this.editor.model,d=Array.from(o.document.selection.getSelectedBlocks()).filter(y=>T5(y,o.schema)),g=void 0!==i.forceValue?!i.forceValue:this.value;o.change(y=>{if(g){let b=d[d.length-1].nextSibling,M=Number.POSITIVE_INFINITY,S=[];for(;b&&"listItem"==b.name&&0!==b.getAttribute("listIndent");){const I=b.getAttribute("listIndent");I<M&&(M=I),S.push({element:b,listIndent:I-M}),b=b.nextSibling}S=S.reverse();for(const I of S)y.setAttribute("listIndent",I.listIndent,I.element)}if(!g){let b=Number.POSITIVE_INFINITY;for(const M of d)M.is("element","listItem")&&M.getAttribute("listIndent")<b&&(b=M.getAttribute("listIndent"));b=0===b?1:b,S5(d,!0,b),S5(d,!1,b)}for(const b of d.reverse())g&&"listItem"==b.name?y.rename(b,"paragraph"):g||"listItem"==b.name?g||"listItem"!=b.name||b.getAttribute("listType")==this.type||y.setAttribute("listType",this.type,b):(y.setAttributes({listType:this.type,listIndent:0},b),y.rename(b,"listItem"));this.fire("_executeCleanup",d)})}_getValue(){const i=qr(this.editor.model.document.selection.getSelectedBlocks());return!!i&&i.is("element","listItem")&&i.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const o=this.editor.model.schema,l=qr(this.editor.model.document.selection.getSelectedBlocks());return!!l&&T5(l,o)}}function S5(h,i,o){const l=i?h[0]:h[h.length-1];if(l.is("element","listItem")){let d=l[i?"previousSibling":"nextSibling"],g=l.getAttribute("listIndent");for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;)g>d.getAttribute("listIndent")&&(g=d.getAttribute("listIndent")),d.getAttribute("listIndent")==g&&h[i?"unshift":"push"](d),d=d[i?"previousSibling":"nextSibling"]}}function T5(h,i){return i.checkChild(h.parent,"listItem")&&!i.isObject(h)}class Tf extends dt{constructor(i,o){super(i),this._indentBy="forward"==o?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const i=this.editor.model;let l=Array.from(i.document.selection.getSelectedBlocks());i.change(d=>{const g=l[l.length-1];let y=g.nextSibling;for(;y&&"listItem"==y.name&&y.getAttribute("listIndent")>g.getAttribute("listIndent");)l.push(y),y=y.nextSibling;this._indentBy<0&&(l=l.reverse());for(const b of l){const M=b.getAttribute("listIndent")+this._indentBy;M<0?d.rename(b,"paragraph"):d.setAttribute("listIndent",M,b)}this.fire("_executeCleanup",l)})}_checkEnabled(){const i=qr(this.editor.model.document.selection.getSelectedBlocks());if(!i||!i.is("element","listItem"))return!1;if(this._indentBy>0){const o=i.getAttribute("listIndent"),l=i.getAttribute("listType");let d=i.previousSibling;for(;d&&d.is("element","listItem")&&d.getAttribute("listIndent")>=o;){if(d.getAttribute("listIndent")==o)return d.getAttribute("listType")==l;d=d.previousSibling}return!1}return!0}}function If(h,i,o,l){const d=i.parent,g=o.mapper,y=o.writer;let b=g.toViewPosition(l.createPositionBefore(h));const M=mu(h.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:h.getAttribute("listIndent")}),S=h.previousSibling;if(M&&M.getAttribute("listIndent")==h.getAttribute("listIndent")){const I=g.toViewElement(M);b=y.breakContainer(y.createPositionAfter(I))}else if(S&&"listItem"==S.name){b=g.toViewPosition(l.createPositionAt(S,"end"));const I=g.findMappedViewAncestor(b),z=function(H){for(const Y of H.getChildren())if("ul"==Y.name||"ol"==Y.name)return Y;return null}(I);b=z?y.createPositionBefore(z):y.createPositionAt(I,"end")}else b=g.toViewPosition(l.createPositionBefore(h));if(b=Df(b),y.insert(b,d),S&&"listItem"==S.name){const I=g.toViewElement(S),z=y.createRange(y.createPositionAt(I,0),b).getWalker({ignoreElementEnd:!0});for(const H of z)if(H.item.is("element","li")){const Y=y.breakContainer(y.createPositionBefore(H.item)),J=H.item.parent,ee=y.createPositionAt(i,"end");I1(y,ee.nodeBefore,ee.nodeAfter),y.move(y.createRangeOn(J),ee),z.position=Y}}else{const I=d.nextSibling;if(I&&(I.is("element","ul")||I.is("element","ol"))){let z=null;for(const H of I.getChildren()){const Y=g.toModelElement(H);if(!(Y&&Y.getAttribute("listIndent")>h.getAttribute("listIndent")))break;z=H}z&&(y.breakContainer(y.createPositionAfter(z)),y.move(y.createRangeOn(z.parent),y.createPositionAt(i,"end")))}}I1(y,d,d.nextSibling),I1(y,d.previousSibling,d)}function I1(h,i,o){return!i||!o||"ul"!=i.name&&"ol"!=i.name||i.name!=o.name||i.getAttribute("class")!==o.getAttribute("class")?null:h.mergeContainers(h.createPositionAfter(i))}function Df(h){return h.getLastMatchingPosition(i=>i.item.is("uiElement"))}function mu(h,i){const o=!!i.sameIndent,l=!!i.smallerIndent,d=i.listIndent;let g=h;for(;g&&"listItem"==g.name;){const y=g.getAttribute("listIndent");if(o&&d==y||l&&d>y)return g;g="forward"===i.direction?g.nextSibling:g.previousSibling}return null}function D5(h,i,o,l){h.ui.componentFactory.add(i,d=>{const g=h.commands.get(i),y=new Ci(d);return y.set({label:o,icon:l,tooltip:!0,isToggleable:!0}),y.bind("isOn","isEnabled").to(g,"value","isEnabled"),y.on("execute",()=>{h.execute(i),h.editing.view.focus()}),y})}function Mp(){const h=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||h?0:Lc.call(this)}function uv(h){return(i,o,l)=>{const d=l.consumable;if(!d.test(o.item,"insert")||!d.test(o.item,"attribute:listType")||!d.test(o.item,"attribute:listIndent"))return;d.consume(o.item,"insert"),d.consume(o.item,"attribute:listType"),d.consume(o.item,"attribute:listIndent");const g=o.item;If(g,function(h,i){const o=i.mapper,l=i.writer,d="numbered"==h.getAttribute("listType")?"ol":"ul",g=function(b){const M=b.createContainerElement("li");return M.getFillerOffset=Mp,M}(l),y=l.createContainerElement(d,null);return l.insert(l.createPositionAt(y,0),g),o.bindElements(h,g),g}(g,l),l,h)}}function dv(h,i,o){if(!o.consumable.consume(i.item,"attribute:listType"))return;const l=o.mapper.toViewElement(i.item),d=o.writer;d.breakContainer(d.createPositionBefore(l)),d.breakContainer(d.createPositionAfter(l)),d.rename("numbered"==i.attributeNewValue?"ol":"ul",l.parent)}function hv(h,i,o){const l=o.mapper.toViewElement(i.item).parent,d=o.writer;I1(d,l,l.nextSibling),I1(d,l.previousSibling,l);for(const g of i.item.getChildren())o.consumable.consume(g,"insert")}function z5(h,i,o){if("listItem"!=i.item.name){let l=o.mapper.toViewPosition(i.range.start);const d=o.writer,g=[];for(;("ul"==l.parent.name||"ol"==l.parent.name)&&(l=d.breakContainer(l),"li"==l.parent.name);){const y=l,b=d.createPositionAt(l.parent,"end");if(!y.isEqual(b)){const M=d.remove(d.createRange(y,b));g.push(M)}l=d.createPositionAfter(l.parent)}if(g.length>0){for(let y=0;y<g.length;y++){const b=l.nodeBefore;if(l=d.insert(l,g[y]).end,y>0){const M=I1(d,b,b.nextSibling);M&&M.parent==b&&l.offset--}}I1(d,l.nodeBefore,l.nodeAfter)}}}function fv(h,i,o){const l=o.mapper.toViewPosition(i.position);I1(o.writer,l.nodeBefore,l.nodeAfter)}function to(h,i,o){if(o.consumable.consume(i.viewItem,{name:!0})){const l=o.writer,d=l.createElement("listItem"),g=function(M){let S=0,I=M.parent;for(;I;){if(I.is("element","li"))S++;else{const z=I.previousSibling;z&&z.is("element","li")&&S++}I=I.parent}return S}(i.viewItem);if(l.setAttribute("listIndent",g,d),l.setAttribute("listType",i.viewItem.parent&&"ol"==i.viewItem.parent.name?"numbered":"bulleted",d),!o.safeInsert(d,i.modelCursor))return;const b=function(M,S,I){const{writer:z,schema:H}=I;let Y=z.createPositionAfter(M);for(const J of S)if("ul"==J.name||"ol"==J.name)Y=I.convertItem(J,Y).modelCursor;else{const ee=I.convertItem(J,z.createPositionAt(M,"end")),oe=ee.modelRange.start.nodeAfter;oe&&oe.is("element")&&!H.checkChild(M,oe.name)&&(M=ee.modelCursor.parent.is("element","listItem")?ee.modelCursor.parent:N5(ee.modelCursor),Y=z.createPositionAfter(M))}return Y}(d,i.viewItem.getChildren(),o);i.modelRange=l.createRange(i.modelCursor,b),o.updateConversionResult(d,i)}}function Dr(h,i,o){if(o.consumable.test(i.viewItem,{name:!0})){const l=Array.from(i.viewItem.getChildren());for(const d of l)!d.is("element","li")&&!e4(d)&&d._remove()}}function pv(h,i,o){if(o.consumable.test(i.viewItem,{name:!0})){if(0===i.viewItem.childCount)return;const l=[...i.viewItem.getChildren()];let d=!1;for(const g of l)d&&!e4(g)&&g._remove(),e4(g)&&(d=!0)}}function gu(h){return(i,o)=>{if(o.isPhantom)return;const l=o.modelPosition.nodeBefore;if(l&&l.is("element","listItem")){const d=o.mapper.toViewElement(l),g=d.getAncestors().find(e4),y=h.createPositionAt(d,0).getWalker();for(const b of y){if("elementStart"==b.type&&b.item.is("element","li")){o.viewPosition=b.previousPosition;break}if("elementEnd"==b.type&&b.item==g){o.viewPosition=b.nextPosition;break}}}}}function N0(h,[i,o]){let l,d=i.is("documentFragment")?i.getChild(0):i;if(l=o?this.createSelection(o):this.document.selection,d&&d.is("element","listItem")){const g=l.getFirstPosition();let y=null;if(g.parent.is("element","listItem")?y=g.parent:g.nodeBefore&&g.nodeBefore.is("element","listItem")&&(y=g.nodeBefore),y){const b=y.getAttribute("listIndent");if(b>0)for(;d&&d.is("element","listItem");)d._setAttribute("listIndent",d.getAttribute("listIndent")+b),d=d.nextSibling}}}function N5(h){const i=new t2({startPosition:h});let o;do{o=i.next()}while(!o.value.item.is("element","listItem"));return o.value.item}function Xl(h,i,o,l,d,g){const y=mu(i.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:h,foo:"b"}),b=d.mapper,M=d.writer,S=y?y.getAttribute("listIndent"):null;let I;if(y)if(S==h){const z=b.toViewElement(y).parent;I=M.createPositionAfter(z)}else{const z=g.createPositionAt(y,"end");I=b.toViewPosition(z)}else I=o;I=Df(I);for(const z of[...l.getChildren()])e4(z)&&(I=M.move(M.createRangeOn(z),I).end,I1(M,z,z.nextSibling),I1(M,z.previousSibling,z))}function e4(h){return h.is("element","ol")||h.is("element","ul")}class L0 extends ot{static get pluginName(){return"ListEditing"}static get requires(){return[Oh,nl]}init(){const i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const o=i.data,l=i.editing;var d;i.model.document.registerPostFixer(b=>function(M,S){const I=M.document.differ.getChanges(),z=new Map;let H=!1;for(const oe of I)if("insert"==oe.type&&"listItem"==oe.name)Y(oe.position);else if("insert"==oe.type&&"listItem"!=oe.name){if("$text"!=oe.name){const ue=oe.position.nodeAfter;ue.hasAttribute("listIndent")&&(S.removeAttribute("listIndent",ue),H=!0),ue.hasAttribute("listType")&&(S.removeAttribute("listType",ue),H=!0),ue.hasAttribute("listStyle")&&(S.removeAttribute("listStyle",ue),H=!0);for(const xe of Array.from(M.createRangeIn(ue)).filter(je=>je.item.is("element","listItem")))Y(xe.previousPosition)}Y(oe.position.getShiftedBy(oe.length))}else"remove"==oe.type&&"listItem"==oe.name?Y(oe.position):("attribute"==oe.type&&"listIndent"==oe.attributeKey||"attribute"==oe.type&&"listType"==oe.attributeKey)&&Y(oe.range.start);for(const oe of z.values())J(oe),ee(oe);return H;function Y(oe){const ue=oe.nodeBefore;if(ue&&ue.is("element","listItem")){let xe=ue;if(z.has(xe))return;for(let je=xe.previousSibling;je&&je.is("element","listItem");je=xe.previousSibling)if(xe=je,z.has(xe))return;z.set(ue,xe)}else{const xe=oe.nodeAfter;xe&&xe.is("element","listItem")&&z.set(xe,xe)}}function J(oe){let ue=0,xe=null;for(;oe&&oe.is("element","listItem");){const je=oe.getAttribute("listIndent");if(je>ue){let ut;null===xe?(xe=je-ue,ut=ue):(xe>je&&(xe=je),ut=je-xe),S.setAttribute("listIndent",ut,oe),H=!0}else xe=null,ue=oe.getAttribute("listIndent")+1;oe=oe.nextSibling}}function ee(oe){let ue=[],xe=null;for(;oe&&oe.is("element","listItem");){const je=oe.getAttribute("listIndent");if(xe&&xe.getAttribute("listIndent")>je&&(ue=ue.slice(0,je+1)),0!=je)if(ue[je]){const ut=ue[je];oe.getAttribute("listType")!=ut&&(S.setAttribute("listType",ut,oe),H=!0)}else ue[je]=oe.getAttribute("listType");xe=oe,oe=oe.nextSibling}}}(i.model,b)),l.mapper.registerViewToModelLength("li",L5),o.mapper.registerViewToModelLength("li",L5),l.mapper.on("modelToViewPosition",gu(l.view)),l.mapper.on("viewToModelPosition",(d=i.model,(b,M)=>{const S=M.viewPosition,I=S.parent,z=M.mapper;if("ul"==I.name||"ol"==I.name){if(S.isAtEnd){const H=z.toModelElement(S.nodeBefore),Y=z.getModelLength(S.nodeBefore);M.modelPosition=d.createPositionBefore(H).getShiftedBy(Y)}else{const H=z.toModelElement(S.nodeAfter);M.modelPosition=d.createPositionBefore(H)}b.stop()}else if("li"==I.name&&S.nodeBefore&&("ul"==S.nodeBefore.name||"ol"==S.nodeBefore.name)){const H=z.toModelElement(I);let Y=1,J=S.nodeBefore;for(;J&&e4(J);)Y+=z.getModelLength(J),J=J.previousSibling;M.modelPosition=d.createPositionBefore(H).getShiftedBy(Y),b.stop()}})),o.mapper.on("modelToViewPosition",gu(l.view)),i.conversion.for("editingDowncast").add(b=>{var M;b.on("insert",z5,{priority:"high"}),b.on("insert:listItem",uv(i.model)),b.on("attribute:listType:listItem",dv,{priority:"high"}),b.on("attribute:listType:listItem",hv,{priority:"low"}),b.on("attribute:listIndent:listItem",(M=i.model,(S,I,z)=>{if(!z.consumable.consume(I.item,"attribute:listIndent"))return;const H=z.mapper.toViewElement(I.item),Y=z.writer;Y.breakContainer(Y.createPositionBefore(H)),Y.breakContainer(Y.createPositionAfter(H));const J=H.parent,ee=J.previousSibling,oe=Y.createRangeOn(J);Y.remove(oe),ee&&ee.nextSibling&&I1(Y,ee,ee.nextSibling),Xl(I.attributeOldValue+1,I.range.start,oe.start,H,z,M),If(I.item,H,z,M);for(const ue of I.item.getChildren())z.consumable.consume(ue,"insert")})),b.on("remove:listItem",function(M){return(S,I,z)=>{const H=z.mapper.toViewPosition(I.position).getLastMatchingPosition(xe=>!xe.item.is("element","li")).nodeAfter,Y=z.writer;Y.breakContainer(Y.createPositionBefore(H)),Y.breakContainer(Y.createPositionAfter(H));const J=H.parent,ee=J.previousSibling,oe=Y.createRangeOn(J),ue=Y.remove(oe);ee&&ee.nextSibling&&I1(Y,ee,ee.nextSibling),Xl(z.mapper.toModelElement(H).getAttribute("listIndent")+1,I.position,oe.start,H,z,M);for(const xe of Y.createRangeIn(ue).getItems())z.mapper.unbindViewElement(xe);S.stop()}}(i.model)),b.on("remove",fv,{priority:"low"})}),i.conversion.for("dataDowncast").add(b=>{b.on("insert",z5,{priority:"high"}),b.on("insert:listItem",uv(i.model))}),i.conversion.for("upcast").add(b=>{b.on("element:ul",Dr,{priority:"high"}),b.on("element:ol",Dr,{priority:"high"}),b.on("element:li",pv,{priority:"high"}),b.on("element:li",to)}),i.model.on("insertContent",N0,{priority:"high"}),i.commands.add("numberedList",new Sf(i,"numbered")),i.commands.add("bulletedList",new Sf(i,"bulleted")),i.commands.add("indentList",new Tf(i,"forward")),i.commands.add("outdentList",new Tf(i,"backward"));const g=l.view.document;this.listenTo(g,"enter",(b,M)=>{const S=this.editor.model.document,I=S.selection.getLastPosition().parent;S.selection.isCollapsed&&"listItem"==I.name&&I.isEmpty&&(this.editor.execute("outdentList"),M.preventDefault(),b.stop())},{context:"li"}),this.listenTo(g,"delete",(b,M)=>{if("backward"!==M.direction)return;const S=this.editor.model.document.selection;if(!S.isCollapsed)return;const I=S.getFirstPosition();if(!I.isAtStart)return;const z=I.parent;"listItem"===z.name&&(z.previousSibling&&"listItem"===z.previousSibling.name||(this.editor.execute("outdentList"),M.preventDefault(),b.stop()))},{context:"li"});const y=b=>(M,S)=>{this.editor.commands.get(b).isEnabled&&(this.editor.execute(b),S())};i.keystrokes.set("Tab",y("indentList")),i.keystrokes.set("Shift+Tab",y("outdentList"))}afterInit(){const i=this.editor.commands,o=i.get("indent"),l=i.get("outdent");o&&o.registerChildCommand(i.get("indentList")),l&&l.registerChildCommand(i.get("outdentList"))}}function L5(h){let i=1;for(const o of h.getChildren())if("ul"==o.name||"ol"==o.name)for(const l of o.getChildren())i+=L5(l);return i}class mv extends ot{static get pluginName(){return"ListUI"}init(){const i=this.editor.t;D5(this.editor,"numberedList",i("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),D5(this.editor,"bulletedList",i("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function P5(h,i){return l=>{l.on("attribute:url:media",o)};function o(l,d,g){if(!g.consumable.consume(d.item,l.name))return;const y=d.attributeNewValue,b=g.writer,M=g.mapper.toViewElement(d.item),S=[...M.getChildren()].find(z=>z.getCustomProperty("media-content"));b.remove(S);const I=h.getMediaViewElement(b,y,i);b.insert(b.createPositionAt(M,0),I)}}function zf(h,i,o,l){const d=h.createContainerElement("figure",{class:"media"});return h.insert(h.createPositionAt(d,0),i.getMediaViewElement(h,o,l)),d}function vu(h){const i=h.getSelectedElement();return i&&i.is("element","media")?i:null}function vb(h,i,o){h.change(l=>{const d=l.createElement("media",{url:i});h.insertContent(d,o),l.setSelection(d,"on")})}class dl extends dt{refresh(){const i=this.editor.model,o=i.document.selection,l=vu(o);this.value=l?l.getAttribute("url"):null,this.isEnabled=function(d){const g=d.getSelectedElement();return!!g&&"media"===g.name}(o)||function(d,g){let y=U6(d,g).start.parent;return y.isEmpty&&!g.schema.isLimit(y)&&(y=y.parent),g.schema.checkChild(y,"media")}(o,i)}execute(i){const o=this.editor.model,l=o.document.selection,d=vu(l);d?o.change(g=>{g.setAttribute("url",i,d)}):vb(o,i,U6(l,o))}}class R5{constructor(i,o){const l=o.providers,d=o.extraProviders||[],g=new Set(o.removeProviders),y=l.concat(d).filter(b=>{const M=b.name;return M?!g.has(M):(Object(W.b)("media-embed-no-provider-name",{provider:b}),!1)});this.locale=i,this.providerDefinitions=y}hasMedia(i){return!!this._getMedia(i)}getMediaViewElement(i,o,l){return this._getMedia(o).getViewElement(i,l)}_getMedia(i){if(!i)return new p2(this.locale);i=i.trim();for(const o of this.providerDefinitions){const l=o.html,d=Vi(o.url);for(const g of d){const y=this._getUrlMatches(i,g);if(y)return new p2(this.locale,i,y,l)}}return null}_getUrlMatches(i,o){let l=i.match(o);if(l)return l;let d=i.replace(/^https?:\/\//,"");return l=d.match(o),l||(d=d.replace(/^www\./,""),l=d.match(o),l||null)}}class p2{constructor(i,o,l,d){this.url=this._getValidUrl(o),this._t=i.t,this._match=l,this._previewRenderer=d}getViewElement(i,o){const l={};let d;if(o.renderForEditingView||o.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(l["data-oembed-url"]=this.url),o.renderForEditingView&&(l.class="ck-media__wrapper");const g=this._getPreviewHtml(o);d=i.createRawElement("div",l,(y,b)=>{b.setContentOf(y,g)})}else this.url&&(l.url=this.url),d=i.createEmptyElement(o.elementName,l);return i.setCustomProperty("media-content",!0,d),d}_getPreviewHtml(i){return this._previewRenderer?this._previewRenderer(this._match):this.url&&i.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const i=new G8,o=new v0;return i.text=this._t("Open media in new tab"),o.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',o.viewBox="0 0 64 42",new A1({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[o]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},i]}]}).render().outerHTML}_getValidUrl(i){return i?i.match(/^https?/)?i:"https://"+i:null}}Z(96);class O5 extends ot{static get pluginName(){return"MediaEmbedEditing"}constructor(i){super(i),i.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:o=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${o[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new R5(i.locale,i.config.get("mediaEmbed"))}init(){const i=this.editor,o=i.model.schema,l=i.t,d=i.conversion,g=i.config.get("mediaEmbed.previewsInData"),y=i.config.get("mediaEmbed.elementName"),b=this.registry;i.commands.add("mediaEmbed",new dl(i)),o.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),d.for("dataDowncast").elementToElement({model:"media",view:(M,{writer:S})=>{const I=M.getAttribute("url");return zf(S,b,I,{elementName:y,renderMediaPreview:I&&g})}}),d.for("dataDowncast").add(P5(b,{elementName:y,renderMediaPreview:g})),d.for("editingDowncast").elementToElement({model:"media",view:(M,{writer:S})=>{const I=M.getAttribute("url");return z=zf(S,b,I,{elementName:y,renderForEditingView:!0}),H=S,Y=l("media widget"),H.setCustomProperty("media",!0,z),i5(z,H,{label:Y});var z,H,Y}}),d.for("editingDowncast").add(P5(b,{elementName:y,renderForEditingView:!0})),d.for("upcast").elementToElement({view:M=>["oembed",y].includes(M.name)&&M.getAttribute("url")?{name:!0}:null,model:(M,{writer:S})=>{const I=M.getAttribute("url");if(b.hasMedia(I))return S.createElement("media",{url:I})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(M,{writer:S})=>{const I=M.getAttribute("data-oembed-url");if(b.hasMedia(I))return S.createElement("media",{url:I})}}).add(M=>{M.on("element:figure",function(S,I,z){if(!z.consumable.test(I.viewItem,{name:!0,classes:"media"}))return;const{modelRange:H,modelCursor:Y}=z.convertChildren(I.viewItem,I.modelCursor);I.modelRange=H,I.modelCursor=Y,qr(H.getItems())&&z.consumable.consume(I.viewItem,{name:!0,classes:"media"})})})}}const gv=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class ec extends ot{static get requires(){return[pa,nl,ef]}static get pluginName(){return"AutoMediaEmbed"}constructor(i){super(i),this._timeoutId=null,this._positionToInsert=null}init(){const i=this.editor,o=i.model.document;this.listenTo(i.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const l=o.selection.getFirstRange(),d=Fn.fromPosition(l.start);d.stickiness="toPrevious";const g=Fn.fromPosition(l.end);g.stickiness="toNext",o.once("change:data",()=>{this._embedMediaBetweenPositions(d,g),d.detach(),g.detach()},{priority:"high"})}),i.commands.get("undo").on("execute",()=>{this._timeoutId&&(Gn.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(i,o){const l=this.editor,d=l.plugins.get(O5).registry,g=new da(i,o),y=g.getWalker({ignoreElementEnd:!0});let b="";for(const M of y)M.item.is("$textProxy")&&(b+=M.item.data);b=b.trim(),b.match(gv)&&d.hasMedia(b)&&l.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Fn.fromPosition(i),this._timeoutId=Gn.window.setTimeout(()=>{l.model.change(M=>{let S;this._timeoutId=null,M.remove(g),g.detach(),"$graveyard"!==this._positionToInsert.root.rootName&&(S=this._positionToInsert),vb(l.model,b,S),this._positionToInsert.detach(),this._positionToInsert=null}),l.plugins.get("Delete").requestUndoOnBackspace()},100)):g.detach()}}Z(98);class m2 extends _n{constructor(i,o){super(o);const l=o.t;this.focusTracker=new Ts,this.keystrokes=new aa,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(l("Save"),vi.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",d=>!!d),this.cancelButtonView=this._createButton(l("Cancel"),vi.cancel,"ck-button-cancel","cancel"),this._focusables=new $4,this._focusCycler=new Gl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=i,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),p0(this)}render(){super.render(),m0({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(o=>{this._focusables.add(o),this.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);const i=o=>o.stopPropagation();this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",(o,l)=>{l.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(i){this.urlInputView.fieldView.element.value=i.trim()}isValid(){this.resetFormStatus();for(const i of this._validators){const o=i(this);if(o)return this.urlInputView.errorText=o,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const i=this.locale.t,o=new J8(this.locale,R6),l=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,l.on("input",()=>{o.infoText=l.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=l.element.value.trim()}),o}_createButton(i,o,l,d){const g=new Ci(this.locale);return g.set({label:i,icon:o,tooltip:!0}),g.extendTemplate({attributes:{class:l}}),d&&g.delegate("execute").to(this,d),g}}class g2 extends ot{static get requires(){return[O5]}static get pluginName(){return"MediaEmbedUI"}init(){const i=this.editor,o=i.commands.get("mediaEmbed"),l=i.plugins.get(O5).registry;i.ui.componentFactory.add("mediaEmbed",d=>{const g=Jc(d),y=new m2((b=i.t,M=l,[S=>{if(!S.url.length)return b("The URL must not be empty.")},S=>{if(!M.hasMedia(S.url))return b("This media URL is not supported.")}]),i.locale);var b,M;return this._setUpDropdown(g,y,o,i),this._setUpForm(g,y,o),g})}_setUpDropdown(i,o,l){const d=this.editor,g=d.t,y=i.buttonView;function b(){d.editing.view.focus(),i.isOpen=!1}i.bind("isEnabled").to(l),i.panelView.children.add(o),y.set({label:g("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0}),y.on("open",()=>{o.disableCssTransitions(),o.url=l.value||"",o.urlInputView.fieldView.select(),o.focus(),o.enableCssTransitions()},{priority:"low"}),i.on("submit",()=>{o.isValid()&&(d.execute("mediaEmbed",o.url),b())}),i.on("change:isOpen",()=>o.resetFormStatus()),i.on("cancel",()=>b())}_setUpForm(i,o,l){o.delegate("submit","cancel").to(i),o.urlInputView.bind("value").to(l,"value"),o.urlInputView.bind("isReadOnly").to(l,"isEnabled",d=>!d)}}function Ep(h){switch(h){case"arabic-leading-zero":return"decimal-leading-zero";case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return h;default:return null}}function xp(h,i,o){const l=i.parent,d=o.createElement(h.type),g=l.getChildIndex(i)+1;return o.insertChild(g,d,l),h.style&&o.setStyle("list-style-type",h.style,d),d}function vv(h){const i={},o=h.getStyle("mso-list");if(o){const l=o.match(/(^|\s{1,100})l(\d+)/i),d=o.match(/\s{0,100}lfo(\d+)/i),g=o.match(/\s{0,100}level(\d+)/i);l&&d&&g&&(i.id=l[2],i.order=d[1],i.indent=g[1])}return i}Z(100);const Lf=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class _v{constructor(i){this.document=i}isActive(i){return Lf.test(i)}execute(i){const o=new Ho(this.document),{body:l}=i._parsedData;(function(d,g){for(const y of d.getChildren())if(y.is("element","b")&&"normal"===y.getStyle("font-weight")){const b=d.getChildIndex(y);g.remove(y),g.insertChild(b,y.getChildren(),d)}})(l,o),function(d,g){for(const y of g.createRangeIn(d)){const b=y.item;if(b.is("element","li")){const M=b.getChild(0);M&&M.is("element","p")&&g.unwrapElement(M)}}}(l,o),i.content=l}}const P0=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,yv=/xmlns:o="urn:schemas-microsoft-com/i;class bv{constructor(i){this.document=i}isActive(i){return P0.test(i)||yv.test(i)}execute(i){const{body:o,stylesString:l}=i._parsedData;(function(h,i){if(!h.childCount)return;const o=new Ho(h.document),l=function(y,b){const M=b.createRangeIn(y),S=new ns({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),I=[];for(const z of M)if("elementStart"===z.type&&S.match(z.item)){const H=vv(z.item);I.push({element:z.item,id:H.id,order:H.order,indent:H.indent})}return I}(h,o);if(!l.length)return;let d=null,g=1;l.forEach((y,b)=>{const M=function(J,ee){if(!J)return!0;if(J.id!==ee.id)return ee.indent-J.indent!=1;const oe=ee.element.previousSibling;return!oe||!((ue=oe).is("element","ol")||ue.is("element","ul"));var ue}(l[b-1],y),I=(H=y,(z=M?null:l[b-1])?H.indent-z.indent:H.indent-1);var z,H;if(M&&(d=null,g=1),!d||0!==I){const J=function(ee,oe){const xe=/mso-level-number-format:([^;]{0,100});/gi,je=new RegExp(`@list l${ee.id}:level${ee.indent}\\s*({[^}]*)`,"gi").exec(oe);let ut="decimal",zt="ol";if(je&&je[1]){const _i=xe.exec(je[1]);if(_i&&_i[1]&&(ut=_i[1].trim(),zt="bullet"!==ut&&"image"!==ut?"ol":"ul"),"bullet"===ut){const Kt=function(io){const ro=function(s1){if(s1.getChild(0).is("$text"))return null;for(const z1 of s1.getChildren()){if(!z1.is("element","span"))continue;const _2=z1.getChild(0);return _2.is("$text")?_2:_2.getChild(0)}}(io);if(!ro)return null;const oo=ro._data;return"o"===oo?"circle":"\xb7"===oo?"disc":"\xa7"===oo?"square":null}(ee.element);Kt&&(ut=Kt)}}return{type:zt,style:Ep(ut)}}(y,i);if(d)if(y.indent>g){const ee=d.getChild(d.childCount-1),oe=ee.getChild(ee.childCount-1);d=xp(J,oe,o),g+=1}else y.indent<g&&(d=function(oe,ue){const xe=oe.getAncestors({parentFirst:!0});let je=null,ut=0;for(const zt of xe)if("ul"!==zt.name&&"ol"!==zt.name||ut++,ut===ue){je=zt;break}return je}(d,g-y.indent),g=parseInt(y.indent));else d=xp(J,y.element,o);y.indent<=g&&(d.is("element",J.type)||(d=o.rename(J.type,d)))}const Y=(function(oe,ue){const xe=new ns({name:"span",styles:{"mso-list":"Ignore"}}),je=ue.createRangeIn(oe);for(const ut of je)"elementStart"===ut.type&&xe.match(ut.item)&&ue.remove(ut.item)}(J=y.element,ee=o),ee.rename("li",J));var J,ee;o.appendChild(Y,d)})})(o,l),function(h,i){if(!h.childCount)return;const o=new Ho;(function(d,g,y){const b=y.createRangeIn(g),M=new ns({name:"img"}),S=[];for(const I of b)if(M.match(I.item)){const z=I.item,H=z.getAttribute("v:shapes")?z.getAttribute("v:shapes").split(" "):[];H.length&&H.every(Y=>d.indexOf(Y)>-1)?S.push(z):z.getAttribute("src")||S.push(z)}for(const I of S)y.remove(I)})(function(d,g){const y=g.createRangeIn(d),b=new ns({name:/v:(.+)/}),M=[];for(const S of y){if("elementStart"!=S.type)continue;const I=S.item,z=I.previousSibling&&I.previousSibling.name||null;b.match(I)&&I.getAttribute("o:gfxdata")&&"v:shapetype"!==z&&M.push(S.item.getAttribute("id"))}return M}(h,o),h,o),function(d,g){const y=g.createRangeIn(d),b=new ns({name:/v:(.+)/}),M=[];for(const S of y)"elementStart"==S.type&&b.match(S.item)&&M.push(S.item);for(const S of M)g.remove(S)}(h,o);const l=function(d,g){const y=g.createRangeIn(d),b=new ns({name:"img"}),M=[];for(const S of y)b.match(S.item)&&S.item.getAttribute("src").startsWith("file://")&&M.push(S.item);return M}(h,o);l.length&&function(d,g,y){if(d.length===g.length)for(let M=0;M<d.length;M++){const S=`data:${g[M].type};base64,${b=g[M].hex,btoa(b.match(/\w{2}/g).map(I=>String.fromCharCode(parseInt(I,16))).join(""))}`;y.setAttribute("src",S,d[M])}var b}(l,function(d){if(!d)return[];const g=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,y=new RegExp("(?:("+g.source+"))([\\da-fA-F\\s]+)\\}","g"),b=d.match(y),M=[];if(b)for(const S of b){let I=!1;S.includes("\\pngblip")?I="image/png":S.includes("\\jpegblip")&&(I="image/jpeg"),I&&M.push({hex:S.replace(g,"").replace(/[^\da-fA-F]/g,""),type:I})}return M}(i),o)}(o,i.dataTransfer.getData("text/rtf")),i.content=o}}function R0(h){return h.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(i,o)=>1===o.length?" ":Array(o.length+1).join("\xa0 ").substr(0,o.length))}function tr(h,i,o,l,d=1){i>d?l.setAttribute(h,i,o):l.removeAttribute(h,o)}function tc(h,i,o={}){const l=h.createElement("tableCell",o);return h.insertElement("paragraph",l),h.insert(l,i),l}function _u(h,i){const l=parseInt(i.parent.parent.getAttribute("headingColumns")||0),{column:d}=h.getCellLocation(i);return!!l&&d<l}function Rf(h){return i=>{i.on("element:"+h,(o,l,d)=>{if(l.modelRange&&l.viewItem.isEmpty){const y=d.writer.createPositionAt(l.modelRange.start.nodeAfter,0);d.writer.insertElement("paragraph",y)}},{priority:"low"})}}function Sp(h){let i=0,o=0;const l=Array.from(h.getChildren()).filter(d=>"th"===d.name||"td"===d.name);for(;o<l.length&&"th"===l[o].name;)i+=parseInt(l[o].getAttribute("colspan")||1),o++;return i}class Kn{constructor(i,o={}){this._table=i,this._startRow=void 0!==o.row?o.row:o.startRow||0,this._endRow=void 0!==o.row?o.row:o.endRow,this._startColumn=void 0!==o.column?o.column:o.startColumn||0,this._endColumn=void 0!==o.column?o.column:o.endColumn,this._includeAllSlots=!!o.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const i=this._table.getChild(this._rowIndex);if(!i||this._isOverEndRow())return{done:!0};if(!i.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let o=null;const l=this._getSpanned();if(l)this._includeAllSlots&&!this._shouldSkipSlot()&&(o=this._formatOutValue(l.cell,l.row,l.column));else{const d=i.getChild(this._cellIndex);if(!d)return this._advanceToNextRow();const g=parseInt(d.getAttribute("colspan")||1),y=parseInt(d.getAttribute("rowspan")||1);(g>1||y>1)&&this._recordSpans(d,y,g),this._shouldSkipSlot()||(o=this._formatOutValue(d)),this._nextCellAtColumn=this._column+g}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,o||this.next()}skipRow(i){this._skipRows.add(i)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(i,o=this._row,l=this._column){return{done:!1,value:new Of(this,i,o,l)}}_shouldSkipSlot(){return this._skipRows.has(this._row)||this._row<this._startRow||this._column<this._startColumn||void 0!==this._endColumn&&this._column>this._endColumn}_getSpanned(){const i=this._spannedCells.get(this._row);return i&&i.get(this._column)||null}_recordSpans(i,o,l){const d={cell:i,row:this._row,column:this._column};for(let g=this._row;g<this._row+o;g++)for(let y=this._column;y<this._column+l;y++)g==this._row&&y==this._column||this._markSpannedCell(g,y,d)}_markSpannedCell(i,o,l){this._spannedCells.has(i)||this._spannedCells.set(i,new Map),this._spannedCells.get(i).set(o,l)}}class Of{constructor(i,o,l,d){this.cell=o,this.row=i._row,this.column=i._column,this.cellAnchorRow=l,this.cellAnchorColumn=d,this._cellIndex=i._cellIndex,this._rowIndex=i._rowIndex,this._table=i._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function v2(h={}){return i=>i.on("insert:table",(o,l,d)=>{const g=l.item;if(!d.consumable.consume(g,"insert"))return;d.consumable.consume(g,"attribute:headingRows:table"),d.consumable.consume(g,"attribute:headingColumns:table");const y=h&&h.asWidget,b=d.writer.createContainerElement("figure",{class:"table"}),M=d.writer.createContainerElement("table");let S;var I,z;d.writer.insert(d.writer.createPositionAt(b,0),M),y&&((z=d.writer).setCustomProperty("table",!0,I=b),S=i5(I,z,{hasSelectionHandle:!0}));const H=new Kn(g),Y={headingRows:g.getAttribute("headingRows")||0,headingColumns:g.getAttribute("headingColumns")||0},J=new Map;for(const oe of H){const{row:ue,cell:xe}=oe,je=g.getChild(ue),ut=J.get(ue)||O0(M,je,ue,Y,d);J.set(ue,ut),d.consumable.consume(xe,"insert"),p3(oe,Y,d.writer.createPositionAt(ut,"end"),d,h)}for(const oe of g.getChildren()){const ue=oe.index;oe.is("element","tableRow")&&!J.has(ue)&&J.set(ue,O0(M,oe,ue,Y,d))}const ee=d.mapper.toViewPosition(l.range.start);d.mapper.bindElements(g,y?S:b),d.writer.insert(ee,y?S:b)})}function At(h,i){const{writer:o}=i;if(h.parent.is("element","tableCell"))return yu(h)?o.createContainerElement("span",{class:"ck-table-bogus-paragraph"}):o.createContainerElement("p")}function yu(h){return 1===h.parent.childCount&&!Tp(h)}function sn(h,i,o){const{cell:l}=h,d=m3(h,i),g=o.mapper.toViewElement(l);g&&g.name!==d&&function(y,b,M){const S=M.writer,I=M.mapper.toViewElement(y),z=Uh(S.createEditableElement(b,I.getAttributes()),S);S.insert(S.createPositionAfter(I),z),S.move(S.createRangeIn(I),S.createPositionAt(z,0)),S.remove(S.createRangeOn(I)),M.mapper.unbindViewElement(I),M.mapper.bindElements(y,z)}(l,d,o)}function p3(h,i,o,l,d){const g=d&&d.asWidget,y=m3(h,i),b=g?Uh(l.writer.createEditableElement(y),l.writer):l.writer.createContainerElement(y),M=h.cell,S=M.getChild(0),I=1===M.childCount&&"paragraph"===S.name;if(l.writer.insert(o,b),l.mapper.bindElements(M,b),!g&&I&&!Tp(S)){const z=M.getChild(0);l.consumable.consume(z,"insert"),l.mapper.bindElements(z,b)}}function O0(h,i,o,l,d){d.consumable.consume(i,"insert");const g=i.isEmpty?d.writer.createEmptyElement("tr"):d.writer.createContainerElement("tr");d.mapper.bindElements(i,g);const y=l.headingRows,b=(H=d,Vf(I=o<l.headingRows?"thead":"tbody",z=h)||function(J,ee,oe){const ue=oe.writer.createContainerElement(J),xe=oe.writer.createPositionAt(ee,"tbody"==J?"end":0);return oe.writer.insert(xe,ue),ue}(I,z,H)),S=d.writer.createPositionAt(b,y>0&&o>=y?o-y:o);var I,z,H;return d.writer.insert(S,g),g}function m3(h,i){const{row:o,column:l}=h,{headingColumns:d,headingRows:g}=i;return g&&g>o||d&&d>l?"th":"td"}function Vf(h,i){for(const o of i.getChildren())if(o.name==h)return o}function F5(h,i,o){const l=Vf(h,i);l&&0===l.childCount&&o.writer.remove(o.writer.createRangeOn(l))}function Tp(h){return!![...h.getAttributeKeys()].length}class wv extends dt{refresh(){const i=this.editor.model;this.isEnabled=function(d,g){const y=d.getFirstPosition().parent;return g.checkChild(y===y.root?y:y.parent,"table")}(i.document.selection,i.schema)}execute(i={}){const o=this.editor.model,l=o.document.selection,d=this.editor.plugins.get("TableUtils"),g=this.editor.config.get("table"),y=U6(l,o),b=g.defaultHeadings.rows,M=g.defaultHeadings.columns;void 0===i.headingRows&&b&&(i.headingRows=b),void 0===i.headingColumns&&M&&(i.headingColumns=M),o.change(S=>{const I=d.createTable(S,i);o.insertContent(I,y),S.setSelection(S.createPositionAt(I.getNodeByPath([0,0,0]),0))})}}function V0(h){const i=[];for(const o of Ip(h.getRanges())){const l=o.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}function zr(h){const i=[];for(const o of h.getRanges()){const l=o.start.findAncestor("tableCell");l&&i.push(l)}return i}function mr(h){const i=V0(h);return i.length?i:zr(h)}function Qi(h){return Hf(h.map(i=>i.parent.index))}function D1(h){const i=h[0].findAncestor("table");return Hf([...new Kn(i)].filter(o=>h.includes(o.cell)).map(o=>o.column))}function Ff(h,i){if(h.length<2||!function(g){const y=g[0].findAncestor("table");if(!zp(Qi(g),parseInt(y.getAttribute("headingRows")||0)))return!1;const S=parseInt(y.getAttribute("headingColumns")||0);return zp(D1(g),S)}(h))return!1;const o=new Set,l=new Set;let d=0;for(const g of h){const{row:y,column:b}=i.getCellLocation(g),M=parseInt(g.getAttribute("rowspan")||1),S=parseInt(g.getAttribute("colspan")||1);o.add(y),l.add(b),M>1&&o.add(y+M-1),S>1&&l.add(b+S-1),d+=M*S}return function(g,y){const b=Array.from(g.values()),M=Array.from(y.values());return(Math.max(...b)-Math.min(...b)+1)*(Math.max(...M)-Math.min(...M)+1)}(o,l)==d}function Ip(h){return Array.from(h).sort(Dp)}function Hf(h){const i=h.sort((o,l)=>o-l);return{first:i[0],last:i[i.length-1]}}function Dp(h,i){return h.start.isBefore(i.start)?-1:1}function zp({first:h,last:i},o){return h<o==i<o}class Bf extends dt{constructor(i,o={}){super(i),this.order=o.order||"below"}refresh(){const i=!!mr(this.editor.model.document.selection).length;this.isEnabled=i}execute(){const i=this.editor,o=i.model.document.selection,l=i.plugins.get("TableUtils"),d="above"===this.order,g=mr(o),y=Qi(g),b=d?y.first:y.last,M=g[0].findAncestor("table");l.insertRows(M,{at:d?b:b+1,copyStructureFromAbove:!d})}}class H5 extends dt{constructor(i,o={}){super(i),this.order=o.order||"right"}refresh(){const i=!!mr(this.editor.model.document.selection).length;this.isEnabled=i}execute(){const i=this.editor,o=i.model.document.selection,l=i.plugins.get("TableUtils"),d="left"===this.order,g=mr(o),y=D1(g),b=d?y.first:y.last,M=g[0].findAncestor("table");l.insertColumns(M,{columns:1,at:d?b:b+1})}}class bu extends dt{constructor(i,o={}){super(i),this.direction=o.direction||"horizontally"}refresh(){const i=mr(this.editor.model.document.selection);this.isEnabled=1===i.length}execute(){const i=mr(this.editor.model.document.selection)[0],o="horizontally"===this.direction,l=this.editor.plugins.get("TableUtils");o?l.splitCellHorizontally(i,2):l.splitCellVertically(i,2)}}function jf(h,i,o){const{startRow:l,startColumn:d,endRow:g,endColumn:y}=i,b=o.createElement("table"),M=g-l+1;for(let I=0;I<M;I++)o.insertElement("tableRow",b,"end");const S=[...new Kn(h,{startRow:l,endRow:g,startColumn:d,endColumn:y,includeAllSlots:!0})];for(const{row:I,column:z,cell:H,isAnchor:Y,cellAnchorRow:J,cellAnchorColumn:ee}of S){const ue=b.getChild(I-l);if(Y){const xe=o.cloneElement(H);o.append(xe,ue),j5(xe,I,z,g,y,o)}else(J<l||ee<d)&&tc(o,o.createPositionAt(ue,"end"))}return function(I,z,H,Y,J){const ee=parseInt(z.getAttribute("headingRows")||0);ee>0&&tr("headingRows",ee-H,I,J,0);const oe=parseInt(z.getAttribute("headingColumns")||0);oe>0&&tr("headingColumns",oe-Y,I,J,0)}(b,h,l,d,o),b}function Uo(h,i,o=0){const l=[],d=new Kn(h,{startRow:o,endRow:i-1});for(const g of d){const{row:y,cellHeight:b}=g,M=y+b-1;y<i&&i<=M&&l.push(g)}return l}function wu(h,i,o){const l=h.parent,d=l.parent,g=l.index,y=i-g,b={},M=parseInt(h.getAttribute("rowspan"))-y;M>1&&(b.rowspan=M);const S=parseInt(h.getAttribute("colspan")||1);S>1&&(b.colspan=S);const I=g+y,z=[...new Kn(d,{startRow:g,endRow:I,includeAllSlots:!0})];let H,Y=null;for(const J of z){const{row:ee,column:oe,cell:ue}=J;ue===h&&void 0===H&&(H=oe),void 0!==H&&H===oe&&ee===I&&(Y=tc(o,J.getPositionBefore(),b))}return tr("rowspan",y,h,o),Y}function qo(h,i){const o=[],l=new Kn(h);for(const d of l){const{column:g,cellWidth:y}=d,b=g+y-1;g<i&&i<=b&&o.push(d)}return o}function B5(h,i,o,l){const d=o-i,g={},y=parseInt(h.getAttribute("colspan"))-d;y>1&&(g.colspan=y);const b=parseInt(h.getAttribute("rowspan")||1);b>1&&(g.rowspan=b);const M=tc(l,l.createPositionAfter(h),g);return tr("colspan",d,h,l),M}function j5(h,i,o,l,d,g){const y=parseInt(h.getAttribute("colspan")||1),b=parseInt(h.getAttribute("rowspan")||1);o+y-1>d&&tr("colspan",d-o+1,h,g,1),i+b-1>l&&tr("rowspan",l-i+1,h,g,1)}function F0(h,i){const o=i.getColumns(h),l=new Array(o).fill(0);for(const{column:g}of new Kn(h))l[g]++;const d=l.reduce((g,y,b)=>y?g:[...g,b],[]);return d.length>0&&(i.removeColumns(h,{at:d[d.length-1]}),!0)}function Cu(h,i){const o=[],l=i.getRows(h);for(let d=0;d<l;d++)h.getChild(d).isEmpty&&o.push(d);return o.length>0&&(i.removeRows(h,{at:o[o.length-1]}),!0)}function ku(h,i){F0(h,i)||Cu(h,i)}function U5(h,i){const o=Array.from(new Kn(h,{startColumn:i.firstColumn,endColumn:i.lastColumn,row:i.lastRow}));return o.every(({cellHeight:d})=>1===d)?i.lastRow:i.lastRow+(o[0].cellHeight-1)}function H0(h,i){const o=Array.from(new Kn(h,{startRow:i.firstRow,endRow:i.lastRow,column:i.lastColumn}));return o.every(({cellWidth:d})=>1===d)?i.lastColumn:i.lastColumn+(o[0].cellWidth-1)}class B0 extends dt{constructor(i,o){super(i),this.direction=o.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const i=this._getMergeableCell();this.value=i,this.isEnabled=!!i}execute(){const i=this.editor.model,o=zr(i.document.selection)[0],l=this.value,d=this.direction;i.change(g=>{const y="right"==d||"down"==d,b=y?o:l,M=y?l:o,S=M.parent;var J,ee,oe;ee=b,oe=g,t4(J=M)||(t4(ee)&&oe.remove(oe.createRangeIn(ee)),oe.move(oe.createRangeIn(J),oe.createPositionAt(ee,"end"))),oe.remove(J);const I=this.isHorizontal?"colspan":"rowspan",z=parseInt(o.getAttribute(I)||1),H=parseInt(l.getAttribute(I)||1);g.setAttribute(I,z+H,b),g.setSelection(g.createRangeIn(b));const Y=this.editor.plugins.get("TableUtils");ku(S.findAncestor("table"),Y)})}_getMergeableCell(){const i=zr(this.editor.model.document.selection)[0];if(!i)return;const o=this.editor.plugins.get("TableUtils"),l=this.isHorizontal?function(y,b,M){const I="right"==b?y.nextSibling:y.previousSibling,z=(y.parent.parent.getAttribute("headingColumns")||0)>0;if(!I)return;const H="right"==b?y:I,Y="right"==b?I:y,{column:J}=M.getCellLocation(H),{column:ee}=M.getCellLocation(Y),oe=parseInt(H.getAttribute("colspan")||1),ue=_u(M,H),xe=_u(M,Y);return z&&ue!=xe?void 0:J+oe===ee?I:void 0}(i,this.direction,o):function(y,b,M){const S=y.parent,I=S.parent,z=I.getChildIndex(S);if("down"==b&&z===M.getRows(I)-1||"up"==b&&0===z)return;const H=parseInt(y.getAttribute("rowspan")||1),Y=I.getAttribute("headingRows")||0;if(Y&&("down"==b&&z+H===Y||"up"==b&&z===Y))return;const oe=parseInt(y.getAttribute("rowspan")||1),ue="down"==b?z+oe:z,xe=[...new Kn(I,{endRow:ue})],je=xe.find(zt=>zt.cell===y).column,ut=xe.find(({row:zt,cellHeight:_i,column:Kt})=>Kt===je&&("down"==b?zt===ue:ue===zt+_i));return ut&&ut.cell}(i,this.direction,o);if(!l)return;const d=this.isHorizontal?"rowspan":"colspan",g=parseInt(i.getAttribute(d)||1);return parseInt(l.getAttribute(d)||1)===g?l:void 0}}function t4(h){return 1==h.childCount&&h.getChild(0).is("element","paragraph")&&h.getChild(0).isEmpty}class j0 extends dt{refresh(){const i=mr(this.editor.model.document.selection),o=i[0];if(o){const l=o.findAncestor("table"),d=this.editor.plugins.get("TableUtils").getRows(l)-1,g=Qi(i);this.isEnabled=!(0===g.first&&g.last===d)}else this.isEnabled=!1}execute(){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),l=mr(i.document.selection),d=Qi(l),g=l[0],y=g.findAncestor("table"),b=o.getCellLocation(g).column;i.change(M=>{o.removeRows(y,{at:d.first,rows:d.last-d.first+1});const I=function(z,H,Y,J){const ee=z.getChild(Math.min(H,J-1));let oe=ee.getChild(0),ue=0;for(const xe of ee.getChildren()){if(ue>Y)return oe;oe=xe,ue+=parseInt(xe.getAttribute("colspan")||1)}return oe}(y,d.first,b,o.getRows(y));M.setSelection(M.createPositionAt(I,0))})}}class Np extends dt{refresh(){const i=mr(this.editor.model.document.selection),o=i[0];if(o){const l=o.findAncestor("table"),d=this.editor.plugins.get("TableUtils").getColumns(l),{first:g,last:y}=D1(i);this.isEnabled=y-g<d-1}else this.isEnabled=!1}execute(){const[i,o]=function(b){const M=mr(b),S=M[0],I=M.pop(),z=[S,I];return S.isBefore(I)?z:z.reverse()}(this.editor.model.document.selection),l=i.parent.parent,d=[...new Kn(l)],g={first:d.find(b=>b.cell===i).column,last:d.find(b=>b.cell===o).column},y=(b=d,M=i,S=o,I=g,parseInt(S.getAttribute("colspan")||1)>1?S:M.previousSibling||S.nextSibling?S.nextSibling||M.previousSibling:I.first?b.reverse().find(({column:z})=>z<I.first).cell:b.reverse().find(({column:z})=>z>I.last).cell);var b,M,S,I;this.editor.model.change(b=>{const M=g.last-g.first+1;this.editor.plugins.get("TableUtils").removeColumns(l,{at:g.first,columns:M}),b.setSelection(b.createPositionAt(y,0))})}}class n4 extends dt{refresh(){const i=mr(this.editor.model.document.selection),o=i.length>0;this.isEnabled=o,this.value=o&&i.every(l=>this._isInHeading(l,l.parent.parent))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.model,l=mr(o.document.selection),d=l[0].findAncestor("table"),{first:g,last:y}=Qi(l),b=this.value?g:y+1,M=d.getAttribute("headingRows")||0;o.change(S=>{if(b){const I=Uo(d,b,b>M?M:0);for(const{cell:z}of I)wu(z,b,S)}tr("headingRows",b,d,S,0)})}_isInHeading(i,o){const l=parseInt(o.getAttribute("headingRows")||0);return!!l&&i.parent.index<l}}class Cv extends dt{refresh(){const i=mr(this.editor.model.document.selection),o=this.editor.plugins.get("TableUtils"),l=i.length>0;this.isEnabled=l,this.value=l&&i.every(d=>_u(o,d))}execute(i={}){if(i.forceValue===this.value)return;const o=this.editor.model,l=mr(o.document.selection),d=l[0].findAncestor("table"),{first:g,last:y}=D1(l),b=this.value?g:y+1;o.change(M=>{if(b){const S=qo(d,b);for(const{cell:I,column:z}of S)B5(I,z,b,M)}tr("headingColumns",b,d,M,0)})}}class i4 extends ot{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(i){const o=i.parent,l=o.parent,d=l.getChildIndex(o),g=new Kn(l,{row:d});for(const{cell:y,row:b,column:M}of g)if(y===i)return{row:b,column:M}}createTable(i,o){const l=i.createElement("table"),d=parseInt(o.rows)||2,g=parseInt(o.columns)||2;return Uf(i,l,0,d,g),o.headingRows&&tr("headingRows",Math.min(o.headingRows,d),l,i,0),o.headingColumns&&tr("headingColumns",Math.min(o.headingColumns,g),l,i,0),l}insertRows(i,o={}){const l=this.editor.model,d=o.at||0,g=o.rows||1,y=void 0!==o.copyStructureFromAbove,b=o.copyStructureFromAbove?d-1:d,M=this.getRows(i),S=this.getColumns(i);if(d>M)throw new W.a("tableutils-insertrows-insert-out-of-range",this,{options:o});l.change(I=>{const z=i.getAttribute("headingRows")||0;if(z>d&&tr("headingRows",z+g,i,I,0),!y&&(0===d||d===M))return void Uf(I,i,d,g,S);const H=y?Math.max(d,b):d,Y=new Kn(i,{endRow:H}),J=new Array(S).fill(1);for(const{row:ee,column:oe,cellHeight:ue,cellWidth:xe,cell:je}of Y){const ut=ee+ue-1,zt=ee<=b&&b<=ut;ee<d&&d<=ut?(I.setAttribute("rowspan",ue+g,je),J[oe]=-xe):y&&zt&&(J[oe]=xe)}for(let ee=0;ee<g;ee++){const oe=I.createElement("tableRow");I.insert(oe,i,d);for(let ue=0;ue<J.length;ue++){const xe=J[ue],je=I.createPositionAt(oe,"end");xe>0&&tc(I,je,xe>1?{colspan:xe}:null),ue+=Math.abs(xe)-1}}})}insertColumns(i,o={}){const d=o.at||0,g=o.columns||1;this.editor.model.change(y=>{const b=i.getAttribute("headingColumns");d<b&&y.setAttribute("headingColumns",b+g,i);const M=this.getColumns(i);if(0===d||M===d){for(const I of i.getChildren())I.is("element","tableRow")&&nc(g,y,y.createPositionAt(I,d?"end":0));return}const S=new Kn(i,{column:d,includeAllSlots:!0});for(const I of S){const{row:z,cell:H,cellAnchorColumn:Y,cellAnchorRow:J,cellWidth:ee,cellHeight:oe}=I;if(Y<d){y.setAttribute("colspan",ee+g,H);const ue=J+oe-1;for(let xe=z;xe<=ue;xe++)S.skipRow(xe)}else nc(g,y,I.getPositionBefore())}})}removeRows(i,o){const l=this.editor.model,d=o.rows||1,g=this.getRows(i),y=o.at,b=y+d-1;if(b>g-1)throw new W.a("tableutils-removerows-row-index-out-of-range",this,{table:i,options:o});l.change(M=>{const{cellsToMove:S,cellsToTrim:I}=function(z,H,Y){const J=new Map,ee=[];for(const{row:oe,column:ue,cellHeight:xe,cell:je}of new Kn(z,{endRow:Y})){const ut=oe+xe-1;if(oe>=H&&oe<=Y&&ut>Y&&J.set(ue,{cell:je,rowspan:xe-(Y-oe+1)}),oe<H&&ut>=H){let zt;zt=ut>=Y?Y-H+1:ut-H+1,ee.push({cell:je,rowspan:xe-zt})}}return{cellsToMove:J,cellsToTrim:ee}}(i,y,b);S.size&&function(z,H,Y,J){const ee=[...new Kn(z,{includeAllSlots:!0,row:H})],oe=z.getChild(H);let ue;for(const{column:xe,cell:je,isAnchor:ut}of ee)if(Y.has(xe)){const{cell:zt,rowspan:_i}=Y.get(xe),Kt=ue?J.createPositionAfter(ue):J.createPositionAt(oe,0);J.move(J.createRangeOn(zt),Kt),tr("rowspan",_i,zt,J),ue=zt}else ut&&(ue=je)}(i,b+1,S,M);for(let z=b;z>=y;z--)M.remove(i.getChild(z));for(const{rowspan:z,cell:H}of I)tr("rowspan",z,H,M);(function(z,H,Y,J){const ee=z.getAttribute("headingRows")||0;H<ee&&tr("headingRows",Y<ee?ee-(Y-H+1):H,z,J,0)})(i,y,b,M),F0(i,this)||Cu(i,this)})}removeColumns(i,o){const d=o.at,y=o.at+(o.columns||1)-1;this.editor.model.change(b=>{!function(M,S,I){const z=M.getAttribute("headingColumns")||0;if(z&&S.first<z){const H=Math.min(z-1,S.last)-S.first+1;I.setAttribute("headingColumns",z-H,M)}}(i,{first:d,last:y},b);for(let M=y;M>=d;M--)for(const{cell:S,column:I,cellWidth:z}of[...new Kn(i)])I<=M&&z>1&&I+z>M?tr("colspan",z-1,S,b):I===M&&b.remove(S);Cu(i,this)||F0(i,this)})}splitCellVertically(i,o=2){const l=this.editor.model,d=i.parent.parent,g=parseInt(i.getAttribute("rowspan")||1),y=parseInt(i.getAttribute("colspan")||1);l.change(b=>{if(y>1){const{newCellsSpan:M,updatedSpan:S}=Mu(y,o);tr("colspan",S,i,b);const I={};M>1&&(I.colspan=M),g>1&&(I.rowspan=g),nc(y>o?o-1:y-1,b,b.createPositionAfter(i),I)}if(y<o){const M=o-y,S=[...new Kn(d)],{column:I}=S.find(({cell:J})=>J===i),z=S.filter(({cell:J,cellWidth:ee,column:oe})=>J!==i&&oe===I||oe<I&&oe+ee>I);for(const{cell:J,cellWidth:ee}of z)b.setAttribute("colspan",ee+M,J);const H={};g>1&&(H.rowspan=g),nc(M,b,b.createPositionAfter(i),H);const Y=d.getAttribute("headingColumns")||0;Y>I&&tr("headingColumns",Y+M,d,b)}})}splitCellHorizontally(i,o=2){const l=this.editor.model,d=i.parent,g=d.parent,y=g.getChildIndex(d),b=parseInt(i.getAttribute("rowspan")||1),M=parseInt(i.getAttribute("colspan")||1);l.change(S=>{if(b>1){const I=[...new Kn(g,{startRow:y,endRow:y+b-1,includeAllSlots:!0})],{newCellsSpan:z,updatedSpan:H}=Mu(b,o);tr("rowspan",H,i,S);const{column:Y}=I.find(({cell:ee})=>ee===i),J={};z>1&&(J.rowspan=z),M>1&&(J.colspan=M);for(const ee of I){const{column:oe,row:ue}=ee,xe=oe===Y,je=(ue+y+H)%z==0;ue>=y+H&&xe&&je&&nc(1,S,ee.getPositionBefore(),J)}}if(b<o){const I=o-b,z=[...new Kn(g,{startRow:0,endRow:y})];for(const{cell:J,cellHeight:ee,row:oe}of z)J!==i&&oe+ee>y&&S.setAttribute("rowspan",ee+I,J);const H={};M>1&&(H.colspan=M),Uf(S,g,y+1,I,1,H);const Y=g.getAttribute("headingRows")||0;Y>y&&tr("headingRows",Y+I,g,S)}})}getColumns(i){return[...i.getChild(0).getChildren()].reduce((o,l)=>o+parseInt(l.getAttribute("colspan")||1),0)}getRows(i){return Array.from(i.getChildren()).reduce((o,l)=>l.is("element","tableRow")?o+1:o,0)}}function Uf(h,i,o,l,d,g={}){for(let y=0;y<l;y++){const b=h.createElement("tableRow");h.insert(b,i,o),nc(d,h,h.createPositionAt(b,"end"),g)}}function nc(h,i,o,l={}){for(let d=0;d<h;d++)tc(i,o,l)}function Mu(h,i){if(h<i)return{newCellsSpan:1,updatedSpan:1};const o=Math.floor(h/i);return{newCellsSpan:o,updatedSpan:h-o*i+o}}class Lp extends dt{refresh(){const i=V0(this.editor.model.document.selection);this.isEnabled=Ff(i,this.editor.plugins.get(i4))}execute(){const i=this.editor.model,o=this.editor.plugins.get(i4);i.change(l=>{const d=V0(i.document.selection),g=d.shift(),{mergeWidth:y,mergeHeight:b}=function(M,S,I){let z=0,H=0;for(const ee of S){const{row:oe,column:ue}=I.getCellLocation(ee);z=Rp(ee,ue,z,"colspan"),H=Rp(ee,oe,H,"rowspan")}const{row:Y,column:J}=I.getCellLocation(M);return{mergeWidth:z-J,mergeHeight:H-Y}}(g,d,o);tr("colspan",y,g,l),tr("rowspan",b,g,l);for(const M of d)$t(M,g,l);ku(g.findAncestor("table"),o),l.setSelection(g,"in")})}}function $t(h,i,o){Pp(h)||(Pp(i)&&o.remove(o.createRangeIn(i)),o.move(o.createRangeIn(h),o.createPositionAt(i,"end"))),o.remove(h)}function Pp(h){return 1==h.childCount&&h.getChild(0).is("element","paragraph")&&h.getChild(0).isEmpty}function Rp(h,i,o,l){const d=parseInt(h.getAttribute(l)||1);return Math.max(o,i+d)}class qf extends dt{constructor(i){super(i),this.affectsData=!1}refresh(){const i=mr(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.model,o=mr(i.document.selection),l=Qi(o),d=o[0].findAncestor("table"),g=[];for(let y=l.first;y<=l.last;y++)for(const b of d.getChild(y).getChildren())g.push(i.createRangeOn(b));i.change(y=>{y.setSelection(g)})}}class Eu extends dt{constructor(i){super(i),this.affectsData=!1}refresh(){const i=mr(this.editor.model.document.selection);this.isEnabled=i.length>0}execute(){const i=this.editor.model,o=mr(i.document.selection),l=o[0],d=o.pop(),g=l.findAncestor("table"),y=this.editor.plugins.get("TableUtils"),b=y.getCellLocation(l),M=y.getCellLocation(d),S=Math.min(b.column,M.column),I=Math.max(b.column,M.column),z=[];for(const H of new Kn(g,{startColumn:S,endColumn:I}))z.push(i.createRangeOn(H.cell));i.change(H=>{H.setSelection(z)})}}function q5(h,i){let o=!1;const l=function(d){const g=parseInt(d.getAttribute("headingRows")||0),y=Array.from(d.getChildren()).reduce((M,S)=>S.is("element","tableRow")?M+1:M,0),b=[];for(const{row:M,cell:S,cellHeight:I}of new Kn(d)){if(I<2)continue;const z=M<g?g:y;M+I>z&&b.push({cell:S,rowspan:z-M})}return b}(h);if(l.length){o=!0;for(const d of l)tr("rowspan",d.rowspan,d.cell,i,1)}return o}function no(h,i){let o=!1;const l=function(b){const M=new Array(b.childCount).fill(0);for(const{rowIndex:S}of new Kn(b,{includeAllSlots:!0}))M[S]++;return M}(h),d=[];for(const[b,M]of l.entries())!M&&h.getChild(b).is("element","tableRow")&&d.push(b);if(d.length){o=!0;for(const b of d.reverse())i.remove(h.getChild(b)),l.splice(b,1)}const g=l.filter((b,M)=>h.getChild(M).is("element","tableRow")),y=g[0];if(!g.every(b=>b===y)){const b=g.reduce((M,S)=>S>M?S:M,0);for(const[M,S]of g.entries()){const I=b-S;if(I){for(let z=0;z<I;z++)tc(i,i.createPositionAt(h.getChild(M),"end"));o=!0}}}return o}function Oi(h){const o=h.attributeKey;return"attribute"===h.type&&("headingRows"===o||"colspan"===o||"rowspan"===o)}function U0(h,i){let o=!1;for(const l of h.getChildren())l.is("element","tableRow")&&(o=Op(l,i)||o);return o}function Op(h,i){let o=!1;for(const l of h.getChildren())o=$f(l,i)||o;return o}function $f(h,i){if(0==h.childCount)return i.insertElement("paragraph",h),!0;const o=Array.from(h.getChildren()).filter(l=>l.is("$text"));for(const l of o)i.wrap(i.createRangeOn(l),"paragraph");return!!o.length}function xu(h){return!(!h.position||!h.position.parent.is("element","tableCell"))&&("insert"==h.type&&"$text"==h.name||"remove"==h.type)}function $5(h,i){if(!h.is("element","paragraph"))return!1;const o=i.toViewElement(h);return!!o&&yu(h)!==o.is("element","span")}Z(102);class Gf extends ot{static get pluginName(){return"TableEditing"}init(){const i=this.editor,o=i.model,l=o.schema,d=i.conversion;l.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isObject:!0,isBlock:!0}),l.register("tableRow",{allowIn:"table",isLimit:!0}),l.register("tableCell",{allowIn:"tableRow",allowChildren:"$block",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),d.for("upcast").add(g=>{g.on("element:figure",(y,b,M)=>{if(!M.consumable.test(b.viewItem,{name:!0,classes:"table"}))return;const S=function(z){for(const H of z.getChildren())if(H.is("element","table"))return H}(b.viewItem);if(!S||!M.consumable.test(S,{name:!0}))return;const I=qr(M.convertItem(S,b.modelCursor).modelRange.getItems());I&&(M.consumable.consume(b.viewItem,{name:!0,classes:"table"}),M.convertChildren(b.viewItem,M.writer.createPositionAt(I,"end")),M.updateConversionResult(I,b))})}),d.for("upcast").add(h=>{h.on("element:table",(i,o,l)=>{const d=o.viewItem;if(!l.consumable.test(d,{name:!0}))return;const{rows:g,headingRows:y,headingColumns:b}=function(I){const z={headingRows:0,headingColumns:0},H=[],Y=[];let J;for(const ee of Array.from(I.getChildren()))if("tbody"===ee.name||"thead"===ee.name||"tfoot"===ee.name){"thead"!==ee.name||J||(J=ee);const oe=Array.from(ee.getChildren()).filter(ue=>ue.is("element","tr"));for(const ue of oe)if("thead"===ue.parent.name&&ue.parent===J)z.headingRows++,H.push(ue);else{Y.push(ue);const xe=Sp(ue);xe>z.headingColumns&&(z.headingColumns=xe)}}return z.rows=[...H,...Y],z}(d),M={};b&&(M.headingColumns=b),y&&(M.headingRows=y);const S=l.writer.createElement("table",M);if(l.safeInsert(S,o.modelCursor)){if(l.consumable.consume(d,{name:!0}),g.forEach(I=>l.convertItem(I,l.writer.createPositionAt(S,"end"))),l.convertChildren(d,l.writer.createPositionAt(S,"end")),S.isEmpty){const I=l.writer.createElement("tableRow");l.writer.insert(I,l.writer.createPositionAt(S,"end")),tc(l.writer,l.writer.createPositionAt(I,"end"))}l.updateConversionResult(S,o)}})}),d.for("editingDowncast").add(v2({asWidget:!0})),d.for("dataDowncast").add(v2()),d.for("upcast").elementToElement({model:"tableRow",view:"tr"}),d.for("upcast").add(g=>{g.on("element:tr",(y,b)=>{b.viewItem.isEmpty&&0==b.modelCursor.index&&y.stop()},{priority:"high"})}),d.for("editingDowncast").add(g=>g.on("insert:tableRow",(y,b,M)=>{const S=b.item;if(!M.consumable.consume(S,"insert"))return;const I=S.parent,z=function(oe){for(const ue of oe.getChildren())if("table"===ue.name)return ue}(M.mapper.toViewElement(I)),H=I.getChildIndex(S),Y=new Kn(I,{row:H}),J={headingRows:I.getAttribute("headingRows")||0,headingColumns:I.getAttribute("headingColumns")||0},ee=new Map;for(const oe of Y){const ue=ee.get(H)||O0(z,S,H,J,M);ee.set(H,ue),M.consumable.consume(oe.cell,"insert"),p3(oe,J,M.writer.createPositionAt(ue,"end"),M,{asWidget:!0})}})),d.for("editingDowncast").add(g=>g.on("remove:tableRow",(y,b,M)=>{y.stop();const S=M.writer,I=M.mapper,z=I.toViewPosition(b.position).getLastMatchingPosition(ee=>!ee.item.is("element","tr")).nodeAfter,H=z.parent.parent,Y=S.createRangeOn(z),J=S.remove(Y);for(const ee of S.createRangeIn(J).getItems())I.unbindViewElement(ee);F5("thead",H,M),F5("tbody",H,M)},{priority:"higher"})),d.for("upcast").elementToElement({model:"tableCell",view:"td"}),d.for("upcast").elementToElement({model:"tableCell",view:"th"}),d.for("upcast").add(Rf("td")),d.for("upcast").add(Rf("th")),d.for("editingDowncast").add(g=>g.on("insert:tableCell",(y,b,M)=>{const S=b.item;if(!M.consumable.consume(S,"insert"))return;const I=S.parent,z=I.parent,H=z.getChildIndex(I),Y=new Kn(z,{row:H}),J={headingRows:z.getAttribute("headingRows")||0,headingColumns:z.getAttribute("headingColumns")||0};for(const ee of Y)if(ee.cell===S){const oe=M.mapper.toViewElement(I);return void p3(ee,J,M.writer.createPositionAt(oe,I.getChildIndex(S)),M,{asWidget:!0})}})),d.for("editingDowncast").elementToElement({model:"paragraph",view:At,converterPriority:"high"}),d.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),d.for("upcast").attributeToAttribute({model:{key:"colspan",value:W5("colspan")},view:"colspan"}),d.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),d.for("upcast").attributeToAttribute({model:{key:"rowspan",value:W5("rowspan")},view:"rowspan"}),d.for("editingDowncast").add(g=>g.on("attribute:headingColumns:table",(y,b,M)=>{const S=b.item;if(!M.consumable.consume(b.item,y.name))return;const I={headingRows:S.getAttribute("headingRows")||0,headingColumns:S.getAttribute("headingColumns")||0},z=b.attributeOldValue,H=b.attributeNewValue,Y=(z>H?z:H)-1;for(const J of new Kn(S,{endColumn:Y}))sn(J,I,M)})),i.data.mapper.on("modelToViewPosition",(g,y)=>{const b=y.modelPosition.parent,M=y.modelPosition.nodeBefore;if(!b.is("element","tableCell")||!M||!M.is("element","paragraph"))return;const S=y.mapper.toViewElement(M),I=y.mapper.toViewElement(b);S===I&&(y.viewPosition=y.mapper.findPositionIn(I,M.maxOffset))}),i.config.define("table.defaultHeadings.rows",0),i.config.define("table.defaultHeadings.columns",0),i.commands.add("insertTable",new wv(i)),i.commands.add("insertTableRowAbove",new Bf(i,{order:"above"})),i.commands.add("insertTableRowBelow",new Bf(i,{order:"below"})),i.commands.add("insertTableColumnLeft",new H5(i,{order:"left"})),i.commands.add("insertTableColumnRight",new H5(i,{order:"right"})),i.commands.add("removeTableRow",new j0(i)),i.commands.add("removeTableColumn",new Np(i)),i.commands.add("splitTableCellVertically",new bu(i,{direction:"vertically"})),i.commands.add("splitTableCellHorizontally",new bu(i,{direction:"horizontally"})),i.commands.add("mergeTableCells",new Lp(i)),i.commands.add("mergeTableCellRight",new B0(i,{direction:"right"})),i.commands.add("mergeTableCellLeft",new B0(i,{direction:"left"})),i.commands.add("mergeTableCellDown",new B0(i,{direction:"down"})),i.commands.add("mergeTableCellUp",new B0(i,{direction:"up"})),i.commands.add("setTableColumnHeader",new Cv(i)),i.commands.add("setTableRowHeader",new n4(i)),i.commands.add("selectTableRow",new qf(i)),i.commands.add("selectTableColumn",new Eu(i)),function(h){h.document.registerPostFixer(()=>function(i){const o=i.document.differ,l=new Set;for(const d of o.getChanges())if("attribute"===d.type){const g=d.range.start.nodeAfter;g&&g.is("element","table")&&"headingRows"===d.attributeKey&&l.add(g)}else if("insert"===d.type||"remove"===d.type)if("tableRow"===d.name){const g=d.position.findAncestor("table"),y=g.getAttribute("headingRows")||0;d.position.offset<y&&l.add(g)}else if("tableCell"===d.name){const g=d.position.findAncestor("table"),y=g.getAttribute("headingColumns")||0;d.position.offset<y&&l.add(g)}if(l.size){for(const d of l.values())o.refreshItem(d);return!0}return!1}(h))}(o),function(h){h.document.registerPostFixer(i=>function(o,l){const d=l.document.differ.getChanges();let g=!1;const y=new Set;for(const b of d){let M;"table"==b.name&&"insert"==b.type&&(M=b.position.nodeAfter),"tableRow"!=b.name&&"tableCell"!=b.name||(M=b.position.findAncestor("table")),Oi(b)&&(M=b.range.start.findAncestor("table")),M&&!y.has(M)&&(g=q5(M,o)||g,g=no(M,o)||g,y.add(M))}return g}(i,h))}(o),function(h,i){h.document.registerPostFixer(()=>function(o,l){const d=new Set;for(const g of o.getChanges()){const y="attribute"==g.type?g.range.start.parent:g.position.parent;y.is("element","tableCell")&&d.add(y)}for(const g of d.values())for(const y of[...g.getChildren()].filter(b=>$5(b,l)))o.refreshItem(y);return!1}(h.document.differ,i))}(o,i.editing.mapper),function(h){h.document.registerPostFixer(i=>function(o,l){const d=l.document.differ.getChanges();let g=!1;for(const y of d)"insert"==y.type&&"table"==y.name&&(g=U0(y.position.nodeAfter,o)||g),"insert"==y.type&&"tableRow"==y.name&&(g=Op(y.position.nodeAfter,o)||g),"insert"==y.type&&"tableCell"==y.name&&(g=$f(y.position.nodeAfter,o)||g),xu(y)&&(g=$f(y.position.parent,o)||g);return g}(i,h))}(o)}static get requires(){return[i4]}}function W5(h){return i=>{const o=parseInt(i.getAttribute(h));return Number.isNaN(o)||o<=0?null:o}}Z(104);class Vp extends _n{constructor(i){super(i);const o=this.bindTemplate;this.items=this._createGridCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(l,d)=>`${d} \xd7 ${l}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":o.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:o.to("label")}]}],on:{mousedown:o.to(l=>{l.preventDefault()}),click:o.to(()=>{this.fire("execute")})}}),this.on("boxover",(l,d)=>{const{row:g,column:y}=d.target.dataset;this.set({rows:parseInt(g),columns:parseInt(y)})}),this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const i=this.rows,o=this.columns;this.items.map((l,d)=>{const g=Math.floor(d/10)<i&&d%10<o;l.set("isOn",g)})}_createGridCollection(){const i=[];for(let o=0;o<100;o++){const l=Math.floor(o/10);i.push(new q0(this.locale,l+1,o%10+1))}return this.createCollection(i)}}class q0 extends _n{constructor(i,o,l){super(i);const d=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",d.if("isOn","ck-on")],"data-row":o,"data-column":l}})}}class Mv extends ot{static get pluginName(){return"TableUI"}init(){const i=this.editor,o=this.editor.t,l="ltr"===i.locale.contentLanguageDirection;i.ui.componentFactory.add("insertTable",d=>{const g=i.commands.get("insertTable"),y=Jc(d);let b;return y.bind("isEnabled").to(g),y.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),y.on("change:isOpen",()=>{b||(b=new Vp(d),y.panelView.children.add(b),b.delegate("execute").to(y),y.buttonView.on("open",()=>{b.rows=0,b.columns=0}),y.on("execute",()=>{i.execute("insertTable",{rows:b.rows,columns:b.columns}),i.editing.view.focus()}))}),y}),i.ui.componentFactory.add("tableColumn",d=>{const g=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:l?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:l?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return this._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',g,d)}),i.ui.componentFactory.add("tableRow",d=>{const g=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return this._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',g,d)}),i.ui.componentFactory.add("mergeTableCells",d=>{const g=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:l?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:l?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',g,d)})}_prepareDropdown(i,o,l,d){const g=this.editor,y=Jc(d),b=this._fillDropdownWithListOptions(y,l);return y.buttonView.set({label:i,icon:o,tooltip:!0}),y.bind("isEnabled").toMany(b,"isEnabled",(...M)=>M.some(S=>S)),this.listenTo(y,"execute",M=>{g.execute(M.source.commandName),g.editing.view.focus()}),y}_prepareMergeSplitButtonDropdown(i,o,l,d){const g=this.editor,y=Jc(d,Z8),b=g.commands.get("mergeTableCells"),M=this._fillDropdownWithListOptions(y,l);return y.buttonView.set({label:i,icon:o,tooltip:!0,isEnabled:!0}),y.bind("isEnabled").toMany([b,...M],"isEnabled",(...S)=>S.some(I=>I)),this.listenTo(y.buttonView,"execute",()=>{g.execute("mergeTableCells"),g.editing.view.focus()}),this.listenTo(y,"execute",S=>{g.execute(S.source.commandName),g.editing.view.focus()}),y}_fillDropdownWithListOptions(i,o){const l=this.editor,d=[],g=new zi;for(const y of o)Fp(y,l,d,g);return Th(i,g),d}}function Fp(h,i,o,l){const d=h.model=new O6(h.model),{commandName:g,bindIsOn:y}=h.model;if("button"===h.type||"switchbutton"===h.type){const b=i.commands.get(g);o.push(b),d.set({commandName:g}),d.bind("isEnabled").to(b),y&&d.bind("isOn").to(b,"value")}d.set({withText:!0}),l.add(h)}Z(106);class r4 extends ot{static get pluginName(){return"TableSelection"}static get requires(){return[i4]}init(){this.listenTo(this.editor.model,"deleteContent",(o,l)=>this._handleDeleteContent(o,l),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const i=V0(this.editor.model.document.selection);return 0==i.length?null:i}getSelectionAsFragment(){const i=this.getSelectedTableCells();return i?this.editor.model.change(o=>{const l=o.createDocumentFragment(),d=this.editor.plugins.get("TableUtils"),{first:g,last:y}=D1(i),{first:b,last:M}=Qi(i),S=i[0].findAncestor("table");let I=M,z=y;if(Ff(i,d)){const Y={firstColumn:g,lastColumn:y,firstRow:b,lastRow:M};I=U5(S,Y),z=H0(S,Y)}const H=jf(S,{startRow:b,startColumn:g,endRow:I,endColumn:z},o);return o.insert(H,l,0),l}):null}setCellSelection(i,o){const l=this._getCellsToSelect(i,o);this.editor.model.change(d=>{d.setSelection(l.cells.map(g=>d.createRangeOn(g)),{backward:l.backward})})}getFocusCell(){const i=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return i&&i.is("element","tableCell")?i:null}getAnchorCell(){const i=qr(this.editor.model.document.selection.getRanges()).getContainedElement();return i&&i.is("element","tableCell")?i:null}_defineSelectionConverter(){const i=this.editor,o=new Set;i.conversion.for("editingDowncast").add(l=>l.on("selection",(d,g,y)=>{const b=y.writer;!function(I){for(const z of o)I.removeClass("ck-editor__editable_selected",z);o.clear()}(b);const M=this.getSelectedTableCells();if(!M)return;for(const I of M){const z=y.mapper.toViewElement(I);b.addClass("ck-editor__editable_selected",z),o.add(z)}const S=y.mapper.toViewElement(M[M.length-1]);b.setSelection(S,0)},{priority:"lowest"}))}_enablePluginDisabling(){const i=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const o=this.getSelectedTableCells();if(!o)return;i.model.change(l=>{const d=l.createPositionAt(o[0],0),g=i.model.schema.getNearestSelectionRange(d);l.setSelection(g)})}})}_handleDeleteContent(i,o){const[l,d]=o,g=this.editor.model,y=!d||"backward"==d.direction,b=V0(l);b.length&&(i.stop(),g.change(M=>{const S=b[y?b.length-1:0];g.change(z=>{for(const H of b)g.deleteContent(z.createSelection(H,"in"))});const I=g.schema.getNearestSelectionRange(M.createPositionAt(S,0));l.is("documentSelection")?M.setSelection(I):l.setTo(I)}))}_getCellsToSelect(i,o){const l=this.editor.plugins.get("TableUtils"),d=l.getCellLocation(i),g=l.getCellLocation(o),y=Math.min(d.row,g.row),b=Math.max(d.row,g.row),M=Math.min(d.column,g.column),S=Math.max(d.column,g.column),I=new Array(b-y+1).fill(null).map(()=>[]),z={startRow:y,endRow:b,startColumn:M,endColumn:S};for(const{row:J,cell:ee}of new Kn(i.findAncestor("table"),z))I[J-y].push(ee);const H=g.row<d.row,Y=g.column<d.column;return H&&I.reverse(),Y&&I.forEach(J=>J.reverse()),{cells:I.flat(),backward:H||Y}}}class $0 extends ot{static get pluginName(){return"TableClipboard"}static get requires(){return[r4,i4]}init(){const i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",(l,d)=>this._onCopyCut(l,d)),this.listenTo(o,"cut",(l,d)=>this._onCopyCut(l,d)),this.listenTo(i.model,"insertContent",(l,d)=>this._onInsertContent(l,...d),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(i,o){const l=this.editor.plugins.get(r4);if(!l.getSelectedTableCells()||"cut"==i.name&&this.editor.isReadOnly)return;o.preventDefault(),i.stop();const g=this.editor.editing.view.document,y=this.editor.data.toView(l.getSelectionAsFragment());g.fire("clipboardOutput",{dataTransfer:o.dataTransfer,content:y,method:i.name})}_onInsertContent(i,o,l){if(l&&!l.is("documentSelection"))return;const d=this.editor.model,g=this.editor.plugins.get(i4);let y=function(M,S){if(!M.is("documentFragment")&&!M.is("element"))return null;if(M.is("element","table"))return M;if(1==M.childCount&&M.getChild(0).is("element","table"))return M.getChild(0);const I=S.createRangeIn(M);for(const z of I.getItems())if(z.is("element","table")){const H=S.createRange(I.start,S.createPositionBefore(z));if(S.hasContent(H,{ignoreWhitespaces:!0}))return null;const Y=S.createRange(S.createPositionAfter(z),I.end);return S.hasContent(Y,{ignoreWhitespaces:!0})?null:z}return null}(o,d);if(!y)return;const b=mr(d.document.selection);b.length?(i.stop(),d.change(M=>{const S={width:g.getColumns(y),height:g.getRows(y)},I=function(oe,ue,xe,je){const ut=oe[0].findAncestor("table"),zt=D1(oe),_i=Qi(oe),Kt={firstColumn:zt.first,lastColumn:zt.last,firstRow:_i.first,lastRow:_i.last},io=1===oe.length;return io&&(Kt.lastRow+=ue.height-1,Kt.lastColumn+=ue.width-1,function(ro,oo,s1,z1){const _2=z1.getColumns(ro),v3=z1.getRows(ro);s1>_2&&z1.insertColumns(ro,{at:_2,columns:s1-_2}),oo>v3&&z1.insertRows(ro,{at:v3,rows:oo-v3})}(ut,Kt.lastRow+1,Kt.lastColumn+1,je)),io||!Ff(oe,je)?function(ro,oo,s1){const{firstRow:z1,lastRow:_2,firstColumn:v3,lastColumn:o4}=oo,ed={first:z1,last:_2},Iu={first:v3,last:o4};Z5(ro,v3,ed,s1),Z5(ro,o4+1,ed,s1),Su(ro,z1,Iu,s1),Su(ro,_2+1,Iu,s1,z1)}(ut,Kt,xe):(Kt.lastRow=U5(ut,Kt),Kt.lastColumn=H0(ut,Kt)),Kt}(b,S,M,g),H=I.lastColumn-I.firstColumn+1,Y={startRow:0,startColumn:0,endRow:Math.min(I.lastRow-I.firstRow+1,S.height)-1,endColumn:Math.min(H,S.width)-1};y=jf(y,Y,M);const J=b[0].findAncestor("table"),ee=this._replaceSelectedCellsWithPasted(y,S,J,I,M);if(this.editor.plugins.get("TableSelection").isEnabled){const oe=Ip(ee.map(ue=>M.createRangeOn(ue)));M.setSelection(oe)}else M.setSelection(ee[0],0)})):ku(y,g)}_replaceSelectedCellsWithPasted(i,o,l,d,g){const{width:y,height:b}=o,M=function(oe,ue,xe){const je=new Array(xe).fill(null).map(()=>new Array(ue).fill(null));for(const{column:ut,row:zt,cell:_i}of new Kn(oe))je[zt][ut]=_i;return je}(i,y,b),S=[...new Kn(l,{startRow:d.firstRow,endRow:d.lastRow,startColumn:d.firstColumn,endColumn:d.lastColumn,includeAllSlots:!0})],I=[];let z;for(const oe of S){const{row:ue,column:xe}=oe;xe===d.firstColumn&&(z=oe.getPositionBefore());const zt=M[(ue-d.firstRow)%b][(xe-d.firstColumn)%y],_i=zt?g.cloneElement(zt):null,Kt=this._replaceTableSlotCell(oe,_i,z,g);Kt&&(j5(Kt,ue,xe,d.lastRow,d.lastColumn,g),I.push(Kt),z=g.createPositionAfter(Kt))}const H=parseInt(l.getAttribute("headingRows")||0),Y=parseInt(l.getAttribute("headingColumns")||0),ee=d.firstColumn<Y&&Y<=d.lastColumn;if(d.firstRow<H&&H<=d.lastRow){const oe=Su(l,H,{first:d.firstColumn,last:d.lastColumn},g,d.firstRow);I.push(...oe)}if(ee){const oe=Z5(l,Y,{first:d.firstRow,last:d.lastRow},g);I.push(...oe)}return I}_replaceTableSlotCell(i,o,l,d){const{cell:g,isAnchor:y}=i;return y&&d.remove(g),o?(d.insert(o,l),o):null}}function Su(h,i,o,l,d=0){if(!(i<1))return Uo(h,i,d).filter(({column:g,cellWidth:y})=>Tu(g,y,o)).map(({cell:g})=>wu(g,i,l))}function Z5(h,i,o,l){if(!(i<1))return qo(h,i).filter(({row:d,cellHeight:g})=>Tu(d,g,o)).map(({cell:d,column:g})=>B5(d,g,i,l))}function Tu(h,i,o){const l=h+i-1,{first:d,last:g}=o;return h>=d&&h<=g||h<d&&l>=d}class Wf extends ot{static get pluginName(){return"TableKeyboard"}static get requires(){return[r4]}init(){const i=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",(...o)=>this._handleTabOnSelectedTable(...o),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(i,"arrowKey",(...o)=>this._onArrowKey(...o),{context:"table"})}_handleTabOnSelectedTable(i,o){const l=this.editor,d=l.model.document.selection.getSelectedElement();d&&d.is("element","table")&&(o(),l.model.change(g=>{g.setSelection(g.createRangeIn(d.getChild(0).getChild(0)))}))}_getTabHandler(i){const o=this.editor;return(l,d)=>{let g=zr(o.model.document.selection)[0];if(g||(g=this.editor.plugins.get("TableSelection").getFocusCell()),!g)return;d();const y=g.parent,b=y.parent,M=b.getChildIndex(y),S=y.getChildIndex(g),I=0===S;if(!i&&I&&0===M)return void o.model.change(ee=>{ee.setSelection(ee.createRangeOn(b))});const z=this.editor.plugins.get("TableUtils"),H=S===y.childCount-1,Y=M===z.getRows(b)-1;if(i&&Y&&H&&(o.execute("insertTableRowBelow"),M===z.getRows(b)-1))return void o.model.change(ee=>{ee.setSelection(ee.createRangeOn(b))});let J;if(i&&H)J=b.getChild(M+1).getChild(0);else if(!i&&I){const ee=b.getChild(M-1);J=ee.getChild(ee.childCount-1)}else J=y.getChild(S+(i?1:-1));o.model.change(ee=>{ee.setSelection(ee.createRangeIn(J))})}}_onArrowKey(i,o){const d=Rc(o.keyCode,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(d,o.shiftKey)&&(o.preventDefault(),o.stopPropagation(),i.stop())}_handleArrowKeys(i,o){const l=this.editor.model,d=l.document.selection,g=["right","down"].includes(i),y=V0(d);if(y.length){let M;return M=o?this.editor.plugins.get("TableSelection").getFocusCell():g?y[y.length-1]:y[0],this._navigateFromCellInDirection(M,i,o),!0}const b=d.focus.findAncestor("tableCell");if(!b)return!1;if(!d.isCollapsed)if(o){if(d.isBackward==g&&!d.containsEntireContent(b))return!1}else{const M=d.getSelectedElement();if(!M||!l.schema.isObject(M))return!1}return!!this._isSelectionAtCellEdge(d,b,g)&&(this._navigateFromCellInDirection(b,i,o),!0)}_isSelectionAtCellEdge(i,o,l){const d=this.editor.model,g=this.editor.model.schema,y=l?i.getLastPosition():i.getFirstPosition();if(!g.getLimitElement(y).is("element","tableCell"))return d.createPositionAt(o,l?"end":0).isTouching(y);const b=d.createSelection(y);return d.modifySelection(b,{direction:l?"forward":"backward"}),y.isEqual(b.focus)}_navigateFromCellInDirection(i,o,l=!1){const d=this.editor.model,g=i.findAncestor("table"),y=[...new Kn(g,{includeAllSlots:!0})],{row:b,column:M}=y[y.length-1],S=y.find(({cell:ee})=>ee==i);let{row:I,column:z}=S;switch(o){case"left":z--;break;case"up":I--;break;case"right":z+=S.cellWidth;break;case"down":I+=S.cellHeight}if(I<0||I>b||z<0&&I<=0||z>M&&I>=b)return void d.change(ee=>{ee.setSelection(ee.createRangeOn(g))});z<0?(z=l?0:M,I--):z>M&&(z=l?M:0,I++);const H=y.find(ee=>ee.row==I&&ee.column==z).cell,Y=["right","down"].includes(o),J=this.editor.plugins.get("TableSelection");if(l&&J.isEnabled){const ee=J.getAnchorCell()||i;J.setCellSelection(ee,H)}else{const ee=d.createPositionAt(H,Y?0:"end");d.change(oe=>{oe.setSelection(ee)})}}}class g3 extends oa{constructor(i){super(i),this.domEventType=["mousemove","mouseleave"]}onDomEvent(i){this.fire(i.type,i)}}class gr extends ot{static get pluginName(){return"TableMouse"}static get requires(){return[r4]}init(){this.editor.editing.view.addObserver(g3),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const i=this.editor;let o=!1;const l=i.plugins.get(r4);this.listenTo(i.editing.view.document,"mousedown",(d,g)=>{if(!this.isEnabled||!l.isEnabled||!g.domEvent.shiftKey)return;const y=l.getAnchorCell()||zr(i.model.document.selection)[0];if(!y)return;const b=this._getModelTableCellFromDomEvent(g);b&&_o(y,b)&&(o=!0,l.setCellSelection(y,b),g.preventDefault())}),this.listenTo(i.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(i.editing.view.document,"selectionChange",d=>{o&&d.stop()},{priority:"highest"})}_enableMouseDragSelection(){const i=this.editor;let o,l,d=!1,g=!1;const y=i.plugins.get(r4);this.listenTo(i.editing.view.document,"mousedown",(b,M)=>{this.isEnabled&&y.isEnabled&&(M.domEvent.shiftKey||M.domEvent.ctrlKey||M.domEvent.altKey||(o=this._getModelTableCellFromDomEvent(M)))}),this.listenTo(i.editing.view.document,"mousemove",(b,M)=>{if(!M.domEvent.buttons||!o)return;const S=this._getModelTableCellFromDomEvent(M);S&&_o(o,S)&&(l=S,d||l==o||(d=!0)),d&&(g=!0,y.setCellSelection(o,l),M.preventDefault())}),this.listenTo(i.editing.view.document,"mouseup",()=>{d=!1,g=!1,o=null,l=null}),this.listenTo(i.editing.view.document,"selectionChange",b=>{g&&b.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(i){const l=this.editor.editing.view.createPositionAt(i.target,0);return this.editor.editing.mapper.toModelPosition(l).parent.findAncestor("tableCell",{includeSelf:!0})}}function _o(h,i){return h.parent.parent==i.parent.parent}function Y5(h){const i=h.getSelectedElement();return i&&Yf(i)?i:null}function Zf(h){let i=h.getFirstPosition().parent;for(;i;){if(i.is("element")&&Yf(i))return i;i=i.parent}return null}function Yf(h){return!!h.getCustomProperty("table")&&Bn(h)}Z(108);const K5={autoRefresh:!0};class G0{constructor(i,o=K5){if(!i)throw new W.a("token-missing-token-url",this);o.initValue&&this._validateTokenValue(o.initValue),this.set("value",o.initValue),this._refresh="function"==typeof i?i:()=>{return l=i,new Promise((d,g)=>{const y=new XMLHttpRequest;y.open("GET",l),y.addEventListener("load",()=>{const b=y.status,M=y.response;return b<200||b>299?g(new W.a("token-cannot-download-new-token",null)):d(M)}),y.addEventListener("error",()=>g(new Error("Network Error"))),y.addEventListener("abort",()=>g(new Error("Abort"))),y.send()});var l},this._options=Object.assign({},K5,o)}init(){return new Promise((i,o)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),i(this)):this.refreshToken().then(i).catch(o)})}refreshToken(){return this._refresh().then(i=>{this._validateTokenValue(i),this.set("value",i),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(i){const o="string"==typeof i,l=!/^".*"$/.test(i),d=o&&3===i.split(".").length;if(!l||!d)throw new W.a("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const i=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},i)}_getTokenRefreshTimeoutTime(){try{const[,i]=this.value.split("."),{exp:o}=JSON.parse(atob(i));return o?Math.floor((1e3*o-Date.now())/2):36e5}catch(i){return 36e5}}static create(i,o=K5){return new G0(i,o).init()}}_t(G0,Mt);var Ev=G0;const Q5=/^data:(\S*?);base64,/;class J5{constructor(i,o,l){if(!i)throw new W.a("fileuploader-missing-file",null);if(!o)throw new W.a("fileuploader-missing-token",null);if(!l)throw new W.a("fileuploader-missing-api-address",null);this.file=function(d){if("string"!=typeof d)return!1;const g=d.match(Q5);return!(!g||!g.length)}(i)?function(d,g=512){try{const y=d.match(Q5)[1],b=atob(d.replace(Q5,"")),M=[];for(let S=0;S<b.length;S+=g){const I=b.slice(S,S+g),z=new Array(I.length);for(let H=0;H<I.length;H++)z[H]=I.charCodeAt(H);M.push(new Uint8Array(z))}return new Blob(M,{type:y})}catch(y){throw new W.a("fileuploader-decoding-image-data-error",null)}}(i):i,this._token=o,this._apiAddress=l}onProgress(i){return this.on("progress",(o,l)=>i(l)),this}onError(i){return this.once("error",(o,l)=>i(l)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const i=new XMLHttpRequest;i.open("POST",this._apiAddress),i.setRequestHeader("Authorization",this._token.value),i.responseType="json",this.xhr=i}_attachXHRListeners(){const i=this,o=this.xhr;function l(d){return()=>i.fire("error",d)}o.addEventListener("error",l("Network Error")),o.addEventListener("abort",l("Abort")),o.upload&&o.upload.addEventListener("progress",d=>{d.lengthComputable&&this.fire("progress",{total:d.total,uploaded:d.loaded})}),o.addEventListener("load",()=>{const d=o.status,g=o.response;if(d<200||d>299)return this.fire("error",g.message||g.error)})}_sendRequest(){const i=new FormData,o=this.xhr;return i.append("file",this.file),new Promise((l,d)=>{o.addEventListener("load",()=>{const g=o.status,y=o.response;return g<200||g>299?d(y.message?new W.a("fileuploader-uploading-data-failed",this,{message:y.message}):y.error):l(y)}),o.addEventListener("error",()=>d(new Error("Network Error"))),o.addEventListener("abort",()=>d(new Error("Abort"))),o.send(i)})}}_t(J5,se);class Kf{constructor(i,o){if(!i)throw new W.a("uploadgateway-missing-token",null);if(!o)throw new W.a("uploadgateway-missing-api-address",null);this._token=i,this._apiAddress=o}upload(i){return new J5(i,this._token,this._apiAddress)}}class yb extends Zs{static get pluginName(){return"CloudServicesCore"}createToken(i,o){return new Ev(i,o)}createUploadGateway(i,o){return new Kf(i,o)}}class X5 extends O9{}X5.builtinPlugins=[class extends ot{static get requires(){return[pa,Oh,Y6,eo,q9,ef]}static get pluginName(){return"Essentials"}},class extends ot{static get requires(){return[ga]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const h=this.editor.config.get("ckfinder.uploadUrl");h&&(this.editor.plugins.get(ga).createUploadAdapter=i=>new K9(i,h,this.editor.t))}},class extends ot{static get requires(){return[nl]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const h=this.editor.commands;h.get("bulletedList")&&T1(this.editor,this,/^[*-]\s$/,"bulletedList"),h.get("numberedList")&&T1(this.editor,this,/^1[.|)]\s$/,"numberedList"),h.get("todoList")&&T1(this.editor,this,/^\[\s?\]\s$/,"todoList"),h.get("checkTodoList")&&T1(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const h=this.editor.commands;if(h.get("bold")){const i=tu(this.editor,"bold");t3(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,i),t3(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,i)}if(h.get("italic")){const i=tu(this.editor,"italic");t3(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,i),t3(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,i)}if(h.get("code")){const i=tu(this.editor,"code");t3(this.editor,this,/(`)([^`]+)(`)$/g,i)}if(h.get("strikethrough")){const i=tu(this.editor,"strikethrough");t3(this.editor,this,/(~~)([^~]+)(~~)$/g,i)}}_addHeadingAutoformats(){const h=this.editor.commands.get("heading");h&&h.modelElements.filter(i=>i.match(/^heading[1-6]$/)).forEach(i=>{const l=new RegExp(`^(#{${i[7]}})\\s$`);T1(this.editor,this,l,()=>{if(!h.isEnabled||h.value===i)return!1;this.editor.execute("heading",{value:i})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&T1(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const h=this.editor,i=h.model.document.selection;h.commands.get("codeBlock")&&T1(h,this,/^```$/,()=>{if(i.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&T1(this.editor,this,/^---$/,"horizontalLine")}},class extends ot{static get requires(){return[nf,n3]}static get pluginName(){return"Bold"}},class extends ot{static get requires(){return[Q9,nu]}static get pluginName(){return"Italic"}},class extends ot{static get requires(){return[Wg,ep]}static get pluginName(){return"BlockQuote"}},class extends ot{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",mb,tp]}},class extends Zs{static get pluginName(){return"CloudServices"}static get requires(){return[yb]}init(){const h=this.context.config.get("cloudServices")||{};for(const i in h)this[i]=h[i];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(h){if(this._tokens.has(h))return Promise.resolve(this.getTokenFor(h));const i=this.context.plugins.get("CloudServicesCore").createToken(h);return this._tokens.set(h,i),i.init()}getTokenFor(h){const i=this._tokens.get(h);if(!i)throw new W.a("cloudservices-token-not-registered",this);return i}destroy(){super.destroy();for(const h of this._tokens.values())h.destroy()}},class extends ot{static get requires(){return[ip,"ImageUpload"]}init(){const h=this.editor;h.plugins.has("ImageBlockEditing")||h.plugins.has("ImageInlineEditing")||Object(W.b)("easy-image-image-feature-missing",h)}static get pluginName(){return"EasyImage"}},class extends ot{static get requires(){return[x0,op]}static get pluginName(){return"Heading"}},class extends ot{static get requires(){return[sp,lf]}static get pluginName(){return"Image"}},class extends ot{static get requires(){return[cp,lp]}static get pluginName(){return"ImageCaption"}},class extends ot{static get requires(){return[cu,hf]}static get pluginName(){return"ImageStyle"}},class extends ot{static get requires(){return[Ql,vo]}static get pluginName(){return"ImageToolbar"}afterInit(){const h=this.editor,i=h.t,o=h.plugins.get(Ql),l=h.plugins.get("ImageUtils");var d;o.register("image",{ariaLabel:i("Image toolbar"),items:(d=h.config.get("image.toolbar")||[],d.map(g=>me(g)?g.name:g)),getRelatedElement:g=>l.getClosestSelectedImageWidget(g)})}},class extends ot{static get pluginName(){return"ImageUpload"}static get requires(){return[tv,f2,Xg]}},class extends ot{static get pluginName(){return"Indent"}static get requires(){return[gp,vp]}},class extends ot{static get requires(){return[wp,Ef,kp]}static get pluginName(){return"Link"}},class extends ot{static get requires(){return[L0,mv]}static get pluginName(){return"List"}},class extends ot{static get requires(){return[O5,g2,ec,Bo]}static get pluginName(){return"MediaEmbed"}},i3,class extends ot{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Y2]}init(){const h=this.editor,i=h.editing.view.document,o=[];o.push(new bv(i)),o.push(new _v(i)),h.plugins.get("ClipboardPipeline").on("inputTransformation",(l,d)=>{if(d._isTransformedWithPasteFromOffice)return;const g=d.dataTransfer.getData("text/html"),y=o.find(b=>b.isActive(g));y&&(d._parsedData=function(h,i){const o=new DOMParser,l=R0(R0(function(M){const S=M.indexOf("</body>");if(S<0)return M;const I=M.indexOf("</html>",S+"</body>".length);return M.substring(0,S+"</body>".length)+(I>=0?M.substring(I):"")}(h=h.replace(/<!--\[if gte vml 1]>/g,"")))).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><"),d=o.parseFromString(l,"text/html");d.querySelectorAll("span[style*=spacerun]").forEach(S=>{const I=S.innerText.length||0;S.innerHTML=Array(I+1).join("\xa0 ").substr(0,I)});const g=d.body.innerHTML,y=function(M,S){const I=new xs(S),z=new ce(I,{renderingMode:"data"}),H=M.createDocumentFragment(),Y=M.body.childNodes;for(;Y.length>0;)H.appendChild(Y[0]);return z.domToView(H,{skipComments:!0})}(d,i),b=function(M){const S=[],I=[],z=Array.from(M.getElementsByTagName("style"));for(const H of z)H.sheet&&H.sheet.cssRules&&H.sheet.cssRules.length&&(S.push(H.sheet),I.push(H.innerHTML));return{styles:S,stylesString:I.join(" ")}}(d);return{body:y,bodyString:g,styles:b.styles,stylesString:b.stylesString}}(g,i.stylesProcessor),y.execute(d),d._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ot{static get requires(){return[Gf,Mv,r4,gr,Wf,$0,Bo]}static get pluginName(){return"Table"}},class extends ot{static get requires(){return[Ql]}static get pluginName(){return"TableToolbar"}afterInit(){const h=this.editor,i=h.t,o=h.plugins.get(Ql),l=h.config.get("table.contentToolbar"),d=h.config.get("table.tableToolbar");l&&o.register("tableContent",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Zf}),d&&o.register("table",{ariaLabel:i("Table toolbar"),items:d,getRelatedElement:Y5})}},class extends ot{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(h){super(h),h.config.define("typing",{transformations:{include:Ki}})}init(){const h=this.editor.model.document.selection;h.on("change:range",()=>{this.isEnabled=!h.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const h=this.editor,i=h.model,o=h.plugins.get("Input"),l=h.plugins.get("Delete"),d=function(y){const M=y.remove||[],S=I=>!M.includes(I);return function(I){const z=new Set;for(const H of I)if(X6[H])for(const Y of X6[H])z.add(Y);else z.add(H);return Array.from(z)}(y.include.concat(y.extra||[]).filter(S)).filter(S).map(I=>G9[I]||I).map(I=>({from:Qh(I.from),to:ol(I.to)}))}(h.config.get("typing.transformations")),g=new K6(h.model,y=>{for(const b of d)if(b.from.test(y))return{normalizedTransformation:b}});g.on("matched:data",(y,b)=>{if(!o.isInput(b.batch))return;const{from:M,to:S}=b.normalizedTransformation,I=M.exec(b.text),z=S(I.slice(1)),H=b.range;let Y=I.index;i.enqueueChange(J=>{for(let ee=1;ee<I.length;ee++){const oe=I[ee],ue=z[ee-1];if(null==ue){Y+=oe.length;continue}const xe=H.start.getShiftedBy(Y),je=i.createRange(xe,xe.getShiftedBy(oe.length)),ut=ma(xe);i.insertContent(J.createText(ue,ut),je),Y+=ue.length}i.enqueueChange(()=>{l.requestUndoOnBackspace()})})}),g.bind("isEnabled").to(this)}}],X5.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default},4213:(wt,Ve,F)=>{"use strict";F.d(Ve,{BH:()=>Ie,LL:()=>Pe,ZR:()=>it,zI:()=>De,US:()=>pe,tV:()=>de,$s:()=>Ii,r3:()=>si,Sg:()=>Ue,ne:()=>yr,vZ:()=>qi,ZB:()=>se,pd:()=>ys,m9:()=>x2,z$:()=>Je,jU:()=>me,ru:()=>Ee,d:()=>Xe,xb:()=>dn,w1:()=>vt,hl:()=>Ze,uI:()=>qe,UG:()=>Ce,b$:()=>Ge,G6:()=>jt,Mn:()=>It,xO:()=>_r,zd:()=>V1,eu:()=>Se});const R=function(ye){const fe=[];let _e=0;for(let We=0;We<ye.length;We++){let Me=ye.charCodeAt(We);Me<128?fe[_e++]=Me:Me<2048?(fe[_e++]=Me>>6|192,fe[_e++]=63&Me|128):55296==(64512&Me)&&We+1<ye.length&&56320==(64512&ye.charCodeAt(We+1))?(Me=65536+((1023&Me)<<10)+(1023&ye.charCodeAt(++We)),fe[_e++]=Me>>18|240,fe[_e++]=Me>>12&63|128,fe[_e++]=Me>>6&63|128,fe[_e++]=63&Me|128):(fe[_e++]=Me>>12|224,fe[_e++]=Me>>6&63|128,fe[_e++]=63&Me|128)}return fe},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,fe){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _e=fe?this.byteToCharMapWebSafe_:this.byteToCharMap_,We=[];for(let Me=0;Me<ye.length;Me+=3){const xt=ye[Me],Dt=Me+1<ye.length,vn=Dt?ye[Me+1]:0,wi=Me+2<ye.length,Xn=wi?ye[Me+2]:0;let sr=(15&vn)<<2|Xn>>6,Wr=63&Xn;wi||(Wr=64,Dt||(sr=64)),We.push(_e[xt>>2],_e[(3&xt)<<4|vn>>4],_e[sr],_e[Wr])}return We.join("")},encodeString(ye,fe){return this.HAS_NATIVE_SUPPORT&&!fe?btoa(ye):this.encodeByteArray(R(ye),fe)},decodeString(ye,fe){return this.HAS_NATIVE_SUPPORT&&!fe?atob(ye):function(ye){const fe=[];let _e=0,We=0;for(;_e<ye.length;){const Me=ye[_e++];if(Me<128)fe[We++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const xt=ye[_e++];fe[We++]=String.fromCharCode((31&Me)<<6|63&xt)}else if(Me>239&&Me<365){const wi=((7&Me)<<18|(63&ye[_e++])<<12|(63&ye[_e++])<<6|63&ye[_e++])-65536;fe[We++]=String.fromCharCode(55296+(wi>>10)),fe[We++]=String.fromCharCode(56320+(1023&wi))}else{const xt=ye[_e++],Dt=ye[_e++];fe[We++]=String.fromCharCode((15&Me)<<12|(63&xt)<<6|63&Dt)}}return fe.join("")}(this.decodeStringToByteArray(ye,fe))},decodeStringToByteArray(ye,fe){this.init_();const _e=fe?this.charToByteMapWebSafe_:this.charToByteMap_,We=[];for(let Me=0;Me<ye.length;){const xt=_e[ye.charAt(Me++)],vn=Me<ye.length?_e[ye.charAt(Me)]:0;++Me;const Xn=Me<ye.length?_e[ye.charAt(Me)]:64;++Me;const hn=Me<ye.length?_e[ye.charAt(Me)]:64;if(++Me,null==xt||null==vn||null==Xn||null==hn)throw Error();We.push(xt<<2|vn>>4),64!==Xn&&(We.push(vn<<4&240|Xn>>2),64!==hn&&We.push(Xn<<6&192|hn))}return We},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},W=function(ye){return function(ye){const fe=R(ye);return pe.encodeByteArray(fe,!0)}(ye).replace(/\./g,"")},de=function(ye){try{return pe.decodeString(ye,!0)}catch(fe){console.error("base64Decode failed: ",fe)}return null};function se(ye,fe){if(!(fe instanceof Object))return fe;switch(fe.constructor){case Date:return new Date(fe.getTime());case Object:void 0===ye&&(ye={});break;case Array:ye=[];break;default:return fe}for(const _e in fe)!fe.hasOwnProperty(_e)||!le(_e)||(ye[_e]=se(ye[_e],fe[_e]));return ye}function le(ye){return"__proto__"!==ye}class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((fe,_e)=>{this.resolve=fe,this.reject=_e})}wrapCallback(fe){return(_e,We)=>{_e?this.reject(_e):this.resolve(We),"function"==typeof fe&&(this.promise.catch(()=>{}),1===fe.length?fe(_e):fe(_e,We))}}}function Ue(ye,fe){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const We=fe||"demo-project",Me=ye.iat||0,xt=ye.sub||ye.user_id;if(!xt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${We}`,aud:We,iat:Me,exp:Me+3600,auth_time:Me,sub:xt,user_id:xt,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[W(JSON.stringify({alg:"none",type:"JWT"})),W(JSON.stringify(Dt)),""].join(".")}function Je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ye){return!1}}function me(){return"object"==typeof self&&self.self===self}function Ee(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xe(){return Je().indexOf("Electron/")>=0}function vt(){const ye=Je();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function It(){return Je().indexOf("MSAppHost/")>=0}function jt(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ze(){return"object"==typeof indexedDB}function Se(){return new Promise((ye,fe)=>{try{let _e=!0;const We="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(We);Me.onsuccess=()=>{Me.result.close(),_e||self.indexedDB.deleteDatabase(We),ye(!0)},Me.onupgradeneeded=()=>{_e=!1},Me.onerror=()=>{var xt;fe((null===(xt=Me.error)||void 0===xt?void 0:xt.message)||"")}}catch(_e){fe(_e)}})}function De(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class it extends Error{constructor(fe,_e,We){super(_e),this.code=fe,this.customData=We,this.name="FirebaseError",Object.setPrototypeOf(this,it.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(fe,_e,We){this.service=fe,this.serviceName=_e,this.errors=We}create(fe,..._e){const We=_e[0]||{},Me=`${this.service}/${fe}`,xt=this.errors[fe],Dt=xt?function(ye,fe){return ye.replace(Un,(_e,We)=>{const Me=fe[We];return null!=Me?String(Me):`<${We}?>`})}(xt,We):"Error";return new it(Me,`${this.serviceName}: ${Dt} (${Me}).`,We)}}const Un=/\{\$([^}]+)}/g;function si(ye,fe){return Object.prototype.hasOwnProperty.call(ye,fe)}function dn(ye){for(const fe in ye)if(Object.prototype.hasOwnProperty.call(ye,fe))return!1;return!0}function qi(ye,fe){if(ye===fe)return!0;const _e=Object.keys(ye),We=Object.keys(fe);for(const Me of _e){if(!We.includes(Me))return!1;const xt=ye[Me],Dt=fe[Me];if(Os(xt)&&Os(Dt)){if(!qi(xt,Dt))return!1}else if(xt!==Dt)return!1}for(const Me of We)if(!_e.includes(Me))return!1;return!0}function Os(ye){return null!==ye&&"object"==typeof ye}function _r(ye){const fe=[];for(const[_e,We]of Object.entries(ye))Array.isArray(We)?We.forEach(Me=>{fe.push(encodeURIComponent(_e)+"="+encodeURIComponent(Me))}):fe.push(encodeURIComponent(_e)+"="+encodeURIComponent(We));return fe.length?"&"+fe.join("&"):""}function V1(ye){const fe={};return ye.replace(/^\?/,"").split("&").forEach(We=>{if(We){const[Me,xt]=We.split("=");fe[decodeURIComponent(Me)]=decodeURIComponent(xt)}}),fe}function ys(ye){const fe=ye.indexOf("?");if(!fe)return"";const _e=ye.indexOf("#",fe);return ye.substring(fe,_e>0?_e:void 0)}function yr(ye,fe){const _e=new d1(ye,fe);return _e.subscribe.bind(_e)}class d1{constructor(fe,_e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_e,this.task.then(()=>{fe(this)}).catch(We=>{this.error(We)})}next(fe){this.forEachObserver(_e=>{_e.next(fe)})}error(fe){this.forEachObserver(_e=>{_e.error(fe)}),this.close(fe)}complete(){this.forEachObserver(fe=>{fe.complete()}),this.close()}subscribe(fe,_e,We){let Me;if(void 0===fe&&void 0===_e&&void 0===We)throw new Error("Missing Observer.");Me=function(ye,fe){if("object"!=typeof ye||null===ye)return!1;for(const _e of["next","error","complete"])if(_e in ye&&"function"==typeof ye[_e])return!0;return!1}(fe)?fe:{next:fe,error:_e,complete:We},void 0===Me.next&&(Me.next=Eo),void 0===Me.error&&(Me.error=Eo),void 0===Me.complete&&(Me.complete=Eo);const xt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch(Dt){}}),this.observers.push(Me),xt}unsubscribeOne(fe){void 0===this.observers||void 0===this.observers[fe]||(delete this.observers[fe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(fe){if(!this.finalized)for(let _e=0;_e<this.observers.length;_e++)this.sendOne(_e,fe)}sendOne(fe,_e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[fe])try{_e(this.observers[fe])}catch(We){"undefined"!=typeof console&&console.error&&console.error(We)}})}close(fe){this.finalized||(this.finalized=!0,void 0!==fe&&(this.finalError=fe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eo(){}function Ii(ye,fe=1e3,_e=2){const We=fe*Math.pow(_e,ye),Me=Math.round(.5*We*(Math.random()-.5)*2);return Math.min(144e5,We+Me)}function x2(ye){return ye&&ye._delegate?ye._delegate:ye}},7713:(wt,Ve,F)=>{"use strict";F.d(Ve,{Mq:()=>f.getApp,C6:()=>f.getApps});var f=F(1572);(0,f.registerVersion)("firebase","9.5.0","app")},7892:(wt,Ve,F)=>{"use strict";F.d(Ve,{Z:()=>f.Z});var f=F(6293);f.Z.registerVersion("firebase","9.5.0","app-compat")},4802:(wt,Ve,F)=>{"use strict";F.r(Ve);var f=F(8239),Z=F(6293),q=F(4213),R=F(1572),te=F(4762),pe=F(3855),ve=F(1177);const Je=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ce=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ee=new pe.Yd("@firebase/auth");function Ge(D,...k){Ee.logLevel<=pe.in.ERROR&&Ee.error(`Auth (${R.SDK_VERSION}): ${D}`,...k)}function Xe(D,...k){throw jt(D,...k)}function vt(D,...k){return jt(D,...k)}function It(D,k,E){const N=Object.assign(Object.assign({},qe()),{[k]:E});return new q.LL("auth","Firebase",N).create(k,{appName:D.name})}function Gt(D,k,E){if(!(k instanceof E))throw E.name!==k.constructor.name&&Xe(D,"argument-error"),It(D,"argument-error",`Type of ${k.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jt(D,...k){if("string"!=typeof D){const E=k[0],N=[...k.slice(1)];return N[0]&&(N[0].appName=D.name),D._errorFactory.create(E,...N)}return Ce.create(D,...k)}function Ze(D,k,...E){if(!D)throw jt(k,...E)}function Se(D){const k="INTERNAL ASSERTION FAILED: "+D;throw Ge(k),new Error(k)}function De(D,k){D||Se(k)}const Fe=new Map;function ze(D){De(D instanceof Function,"Expected a class definition");let k=Fe.get(D);return k?(De(k instanceof D,"Instance stored in cache mismatched with class"),k):(k=new D,Fe.set(D,k),k)}function Zt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Un(){return"http:"===Ui()||"https:"===Ui()}function Ui(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class tn{constructor(k,E){this.shortDelay=k,this.longDelay=E,De(E>k,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Un()||(0,q.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ni(D,k){De(D.emulator,"Emulator should always be set here");const{url:E}=D.emulator;return k?`${E}${k.startsWith("/")?k.slice(1):k}`:E}class Vr{static initialize(k,E,N){this.fetchImpl=k,E&&(this.headersImpl=E),N&&(this.responseImpl=N)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Mo={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},si=new tn(3e4,6e4);function bi(D,k){return D.tenantId&&!k.tenantId?Object.assign(Object.assign({},k),{tenantId:D.tenantId}):k}function dn(D,k,E,N){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,f.Z)(function*(D,k,E,N,j={}){return qi(D,j,()=>{let K={},be={};N&&("GET"===k?be=N:K={body:JSON.stringify(N)});const Ne=(0,q.xO)(Object.assign({key:D.config.apiKey},be)).slice(1),Qe=new(Vr.headers());return Qe.set("Content-Type","application/json"),Qe.set("X-Client-Version",D._getSdkClientVersion()),D.languageCode&&Qe.set("X-Firebase-Locale",D.languageCode),Vr.fetch()(ys(D,D.config.apiHost,E,Ne),Object.assign({method:k,headers:Qe,referrerPolicy:"no-referrer"},K))})})).apply(this,arguments)}function qi(D,k,E){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(D,k,E){D._canInitEmulator=!1;const N=Object.assign(Object.assign({},Mo),k);try{const j=new rr(D),K=yield Promise.race([E(),j.promise]);j.clearNetworkTimeout();const be=yield K.json();if("needConfirmation"in be)throw yr(D,"account-exists-with-different-credential",be);if(K.ok&&!("errorMessage"in be))return be;{const Ne=K.ok?be.errorMessage:be.error.message,[Qe,pt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qe)throw yr(D,"credential-already-in-use",be);if("EMAIL_EXISTS"===Qe)throw yr(D,"email-already-in-use",be);const Yt=N[Qe]||Qe.toLowerCase().replace(/[_\s]+/g,"-");if(pt)throw It(D,Yt,pt);Xe(D,Yt)}}catch(j){if(j instanceof q.ZR)throw j;Xe(D,"network-request-failed")}})).apply(this,arguments)}function _r(D,k,E,N){return V1.apply(this,arguments)}function V1(){return(V1=(0,f.Z)(function*(D,k,E,N,j={}){const K=yield dn(D,k,E,N,j);return"mfaPendingCredential"in K&&Xe(D,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function ys(D,k,E,N){const j=`${k}${E}?${N}`;return D.config.emulator?ni(D.config,j):`${D.config.apiScheme}://${j}`}class rr{constructor(k){this.auth=k,this.timer=null,this.promise=new Promise((E,N)=>{this.timer=setTimeout(()=>N(vt(this.auth,"timeout")),si.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function yr(D,k,E){const N={appName:D.name};E.email&&(N.email=E.email),E.phoneNumber&&(N.phoneNumber=E.phoneNumber);const j=vt(D,k,N);return j.customData._tokenResponse=E,j}function Tt(){return(Tt=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:delete",k)})).apply(this,arguments)}function $i(D,k){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function xo(D,k){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:lookup",k)})).apply(this,arguments)}function Ft(D){if(D)try{const k=new Date(Number(D));if(!isNaN(k.getTime()))return k.toUTCString()}catch(k){}}function or(){return(or=(0,f.Z)(function*(D,k=!1){const E=(0,q.m9)(D),N=yield E.getIdToken(k),j=gt(N);Ze(j&&j.exp&&j.auth_time&&j.iat,E.auth,"internal-error");const K="object"==typeof j.firebase?j.firebase:void 0,be=null==K?void 0:K.sign_in_provider;return{claims:j,token:N,authTime:Ft(Qn(j.auth_time)),issuedAtTime:Ft(Qn(j.iat)),expirationTime:Ft(Qn(j.exp)),signInProvider:be||null,signInSecondFactor:(null==K?void 0:K.sign_in_second_factor)||null}})).apply(this,arguments)}function Qn(D){return 1e3*Number(D)}function gt(D){const[k,E,N]=D.split(".");if(void 0===k||void 0===E||void 0===N)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,q.tV)(E);return j?JSON.parse(j):(Ge("Failed to decode base64 JWT payload"),null)}catch(j){return Ge("Caught error parsing JWT payload as JSON",j),null}}function Qo(D,k){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(D,k,E=!1){if(E)return k;try{return yield k}catch(N){throw N instanceof q.ZR&&Ii(N)&&D.auth.currentUser===D&&(yield D.auth.signOut()),N}})).apply(this,arguments)}function Ii({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Jn{constructor(k){this.user=k,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(k){var E;if(k){const N=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),N}{this.errorBackoff=3e4;const j=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(k=!1){var E=this;if(!this.isRunning)return;const N=this.getInterval(k);this.timerId=setTimeout((0,f.Z)(function*(){yield E.iteration()}),N)}iteration(){var k=this;return(0,f.Z)(function*(){try{yield k.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&k.schedule(!0))}k.schedule()})()}}class uo{constructor(k,E){this.createdAt=k,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ft(this.lastLoginAt),this.creationTime=Ft(this.createdAt)}_copy(k){this.createdAt=k.createdAt,this.lastLoginAt=k.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function x2(D){return ye.apply(this,arguments)}function ye(){return(ye=(0,f.Z)(function*(D){var k;const E=D.auth,N=yield D.getIdToken(),j=yield Qo(D,xo(E,{idToken:N}));Ze(null==j?void 0:j.users.length,E,"internal-error");const K=j.users[0];D._notifyReloadListener(K);const be=(null===(k=K.providerUserInfo)||void 0===k?void 0:k.length)?Me(K.providerUserInfo):[],Ne=We(D.providerData,be),Yt=!!D.isAnonymous&&!(D.email&&K.passwordHash||(null==Ne?void 0:Ne.length)),Pt={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Ne,metadata:new uo(K.createdAt,K.lastLoginAt),isAnonymous:Yt};Object.assign(D,Pt)})).apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(D){const k=(0,q.m9)(D);yield x2(k),yield k.auth._persistUserIfCurrent(k),k.auth._notifyListenersIfCurrent(k)})).apply(this,arguments)}function We(D,k){return[...D.filter(N=>!k.some(j=>j.providerId===N.providerId)),...k]}function Me(D){return D.map(k=>{var{providerId:E}=k,N=(0,te._T)(k,["providerId"]);return{providerId:E,uid:N.rawId||"",displayName:N.displayName||null,email:N.email||null,phoneNumber:N.phoneNumber||null,photoURL:N.photoUrl||null}})}function Dt(){return(Dt=(0,f.Z)(function*(D,k){const E=yield qi(D,{},()=>{const N=(0,q.xO)({grant_type:"refresh_token",refresh_token:k}).slice(1),{tokenApiHost:j,apiKey:K}=D.config,be=ys(D,j,"/v1/token",`key=${K}`);return Vr.fetch()(be,{method:"POST",headers:{"X-Client-Version":D._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:N})});return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class vn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(k){Ze(k.idToken,"internal-error"),Ze(void 0!==k.idToken,"internal-error"),Ze(void 0!==k.refreshToken,"internal-error");const E="expiresIn"in k&&void 0!==k.expiresIn?Number(k.expiresIn):function(D){const k=gt(D);return Ze(k,"internal-error"),Ze(void 0!==k.exp,"internal-error"),Ze(void 0!==k.iat,"internal-error"),Number(k.exp)-Number(k.iat)}(k.idToken);this.updateTokensAndExpiration(k.idToken,k.refreshToken,E)}getToken(k,E=!1){var N=this;return(0,f.Z)(function*(){return Ze(!N.accessToken||N.refreshToken,k,"user-token-expired"),E||!N.accessToken||N.isExpired?N.refreshToken?(yield N.refresh(k,N.refreshToken),N.accessToken):null:N.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(k,E){var N=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:K,expiresIn:be}=yield function(D,k){return Dt.apply(this,arguments)}(k,E);N.updateTokensAndExpiration(j,K,Number(be))})()}updateTokensAndExpiration(k,E,N){this.refreshToken=E||null,this.accessToken=k||null,this.expirationTime=Date.now()+1e3*N}static fromJSON(k,E){const{refreshToken:N,accessToken:j,expirationTime:K}=E,be=new vn;return N&&(Ze("string"==typeof N,"internal-error",{appName:k}),be.refreshToken=N),j&&(Ze("string"==typeof j,"internal-error",{appName:k}),be.accessToken=j),K&&(Ze("number"==typeof K,"internal-error",{appName:k}),be.expirationTime=K),be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(k){this.accessToken=k.accessToken,this.refreshToken=k.refreshToken,this.expirationTime=k.expirationTime}_clone(){return Object.assign(new vn,this.toJSON())}_performRefresh(){return Se("not implemented")}}function wi(D,k){Ze("string"==typeof D||void 0===D,"internal-error",{appName:k})}class Xn{constructor(k){var{uid:E,auth:N,stsTokenManager:j}=k,K=(0,te._T)(k,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Jn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=N,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.metadata=new uo(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(k){var E=this;return(0,f.Z)(function*(){const N=yield Qo(E,E.stsTokenManager.getToken(E.auth,k));return Ze(N,E.auth,"internal-error"),E.accessToken!==N&&(E.accessToken=N,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),N})()}getIdTokenResult(k){return function(D){return or.apply(this,arguments)}(this,k)}reload(){return function(D){return _e.apply(this,arguments)}(this)}_assign(k){this!==k&&(Ze(this.uid===k.uid,this.auth,"internal-error"),this.displayName=k.displayName,this.photoURL=k.photoURL,this.email=k.email,this.emailVerified=k.emailVerified,this.phoneNumber=k.phoneNumber,this.isAnonymous=k.isAnonymous,this.tenantId=k.tenantId,this.providerData=k.providerData.map(E=>Object.assign({},E)),this.metadata._copy(k.metadata),this.stsTokenManager._assign(k.stsTokenManager))}_clone(k){return new Xn(Object.assign(Object.assign({},this),{auth:k,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(k){Ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=k,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(k){this.reloadListener?this.reloadListener(k):this.reloadUserInfo=k}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(k,E=!1){var N=this;return(0,f.Z)(function*(){let j=!1;k.idToken&&k.idToken!==N.stsTokenManager.accessToken&&(N.stsTokenManager.updateFromServerResponse(k),j=!0),E&&(yield x2(N)),yield N.auth._persistUserIfCurrent(N),j&&N.auth._notifyListenersIfCurrent(N)})()}delete(){var k=this;return(0,f.Z)(function*(){const E=yield k.getIdToken();return yield Qo(k,function(D,k){return Tt.apply(this,arguments)}(k.auth,{idToken:E})),k.stsTokenManager.clearRefreshToken(),k.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(k=>Object.assign({},k)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(k,E){var N,j,K,be,Ne,Qe,pt,Yt;const Pt=null!==(N=E.displayName)&&void 0!==N?N:void 0,Ct=null!==(j=E.email)&&void 0!==j?j:void 0,ri=null!==(K=E.phoneNumber)&&void 0!==K?K:void 0,xi=null!==(be=E.photoURL)&&void 0!==be?be:void 0,t1=null!==(Ne=E.tenantId)&&void 0!==Ne?Ne:void 0,ql=null!==(Qe=E._redirectEventId)&&void 0!==Qe?Qe:void 0,po=null!==(pt=E.createdAt)&&void 0!==pt?pt:void 0,Pi=null!==(Yt=E.lastLoginAt)&&void 0!==Yt?Yt:void 0,{uid:Kc,emailVerified:Yn,isAnonymous:fr,providerData:Ir,stsTokenManager:Xr}=E;Ze(Kc&&Xr,k,"internal-error");const a2=vn.fromJSON(this.name,Xr);Ze("string"==typeof Kc,k,"internal-error"),wi(Pt,k.name),wi(Ct,k.name),Ze("boolean"==typeof Yn,k,"internal-error"),Ze("boolean"==typeof fr,k,"internal-error"),wi(ri,k.name),wi(xi,k.name),wi(t1,k.name),wi(ql,k.name),wi(po,k.name),wi(Pi,k.name);const Ri=new Xn({uid:Kc,auth:k,email:Ct,emailVerified:Yn,displayName:Pt,isAnonymous:fr,photoURL:xi,phoneNumber:ri,tenantId:t1,stsTokenManager:a2,createdAt:po,lastLoginAt:Pi});return Ir&&Array.isArray(Ir)&&(Ri.providerData=Ir.map(rn=>Object.assign({},rn))),ql&&(Ri._redirectEventId=ql),Ri}static _fromIdTokenResponse(k,E,N=!1){return(0,f.Z)(function*(){const j=new vn;j.updateFromServerResponse(E);const K=new Xn({uid:E.localId,auth:k,stsTokenManager:j,isAnonymous:N});return yield x2(K),K})()}}const hn=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(E,N){var j=this;return(0,f.Z)(function*(){j.storage[E]=N})()}_get(E){var N=this;return(0,f.Z)(function*(){const j=N.storage[E];return void 0===j?null:j})()}_remove(E){var N=this;return(0,f.Z)(function*(){delete N.storage[E]})()}_addListener(E,N){}_removeListener(E,N){}}return D.type="NONE",D})();function sr(D,k,E){return`firebase:${D}:${k}:${E}`}class Wr{constructor(k,E,N){this.persistence=k,this.auth=E,this.userKey=N;const{config:j,name:K}=this.auth;this.fullUserKey=sr(this.userKey,j.apiKey,K),this.fullPersistenceKey=sr("persistence",j.apiKey,K),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(k){return this.persistence._set(this.fullUserKey,k.toJSON())}getCurrentUser(){var k=this;return(0,f.Z)(function*(){const E=yield k.persistence._get(k.fullUserKey);return E?Xn._fromJSON(k.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(k){var E=this;return(0,f.Z)(function*(){if(E.persistence===k)return;const N=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=k,N?E.setCurrentUser(N):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(k,E,N="authUser"){return(0,f.Z)(function*(){if(!E.length)return new Wr(ze(hn),k,N);const j=(yield Promise.all(E.map(function(){var pt=(0,f.Z)(function*(Yt){if(yield Yt._isAvailable())return Yt});return function(Yt){return pt.apply(this,arguments)}}()))).filter(pt=>pt);let K=j[0]||ze(hn);const be=sr(N,k.config.apiKey,k.name);let Ne=null;for(const pt of E)try{const Yt=yield pt._get(be);if(Yt){const Pt=Xn._fromJSON(k,Yt);pt!==K&&(Ne=Pt),K=pt;break}}catch(Yt){}const Qe=j.filter(pt=>pt._shouldAllowMigration);return K._shouldAllowMigration&&Qe.length?(K=Qe[0],Ne&&(yield K._set(be,Ne.toJSON())),yield Promise.all(E.map(function(){var pt=(0,f.Z)(function*(Yt){if(Yt!==K)try{yield Yt._remove(be)}catch(Pt){}});return function(Yt){return pt.apply(this,arguments)}}())),new Wr(K,k,N)):new Wr(K,k,N)})()}}function A2(D){const k=D.toLowerCase();if(k.includes("opera/")||k.includes("opr/")||k.includes("opios/"))return"Opera";if(F1(k))return"IEMobile";if(k.includes("msie")||k.includes("trident/"))return"IE";if(k.includes("edge/"))return"Edge";if(pc(k))return"Firefox";if(k.includes("silk/"))return"Silk";if(Ao(k))return"Blackberry";if(Fr(k))return"Webos";if(yl(k))return"Safari";if((k.includes("chrome/")||Fs(k))&&!k.includes("edge/"))return"Chrome";if(ui(k))return"Android";{const N=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==N?void 0:N.length))return N[1]}return"Other"}function pc(D=(0,q.z$)()){return/firefox\//i.test(D)}function yl(D=(0,q.z$)()){const k=D.toLowerCase();return k.includes("safari/")&&!k.includes("chrome/")&&!k.includes("crios/")&&!k.includes("android")}function Fs(D=(0,q.z$)()){return/crios\//i.test(D)}function F1(D=(0,q.z$)()){return/iemobile/i.test(D)}function ui(D=(0,q.z$)()){return/android/i.test(D)}function Ao(D=(0,q.z$)()){return/blackberry/i.test(D)}function Fr(D=(0,q.z$)()){return/webos/i.test(D)}function ai(D=(0,q.z$)()){return/iphone|ipad|ipod/i.test(D)}function ci(D=(0,q.z$)()){return ai(D)||ui(D)||Fr(D)||Ao(D)||/windows phone/i.test(D)||F1(D)}function es(D,k=[]){let E;switch(D){case"Browser":E=A2((0,q.z$)());break;case"Worker":E=`${A2((0,q.z$)())}-${D}`;break;default:E=D}const N=k.length?k.join(","):"FirebaseCore-web";return`${E}/JsCore/${R.SDK_VERSION}/${N}`}class Gi{constructor(k,E){this.app=k,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _t(this),this.idTokenSubscription=new _t(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=k.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(k,E){var N=this;return E&&(this._popupRedirectResolver=ze(E)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,K;N._deleted||(N.persistenceManager=yield Wr.create(N,k),!N._deleted&&((null===(j=N._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)&&(yield N._popupRedirectResolver._initialize(N)),yield N.initializeCurrentUser(E),N.lastNotifiedUid=(null===(K=N.currentUser)||void 0===K?void 0:K.uid)||null,!N._deleted&&(N._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var k=this;return(0,f.Z)(function*(){if(k._deleted)return;const E=yield k.assertedPersistence.getCurrentUser();if(k.currentUser||E){if(k.currentUser&&E&&k.currentUser.uid===E.uid)return k._currentUser._assign(E),void(yield k.currentUser.getIdToken());yield k._updateCurrentUser(E)}})()}initializeCurrentUser(k){var E=this;return(0,f.Z)(function*(){var N;let j=yield E.assertedPersistence.getCurrentUser();if(k&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const K=null===(N=E.redirectUser)||void 0===N?void 0:N._redirectEventId,be=null==j?void 0:j._redirectEventId,Ne=yield E.tryRedirectSignIn(k);(!K||K===be)&&(null==Ne?void 0:Ne.user)&&(j=Ne.user)}return j?j._redirectEventId?(Ze(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===j._redirectEventId?E.directlySetCurrentUser(j):E.reloadAndSetCurrentUserOrClear(j)):E.reloadAndSetCurrentUserOrClear(j):E.directlySetCurrentUser(null)})()}tryRedirectSignIn(k){var E=this;return(0,f.Z)(function*(){let N=null;try{N=yield E._popupRedirectResolver._completeRedirectFn(E,k,!0)}catch(j){yield E._setRedirectUser(null)}return N})()}reloadAndSetCurrentUserOrClear(k){var E=this;return(0,f.Z)(function*(){try{yield x2(k)}catch(N){if("auth/network-request-failed"!==N.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(k)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var k=this;return(0,f.Z)(function*(){k._deleted=!0})()}updateCurrentUser(k){var E=this;return(0,f.Z)(function*(){const N=k?(0,q.m9)(k):null;return N&&Ze(N.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(N&&N._clone(E))})()}_updateCurrentUser(k){var E=this;return(0,f.Z)(function*(){if(!E._deleted)return k&&Ze(E.tenantId===k.tenantId,E,"tenant-id-mismatch"),E.queue((0,f.Z)(function*(){yield E.directlySetCurrentUser(k),E.notifyAuthListeners()}))})()}signOut(){var k=this;return(0,f.Z)(function*(){return(k.redirectPersistenceManager||k._popupRedirectResolver)&&(yield k._setRedirectUser(null)),k._updateCurrentUser(null)})()}setPersistence(k){var E=this;return this.queue((0,f.Z)(function*(){yield E.assertedPersistence.setPersistence(ze(k))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(k){this._errorFactory=new q.LL("auth","Firebase",k())}onAuthStateChanged(k,E,N){return this.registerStateListener(this.authStateSubscription,k,E,N)}onIdTokenChanged(k,E,N){return this.registerStateListener(this.idTokenSubscription,k,E,N)}toJSON(){var k;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(k=this._currentUser)||void 0===k?void 0:k.toJSON()}}_setRedirectUser(k,E){var N=this;return(0,f.Z)(function*(){const j=yield N.getOrInitRedirectPersistenceManager(E);return null===k?j.removeCurrentUser():j.setCurrentUser(k)})()}getOrInitRedirectPersistenceManager(k){var E=this;return(0,f.Z)(function*(){if(!E.redirectPersistenceManager){const N=k&&ze(k)||E._popupRedirectResolver;Ze(N,E,"argument-error"),E.redirectPersistenceManager=yield Wr.create(E,[ze(N._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(k){var E=this;return(0,f.Z)(function*(){var N,j;return E._isInitialized&&(yield E.queue((0,f.Z)(function*(){}))),(null===(N=E._currentUser)||void 0===N?void 0:N._redirectEventId)===k?E._currentUser:(null===(j=E.redirectUser)||void 0===j?void 0:j._redirectEventId)===k?E.redirectUser:null})()}_persistUserIfCurrent(k){var E=this;return(0,f.Z)(function*(){if(k===E.currentUser)return E.queue((0,f.Z)(function*(){return E.directlySetCurrentUser(k)}))})()}_notifyListenersIfCurrent(k){k===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var k,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const N=null!==(E=null===(k=this.currentUser)||void 0===k?void 0:k.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==N&&(this.lastNotifiedUid=N,this.authStateSubscription.next(this.currentUser))}registerStateListener(k,E,N,j){if(this._deleted)return()=>{};const K="function"==typeof E?E:E.next.bind(E),be=this._isInitialized?Promise.resolve():this._initializationPromise;return Ze(be,this,"internal-error"),be.then(()=>K(this.currentUser)),"function"==typeof E?k.addObserver(E,N,j):k.addObserver(E)}directlySetCurrentUser(k){var E=this;return(0,f.Z)(function*(){E.currentUser&&E.currentUser!==k&&(E._currentUser._stopProactiveRefresh(),k&&E.isProactiveRefreshEnabled&&k._startProactiveRefresh()),E.currentUser=k,k?yield E.assertedPersistence.setCurrentUser(k):yield E.assertedPersistence.removeCurrentUser()})()}queue(k){return this.operations=this.operations.then(k,k),this.operations}get assertedPersistence(){return Ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(k){!k||this.frameworks.includes(k)||(this.frameworks.push(k),this.frameworks.sort(),this.clientVersion=es(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function di(D){return(0,q.m9)(D)}class _t{constructor(k){this.auth=k,this.observer=null,this.addObserver=(0,q.ne)(E=>this.observer=E)}get next(){return Ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function H1(D){const k=D.indexOf(":");return k<0?"":D.substr(0,k+1)}function Sa(D){if(!D)return null;const k=Number(D);return isNaN(k)?null:k}class To{constructor(k,E){this.providerId=k,this.signInMethod=E}toJSON(){return Se("not implemented")}_getIdTokenResponse(k){return Se("not implemented")}_linkToIdToken(k,E){return Se("not implemented")}_getReauthenticationResolver(k){return Se("not implemented")}}function Hs(D,k){return qn.apply(this,arguments)}function qn(){return(qn=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:resetPassword",bi(D,k))})).apply(this,arguments)}function mc(D,k){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function ho(D,k){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:update",bi(D,k))})).apply(this,arguments)}function f1(){return(f1=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithPassword",bi(D,k))})).apply(this,arguments)}function js(D,k){return gc.apply(this,arguments)}function gc(){return(gc=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:sendOobCode",bi(D,k))})).apply(this,arguments)}function ar(D,k){return S2.apply(this,arguments)}function S2(){return(S2=(0,f.Z)(function*(D,k){return js(D,k)})).apply(this,arguments)}function B1(D,k){return Di.apply(this,arguments)}function Di(){return(Di=(0,f.Z)(function*(D,k){return js(D,k)})).apply(this,arguments)}function bs(D,k){return cr.apply(this,arguments)}function cr(){return(cr=(0,f.Z)(function*(D,k){return js(D,k)})).apply(this,arguments)}function ws(D,k){return m4.apply(this,arguments)}function m4(){return(m4=(0,f.Z)(function*(D,k){return js(D,k)})).apply(this,arguments)}function vc(){return(vc=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithEmailLink",bi(D,k))})).apply(this,arguments)}function Ta(){return(Ta=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithEmailLink",bi(D,k))})).apply(this,arguments)}class g4 extends To{constructor(k,E,N,j=null){super("password",N),this._email=k,this._password=E,this._tenantId=j}static _fromEmailAndPassword(k,E){return new g4(k,E,"password")}static _fromEmailAndCode(k,E,N=null){return new g4(k,E,"emailLink",N)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(k){const E="string"==typeof k?JSON.parse(k):k;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(k){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return function(D,k){return f1.apply(this,arguments)}(k,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(D,k){return vc.apply(this,arguments)}(k,{email:E._email,oobCode:E._password});default:Xe(k,"internal-error")}})()}_linkToIdToken(k,E){var N=this;return(0,f.Z)(function*(){switch(N.signInMethod){case"password":return mc(k,{idToken:E,returnSecureToken:!0,email:N._email,password:N._password});case"emailLink":return function(D,k){return Ta.apply(this,arguments)}(k,{idToken:E,email:N._email,oobCode:N._password});default:Xe(k,"internal-error")}})()}_getReauthenticationResolver(k){return this._getIdTokenResponse(k)}}function Ji(D,k){return v4.apply(this,arguments)}function v4(){return(v4=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithIdp",bi(D,k))})).apply(this,arguments)}class p1 extends To{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(k){const E=new p1(k.providerId,k.signInMethod);return k.idToken||k.accessToken?(k.idToken&&(E.idToken=k.idToken),k.accessToken&&(E.accessToken=k.accessToken),k.nonce&&!k.pendingToken&&(E.nonce=k.nonce),k.pendingToken&&(E.pendingToken=k.pendingToken)):k.oauthToken&&k.oauthTokenSecret?(E.accessToken=k.oauthToken,E.secret=k.oauthTokenSecret):Xe("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(k){const E="string"==typeof k?JSON.parse(k):k,{providerId:N,signInMethod:j}=E,K=(0,te._T)(E,["providerId","signInMethod"]);if(!N||!j)return null;const be=new p1(N,j);return be.idToken=K.idToken||void 0,be.accessToken=K.accessToken||void 0,be.secret=K.secret,be.nonce=K.nonce,be.pendingToken=K.pendingToken||null,be}_getIdTokenResponse(k){return Ji(k,this.buildRequest())}_linkToIdToken(k,E){const N=this.buildRequest();return N.idToken=E,Ji(k,N)}_getReauthenticationResolver(k){const E=this.buildRequest();return E.autoCreate=!1,Ji(k,E)}buildRequest(){const k={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)k.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),k.postBody=(0,q.xO)(E)}return k}}function a8(D,k){return T2.apply(this,arguments)}function T2(){return(T2=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:sendVerificationCode",bi(D,k))})).apply(this,arguments)}function I2(){return(I2=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithPhoneNumber",bi(D,k))})).apply(this,arguments)}function V3(){return(V3=(0,f.Z)(function*(D,k){const E=yield _r(D,"POST","/v1/accounts:signInWithPhoneNumber",bi(D,k));if(E.temporaryProof)throw yr(D,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const _4={USER_NOT_FOUND:"user-not-found"};function F3(){return(F3=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithPhoneNumber",bi(D,Object.assign(Object.assign({},k),{operation:"REAUTH"})),_4)})).apply(this,arguments)}class D2 extends To{constructor(k){super("phone","phone"),this.params=k}static _fromVerification(k,E){return new D2({verificationId:k,verificationCode:E})}static _fromTokenResponse(k,E){return new D2({phoneNumber:k,temporaryProof:E})}_getIdTokenResponse(k){return function(D,k){return I2.apply(this,arguments)}(k,this._makeVerificationRequest())}_linkToIdToken(k,E){return function(D,k){return V3.apply(this,arguments)}(k,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(k){return function(D,k){return F3.apply(this,arguments)}(k,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:k,phoneNumber:E,verificationId:N,verificationCode:j}=this.params;return k&&E?{temporaryProof:k,phoneNumber:E}:{sessionInfo:N,code:j}}toJSON(){const k={providerId:this.providerId};return this.params.phoneNumber&&(k.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(k.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(k.verificationCode=this.params.verificationCode),this.params.verificationId&&(k.verificationId=this.params.verificationId),k}static fromJSON(k){"string"==typeof k&&(k=JSON.parse(k));const{verificationId:E,verificationCode:N,phoneNumber:j,temporaryProof:K}=k;return N||E||j||K?new D2({verificationId:E,verificationCode:N,phoneNumber:j,temporaryProof:K}):null}}class Cs{constructor(k){var E,N,j,K,be,Ne;const Qe=(0,q.zd)((0,q.pd)(k)),pt=null!==(E=Qe.apiKey)&&void 0!==E?E:null,Yt=null!==(N=Qe.oobCode)&&void 0!==N?N:null,Pt=function(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Qe.mode)&&void 0!==j?j:null);Ze(pt&&Yt&&Pt,"argument-error"),this.apiKey=pt,this.operation=Pt,this.code=Yt,this.continueUrl=null!==(K=Qe.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(be=Qe.languageCode)&&void 0!==be?be:null,this.tenantId=null!==(Ne=Qe.tenantId)&&void 0!==Ne?Ne:null}static parseLink(k){const E=function(D){const k=(0,q.zd)((0,q.pd)(D)).link,E=k?(0,q.zd)((0,q.pd)(k)).deep_link_id:null,N=(0,q.zd)((0,q.pd)(D)).deep_link_id;return(N?(0,q.zd)((0,q.pd)(N)).link:null)||N||E||k||D}(k);try{return new Cs(E)}catch(N){return null}}}let Us=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(E,N){return g4._fromEmailAndPassword(E,N)}static credentialWithLink(E,N){const j=Cs.parseLink(N);return Ze(j,"argument-error"),g4._fromEmailAndCode(E,j.code,j.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Io{constructor(k){this.providerId=k,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(k){this.defaultLanguageCode=k}setCustomParameters(k){return this.customParameters=k,this}getCustomParameters(){return this.customParameters}}class yc extends Io{constructor(){super(...arguments),this.scopes=[]}addScope(k){return this.scopes.includes(k)||this.scopes.push(k),this}getScopes(){return[...this.scopes]}}class Do extends yc{static credentialFromJSON(k){const E="string"==typeof k?JSON.parse(k):k;return Ze("providerId"in E&&"signInMethod"in E,"argument-error"),p1._fromParams(E)}credential(k){return this._credential(Object.assign(Object.assign({},k),{nonce:k.rawNonce}))}_credential(k){return Ze(k.idToken||k.accessToken,"argument-error"),p1._fromParams(Object.assign(Object.assign({},k),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(k){return Do.oauthCredentialFromTaggedObject(k)}static credentialFromError(k){return Do.oauthCredentialFromTaggedObject(k.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{oauthIdToken:E,oauthAccessToken:N,oauthTokenSecret:j,pendingToken:K,nonce:be,providerId:Ne}=k;if(!N&&!j&&!E&&!K||!Ne)return null;try{return new Do(Ne)._credential({idToken:E,accessToken:N,nonce:be,pendingToken:K})}catch(Qe){return null}}}let bc=(()=>{class D extends yc{constructor(){super("facebook.com")}static credential(E){return p1._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(N){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),Da=(()=>{class D extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(E,N){return p1._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:N})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:N,oauthAccessToken:j}=E;if(!N&&!j)return null;try{return D.credential(N,j)}catch(K){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),wc=(()=>{class D extends yc{constructor(){super("github.com")}static credential(E){return p1._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(N){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class br extends To{constructor(k,E){super(k,k),this.pendingToken=E}_getIdTokenResponse(k){return Ji(k,this.buildRequest())}_linkToIdToken(k,E){const N=this.buildRequest();return N.idToken=E,Ji(k,N)}_getReauthenticationResolver(k){const E=this.buildRequest();return E.autoCreate=!1,Ji(k,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(k){const E="string"==typeof k?JSON.parse(k):k,{providerId:N,signInMethod:j,pendingToken:K}=E;return N&&j&&K&&N===j?new br(N,K):null}static _create(k,E){return new br(k,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ks extends Io{constructor(k){Ze(k.startsWith("saml."),"argument-error"),super(k)}static credentialFromResult(k){return ks.samlCredentialFromTaggedObject(k)}static credentialFromError(k){return ks.samlCredentialFromTaggedObject(k.customData||{})}static credentialFromJSON(k){const E=br.fromJSON(k);return Ze(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:k}){if(!k)return null;const{pendingToken:E,providerId:N}=k;if(!E||!N)return null;try{return br._create(N,E)}catch(j){return null}}}let qs=(()=>{class D extends yc{constructor(){super("twitter.com")}static credential(E,N){return p1._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:N})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:N,oauthTokenSecret:j}=E;if(!N||!j)return null;try{return D.credential(N,j)}catch(K){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Cc(D,k){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signUp",bi(D,k))})).apply(this,arguments)}class hi{constructor(k){this.user=k.user,this.providerId=k.providerId,this._tokenResponse=k._tokenResponse,this.operationType=k.operationType}static _fromIdTokenResponse(k,E,N,j=!1){return(0,f.Z)(function*(){const K=yield Xn._fromIdTokenResponse(k,N,j),be=Mc(N);return new hi({user:K,providerId:be,_tokenResponse:N,operationType:E})})()}static _forOperation(k,E,N){return(0,f.Z)(function*(){yield k._updateTokensIfNecessary(N,!0);const j=Mc(N);return new hi({user:k,providerId:j,_tokenResponse:N,operationType:E})})()}}function Mc(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function za(){return(za=(0,f.Z)(function*(D){var k;const E=di(D);if(yield E._initializationPromise,null===(k=E.currentUser)||void 0===k?void 0:k.isAnonymous)return new hi({user:E.currentUser,providerId:null,operationType:"signIn"});const N=yield Cc(E,{returnSecureToken:!0}),j=yield hi._fromIdTokenResponse(E,"signIn",N,!0);return yield E._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ec extends q.ZR{constructor(k,E,N,j){var K;super(E.code,E.message),this.operationType=N,this.user=j,Object.setPrototypeOf(this,Ec.prototype),this.customData={appName:k.name,tenantId:null!==(K=k.tenantId)&&void 0!==K?K:void 0,_serverResponse:E.customData._serverResponse,operationType:N}}static _fromErrorAndOperation(k,E,N,j){return new Ec(k,E,N,j)}}function wl(D,k,E,N){return("reauthenticate"===k?E._getReauthenticationResolver(D):E._getIdTokenResponse(D)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?Ec._fromErrorAndOperation(D,K,k,N):K})}function b4(D){return new Set(D.map(({providerId:k})=>k).filter(k=>!!k))}function xc(){return(xc=(0,f.Z)(function*(D,k){const E=(0,q.m9)(D);yield $s(!0,E,k);const{providerUserInfo:N}=yield $i(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[k]}),j=b4(N||[]);return E.providerData=E.providerData.filter(K=>j.has(K.providerId)),j.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function U1(D,k){return fi.apply(this,arguments)}function fi(){return(fi=(0,f.Z)(function*(D,k,E=!1){const N=yield Qo(D,k._linkToIdToken(D.auth,yield D.getIdToken()),E);return hi._forOperation(D,"link",N)})).apply(this,arguments)}function $s(D,k,E){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,f.Z)(function*(D,k,E){yield x2(k);const j=!1===D?"provider-already-linked":"no-such-provider";Ze(b4(k.providerData).has(E)===D,k.auth,j)})).apply(this,arguments)}function Na(D,k){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(D,k,E=!1){const{auth:N}=D,j="reauthenticate";try{const K=yield Qo(D,wl(N,j,k,D),E);Ze(K.idToken,N,"internal-error");const be=gt(K.idToken);Ze(be,N,"internal-error");const{sub:Ne}=be;return Ze(D.uid===Ne,N,"user-mismatch"),hi._forOperation(D,j,K)}catch(K){throw"auth/user-not-found"===(null==K?void 0:K.code)&&Xe(N,"user-mismatch"),K}})).apply(this,arguments)}function Cl(D,k){return q1.apply(this,arguments)}function q1(){return(q1=(0,f.Z)(function*(D,k,E=!1){const N="signIn",j=yield wl(D,N,k),K=yield hi._fromIdTokenResponse(D,N,j);return E||(yield D._updateCurrentUser(K.user)),K})).apply(this,arguments)}function g1(D,k){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(D,k){return Cl(di(D),k)})).apply(this,arguments)}function v1(D,k){return La.apply(this,arguments)}function La(){return(La=(0,f.Z)(function*(D,k){const E=(0,q.m9)(D);return yield $s(!1,E,k.providerId),U1(E,k)})).apply(this,arguments)}function B3(D,k){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(D,k){return Na((0,q.m9)(D),k)})).apply(this,arguments)}function kl(D,k){return z2.apply(this,arguments)}function z2(){return(z2=(0,f.Z)(function*(D,k){return _r(D,"POST","/v1/accounts:signInWithCustomToken",bi(D,k))})).apply(this,arguments)}function Ml(){return(Ml=(0,f.Z)(function*(D,k){const E=di(D),N=yield kl(E,{token:k,returnSecureToken:!0}),j=yield hi._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(j.user),j})).apply(this,arguments)}class Pa{constructor(k,E){this.factorId=k,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(k,E){return"phoneInfo"in E?Ac._fromServerResponse(k,E):Xe(k,"internal-error")}}class Ac extends Pa{constructor(k){super("phone",k),this.phoneNumber=k.phoneInfo}static _fromServerResponse(k,E){return new Ac(E)}}function Sc(D,k,E){var N;Ze((null===(N=E.url)||void 0===N?void 0:N.length)>0,D,"invalid-continue-uri"),Ze(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),k.continueUrl=E.url,k.dynamicLinkDomain=E.dynamicLinkDomain,k.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Ze(E.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),k.iOSBundleId=E.iOS.bundleId),E.android&&(Ze(E.android.packageName.length>0,D,"missing-android-pkg-name"),k.androidInstallApp=E.android.installApp,k.androidMinimumVersionCode=E.android.minimumVersion,k.androidPackageName=E.android.packageName)}function Tc(){return(Tc=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D),j={requestType:"PASSWORD_RESET",email:k};E&&Sc(N,j,E),yield B1(N,j)})).apply(this,arguments)}function et(){return(et=(0,f.Z)(function*(D,k,E){yield Hs((0,q.m9)(D),{oobCode:k,newPassword:E})})).apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(D,k){yield ho((0,q.m9)(D),{oobCode:k})})).apply(this,arguments)}function pi(D,k){return $1.apply(this,arguments)}function $1(){return($1=(0,f.Z)(function*(D,k){const E=(0,q.m9)(D),N=yield Hs(E,{oobCode:k}),j=N.requestType;switch(Ze(j,E,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ze(N.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ze(N.mfaInfo,E,"internal-error");default:Ze(N.email,E,"internal-error")}let K=null;return N.mfaInfo&&(K=Pa._fromServerResponse(di(E),N.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.newEmail:N.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===N.requestType?N.email:N.newEmail)||null,multiFactorInfo:K},operation:j}})).apply(this,arguments)}function Xi(){return(Xi=(0,f.Z)(function*(D,k){const{data:E}=yield pi((0,q.m9)(D),k);return E.email})).apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(D,k,E){const N=di(D),j=yield Cc(N,{returnSecureToken:!0,email:k,password:E}),K=yield hi._fromIdTokenResponse(N,"signIn",j);return yield N._updateCurrentUser(K.user),K})).apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D),j={requestType:"EMAIL_SIGNIN",email:k};Ze(E.handleCodeInApp,N,"argument-error"),E&&Sc(N,j,E),yield bs(N,j)})).apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D),j=Us.credentialWithLink(k,E||Zt());return Ze(j._tenantId===(N.tenantId||null),N,"tenant-id-mismatch"),g1(N,j)})).apply(this,arguments)}function Kr(D,k){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:createAuthUri",bi(D,k))})).apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(D,k){const N={identifier:k,continueUri:Un()?Zt():"http://localhost"},{signinMethods:j}=yield Kr((0,q.m9)(D),N);return j||[]})).apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(D,k){const E=(0,q.m9)(D),j={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};k&&Sc(E.auth,j,k);const{email:K}=yield ar(E.auth,j);K!==D.email&&(yield D.reload())})).apply(this,arguments)}function G1(){return(G1=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:k};E&&Sc(N.auth,K,E);const{email:be}=yield ws(N.auth,K);be!==D.email&&(yield D.reload())})).apply(this,arguments)}function Al(D,k){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(D,k){return dn(D,"POST","/v1/accounts:update",k)})).apply(this,arguments)}function L2(){return(L2=(0,f.Z)(function*(D,{displayName:k,photoURL:E}){if(void 0===k&&void 0===E)return;const N=(0,q.m9)(D),K={idToken:yield N.getIdToken(),displayName:k,photoUrl:E,returnSecureToken:!0},be=yield Qo(N,Al(N.auth,K));N.displayName=be.displayName||null,N.photoURL=be.photoUrl||null;const Ne=N.providerData.find(({providerId:Qe})=>"password"===Qe);Ne&&(Ne.displayName=N.displayName,Ne.photoURL=N.photoURL),yield N._updateTokensIfNecessary(be)})).apply(this,arguments)}function No(D,k,E){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,f.Z)(function*(D,k,E){const{auth:N}=D,K={idToken:yield D.getIdToken(),returnSecureToken:!0};k&&(K.email=k),E&&(K.password=E);const be=yield Qo(D,mc(N,K));yield D._updateTokensIfNecessary(be,!0)})).apply(this,arguments)}class Oa{constructor(k,E,N={}){this.isNewUser=k,this.providerId=E,this.profile=N}}class Va extends Oa{constructor(k,E,N,j){super(k,E,N),this.username=j}}class M4 extends Oa{constructor(k,E){super(k,"facebook.com",E)}}class E4 extends Va{constructor(k,E){super(k,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class kr extends Oa{constructor(k,E){super(k,"google.com",E)}}class W1 extends Va{constructor(k,E,N){super(k,"twitter.com",E,N)}}function ii(D){const{user:k,_tokenResponse:E}=D;return k.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function(D){var k,E;if(!D)return null;const{providerId:N}=D,j=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},K=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!N&&(null==D?void 0:D.idToken)){const be=null===(E=null===(k=gt(D.idToken))||void 0===k?void 0:k.firebase)||void 0===E?void 0:E.sign_in_provider;if(be)return new Oa(K,"anonymous"!==be&&"custom"!==be?be:null)}if(!N)return null;switch(N){case"facebook.com":return new M4(K,j);case"github.com":return new E4(K,j);case"google.com":return new kr(K,j);case"twitter.com":return new W1(K,j,D.screenName||null);case"custom":case"anonymous":return new Oa(K,null);default:return new Oa(K,N,j)}}(E)}class is{constructor(k,E){this.type=k,this.credential=E}static _fromIdtoken(k){return new is("enroll",k)}static _fromMfaPendingCredential(k){return new is("signin",k)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(k){var E,N;if(null==k?void 0:k.multiFactorSession){if(null===(E=k.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return is._fromMfaPendingCredential(k.multiFactorSession.pendingCredential);if(null===(N=k.multiFactorSession)||void 0===N?void 0:N.idToken)return is._fromIdtoken(k.multiFactorSession.idToken)}return null}}class Ha{constructor(k,E,N){this.session=k,this.hints=E,this.signInResolver=N}static _fromError(k,E){const N=di(k),j=E.customData._serverResponse,K=(j.mfaInfo||[]).map(Ne=>Pa._fromServerResponse(N,Ne));Ze(j.mfaPendingCredential,N,"internal-error");const be=is._fromMfaPendingCredential(j.mfaPendingCredential);return new Ha(be,K,function(){var Ne=(0,f.Z)(function*(Qe){const pt=yield Qe._process(N,be);delete j.mfaInfo,delete j.mfaPendingCredential;const Yt=Object.assign(Object.assign({},j),{idToken:pt.idToken,refreshToken:pt.refreshToken});switch(E.operationType){case"signIn":const Pt=yield hi._fromIdTokenResponse(N,E.operationType,Yt);return yield N._updateCurrentUser(Pt.user),Pt;case"reauthenticate":return Ze(E.user,N,"internal-error"),hi._forOperation(E.user,E.operationType,Yt);default:Xe(N,"internal-error")}});return function(Qe){return Ne.apply(this,arguments)}}())}resolveSignIn(k){var E=this;return(0,f.Z)(function*(){return E.signInResolver(k)})()}}function x4(D,k){return dn(D,"POST","/v2/accounts/mfaEnrollment:start",bi(D,k))}class A4{constructor(k){this.user=k,this.enrolledFactors=[],k._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(N=>Pa._fromServerResponse(k.auth,N)))})}static _fromUser(k){return new A4(k)}getSession(){var k=this;return(0,f.Z)(function*(){return is._fromIdtoken(yield k.user.getIdToken())})()}enroll(k,E){var N=this;return(0,f.Z)(function*(){const j=k,K=yield N.getSession(),be=yield Qo(N.user,j._process(N.user.auth,K,E));return yield N.user._updateTokensIfNecessary(be),N.user.reload()})()}unenroll(k){var E=this;return(0,f.Z)(function*(){const N="string"==typeof k?k:k.uid,j=yield E.user.getIdToken(),K=yield Qo(E.user,function(D,k){return dn(D,"POST","/v2/accounts/mfaEnrollment:withdraw",bi(D,k))}(E.user.auth,{idToken:j,mfaEnrollmentId:N}));E.enrolledFactors=E.enrolledFactors.filter(({uid:be})=>be!==N),yield E.user._updateTokensIfNecessary(K);try{yield E.user.reload()}catch(be){if("auth/user-token-expired"!==be.code)throw be}})()}}const Sl=new WeakMap,rs="__sak";class Tl{constructor(k,E){this.storageRetriever=k,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(k){return Promise.resolve(!1)}}_set(k,E){return this.storage.setItem(k,JSON.stringify(E)),Promise.resolve()}_get(k){const E=this.storage.getItem(k);return Promise.resolve(E?JSON.parse(E):null)}_remove(k){return this.storage.removeItem(k),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nc=(()=>{class D extends Tl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,N)=>this.onStorageEvent(E,N),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const D=(0,q.z$)();return yl(D)||ai(D)}()&&function(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=ci(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const N of Object.keys(this.listeners)){const j=this.storage.getItem(N),K=this.localCache[N];j!==K&&E(N,K,j)}}onStorageEvent(E,N=!1){if(!E.key)return void this.forAllChangedKeys((Ne,Qe,pt)=>{this.notifyListeners(Ne,pt)});const j=E.key;if(N?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(j);if(E.newValue!==Ne)null!==E.newValue?this.storage.setItem(j,E.newValue):this.storage.removeItem(j);else if(this.localCache[j]===E.newValue&&!N)return}const K=()=>{const Ne=this.storage.getItem(j);!N&&this.localCache[j]===Ne||this.notifyListeners(j,Ne)},be=this.storage.getItem(j);(0,q.w1)()&&10===document.documentMode&&be!==E.newValue&&E.newValue!==E.oldValue?setTimeout(K,10):K()}notifyListeners(E,N){this.localCache[E]=N;const j=this.listeners[E];if(j)for(const K of Array.from(j))K(N&&JSON.parse(N))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,N,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:N,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,N){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,N){var j=()=>super._set,K=this;return(0,f.Z)(function*(){yield j().call(K,E,N),K.localCache[E]=JSON.stringify(N)})()}_get(E){var N=()=>super._get,j=this;return(0,f.Z)(function*(){const K=yield N().call(j,E);return j.localCache[E]=JSON.stringify(K),K})()}_remove(E){var N=()=>super._remove,j=this;return(0,f.Z)(function*(){yield N().call(j,E),delete j.localCache[E]})()}}return D.type="LOCAL",D})(),Po=(()=>{class D extends Tl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,N){}_removeListener(E,N){}}return D.type="SESSION",D})();let v6=(()=>{class D{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const N=this.receivers.find(K=>K.isListeningto(E));if(N)return N;const j=new D(E);return this.receivers.push(j),j}isListeningto(E){return this.eventTarget===E}handleEvent(E){var N=this;return(0,f.Z)(function*(){const j=E,{eventId:K,eventType:be,data:Ne}=j.data,Qe=N.handlersMap[be];if(!(null==Qe?void 0:Qe.size))return;j.ports[0].postMessage({status:"ack",eventId:K,eventType:be});const pt=Array.from(Qe).map(function(){var Pt=(0,f.Z)(function*(Ct){return Ct(j.origin,Ne)});return function(Ct){return Pt.apply(this,arguments)}}()),Yt=yield function(D){return Promise.all(D.map(function(){var k=(0,f.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(N){return{fulfilled:!1,reason:N}}});return function(E){return k.apply(this,arguments)}}()))}(pt);j.ports[0].postMessage({status:"done",eventId:K,eventType:be,response:Yt})})()}_subscribe(E,N){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(N)}_unsubscribe(E,N){this.handlersMap[E]&&N&&this.handlersMap[E].delete(N),(!N||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Ks(D="",k=10){let E="";for(let N=0;N<k;N++)E+=Math.floor(10*Math.random());return D+E}class _6{constructor(k){this.target=k,this.handlers=new Set}removeMessageHandler(k){k.messageChannel&&(k.messageChannel.port1.removeEventListener("message",k.onMessage),k.messageChannel.port1.close()),this.handlers.delete(k)}_send(k,E,N=50){var j=this;return(0,f.Z)(function*(){const K="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let be,Ne;return new Promise((Qe,pt)=>{const Yt=Ks("",20);K.port1.start();const Pt=setTimeout(()=>{pt(new Error("unsupported_event"))},N);Ne={messageChannel:K,onMessage(Ct){const ri=Ct;if(ri.data.eventId===Yt)switch(ri.data.status){case"ack":clearTimeout(Pt),be=setTimeout(()=>{pt(new Error("timeout"))},3e3);break;case"done":clearTimeout(be),Qe(ri.data.response);break;default:clearTimeout(Pt),clearTimeout(be),pt(new Error("invalid_response"))}}},j.handlers.add(Ne),K.port1.addEventListener("message",Ne.onMessage),j.target.postMessage({eventType:k,eventId:Yt,data:E},[K.port2])}).finally(()=>{Ne&&j.removeMessageHandler(Ne)})})()}}function gi(){return window}function Br(){return void 0!==gi().WorkerGlobalScope&&"function"==typeof gi().importScripts}function Ua(){return(Ua=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Il="firebaseLocalStorageDb",Wi="firebaseLocalStorage",at="fbase_key";class Et{constructor(k){this.request=k}toPromise(){return new Promise((k,E)=>{this.request.addEventListener("success",()=>{k(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Es(D,k){return D.transaction([Wi],k?"readwrite":"readonly").objectStore(Wi)}function nn(){const D=indexedDB.open(Il,1);return new Promise((k,E)=>{D.addEventListener("error",()=>{E(D.error)}),D.addEventListener("upgradeneeded",()=>{const N=D.result;try{N.createObjectStore(Wi,{keyPath:at})}catch(j){E(j)}}),D.addEventListener("success",(0,f.Z)(function*(){const N=D.result;N.objectStoreNames.contains(Wi)?k(N):(N.close(),yield function(){const D=indexedDB.deleteDatabase(Il);return new Et(D).toPromise()}(),k(yield nn()))}))})}function Qr(D,k,E){return Y1.apply(this,arguments)}function Y1(){return(Y1=(0,f.Z)(function*(D,k,E){const N=Es(D,!0).put({[at]:k,value:E});return new Et(N).toPromise()})).apply(this,arguments)}function I4(){return(I4=(0,f.Z)(function*(D,k){const E=Es(D,!1).get(k),N=yield new Et(E).toPromise();return void 0===N?null:N.value})).apply(this,arguments)}function qa(D,k){const E=Es(D,!0).delete(k);return new Et(E).toPromise()}const xs=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,f.Z)(function*(){return E.db||(E.db=yield nn()),E.db})()}_withRetries(E){var N=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const K=yield N._openDb();return yield E(K)}catch(K){if(j++>3)throw K;N.db&&(N.db.close(),N.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,f.Z)(function*(){return Br()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,f.Z)(function*(){E.receiver=v6._getInstance(Br()?self:null),E.receiver._subscribe("keyChanged",function(){var N=(0,f.Z)(function*(j,K){return{keyProcessed:(yield E._poll()).includes(K.key)}});return function(j,K){return N.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var N=(0,f.Z)(function*(j,K){return["keyChanged"]});return function(j,K){return N.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,f.Z)(function*(){var N,j;if(E.activeServiceWorker=yield function(){return Ua.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new _6(E.activeServiceWorker);const K=yield E.sender._send("ping",{},800);!K||(null===(N=K[0])||void 0===N?void 0:N.fulfilled)&&(null===(j=K[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var N=this;return(0,f.Z)(function*(){if(N.sender&&N.activeServiceWorker&&function(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===N.activeServiceWorker)try{yield N.sender._send("keyChanged",{key:E},N.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const E=yield nn();return yield Qr(E,rs,"1"),yield qa(E,rs),!0}catch(E){}return!1})()}_withPendingWrite(E){var N=this;return(0,f.Z)(function*(){N.pendingWrites++;try{yield E()}finally{N.pendingWrites--}})()}_set(E,N){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(K=>Qr(K,E,N)),j.localCache[E]=N,j.notifyServiceWorker(E)}))})()}_get(E){var N=this;return(0,f.Z)(function*(){const j=yield N._withRetries(K=>function(D,k){return I4.apply(this,arguments)}(K,E));return N.localCache[E]=j,j})()}_remove(E){var N=this;return(0,f.Z)(function*(){return N._withPendingWrite((0,f.Z)(function*(){return yield N._withRetries(j=>qa(j,E)),delete N.localCache[E],N.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,f.Z)(function*(){const N=yield E._withRetries(be=>{const Ne=Es(be,!1).getAll();return new Et(Ne).toPromise()});if(!N)return[];if(0!==E.pendingWrites)return[];const j=[],K=new Set;for(const{fbase_key:be,value:Ne}of N)K.add(be),JSON.stringify(E.localCache[be])!==JSON.stringify(Ne)&&(E.notifyListeners(be,Ne),j.push(be));for(const be of Object.keys(E.localCache))E.localCache[be]&&!K.has(be)&&(E.notifyListeners(be,null),j.push(be));return j})()}notifyListeners(E,N){this.localCache[E]=N;const j=this.listeners[E];if(j)for(const K of Array.from(j))K(N)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,N){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(N)}_removeListener(E,N){this.listeners[E]&&(this.listeners[E].delete(N),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function ss(D,k){return dn(D,"POST","/v2/accounts/mfaSignIn:start",bi(D,k))}function Ga(){return(Ga=(0,f.Z)(function*(D){return(yield dn(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ur(D){return new Promise((k,E)=>{const N=document.createElement("script");N.setAttribute("src",D),N.onload=k,N.onerror=j=>{const K=vt("internal-error");K.customData=j,E(K)},N.type="text/javascript",N.charset="UTF-8",function(){var D,k;return null!==(k=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==k?k:document}().appendChild(N)})}function Sn(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Jt=1e12;class Fi{constructor(k){this.auth=k,this.counter=Jt,this._widgets=new Map}render(k,E){const N=this.counter;return this._widgets.set(N,new As(k,this.auth.name,E||{})),this.counter++,N}reset(k){var E;const N=k||Jt;null===(E=this._widgets.get(N))||void 0===E||E.delete(),this._widgets.delete(N)}getResponse(k){var E;return(null===(E=this._widgets.get(k||Jt))||void 0===E?void 0:E.getResponse())||""}execute(k){var E=this;return(0,f.Z)(function*(){var N;return null===(N=E._widgets.get(k||Jt))||void 0===N||N.execute(),""})()}}class As{constructor(k,E,N){this.params=N,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof k?document.getElementById(k):k;Ze(j,"argument-error",{appName:E}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(D){const k=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let N=0;N<50;N++)k.push(E.charAt(Math.floor(Math.random()*E.length)));return k.join("")}();const{callback:k,"expired-callback":E}=this.params;if(k)try{k(this.responseToken)}catch(N){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(N){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const R2=Sn("rcb"),Rc=new tn(3e4,6e4);class Hi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!gi().grecaptcha}load(k,E=""){return Ze((D=E).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D),k,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(gi().grecaptcha):new Promise((N,j)=>{const K=gi().setTimeout(()=>{j(vt(k,"network-request-failed"))},Rc.get());gi()[R2]=()=>{gi().clearTimeout(K),delete gi()[R2];const Ne=gi().grecaptcha;if(!Ne)return void j(vt(k,"internal-error"));const Qe=Ne.render;Ne.render=(pt,Yt)=>{const Pt=Qe(pt,Yt);return this.counter++,Pt},this.hostLanguage=E,N(Ne)},ur(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:R2,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(K),j(vt(k,"internal-error"))})});var D}clearedOneInstance(){this.counter--}shouldResolveImmediately(k){return!!gi().grecaptcha&&(k===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class y6{load(k){return(0,f.Z)(function*(){return new Fi(k)})()}clearedOneInstance(){}}const z4="recaptcha",Za={theme:"light",type:"image"};class Nl{constructor(k,E=Object.assign({},Za),N){this.parameters=E,this.type=z4,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=di(N),this.isInvisible="invisible"===this.parameters.size,Ze("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof k?document.getElementById(k):k;Ze(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new y6:new Hi,this.validateStartingState()}verify(){var k=this;return(0,f.Z)(function*(){k.assertNotDestroyed();const E=yield k.render(),N=k.getAssertedRecaptcha();return N.getResponse(E)||new Promise(K=>{const be=Ne=>{!Ne||(k.tokenChangeListeners.delete(be),K(Ne))};k.tokenChangeListeners.add(be),k.isInvisible&&N.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(k){return Promise.reject(k)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(k=>{throw this.renderPromise=null,k})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(k=>{this.container.removeChild(k)})}validateStartingState(){Ze(!this.parameters.sitekey,this.auth,"argument-error"),Ze(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ze("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(k){return E=>{if(this.tokenChangeListeners.forEach(N=>N(E)),"function"==typeof k)k(E);else if("string"==typeof k){const N=gi()[k];"function"==typeof N&&N(E)}}}assertNotDestroyed(){Ze(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var k=this;return(0,f.Z)(function*(){if(yield k.init(),!k.widgetId){let E=k.container;if(!k.isInvisible){const N=document.createElement("div");E.appendChild(N),E=N}k.widgetId=k.getAssertedRecaptcha().render(E,k.parameters)}return k.widgetId})()}init(){var k=this;return(0,f.Z)(function*(){Ze(Un()&&!Br(),k.auth,"internal-error"),yield function(){let D=null;return new Promise(k=>{"complete"!==document.readyState?(D=()=>k(),window.addEventListener("load",D)):k()}).catch(k=>{throw D&&window.removeEventListener("load",D),k})}(),k.recaptcha=yield k._recaptchaLoader.load(k.auth,k.auth.languageCode||void 0);const E=yield function(D){return Ga.apply(this,arguments)}(k.auth);Ze(E,k.auth,"internal-error"),k.parameters.sitekey=E})()}getAssertedRecaptcha(){return Ze(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Pl{constructor(k,E){this.verificationId=k,this.onConfirmation=E}confirm(k){const E=D2._fromVerification(this.verificationId,k);return this.onConfirmation(E)}}function Oc(){return(Oc=(0,f.Z)(function*(D,k,E){const N=di(D),j=yield b1(N,k,(0,q.m9)(E));return new Pl(j,K=>g1(N,K))})).apply(this,arguments)}function Vc(){return(Vc=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D);yield $s(!1,N,"phone");const j=yield b1(N.auth,k,(0,q.m9)(E));return new Pl(j,K=>v1(N,K))})).apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D),j=yield b1(N.auth,k,(0,q.m9)(E));return new Pl(j,K=>B3(N,K))})).apply(this,arguments)}function b1(D,k,E){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(D,k,E){var N;const j=yield E.verify();try{let K;if(Ze("string"==typeof j,D,"argument-error"),Ze(E.type===z4,D,"argument-error"),K="string"==typeof k?{phoneNumber:k}:k,"session"in K){const be=K.session;if("phoneNumber"in K)return Ze("enroll"===be.type,D,"internal-error"),(yield x4(D,{idToken:be.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Ze("signin"===be.type,D,"internal-error");const Ne=(null===(N=K.multiFactorHint)||void 0===N?void 0:N.uid)||K.multiFactorUid;return Ze(Ne,D,"missing-multi-factor-info"),(yield ss(D,{mfaPendingCredential:be.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:be}=yield a8(D,{phoneNumber:K.phoneNumber,recaptchaToken:j});return be}}finally{E._reset()}})).apply(this,arguments)}function Qa(){return(Qa=(0,f.Z)(function*(D,k){yield U1((0,q.m9)(D),k)})).apply(this,arguments)}let Er=(()=>{class D{constructor(E){this.providerId=D.PROVIDER_ID,this.auth=di(E)}verifyPhoneNumber(E,N){return b1(this.auth,E,(0,q.m9)(N))}static credential(E,N){return D2._fromVerification(E,N)}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:N,temporaryProof:j}=E;return N&&j?D2._fromTokenResponse(N,j):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Li(D,k){return k?ze(k):(Ze(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class jr extends To{constructor(k){super("custom","custom"),this.params=k}_getIdTokenResponse(k){return Ji(k,this._buildIdpRequest())}_linkToIdToken(k,E){return Ji(k,this._buildIdpRequest(E))}_getReauthenticationResolver(k){return Ji(k,this._buildIdpRequest())}_buildIdpRequest(k){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return k&&(E.idToken=k),E}}function Fc(D){return Cl(D.auth,new jr(D),D.bypassAuthState)}function ea(D){const{auth:k,user:E}=D;return Ze(E,k,"internal-error"),Na(E,new jr(D),D.bypassAuthState)}function G3(D){return V2.apply(this,arguments)}function V2(){return(V2=(0,f.Z)(function*(D){const{auth:k,user:E}=D;return Ze(E,k,"internal-error"),U1(E,new jr(D),D.bypassAuthState)})).apply(this,arguments)}class w1{constructor(k,E,N,j,K=!1){this.auth=k,this.resolver=N,this.user=j,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var k=this;return new Promise(function(){var E=(0,f.Z)(function*(N,j){k.pendingPromise={resolve:N,reject:j};try{k.eventManager=yield k.resolver._initialize(k.auth),yield k.onExecution(),k.eventManager.registerConsumer(k)}catch(K){k.reject(K)}});return function(N,j){return E.apply(this,arguments)}}())}onAuthEvent(k){var E=this;return(0,f.Z)(function*(){const{urlResponse:N,sessionId:j,postBody:K,tenantId:be,error:Ne,type:Qe}=k;if(Ne)return void E.reject(Ne);const pt={auth:E.auth,requestUri:N,sessionId:j,tenantId:be||void 0,postBody:K||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Qe)(pt))}catch(Yt){E.reject(Yt)}})()}onError(k){this.reject(k)}getIdpTask(k){switch(k){case"signInViaPopup":case"signInViaRedirect":return Fc;case"linkViaPopup":case"linkViaRedirect":return G3;case"reauthViaPopup":case"reauthViaRedirect":return ea;default:Xe(this.auth,"internal-error")}}resolve(k){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(k),this.unregisterAndCleanUp()}reject(k){De(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(k),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Zi=new tn(2e3,1e4);function Ur(){return(Ur=(0,f.Z)(function*(D,k,E){const N=di(D);Gt(D,k,Io);const j=Li(N,E);return new Ja(N,"signInViaPopup",k,j).executeNotNull()})).apply(this,arguments)}function Qs(){return(Qs=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D);Gt(N.auth,k,Io);const j=Li(N.auth,E);return new Ja(N.auth,"reauthViaPopup",k,j,N).executeNotNull()})).apply(this,arguments)}function C1(){return(C1=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D);Gt(N.auth,k,Io);const j=Li(N.auth,E);return new Ja(N.auth,"linkViaPopup",k,j,N).executeNotNull()})).apply(this,arguments)}let Ja=(()=>{class D extends w1{constructor(E,N,j,K,be){super(E,N,K,be),this.provider=j,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var E=this;return(0,f.Z)(function*(){const N=yield E.execute();return Ze(N,E.auth,"internal-error"),N})()}onExecution(){var E=this;return(0,f.Z)(function*(){De(1===E.filter.length,"Popup operations only handle one event");const N=Ks();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],N),E.authWindow.associatedEvent=N,E.resolver._originValidation(E.auth).catch(j=>{E.reject(j)}),E.resolver._isIframeWebStorageSupported(E.auth,j=>{j||E.reject(vt(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const E=()=>{var N,j;this.pollId=(null===(j=null===(N=this.authWindow)||void 0===N?void 0:N.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(vt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Zi.get())};E()}}return D.currentPopupAction=null,D})();const Gn=new Map;class na extends w1{constructor(k,E,N=!1){super(k,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,N),this.eventId=null}execute(){var k=()=>super.execute,E=this;return(0,f.Z)(function*(){let N=Gn.get(E.auth._key());if(!N){try{const K=(yield function(D,k){return O.apply(this,arguments)}(E.resolver,E.auth))?yield k().call(E):null;N=()=>Promise.resolve(K)}catch(j){N=()=>Promise.reject(j)}Gn.set(E.auth._key(),N)}return E.bypassAuthState||Gn.set(E.auth._key(),()=>Promise.resolve(null)),N()})()}onAuthEvent(k){var E=()=>super.onAuthEvent,N=this;return(0,f.Z)(function*(){if("signInViaRedirect"===k.type)return E().call(N,k);if("unknown"!==k.type){if(k.eventId){const j=yield N.auth._redirectUserForId(k.eventId);if(j)return N.user=j,E().call(N,k);N.resolve(null)}}else N.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function O(){return(O=(0,f.Z)(function*(D,k){const E=Re(k),N=ke(D);if(!(yield N._isAvailable()))return!1;const j="true"===(yield N._get(E));return yield N._remove(E),j})).apply(this,arguments)}function U(D,k){return Q.apply(this,arguments)}function Q(){return(Q=(0,f.Z)(function*(D,k){return ke(D)._set(Re(k),"true")})).apply(this,arguments)}function ke(D){return ze(D._redirectPersistence)}function Re(D){return sr("pendingRedirect",D.config.apiKey,D.name)}function mt(){return(mt=(0,f.Z)(function*(D,k,E){const N=di(D);Gt(D,k,Io);const j=Li(N,E);return yield U(j,N),j._openRedirect(N,k,"signInViaRedirect")})).apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D);Gt(N.auth,k,Io);const j=Li(N.auth,E);yield U(j,N.auth);const K=yield Ol(N);return j._openRedirect(N.auth,k,"reauthViaRedirect",K)})).apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(D,k,E){const N=(0,q.m9)(D);Gt(N.auth,k,Io);const j=Li(N.auth,E);yield $s(!1,N,k.providerId),yield U(j,N.auth);const K=yield Ol(N);return j._openRedirect(N.auth,k,"linkViaRedirect",K)})).apply(this,arguments)}function Ro(){return(Ro=(0,f.Z)(function*(D,k){return yield di(D)._initializationPromise,Ar(D,k,!1)})).apply(this,arguments)}function Ar(D,k){return k1.apply(this,arguments)}function k1(){return(k1=(0,f.Z)(function*(D,k,E=!1){const N=di(D),j=Li(N,k),be=yield new na(N,j,E).execute();return be&&!E&&(delete be.user._redirectEventId,yield N._persistUserIfCurrent(be.user),yield N._setRedirectUser(null,k)),be})).apply(this,arguments)}function Ol(D){return N4.apply(this,arguments)}function N4(){return(N4=(0,f.Z)(function*(D){const k=Ks(`${D.uid}:::`);return D._redirectEventId=k,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),k})).apply(this,arguments)}class ra{constructor(k){this.auth=k,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(k){this.consumers.add(k),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,k)&&(this.sendToConsumer(this.queuedRedirectEvent,k),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(k){this.consumers.delete(k)}onEvent(k){if(this.hasEventBeenHandled(k))return!1;let E=!1;return this.consumers.forEach(N=>{this.isEventForConsumer(k,N)&&(E=!0,this.sendToConsumer(k,N),this.saveEventToCache(k))}),this.hasHandledPotentialRedirect||!function(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Js(D);default:return!1}}(k)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=k,E=!0)),E}sendToConsumer(k,E){var N;if(k.error&&!Js(k)){const j=(null===(N=k.error.code)||void 0===N?void 0:N.split("auth/")[1])||"internal-error";E.onError(vt(this.auth,j))}else E.onAuthEvent(k)}isEventForConsumer(k,E){const N=null===E.eventId||!!k.eventId&&k.eventId===E.eventId;return E.filter.includes(k.type)&&N}hasEventBeenHandled(k){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(L4(k))}saveEventToCache(k){this.cachedEventUids.add(L4(k)),this.lastProcessedEventTime=Date.now()}}function L4(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(k=>k).join("-")}function Js({type:D,error:k}){return"unknown"===D&&"auth/no-auth-event"===(null==k?void 0:k.code)}function Xa(D){return B2.apply(this,arguments)}function B2(){return(B2=(0,f.Z)(function*(D,k={}){return dn(D,"GET","/v1/projects",k)})).apply(this,arguments)}const Vl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fl=/^https?/;function oa(){return(oa=(0,f.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:k}=yield Xa(D);for(const E of k)try{if(Hl(E))return}catch(N){}Xe(D,"unauthorized-domain")})).apply(this,arguments)}function Hl(D){const k=Zt(),{protocol:E,hostname:N}=new URL(k);if(D.startsWith("chrome-extension://")){const be=new URL(D);return""===be.hostname&&""===N?"chrome-extension:"===E&&D.replace("chrome-extension://","")===k.replace("chrome-extension://",""):"chrome-extension:"===E&&be.hostname===N}if(!Fl.test(E))return!1;if(Vl.test(D))return N===D;const j=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(N)}const Hc=new tn(3e4,6e4);function f8(){const D=gi().___jsl;if(null==D?void 0:D.H)for(const k of Object.keys(D.H))if(D.H[k].r=D.H[k].r||[],D.H[k].L=D.H[k].L||[],D.H[k].r=[...D.H[k].L],D.CP)for(let E=0;E<D.CP.length;E++)D.CP[E]=null}let P4=null;function Z3(D){return P4=P4||function(D){return new Promise((k,E)=>{var N,j,K;function be(){f8(),gapi.load("gapi.iframes",{callback:()=>{k(gapi.iframes.getContext())},ontimeout:()=>{f8(),E(vt(D,"network-request-failed"))},timeout:Hc.get()})}if(null===(j=null===(N=gi().gapi)||void 0===N?void 0:N.iframes)||void 0===j?void 0:j.Iframe)k(gapi.iframes.getContext());else{if(!(null===(K=gi().gapi)||void 0===K?void 0:K.load)){const Ne=Sn("iframefcb");return gi()[Ne]=()=>{gapi.load?be():E(vt(D,"network-request-failed"))},ur(`https://apis.google.com/js/api.js?onload=${Ne}`)}be()}}).catch(k=>{throw P4=null,k})}(D),P4}const m8=new tn(5e3,15e3),g8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function v8(D){const k=D.config;Ze(k.authDomain,D,"auth-domain-config-required");const E=k.emulator?ni(k,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,N={apiKey:k.apiKey,appName:D.name,v:R.SDK_VERSION},j=R4.get(D.config.apiHost);j&&(N.eid=j);const K=D._getFrameworks();return K.length&&(N.fw=K.join(",")),`${E}?${(0,q.xO)(N).slice(1)}`}function O4(){return O4=(0,f.Z)(function*(D){const k=yield Z3(D),E=gi().gapi;return Ze(E,D,"internal-error"),k.open({where:document.body,url:v8(D),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g8,dontclear:!0},N=>new Promise(function(){var j=(0,f.Z)(function*(K,be){yield N.restyle({setHideOnLeave:!1});const Ne=vt(D,"network-request-failed"),Qe=gi().setTimeout(()=>{be(Ne)},m8.get());function pt(){gi().clearTimeout(Qe),K(N)}N.ping(pt).then(pt,()=>{be(Ne)})});return function(K,be){return j.apply(this,arguments)}}()))}),O4.apply(this,arguments)}const mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class X3{constructor(k){this.window=k,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(k){}}}function Wn(D,k,E,N,j,K){Ze(D.config.authDomain,D,"auth-domain-config-required"),Ze(D.config.apiKey,D,"invalid-api-key");const be={apiKey:D.config.apiKey,appName:D.name,authType:E,redirectUrl:N,v:R.SDK_VERSION,eventId:j};if(k instanceof Io){k.setDefaultLanguage(D.languageCode),be.providerId=k.providerId||"",(0,q.xb)(k.getCustomParameters())||(be.customParameters=JSON.stringify(k.getCustomParameters()));for(const[Qe,pt]of Object.entries(K||{}))be[Qe]=pt}if(k instanceof yc){const Qe=k.getScopes().filter(pt=>""!==pt);Qe.length>0&&(be.scopes=Qe.join(","))}D.tenantId&&(be.tid=D.tenantId);const Ne=be;for(const Qe of Object.keys(Ne))void 0===Ne[Qe]&&delete Ne[Qe];return`${function({config:D}){return D.emulator?ni(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,q.xO)(Ne).slice(1)}`}const e0="webStorageSupport";class qr extends class{constructor(k){this.factorId=k}_process(k,E,N){switch(E.type){case"enroll":return this._finalizeEnroll(k,E.credential,N);case"signin":return this._finalizeSignIn(k,E.credential);default:return Se("unexpected MultiFactorSessionType")}}}{constructor(k){super("phone"),this.credential=k}static _fromCredential(k){return new qr(k)}_finalizeEnroll(k,E,N){return function(D,k){return dn(D,"POST","/v2/accounts/mfaEnrollment:finalize",bi(D,k))}(k,{idToken:E,displayName:N,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(k,E){return function(D,k){return dn(D,"POST","/v2/accounts/mfaSignIn:finalize",bi(D,k))}(k,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ts=(()=>{class D{constructor(){}static assertion(E){return qr._fromCredential(E)}}return D.FACTOR_ID="phone",D})();var D,aa="@firebase/auth";class w8{constructor(k){this.auth=k,this.internalListeners=new Map}getUid(){var k;return this.assertAuthConfigured(),(null===(k=this.auth.currentUser)||void 0===k?void 0:k.uid)||null}getToken(k){var E=this;return(0,f.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(k)}:null})()}addAuthTokenListener(k){if(this.assertAuthConfigured(),this.internalListeners.has(k))return;const E=this.auth.onIdTokenChanged(N=>{var j;k((null===(j=N)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(k,E),this.updateProactiveRefresh()}removeAuthTokenListener(k){this.assertAuthConfigured();const E=this.internalListeners.get(k);!E||(this.internalListeners.delete(k),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ca(){return window}function F4(){return F4=(0,f.Z)(function*(D,k,E){var N;const{BuildInfo:j}=ca();De(k.sessionId,"AuthEvent did not contain a session ID");const K=yield U2(k.sessionId),be={};return ai()?be.ibi=j.packageName:ui()?be.apn=j.packageName:Xe(D,"operation-not-supported-in-this-environment"),j.displayName&&(be.appDisplayName=j.displayName),be.sessionId=K,Wn(D,E,k.type,void 0,null!==(N=k.eventId)&&void 0!==N?N:void 0,be)}),F4.apply(this,arguments)}function jc(){return jc=(0,f.Z)(function*(D){const{BuildInfo:k}=ca(),E={};ai()?E.iosBundleId=k.packageName:ui()?E.androidPackageName=k.packageName:Xe(D,"operation-not-supported-in-this-environment"),yield Xa(D,E)}),jc.apply(this,arguments)}function Pn(){return Pn=(0,f.Z)(function*(D,k,E){const{cordova:N}=ca();let j=()=>{};try{yield new Promise((K,be)=>{let Ne=null;function Qe(){var Pt;K();const Ct=null===(Pt=N.plugins.browsertab)||void 0===Pt?void 0:Pt.close;"function"==typeof Ct&&Ct(),"function"==typeof(null==E?void 0:E.close)&&E.close()}function pt(){Ne||(Ne=window.setTimeout(()=>{be(vt(D,"redirect-cancelled-by-user"))},2e3))}function Yt(){"visible"===(null==document?void 0:document.visibilityState)&&pt()}k.addPassiveListener(Qe),document.addEventListener("resume",pt,!1),ui()&&document.addEventListener("visibilitychange",Yt,!1),j=()=>{k.removePassiveListener(Qe),document.removeEventListener("resume",pt,!1),document.removeEventListener("visibilitychange",Yt,!1),Ne&&window.clearTimeout(Ne)}})}finally{j()}}),Pn.apply(this,arguments)}function U2(D){return Zn.apply(this,arguments)}function Zn(){return Zn=(0,f.Z)(function*(D){const k=t2(D),E=yield crypto.subtle.digest("SHA-256",k);return Array.from(new Uint8Array(E)).map(j=>j.toString(16).padStart(2,"0")).join("")}),Zn.apply(this,arguments)}function t2(D){if(De(/[0-9a-zA-Z]+/.test(D),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(D);const k=new ArrayBuffer(D.length),E=new Uint8Array(k);for(let N=0;N<D.length;N++)E[N]=D.charCodeAt(N);return E}D="Browser",(0,R._registerComponent)(new ve.wA("auth",(k,{options:E})=>{const N=k.getProvider("app").getImmediate(),{apiKey:j,authDomain:K}=N.options;return(be=>{Ze(j&&!j.includes(":"),"invalid-api-key",{appName:be.name}),Ze(!(null==K?void 0:K.includes(":")),"argument-error",{appName:be.name});const Ne={apiKey:j,authDomain:K,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:es(D)},Qe=new Gi(be,Ne);return function(D,k){const E=(null==k?void 0:k.persistence)||[],N=(Array.isArray(E)?E:[E]).map(ze);(null==k?void 0:k.errorMap)&&D._updateErrorMap(k.errorMap),D._initializeWithPersistence(N,null==k?void 0:k.popupRedirectResolver)}(Qe,E),Qe})(N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((k,E,N)=>{k.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new ve.wA("auth-internal",k=>{const E=di(k.getProvider("auth").getImmediate());return new w8(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(aa,"0.19.3",void 0),(0,R.registerVersion)(aa,"0.19.3","esm2017");class tt extends ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(k=>{this.resolveInialized=k})}addPassiveListener(k){this.passiveListeners.add(k)}removePassiveListener(k){this.passiveListeners.delete(k)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(k){return this.resolveInialized(),this.passiveListeners.forEach(E=>E(k)),super.onEvent(k)}initialized(){var k=this;return(0,f.Z)(function*(){yield k.initPromise})()}}function k8(D){return Be.apply(this,arguments)}function Be(){return Be=(0,f.Z)(function*(D){const k=yield Uc()._get(q2(D));return k&&(yield Uc()._remove(q2(D))),k}),Be.apply(this,arguments)}function t0(){const D=[],k="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<20;E++){const N=Math.floor(Math.random()*k.length);D.push(k.charAt(N))}return D.join("")}function Uc(){return ze(Nc)}function q2(D){return sr("authEvent",D.config.apiKey,D.name)}function r2(D){if(!(null==D?void 0:D.includes("?")))return{};const[k,...E]=D.split("?");return(0,q.zd)(E.join("?"))}function Ei(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:vt("no-auth-event")}}function cs(){var D;return(null===(D=null==self?void 0:self.location)||void 0===D?void 0:D.protocol)||null}function qc(D=(0,q.z$)()){return!("file:"!==cs()&&"ionic:"!==cs()||!D.toLowerCase().match(/iphone|ipad|ipod|android/))}function $c(){try{const D=self.localStorage,k=Ks();if(D)return D.setItem(k,"1"),D.removeItem(k),!function(D=(0,q.z$)()){return(0,q.w1)()&&11===(null==document?void 0:document.documentMode)||function(D=(0,q.z$)()){return/Edge\/\d+/.test(D)}(D)}()||(0,q.hl)()}catch(D){return dr()&&(0,q.hl)()}return!1}function dr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gc(){return("http:"===cs()||"https:"===cs()||(0,q.ru)()||qc())&&!((0,q.b$)()||(0,q.UG)())&&$c()&&!dr()}function s0(){return qc()&&"undefined"!=typeof document}function hr(){return hr=(0,f.Z)(function*(){return!!s0()&&new Promise(D=>{const k=setTimeout(()=>{D(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(k),D(!0)})})}),hr.apply(this,arguments)}const Tr={LOCAL:"local",NONE:"none",SESSION:"session"},$2=Ze,T8="persistence";function Wc(D){return c0.apply(this,arguments)}function c0(){return c0=(0,f.Z)(function*(D){yield D._initializationPromise;const k=x6(),E=sr(T8,D.config.apiKey,D.name);(null==k?void 0:k.sessionStorage)&&k.sessionStorage.setItem(E,D._getPersistence())}),c0.apply(this,arguments)}function x6(){return"undefined"!=typeof window?window:null}const A6=Ze;class ha{constructor(){this.browserResolver=ze(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=Ar}_openPopup(k,E,N,j){var K=this;return(0,f.Z)(function*(){var be;De(null===(be=K.eventManagers[k._key()])||void 0===be?void 0:be.manager,"_initialize() not called before _openPopup()");const Ne=Wn(k,E,N,Zt(),j);return function(D,k,E,N=500,j=600){const K=Math.max((window.screen.availHeight-j)/2,0).toString(),be=Math.max((window.screen.availWidth-N)/2,0).toString();let Ne="";const Qe=Object.assign(Object.assign({},mh),{width:N.toString(),height:j.toString(),top:K,left:be}),pt=(0,q.z$)().toLowerCase();E&&(Ne=Fs(pt)?"_blank":E),pc(pt)&&(k=k||"http://localhost",Qe.scrollbars="yes");const Yt=Object.entries(Qe).reduce((Ct,[ri,xi])=>`${Ct}${ri}=${xi},`,"");if(function(D=(0,q.z$)()){var k;return ai(D)&&!!(null===(k=window.navigator)||void 0===k?void 0:k.standalone)}(pt)&&"_self"!==Ne)return function(D,k){const E=document.createElement("a");E.href=D,E.target=k;const N=document.createEvent("MouseEvent");N.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(N)}(k||"",Ne),new X3(null);const Pt=window.open(k||"",Ne,Yt);Ze(Pt,D,"popup-blocked");try{Pt.focus()}catch(Ct){}return new X3(Pt)}(k,Ne,Ks())})()}_openRedirect(k,E,N,j){var K=this;return(0,f.Z)(function*(){return yield K._originValidation(k),D=Wn(k,E,N,Zt(),j),gi().location.href=D,new Promise(()=>{});var D})()}_initialize(k){const E=k._key();if(this.eventManagers[E]){const{manager:j,promise:K}=this.eventManagers[E];return j?Promise.resolve(j):(De(K,"If manager is not set, promise should be"),K)}const N=this.initAndGetManager(k);return this.eventManagers[E]={promise:N},N}initAndGetManager(k){var E=this;return(0,f.Z)(function*(){const N=yield function(D){return O4.apply(this,arguments)}(k),j=new ra(k);return N.register("authEvent",K=>(Ze(null==K?void 0:K.authEvent,k,"invalid-auth-event"),{status:j.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[k._key()]={manager:j},E.iframes[k._key()]=N,j})()}_isIframeWebStorageSupported(k,E){this.iframes[k._key()].send(e0,{type:e0},j=>{var K;const be=null===(K=null==j?void 0:j[0])||void 0===K?void 0:K[e0];void 0!==be&&E(!!be),Xe(k,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(k){const E=k._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(D){return oa.apply(this,arguments)}(k)),this.originValidationPromises[E]}get _shouldInitProactively(){return ci()||yl()||ai()}}),this.cordovaResolver=ze(class{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ar}_initialize(k){var E=this;return(0,f.Z)(function*(){const N=k._key();let j=E.eventManagers.get(N);return j||(j=new tt(k),E.eventManagers.set(N,j),E.attachCallbackListeners(k,j)),j})()}_openPopup(k){Xe(k,"operation-not-supported-in-this-environment")}_openRedirect(k,E,N,j){var K=this;return(0,f.Z)(function*(){!function(D){var k,E,N,j,K,be,Ne,Qe,pt,Yt;const Pt=ca();Ze("function"==typeof(null===(k=null==Pt?void 0:Pt.universalLinks)||void 0===k?void 0:k.subscribe),D,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ze(void 0!==(null===(E=null==Pt?void 0:Pt.BuildInfo)||void 0===E?void 0:E.packageName),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ze("function"==typeof(null===(K=null===(j=null===(N=null==Pt?void 0:Pt.cordova)||void 0===N?void 0:N.plugins)||void 0===j?void 0:j.browsertab)||void 0===K?void 0:K.openUrl),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze("function"==typeof(null===(Qe=null===(Ne=null===(be=null==Pt?void 0:Pt.cordova)||void 0===be?void 0:be.plugins)||void 0===Ne?void 0:Ne.browsertab)||void 0===Qe?void 0:Qe.isAvailable),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ze("function"==typeof(null===(Yt=null===(pt=null==Pt?void 0:Pt.cordova)||void 0===pt?void 0:pt.InAppBrowser)||void 0===Yt?void 0:Yt.open),D,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(k);const be=yield K._initialize(k);yield be.initialized(),be.resetRedirect(),Gn.clear(),yield K._originValidation(k);const Ne=function(D,k,E=null){return{type:k,eventId:E,urlResponse:null,sessionId:t0(),postBody:null,tenantId:D.tenantId,error:vt(D,"no-auth-event")}}(k,N,j);yield function(D,k){return Uc()._set(q2(D),k)}(k,Ne);const Qe=yield function(D,k,E){return F4.apply(this,arguments)}(k,Ne,E),pt=yield function(D){const{cordova:k}=ca();return new Promise(E=>{k.plugins.browsertab.isAvailable(N=>{let j=null;N?k.plugins.browsertab.openUrl(D):j=k.InAppBrowser.open(D,function(D=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}()?"_blank":"_system","location=yes"),E(j)})})}(Qe);return function(D,k,E){return Pn.apply(this,arguments)}(k,be,pt)})()}_isIframeWebStorageSupported(k,E){throw new Error("Method not implemented.")}_originValidation(k){const E=k._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function(D){return jc.apply(this,arguments)}(k)),this.originValidationPromises[E]}attachCallbackListeners(k,E){const{universalLinks:N,handleOpenURL:j,BuildInfo:K}=ca(),be=setTimeout((0,f.Z)(function*(){yield k8(k),E.onEvent(Ei())}),500),Ne=function(){var Yt=(0,f.Z)(function*(Pt){clearTimeout(be);const Ct=yield k8(k);let ri=null;Ct&&(null==Pt?void 0:Pt.url)&&(ri=function(D,k){var E,N;const j=function(D){const k=r2(D),E=k.link?decodeURIComponent(k.link):void 0,N=r2(E).link,j=k.deep_link_id?decodeURIComponent(k.deep_link_id):void 0;return r2(j).link||j||N||E||D}(k);if(j.includes("/__/auth/callback")){const K=r2(j),be=K.firebaseError?function(D){try{return JSON.parse(D)}catch(k){return null}}(decodeURIComponent(K.firebaseError)):null,Ne=null===(N=null===(E=null==be?void 0:be.code)||void 0===E?void 0:E.split("auth/"))||void 0===N?void 0:N[1],Qe=Ne?vt(Ne):null;return Qe?{type:D.type,eventId:D.eventId,tenantId:D.tenantId,error:Qe,urlResponse:null,sessionId:null,postBody:null}:{type:D.type,eventId:D.eventId,tenantId:D.tenantId,sessionId:D.sessionId,urlResponse:j,postBody:null}}return null}(Ct,Pt.url)),E.onEvent(ri||Ei())});return function(Ct){return Yt.apply(this,arguments)}}();void 0!==N&&"function"==typeof N.subscribe&&N.subscribe(null,Ne);const Qe=j,pt=`${K.packageName.toLowerCase()}://`;ca().handleOpenURL=function(){var Yt=(0,f.Z)(function*(Pt){if(Pt.toLowerCase().startsWith(pt)&&Ne({url:Pt}),"function"==typeof Qe)try{Qe(Pt)}catch(Ct){console.error(Ct)}});return function(Pt){return Yt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=Ar}_initialize(k){var E=this;return(0,f.Z)(function*(){return yield E.selectUnderlyingResolver(),E.assertedUnderlyingResolver._initialize(k)})()}_openPopup(k,E,N,j){var K=this;return(0,f.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(k,E,N,j)})()}_openRedirect(k,E,N,j){var K=this;return(0,f.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(k,E,N,j)})()}_isIframeWebStorageSupported(k,E){this.assertedUnderlyingResolver._isIframeWebStorageSupported(k,E)}_originValidation(k){return this.assertedUnderlyingResolver._originValidation(k)}get _shouldInitProactively(){return s0()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return A6(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var k=this;return(0,f.Z)(function*(){if(k.underlyingResolver)return;const E=yield function(){return hr.apply(this,arguments)}();k.underlyingResolver=E?k.cordovaResolver:k.browserResolver})()}}function D8(D){return D.unwrap()}function z8(D){return e1(D)}function e1(D){const{_tokenResponse:k}=D instanceof q.ZR?D.customData:D;if(!k)return null;if(!(D instanceof q.ZR)&&"temporaryProof"in k&&"phoneNumber"in k)return Er.credentialFromResult(D);const E=k.providerId;if(!E||"password"===E)return null;let N;switch(E){case"google.com":N=Da;break;case"facebook.com":N=bc;break;case"github.com":N=wc;break;case"twitter.com":N=qs;break;default:const{oauthIdToken:j,oauthAccessToken:K,oauthTokenSecret:be,pendingToken:Ne,nonce:Qe}=k;return K||be||j||Ne?Ne?E.startsWith("saml.")?br._create(E,Ne):p1._fromParams({providerId:E,signInMethod:E,pendingToken:Ne,idToken:j,accessToken:K}):new Do(E).credential({idToken:j,accessToken:K,rawNonce:Qe}):null}return D instanceof q.ZR?N.credentialFromError(D):N.credentialFromResult(D)}function Oo(D,k){return k.catch(E=>{throw E instanceof q.ZR&&function(D,k){var E;const N=null===(E=k.customData)||void 0===E?void 0:E._tokenResponse;if("auth/multi-factor-auth-required"===k.code)k.resolver=new u0(D,function(D,k){var E;const N=(0,q.m9)(D),j=k;return Ze(k.customData.operationType,N,"argument-error"),Ze(null===(E=j.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,N,"argument-error"),Ha._fromError(N,j)}(D,k));else if(N){const j=e1(k),K=k;j&&(K.credential=j,K.tenantId=N.tenantId||void 0,K.email=N.email||void 0,K.phoneNumber=N.phoneNumber||void 0)}}(D,E),E}).then(E=>{const j=E.user;return{operationType:E.operationType,credential:z8(E),additionalUserInfo:ii(E),user:o2.getOrCreate(j)}})}function N8(D,k){return U4.apply(this,arguments)}function U4(){return U4=(0,f.Z)(function*(D,k){const E=yield k;return{verificationId:E.verificationId,confirm:N=>Oo(D,E.confirm(N))}}),U4.apply(this,arguments)}class u0{constructor(k,E){this.resolver=E,this.auth=function(D){return D.wrapped()}(k)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(k){return Oo(D8(this.auth),this.resolver.resolveSignIn(k))}}class o2{constructor(k){this._delegate=k,this.multiFactor=function(D){const k=(0,q.m9)(D);return Sl.has(k)||Sl.set(k,A4._fromUser(k)),Sl.get(k)}(k)}static getOrCreate(k){return o2.USER_MAP.has(k)||o2.USER_MAP.set(k,new o2(k)),o2.USER_MAP.get(k)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(k){return this._delegate.getIdTokenResult(k)}getIdToken(k){return this._delegate.getIdToken(k)}linkAndRetrieveDataWithCredential(k){return this.linkWithCredential(k)}linkWithCredential(k){var E=this;return(0,f.Z)(function*(){return Oo(E.auth,v1(E._delegate,k))})()}linkWithPhoneNumber(k,E){var N=this;return(0,f.Z)(function*(){return N8(N.auth,function(D,k,E){return Vc.apply(this,arguments)}(N._delegate,k,E))})()}linkWithPopup(k){var E=this;return(0,f.Z)(function*(){return Oo(E.auth,function(D,k,E){return C1.apply(this,arguments)}(E._delegate,k,ha))})()}linkWithRedirect(k){var E=this;return(0,f.Z)(function*(){return yield Wc(di(E.auth)),function(D,k,E){return function(D,k,E){return ia.apply(this,arguments)}(D,k,E)}(E._delegate,k,ha)})()}reauthenticateAndRetrieveDataWithCredential(k){return this.reauthenticateWithCredential(k)}reauthenticateWithCredential(k){var E=this;return(0,f.Z)(function*(){return Oo(E.auth,B3(E._delegate,k))})()}reauthenticateWithPhoneNumber(k,E){return N8(this.auth,function(D,k,E){return Ka.apply(this,arguments)}(this._delegate,k,E))}reauthenticateWithPopup(k){return Oo(this.auth,function(D,k,E){return Qs.apply(this,arguments)}(this._delegate,k,ha))}reauthenticateWithRedirect(k){var E=this;return(0,f.Z)(function*(){return yield Wc(di(E.auth)),function(D,k,E){return function(D,k,E){return Yi.apply(this,arguments)}(D,k,E)}(E._delegate,k,ha)})()}sendEmailVerification(k){return function(D,k){return Ra.apply(this,arguments)}(this._delegate,k)}unlink(k){var E=this;return(0,f.Z)(function*(){return yield function(D,k){return xc.apply(this,arguments)}(E._delegate,k),E})()}updateEmail(k){return function(D,k){return No((0,q.m9)(D),k,null)}(this._delegate,k)}updatePassword(k){return function(D,k){return No((0,q.m9)(D),null,k)}(this._delegate,k)}updatePhoneNumber(k){return function(D,k){return Qa.apply(this,arguments)}(this._delegate,k)}updateProfile(k){return function(D,k){return L2.apply(this,arguments)}(this._delegate,k)}verifyBeforeUpdateEmail(k,E){return function(D,k,E){return G1.apply(this,arguments)}(this._delegate,k,E)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}o2.USER_MAP=new WeakMap;const q4=Ze;let Zc=(()=>{class D{constructor(E,N){if(this.app=E,N.isInitialized())return this._delegate=N.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=E.options;q4(j,"invalid-api-key",{appName:E.name});let K=[hn];if("undefined"!=typeof window){K=function(D,k){const E=x6();if(!(null==E?void 0:E.sessionStorage))return[];const N=sr(T8,D,k);switch(E.sessionStorage.getItem(N)){case Tr.NONE:return[hn];case Tr.LOCAL:return[xs,Po];case Tr.SESSION:return[Po];default:return[]}}(j,E.name);for(const Ne of[xs,Nc,Po])K.includes(Ne)||K.push(Ne)}q4(j,"invalid-api-key",{appName:E.name});const be="undefined"!=typeof window?ha:void 0;this._delegate=N.initialize({options:{persistence:K,popupRedirectResolver:be}}),this._delegate._updateErrorMap(Je),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?o2.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(E){this._delegate.languageCode=E}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(E){this._delegate.tenantId=E}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(E,N){!function(D,k,E){const N=di(D);Ze(N._canInitEmulator,N,"emulator-config-failed"),Ze(/^https?:\/\//.test(k),N,"invalid-emulator-scheme");const j=!!(null==E?void 0:E.disableWarnings),K=H1(k),{host:be,port:Ne}=function(D){const k=H1(D),E=/(\/\/)?([^?#/]+)/.exec(D.substr(k.length));if(!E)return{host:"",port:null};const N=E[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(N);if(j){const K=j[1];return{host:K,port:Sa(N.substr(K.length+1))}}{const[K,be]=N.split(":");return{host:K,port:Sa(be)}}}(k);N.config.emulator={url:`${K}//${be}${null===Ne?"":`:${Ne}`}/`},N.settings.appVerificationDisabledForTesting=!0,N.emulatorConfig=Object.freeze({host:be,port:Ne,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function(){function D(){const k=document.createElement("p"),E=k.style;k.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",k.classList.add("firebase-emulator-warning"),document.body.appendChild(k)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(this._delegate,E,N)}applyActionCode(E){return function(D,k){return Ws.apply(this,arguments)}(this._delegate,E)}checkActionCode(E){return pi(this._delegate,E)}confirmPasswordReset(E,N){return function(D,k,E){return et.apply(this,arguments)}(this._delegate,E,N)}createUserWithEmailAndPassword(E,N){var j=this;return(0,f.Z)(function*(){return Oo(j._delegate,function(D,k,E){return In.apply(this,arguments)}(j._delegate,E,N))})()}fetchProvidersForEmail(E){return this.fetchSignInMethodsForEmail(E)}fetchSignInMethodsForEmail(E){return function(D,k){return Vi.apply(this,arguments)}(this._delegate,E)}isSignInWithEmailLink(E){return function(D,k){const E=Cs.parseLink(k);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}(0,E)}getRedirectResult(){var E=this;return(0,f.Z)(function*(){q4(Gc(),E._delegate,"operation-not-supported-in-this-environment");const N=yield function(D,k){return Ro.apply(this,arguments)}(E._delegate,ha);return N?Oo(E._delegate,Promise.resolve(N)):{credential:null,user:null}})()}addFrameworkForLogging(E){!function(D,k){di(D)._logFramework(k)}(this._delegate,E)}onAuthStateChanged(E,N,j){const{next:K,error:be,complete:Ne}=L8(E,N,j);return this._delegate.onAuthStateChanged(K,be,Ne)}onIdTokenChanged(E,N,j){const{next:K,error:be,complete:Ne}=L8(E,N,j);return this._delegate.onIdTokenChanged(K,be,Ne)}sendSignInLinkToEmail(E,N){return function(D,k,E){return fo.apply(this,arguments)}(this._delegate,E,N)}sendPasswordResetEmail(E,N){return function(D,k,E){return Tc.apply(this,arguments)}(this._delegate,E,N||void 0)}setPersistence(E){var N=this;return(0,f.Z)(function*(){let j;switch(function(D,k){$2(Object.values(Tr).includes(k),D,"invalid-persistence-type"),(0,q.b$)()?$2(k!==Tr.SESSION,D,"unsupported-persistence-type"):(0,q.UG)()?$2(k===Tr.NONE,D,"unsupported-persistence-type"):dr()?$2(k===Tr.NONE||k===Tr.LOCAL&&(0,q.hl)(),D,"unsupported-persistence-type"):$2(k===Tr.NONE||$c(),D,"unsupported-persistence-type")}(N._delegate,E),E){case Tr.SESSION:j=Po;break;case Tr.LOCAL:j=(yield ze(xs)._isAvailable())?xs:Nc;break;case Tr.NONE:j=hn;break;default:return Xe("argument-error",{appName:N._delegate.name})}return N._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(E){return this.signInWithCredential(E)}signInAnonymously(){return Oo(this._delegate,function(D){return za.apply(this,arguments)}(this._delegate))}signInWithCredential(E){return Oo(this._delegate,g1(this._delegate,E))}signInWithCustomToken(E){return Oo(this._delegate,function(D,k){return Ml.apply(this,arguments)}(this._delegate,E))}signInWithEmailAndPassword(E,N){return Oo(this._delegate,function(D,k,E){return g1((0,q.m9)(D),Us.credential(k,E))}(this._delegate,E,N))}signInWithEmailLink(E,N){return Oo(this._delegate,function(D,k,E){return Ms.apply(this,arguments)}(this._delegate,E,N))}signInWithPhoneNumber(E,N){return N8(this._delegate,function(D,k,E){return Oc.apply(this,arguments)}(this._delegate,E,N))}signInWithPopup(E){var N=this;return(0,f.Z)(function*(){return q4(Gc(),N._delegate,"operation-not-supported-in-this-environment"),Oo(N._delegate,function(D,k,E){return Ur.apply(this,arguments)}(N._delegate,E,ha))})()}signInWithRedirect(E){var N=this;return(0,f.Z)(function*(){return q4(Gc(),N._delegate,"operation-not-supported-in-this-environment"),yield Wc(N._delegate),function(D,k,E){return function(D,k,E){return mt.apply(this,arguments)}(D,k,E)}(N._delegate,E,ha)})()}updateCurrentUser(E){return this._delegate.updateCurrentUser(E)}verifyPasswordResetCode(E){return function(D,k){return Xi.apply(this,arguments)}(this._delegate,E)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return D.Persistence=Tr,D})();function L8(D,k,E){let N=D;"function"!=typeof D&&({next:N,error:k,complete:E}=D);const j=N;return{next:be=>j(be&&o2.getOrCreate(be)),error:k,complete:E}}class S6{constructor(){this.providerId="phone",this._delegate=new Er(D8(Z.Z.auth()))}static credential(k,E){return Er.credential(k,E)}verifyPhoneNumber(k,E){return this._delegate.verifyPhoneNumber(k,E)}unwrap(){return this._delegate}}S6.PHONE_SIGN_IN_METHOD=Er.PHONE_SIGN_IN_METHOD,S6.PROVIDER_ID=Er.PROVIDER_ID;const Yc=Ze;class s2{constructor(k,E,N=Z.Z.app()){var j;Yc(null===(j=N.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:N.name}),this._delegate=new Nl(k,E,N.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(D){D.INTERNAL.registerComponent(new ve.wA("auth-compat",k=>{const E=k.getProvider("app-compat").getImmediate(),N=k.getProvider("auth");return new Zc(E,N)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Us,FacebookAuthProvider:bc,GithubAuthProvider:wc,GoogleAuthProvider:Da,OAuthProvider:Do,SAMLAuthProvider:ks,PhoneAuthProvider:S6,PhoneMultiFactorGenerator:Ts,RecaptchaVerifier:s2,TwitterAuthProvider:qs,Auth:Zc,AuthCredential:To,Error:q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),D.registerVersion("@firebase/auth-compat","0.2.3")}(Z.Z)},4995:function(wt,Ve){!function(F){"use strict";function f(Ce){return Array.prototype.slice.call(Ce)}function Z(Ce){return new Promise(function(me,Ee){Ce.onsuccess=function(){me(Ce.result)},Ce.onerror=function(){Ee(Ce.error)}})}function q(Ce,me,Ee){var Ge,Xe=new Promise(function(vt,It){Z(Ge=Ce[me].apply(Ce,Ee)).then(vt,It)});return Xe.request=Ge,Xe}function R(Ce,me,Ee){var Ge=q(Ce,me,Ee);return Ge.then(function(Xe){if(Xe)return new ne(Xe,Ge.request)})}function te(Ce,me,Ee){Ee.forEach(function(Ge){Object.defineProperty(Ce.prototype,Ge,{get:function(){return this[me][Ge]},set:function(Xe){this[me][Ge]=Xe}})})}function pe(Ce,me,Ee,Ge){Ge.forEach(function(Xe){Xe in Ee.prototype&&(Ce.prototype[Xe]=function(){return q(this[me],Xe,arguments)})})}function ve(Ce,me,Ee,Ge){Ge.forEach(function(Xe){Xe in Ee.prototype&&(Ce.prototype[Xe]=function(){return this[me][Xe].apply(this[me],arguments)})})}function W(Ce,me,Ee,Ge){Ge.forEach(function(Xe){Xe in Ee.prototype&&(Ce.prototype[Xe]=function(){return R(this[me],Xe,arguments)})})}function de(Ce){this._index=Ce}function ne(Ce,me){this._cursor=Ce,this._request=me}function se(Ce){this._store=Ce}function le(Ce){this._tx=Ce,this.complete=new Promise(function(me,Ee){Ce.oncomplete=function(){me()},Ce.onerror=function(){Ee(Ce.error)},Ce.onabort=function(){Ee(Ce.error)}})}function Ie(Ce,me,Ee){this._db=Ce,this.oldVersion=me,this.transaction=new le(Ee)}function Ue(Ce){this._db=Ce}te(de,"_index",["name","keyPath","multiEntry","unique"]),pe(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),W(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),te(ne,"_cursor",["direction","key","primaryKey","value"]),pe(ne,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(Ce){Ce in IDBCursor.prototype&&(ne.prototype[Ce]=function(){var me=this,Ee=arguments;return Promise.resolve().then(function(){return me._cursor[Ce].apply(me._cursor,Ee),Z(me._request).then(function(Ge){if(Ge)return new ne(Ge,me._request)})})})}),se.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},se.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},te(se,"_store",["name","keyPath","indexNames","autoIncrement"]),pe(se,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),W(se,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ve(se,"_store",IDBObjectStore,["deleteIndex"]),le.prototype.objectStore=function(){return new se(this._tx.objectStore.apply(this._tx,arguments))},te(le,"_tx",["objectStoreNames","mode"]),ve(le,"_tx",IDBTransaction,["abort"]),Ie.prototype.createObjectStore=function(){return new se(this._db.createObjectStore.apply(this._db,arguments))},te(Ie,"_db",["name","version","objectStoreNames"]),ve(Ie,"_db",IDBDatabase,["deleteObjectStore","close"]),Ue.prototype.transaction=function(){return new le(this._db.transaction.apply(this._db,arguments))},te(Ue,"_db",["name","version","objectStoreNames"]),ve(Ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(Ce){[se,de].forEach(function(me){Ce in me.prototype&&(me.prototype[Ce.replace("open","iterate")]=function(){var Ee=f(arguments),Ge=Ee[Ee.length-1],Xe=this._store||this._index,vt=Xe[Ce].apply(Xe,Ee.slice(0,-1));vt.onsuccess=function(){Ge(vt.result)}})})}),[de,se].forEach(function(Ce){Ce.prototype.getAll||(Ce.prototype.getAll=function(me,Ee){var Ge=this,Xe=[];return new Promise(function(vt){Ge.iterateCursor(me,function(It){It?(Xe.push(It.value),void 0===Ee||Xe.length!=Ee?It.continue():vt(Xe)):vt(Xe)})})})}),F.openDb=function(Ce,me,Ee){var Ge=q(indexedDB,"open",[Ce,me]),Xe=Ge.request;return Xe&&(Xe.onupgradeneeded=function(vt){Ee&&Ee(new Ie(Xe.result,vt.oldVersion,Xe.transaction))}),Ge.then(function(vt){return new Ue(vt)})},F.deleteDb=function(Ce){return q(indexedDB,"deleteDatabase",[Ce])},Object.defineProperty(F,"__esModule",{value:!0})}(Ve)},8085:(wt,Ve,F)=>{"use strict";F.d(Ve,{P:()=>te});var f=F(172),Z=F(2411),q=F(540);class te{constructor(ve,W,de){this.kind=ve,this.value=W,this.error=de,this.hasValue="N"===ve}observe(ve){switch(this.kind){case"N":return ve.next&&ve.next(this.value);case"E":return ve.error&&ve.error(this.error);case"C":return ve.complete&&ve.complete()}}do(ve,W,de){switch(this.kind){case"N":return ve&&ve(this.value);case"E":return W&&W(this.error);case"C":return de&&de()}}accept(ve,W,de){return ve&&"function"==typeof ve.next?this.observe(ve):this.do(ve,W,de)}toObservable(){switch(this.kind){case"N":return(0,Z.of)(this.value);case"E":return(0,q._)(this.error);case"C":return(0,f.c)()}throw new Error("unexpected notification kind value")}static createNext(ve){return void 0!==ve?new te("N",ve):te.undefinedValueNotification}static createError(ve){return new te("E",void 0,ve)}static createComplete(){return te.completeNotification}}te.completeNotification=new te("C"),te.undefinedValueNotification=new te("N",void 0)},5548:(wt,Ve,F)=>{"use strict";F.d(Ve,{y:()=>se});var f=F(4168),q=F(2926),R=F(6617),pe=F(1359),ve=F(7255);var ne=F(5426);let se=(()=>{class Ie{constructor(Je){this._isScalar=!1,Je&&(this._subscribe=Je)}lift(Je){const qe=new Ie;return qe.source=this,qe.operator=Je,qe}subscribe(Je,qe,Ce){const{operator:me}=this,Ee=function(Ie,Ue,Je){if(Ie){if(Ie instanceof f.L)return Ie;if(Ie[q.b])return Ie[q.b]()}return Ie||Ue||Je?new f.L(Ie,Ue,Je):new f.L(R.c)}(Je,qe,Ce);if(Ee.add(me?me.call(Ee,this.source):this.source||ne.v.useDeprecatedSynchronousErrorHandling&&!Ee.syncErrorThrowable?this._subscribe(Ee):this._trySubscribe(Ee)),ne.v.useDeprecatedSynchronousErrorHandling&&Ee.syncErrorThrowable&&(Ee.syncErrorThrowable=!1,Ee.syncErrorThrown))throw Ee.syncErrorValue;return Ee}_trySubscribe(Je){try{return this._subscribe(Je)}catch(qe){ne.v.useDeprecatedSynchronousErrorHandling&&(Je.syncErrorThrown=!0,Je.syncErrorValue=qe),function(Ie){for(;Ie;){const{closed:Ue,destination:Je,isStopped:qe}=Ie;if(Ue||qe)return!1;Ie=Je&&Je instanceof f.L?Je:null}return!0}(Je)?Je.error(qe):console.warn(qe)}}forEach(Je,qe){return new(qe=le(qe))((Ce,me)=>{let Ee;Ee=this.subscribe(Ge=>{try{Je(Ge)}catch(Xe){me(Xe),Ee&&Ee.unsubscribe()}},me,Ce)})}_subscribe(Je){const{source:qe}=this;return qe&&qe.subscribe(Je)}[pe.L](){return this}pipe(...Je){return 0===Je.length?this:function(Ie){return 0===Ie.length?ve.y:1===Ie.length?Ie[0]:function(Je){return Ie.reduce((qe,Ce)=>Ce(qe),Je)}}(Je)(this)}toPromise(Je){return new(Je=le(Je))((qe,Ce)=>{let me;this.subscribe(Ee=>me=Ee,Ee=>Ce(Ee),()=>qe(me))})}}return Ie.create=Ue=>new Ie(Ue),Ie})();function le(Ie){if(Ie||(Ie=ne.v.Promise||Promise),!Ie)throw new Error("no Promise impl found");return Ie}},6617:(wt,Ve,F)=>{"use strict";F.d(Ve,{c:()=>q});var f=F(5426),Z=F(9887);const q={closed:!0,next(R){},error(R){if(f.v.useDeprecatedSynchronousErrorHandling)throw R;(0,Z.z)(R)},complete(){}}},3405:(wt,Ve,F)=>{"use strict";F.d(Ve,{Yc:()=>ve,xQ:()=>W});var f=F(5548),Z=F(4168),q=F(1346),R=F(2108),te=F(5973),pe=F(2926);class ve extends Z.L{constructor(se){super(se),this.destination=se}}let W=(()=>{class ne extends f.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[pe.b](){return new ve(this)}lift(le){const Ie=new de(this,this);return Ie.operator=le,Ie}next(le){if(this.closed)throw new R.N;if(!this.isStopped){const{observers:Ie}=this,Ue=Ie.length,Je=Ie.slice();for(let qe=0;qe<Ue;qe++)Je[qe].next(le)}}error(le){if(this.closed)throw new R.N;this.hasError=!0,this.thrownError=le,this.isStopped=!0;const{observers:Ie}=this,Ue=Ie.length,Je=Ie.slice();for(let qe=0;qe<Ue;qe++)Je[qe].error(le);this.observers.length=0}complete(){if(this.closed)throw new R.N;this.isStopped=!0;const{observers:le}=this,Ie=le.length,Ue=le.slice();for(let Je=0;Je<Ie;Je++)Ue[Je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(le){if(this.closed)throw new R.N;return super._trySubscribe(le)}_subscribe(le){if(this.closed)throw new R.N;return this.hasError?(le.error(this.thrownError),q.w.EMPTY):this.isStopped?(le.complete(),q.w.EMPTY):(this.observers.push(le),new te.W(this,le))}asObservable(){const le=new f.y;return le.source=this,le}}return ne.create=(se,le)=>new de(se,le),ne})();class de extends W{constructor(se,le){super(),this.destination=se,this.source=le}next(se){const{destination:le}=this;le&&le.next&&le.next(se)}error(se){const{destination:le}=this;le&&le.error&&this.destination.error(se)}complete(){const{destination:se}=this;se&&se.complete&&this.destination.complete()}_subscribe(se){const{source:le}=this;return le?this.source.subscribe(se):q.w.EMPTY}}},5973:(wt,Ve,F)=>{"use strict";F.d(Ve,{W:()=>Z});var f=F(1346);class Z extends f.w{constructor(R,te){super(),this.subject=R,this.subscriber=te,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const R=this.subject,te=R.observers;if(this.subject=null,!te||0===te.length||R.isStopped||R.closed)return;const pe=te.indexOf(this.subscriber);-1!==pe&&te.splice(pe,1)}}},4168:(wt,Ve,F)=>{"use strict";F.d(Ve,{L:()=>ve});var f=F(6783),Z=F(6617),q=F(1346),R=F(2926),te=F(5426),pe=F(9887);class ve extends q.w{constructor(ne,se,le){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Z.c;break;case 1:if(!ne){this.destination=Z.c;break}if("object"==typeof ne){ne instanceof ve?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new W(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new W(this,ne,se,le)}}[R.b](){return this}static create(ne,se,le){const Ie=new ve(ne,se,le);return Ie.syncErrorThrowable=!1,Ie}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class W extends ve{constructor(ne,se,le,Ie){super(),this._parentSubscriber=ne;let Ue,Je=this;(0,f.m)(se)?Ue=se:se&&(Ue=se.next,le=se.error,Ie=se.complete,se!==Z.c&&(Je=Object.create(se),(0,f.m)(Je.unsubscribe)&&this.add(Je.unsubscribe.bind(Je)),Je.unsubscribe=this.unsubscribe.bind(this))),this._context=Je,this._next=Ue,this._error=le,this._complete=Ie}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:se}=this;te.v.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable?this.__tryOrSetError(se,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:se}=this,{useDeprecatedSynchronousErrorHandling:le}=te.v;if(this._error)le&&se.syncErrorThrowable?(this.__tryOrSetError(se,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(se.syncErrorThrowable)le?(se.syncErrorValue=ne,se.syncErrorThrown=!0):(0,pe.z)(ne),this.unsubscribe();else{if(this.unsubscribe(),le)throw ne;(0,pe.z)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const se=()=>this._complete.call(this._context);te.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,se),this.unsubscribe()):(this.__tryOrUnsub(se),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,se){try{ne.call(this._context,se)}catch(le){if(this.unsubscribe(),te.v.useDeprecatedSynchronousErrorHandling)throw le;(0,pe.z)(le)}}__tryOrSetError(ne,se,le){if(!te.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{se.call(this._context,le)}catch(Ie){return te.v.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=Ie,ne.syncErrorThrown=!0,!0):((0,pe.z)(Ie),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},1346:(wt,Ve,F)=>{"use strict";F.d(Ve,{w:()=>pe});var f=F(5894),Z=F(7879),q=F(6783);const te=(()=>{function W(de){return Error.call(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((ne,se)=>`${se+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de,this}return W.prototype=Object.create(Error.prototype),W})();class pe{constructor(de){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,de&&(this._ctorUnsubscribe=!0,this._unsubscribe=de)}unsubscribe(){let de;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:se,_unsubscribe:le,_subscriptions:Ie}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof pe)ne.remove(this);else if(null!==ne)for(let Ue=0;Ue<ne.length;++Ue)ne[Ue].remove(this);if((0,q.m)(le)){se&&(this._unsubscribe=void 0);try{le.call(this)}catch(Ue){de=Ue instanceof te?ve(Ue.errors):[Ue]}}if((0,f.k)(Ie)){let Ue=-1,Je=Ie.length;for(;++Ue<Je;){const qe=Ie[Ue];if((0,Z.K)(qe))try{qe.unsubscribe()}catch(Ce){de=de||[],Ce instanceof te?de=de.concat(ve(Ce.errors)):de.push(Ce)}}}if(de)throw new te(de)}add(de){let ne=de;if(!de)return pe.EMPTY;switch(typeof de){case"function":ne=new pe(de);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof pe)){const Ie=ne;ne=new pe,ne._subscriptions=[Ie]}break;default:throw new Error("unrecognized teardown "+de+" added to Subscription.")}let{_parentOrParents:se}=ne;if(null===se)ne._parentOrParents=this;else if(se instanceof pe){if(se===this)return ne;ne._parentOrParents=[se,this]}else{if(-1!==se.indexOf(this))return ne;se.push(this)}const le=this._subscriptions;return null===le?this._subscriptions=[ne]:le.push(ne),ne}remove(de){const ne=this._subscriptions;if(ne){const se=ne.indexOf(de);-1!==se&&ne.splice(se,1)}}}var W;function ve(W){return W.reduce((de,ne)=>de.concat(ne instanceof te?ne.errors:ne),[])}pe.EMPTY=((W=new pe).closed=!0,W)},5426:(wt,Ve,F)=>{"use strict";F.d(Ve,{v:()=>Z});let f=!1;const Z={Promise:void 0,set useDeprecatedSynchronousErrorHandling(q){if(q){const R=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+R.stack)}else f&&console.log("RxJS: Back to a better error behavior. Thank you. <3");f=q},get useDeprecatedSynchronousErrorHandling(){return f}}},8345:(wt,Ve,F)=>{"use strict";F.d(Ve,{IY:()=>R,Ds:()=>pe,ft:()=>W});var f=F(4168),Z=F(5548),q=F(4651);class R extends f.L{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class pe extends f.L{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function W(de,ne){if(ne.closed)return;if(de instanceof Z.y)return de.subscribe(ne);let se;try{se=(0,q.s)(de)(ne)}catch(le){ne.error(le)}return se}},5783:(wt,Ve,F)=>{"use strict";F.d(Ve,{c:()=>te,N:()=>pe});var f=F(3405),Z=F(5548),q=F(1346),R=F(5234);class te extends Z.y{constructor(se,le){super(),this.source=se,this.subjectFactory=le,this._refCount=0,this._isComplete=!1}_subscribe(se){return this.getSubject().subscribe(se)}getSubject(){const se=this._subject;return(!se||se.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let se=this._connection;return se||(this._isComplete=!1,se=this._connection=new q.w,se.add(this.source.subscribe(new ve(this.getSubject(),this))),se.closed&&(this._connection=null,se=q.w.EMPTY)),se}refCount(){return(0,R.x)()(this)}}const pe=(()=>{const ne=te.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}}})();class ve extends f.Yc{constructor(se,le){super(se),this.connectable=le}_error(se){this._unsubscribe(),super._error(se)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const se=this.connectable;if(se){this.connectable=null;const le=se._connection;se._refCount=0,se._subject=null,se._connection=null,le&&le.unsubscribe()}}}},172:(wt,Ve,F)=>{"use strict";F.d(Ve,{E:()=>Z,c:()=>q});var f=F(5548);const Z=new f.y(te=>te.complete());function q(te){return te?function(te){return new f.y(pe=>te.schedule(()=>pe.complete()))}(te):Z}},1915:(wt,Ve,F)=>{"use strict";F.d(Ve,{D:()=>Je});var f=F(5548),Z=F(4651),q=F(1346),R=F(1359),ve=F(3428),W=F(4352),se=F(847),le=F(1265);function Je(qe,Ce){return Ce?function(qe,Ce){if(null!=qe){if(function(qe){return qe&&"function"==typeof qe[R.L]}(qe))return function(qe,Ce){return new f.y(me=>{const Ee=new q.w;return Ee.add(Ce.schedule(()=>{const Ge=qe[R.L]();Ee.add(Ge.subscribe({next(Xe){Ee.add(Ce.schedule(()=>me.next(Xe)))},error(Xe){Ee.add(Ce.schedule(()=>me.error(Xe)))},complete(){Ee.add(Ce.schedule(()=>me.complete()))}}))})),Ee})}(qe,Ce);if((0,se.t)(qe))return function(qe,Ce){return new f.y(me=>{const Ee=new q.w;return Ee.add(Ce.schedule(()=>qe.then(Ge=>{Ee.add(Ce.schedule(()=>{me.next(Ge),Ee.add(Ce.schedule(()=>me.complete()))}))},Ge=>{Ee.add(Ce.schedule(()=>me.error(Ge)))}))),Ee})}(qe,Ce);if((0,le.z)(qe))return(0,ve.r)(qe,Ce);if(function(qe){return qe&&"function"==typeof qe[W.hZ]}(qe)||"string"==typeof qe)return function(qe,Ce){if(!qe)throw new Error("Iterable cannot be null");return new f.y(me=>{const Ee=new q.w;let Ge;return Ee.add(()=>{Ge&&"function"==typeof Ge.return&&Ge.return()}),Ee.add(Ce.schedule(()=>{Ge=qe[W.hZ](),Ee.add(Ce.schedule(function(){if(me.closed)return;let Xe,vt;try{const It=Ge.next();Xe=It.value,vt=It.done}catch(It){return void me.error(It)}vt?me.complete():(me.next(Xe),this.schedule())}))})),Ee})}(qe,Ce)}throw new TypeError((null!==qe&&typeof qe||qe)+" is not observable")}(qe,Ce):qe instanceof f.y?qe:new f.y((0,Z.s)(qe))}},5433:(wt,Ve,F)=>{"use strict";F.d(Ve,{n:()=>R});var f=F(5548),Z=F(8769),q=F(3428);function R(te,pe){return pe?(0,q.r)(te,pe):new f.y((0,Z.V)(te))}},8526:(wt,Ve,F)=>{"use strict";F.d(Ve,{T:()=>te});var f=F(5548),Z=F(8151),q=F(2225),R=F(5433);function te(...pe){let ve=Number.POSITIVE_INFINITY,W=null,de=pe[pe.length-1];return(0,Z.K)(de)?(W=pe.pop(),pe.length>1&&"number"==typeof pe[pe.length-1]&&(ve=pe.pop())):"number"==typeof de&&(ve=pe.pop()),null===W&&1===pe.length&&pe[0]instanceof f.y?pe[0]:(0,q.J)(ve)((0,R.n)(pe,W))}},2411:(wt,Ve,F)=>{"use strict";F.d(Ve,{of:()=>R});var f=F(8151),Z=F(5433),q=F(3428);function R(...te){let pe=te[te.length-1];return(0,f.K)(pe)?(te.pop(),(0,q.r)(te,pe)):(0,Z.n)(te)}},540:(wt,Ve,F)=>{"use strict";F.d(Ve,{_:()=>Z});var f=F(5548);function Z(R,te){return new f.y(te?pe=>te.schedule(q,0,{error:R,subscriber:pe}):pe=>pe.error(R))}function q({error:R,subscriber:te}){te.error(R)}},8053:(wt,Ve,F)=>{"use strict";F.d(Ve,{U:()=>Z});var f=F(4168);function Z(te,pe){return function(W){if("function"!=typeof te)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return W.lift(new q(te,pe))}}class q{constructor(pe,ve){this.project=pe,this.thisArg=ve}call(pe,ve){return ve.subscribe(new R(pe,this.project,this.thisArg))}}class R extends f.L{constructor(pe,ve,W){super(pe),this.project=ve,this.count=0,this.thisArg=W||this}_next(pe){let ve;try{ve=this.project.call(this.thisArg,pe,this.count++)}catch(W){return void this.destination.error(W)}this.destination.next(ve)}}},2225:(wt,Ve,F)=>{"use strict";F.d(Ve,{J:()=>q});var f=F(4421),Z=F(7255);function q(R=Number.POSITIVE_INFINITY){return(0,f.zg)(Z.y,R)}},4421:(wt,Ve,F)=>{"use strict";F.d(Ve,{zg:()=>R});var f=F(8053),Z=F(1915),q=F(8345);function R(W,de,ne=Number.POSITIVE_INFINITY){return"function"==typeof de?se=>se.pipe(R((le,Ie)=>(0,Z.D)(W(le,Ie)).pipe((0,f.U)((Ue,Je)=>de(le,Ue,Ie,Je))),ne)):("number"==typeof de&&(ne=de),se=>se.lift(new te(W,ne)))}class te{constructor(de,ne=Number.POSITIVE_INFINITY){this.project=de,this.concurrent=ne}call(de,ne){return ne.subscribe(new pe(de,this.project,this.concurrent))}}class pe extends q.Ds{constructor(de,ne,se=Number.POSITIVE_INFINITY){super(de),this.project=ne,this.concurrent=se,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(de){this.active<this.concurrent?this._tryNext(de):this.buffer.push(de)}_tryNext(de){let ne;const se=this.index++;try{ne=this.project(de,se)}catch(le){return void this.destination.error(le)}this.active++,this._innerSub(ne)}_innerSub(de){const ne=new q.IY(this),se=this.destination;se.add(ne);const le=(0,q.ft)(de,ne);le!==ne&&se.add(le)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(de){this.destination.next(de)}notifyComplete(){const de=this.buffer;this.active--,de.length>0?this._next(de.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9748:(wt,Ve,F)=>{"use strict";F.d(Ve,{QV:()=>q,ht:()=>te});var f=F(4168),Z=F(8085);function q(ve,W=0){return function(ne){return ne.lift(new R(ve,W))}}class R{constructor(W,de=0){this.scheduler=W,this.delay=de}call(W,de){return de.subscribe(new te(W,this.scheduler,this.delay))}}class te extends f.L{constructor(W,de,ne=0){super(W),this.scheduler=de,this.delay=ne}static dispatch(W){const{notification:de,destination:ne}=W;de.observe(ne),this.unsubscribe()}scheduleMessage(W){this.destination.add(this.scheduler.schedule(te.dispatch,this.delay,new pe(W,this.destination)))}_next(W){this.scheduleMessage(Z.P.createNext(W))}_error(W){this.scheduleMessage(Z.P.createError(W)),this.unsubscribe()}_complete(){this.scheduleMessage(Z.P.createComplete()),this.unsubscribe()}}class pe{constructor(W,de){this.notification=W,this.destination=de}}},5234:(wt,Ve,F)=>{"use strict";F.d(Ve,{x:()=>Z});var f=F(4168);function Z(){return function(pe){return pe.lift(new q(pe))}}class q{constructor(pe){this.connectable=pe}call(pe,ve){const{connectable:W}=this;W._refCount++;const de=new R(pe,W),ne=ve.subscribe(de);return de.closed||(de.connection=W.connect()),ne}}class R extends f.L{constructor(pe,ve){super(pe),this.connectable=ve}_unsubscribe(){const{connectable:pe}=this;if(!pe)return void(this.connection=null);this.connectable=null;const ve=pe._refCount;if(ve<=0)return void(this.connection=null);if(pe._refCount=ve-1,ve>1)return void(this.connection=null);const{connection:W}=this,de=pe._connection;this.connection=null,de&&(!W||de===W)&&de.unsubscribe()}}},6669:(wt,Ve,F)=>{"use strict";F.d(Ve,{B:()=>ve});var f=F(5783);var R=F(5234),te=F(3405);function pe(){return new te.xQ}function ve(){return W=>(0,R.x)()(function(W,de){return function(se){let le;le="function"==typeof W?W:function(){return W};const Ie=Object.create(se,f.N);return Ie.source=se,Ie.subjectFactory=le,Ie}}(pe)(W))}},225:(wt,Ve,F)=>{"use strict";F.d(Ve,{R:()=>te});var f=F(5548),Z=F(2907),q=F(8212);class R extends f.y{constructor(W,de=0,ne=Z.e){super(),this.source=W,this.delayTime=de,this.scheduler=ne,(!(0,q.k)(de)||de<0)&&(this.delayTime=0),(!ne||"function"!=typeof ne.schedule)&&(this.scheduler=Z.e)}static create(W,de=0,ne=Z.e){return new R(W,de,ne)}static dispatch(W){const{source:de,subscriber:ne}=W;return this.add(de.subscribe(ne))}_subscribe(W){return this.scheduler.schedule(R.dispatch,this.delayTime,{source:this.source,subscriber:W})}}function te(ve,W=0){return function(ne){return ne.lift(new pe(ve,W))}}class pe{constructor(W,de){this.scheduler=W,this.delay=de}call(W,de){return new R(de,this.delay,this.scheduler).subscribe(W)}}},5722:(wt,Ve,F)=>{"use strict";F.d(Ve,{b:()=>R});var f=F(4168);function Z(){}var q=F(6783);function R(ve,W,de){return function(se){return se.lift(new te(ve,W,de))}}class te{constructor(W,de,ne){this.nextOrObserver=W,this.error=de,this.complete=ne}call(W,de){return de.subscribe(new pe(W,this.nextOrObserver,this.error,this.complete))}}class pe extends f.L{constructor(W,de,ne,se){super(W),this._tapNext=Z,this._tapError=Z,this._tapComplete=Z,this._tapError=ne||Z,this._tapComplete=se||Z,(0,q.m)(de)?(this._context=this,this._tapNext=de):de&&(this._context=de,this._tapNext=de.next||Z,this._tapError=de.error||Z,this._tapComplete=de.complete||Z)}_next(W){try{this._tapNext.call(this._context,W)}catch(de){return void this.destination.error(de)}this.destination.next(W)}_error(W){try{this._tapError.call(this._context,W)}catch(de){return void this.destination.error(de)}this.destination.error(W)}_complete(){try{this._tapComplete.call(this._context)}catch(W){return void this.destination.error(W)}return this.destination.complete()}}},3428:(wt,Ve,F)=>{"use strict";F.d(Ve,{r:()=>q});var f=F(5548),Z=F(1346);function q(R,te){return new f.y(pe=>{const ve=new Z.w;let W=0;return ve.add(te.schedule(function(){W!==R.length?(pe.next(R[W++]),pe.closed||ve.add(this.schedule())):pe.complete()})),ve})}},6339:(wt,Ve,F)=>{"use strict";F.d(Ve,{o:()=>q});var f=F(1346);class Z extends f.w{constructor(te,pe){super()}schedule(te,pe=0){return this}}class q extends Z{constructor(te,pe){super(te,pe),this.scheduler=te,this.work=pe,this.pending=!1}schedule(te,pe=0){if(this.closed)return this;this.state=te;const ve=this.id,W=this.scheduler;return null!=ve&&(this.id=this.recycleAsyncId(W,ve,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(W,this.id,pe),this}requestAsyncId(te,pe,ve=0){return setInterval(te.flush.bind(te,this),ve)}recycleAsyncId(te,pe,ve=0){if(null!==ve&&this.delay===ve&&!1===this.pending)return pe;clearInterval(pe)}execute(te,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(te,pe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,pe){let W,ve=!1;try{this.work(te)}catch(de){ve=!0,W=!!de&&de||new Error(de)}if(ve)return this.unsubscribe(),W}_unsubscribe(){const te=this.id,pe=this.scheduler,ve=pe.actions,W=ve.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==W&&ve.splice(W,1),null!=te&&(this.id=this.recycleAsyncId(pe,te,null)),this.delay=null}}},5192:(wt,Ve,F)=>{"use strict";F.d(Ve,{v:()=>Z});let f=(()=>{class q{constructor(te,pe=q.now){this.SchedulerAction=te,this.now=pe}schedule(te,pe=0,ve){return new this.SchedulerAction(this,te).schedule(ve,pe)}}return q.now=()=>Date.now(),q})();class Z extends f{constructor(R,te=f.now){super(R,()=>Z.delegate&&Z.delegate!==this?Z.delegate.now():te()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(R,te=0,pe){return Z.delegate&&Z.delegate!==this?Z.delegate.schedule(R,te,pe):super.schedule(R,te,pe)}flush(R){const{actions:te}=this;if(this.active)return void te.push(R);let pe;this.active=!0;do{if(pe=R.execute(R.state,R.delay))break}while(R=te.shift());if(this.active=!1,pe){for(;R=te.shift();)R.unsubscribe();throw pe}}}},2907:(wt,Ve,F)=>{"use strict";F.d(Ve,{e:()=>le,E:()=>se});let f=1;const Z=Promise.resolve(),q={};function R(Ie){return Ie in q&&(delete q[Ie],!0)}const te={setImmediate(Ie){const Ue=f++;return q[Ue]=!0,Z.then(()=>R(Ue)&&Ie()),Ue},clearImmediate(Ie){R(Ie)}};var ve=F(6339),de=F(5192);const se=new class extends de.v{flush(Ue){this.active=!0,this.scheduled=void 0;const{actions:Je}=this;let qe,Ce=-1,me=Je.length;Ue=Ue||Je.shift();do{if(qe=Ue.execute(Ue.state,Ue.delay))break}while(++Ce<me&&(Ue=Je.shift()));if(this.active=!1,qe){for(;++Ce<me&&(Ue=Je.shift());)Ue.unsubscribe();throw qe}}}(class extends ve.o{constructor(Ue,Je){super(Ue,Je),this.scheduler=Ue,this.work=Je}requestAsyncId(Ue,Je,qe=0){return null!==qe&&qe>0?super.requestAsyncId(Ue,Je,qe):(Ue.actions.push(this),Ue.scheduled||(Ue.scheduled=te.setImmediate(Ue.flush.bind(Ue,null))))}recycleAsyncId(Ue,Je,qe=0){if(null!==qe&&qe>0||null===qe&&this.delay>0)return super.recycleAsyncId(Ue,Je,qe);0===Ue.actions.length&&(te.clearImmediate(Je),Ue.scheduled=void 0)}}),le=se},8178:(wt,Ve,F)=>{"use strict";F.d(Ve,{z:()=>q,P:()=>R});var f=F(6339);const q=new(F(5192).v)(f.o),R=q},7575:(wt,Ve,F)=>{"use strict";F.d(Ve,{c:()=>pe,N:()=>te});var f=F(6339),q=F(5192);const te=new class extends q.v{}(class extends f.o{constructor(W,de){super(W,de),this.scheduler=W,this.work=de}schedule(W,de=0){return de>0?super.schedule(W,de):(this.delay=de,this.state=W,this.scheduler.flush(this),this)}execute(W,de){return de>0||this.closed?super.execute(W,de):this._execute(W,de)}requestAsyncId(W,de,ne=0){return null!==ne&&ne>0||null===ne&&this.delay>0?super.requestAsyncId(W,de,ne):W.flush(this)}}),pe=te},4352:(wt,Ve,F)=>{"use strict";F.d(Ve,{hZ:()=>Z});const Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(wt,Ve,F)=>{"use strict";F.d(Ve,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(wt,Ve,F)=>{"use strict";F.d(Ve,{b:()=>f});const f="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2108:(wt,Ve,F)=>{"use strict";F.d(Ve,{N:()=>Z});const Z=(()=>{function q(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return q.prototype=Object.create(Error.prototype),q})()},9887:(wt,Ve,F)=>{"use strict";function f(Z){setTimeout(()=>{throw Z},0)}F.d(Ve,{z:()=>f})},7255:(wt,Ve,F)=>{"use strict";function f(Z){return Z}F.d(Ve,{y:()=>f})},5894:(wt,Ve,F)=>{"use strict";F.d(Ve,{k:()=>f});const f=Array.isArray||(Z=>Z&&"number"==typeof Z.length)},1265:(wt,Ve,F)=>{"use strict";F.d(Ve,{z:()=>f});const f=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},6783:(wt,Ve,F)=>{"use strict";function f(Z){return"function"==typeof Z}F.d(Ve,{m:()=>f})},8212:(wt,Ve,F)=>{"use strict";F.d(Ve,{k:()=>Z});var f=F(5894);function Z(q){return!(0,f.k)(q)&&q-parseFloat(q)+1>=0}},7879:(wt,Ve,F)=>{"use strict";function f(Z){return null!==Z&&"object"==typeof Z}F.d(Ve,{K:()=>f})},847:(wt,Ve,F)=>{"use strict";function f(Z){return!!Z&&"function"!=typeof Z.subscribe&&"function"==typeof Z.then}F.d(Ve,{t:()=>f})},8151:(wt,Ve,F)=>{"use strict";function f(Z){return Z&&"function"==typeof Z.schedule}F.d(Ve,{K:()=>f})},4651:(wt,Ve,F)=>{"use strict";F.d(Ve,{s:()=>se});var f=F(8769),Z=F(9887),R=F(4352),pe=F(1359),W=F(1265),de=F(847),ne=F(7879);const se=le=>{if(le&&"function"==typeof le[pe.L])return(le=>Ie=>{const Ue=le[pe.L]();if("function"!=typeof Ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ue.subscribe(Ie)})(le);if((0,W.z)(le))return(0,f.V)(le);if((0,de.t)(le))return(le=>Ie=>(le.then(Ue=>{Ie.closed||(Ie.next(Ue),Ie.complete())},Ue=>Ie.error(Ue)).then(null,Z.z),Ie))(le);if(le&&"function"==typeof le[R.hZ])return(le=>Ie=>{const Ue=le[R.hZ]();for(;;){let Je;try{Je=Ue.next()}catch(qe){return Ie.error(qe),Ie}if(Je.done){Ie.complete();break}if(Ie.next(Je.value),Ie.closed)break}return"function"==typeof Ue.return&&Ie.add(()=>{Ue.return&&Ue.return()}),Ie})(le);{const Ue=`You provided ${(0,ne.K)(le)?"an invalid object":`'${le}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ue)}}},8769:(wt,Ve,F)=>{"use strict";F.d(Ve,{V:()=>f});const f=Z=>q=>{for(let R=0,te=Z.length;R<te&&!q.closed;R++)q.next(Z[R]);q.complete()}},9042:(wt,Ve,F)=>{"use strict";var f=F(3668);let Z=null;function q(){return Z}const ve=new f.OlP("DocumentToken");let W=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.LFG)(se)},providedIn:"platform"}),n})();const ne=new f.OlP("Location Initialized");let se=(()=>{class n extends W{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(t){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){le()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){le()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:function(){return new se((0,f.LFG)(ve))},providedIn:"platform"}),n})();function le(){return!!window.history.pushState}function Ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Je(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function(n){const e=(0,f.LFG)(ve).location;return new Ge((0,f.LFG)(W),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ee=new f.OlP("appBaseHref");let Ge=(()=>{class n extends Ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,p){const v=this.prepareExternalUrl(s+qe(p));this._platformLocation.pushState(t,r,v)}replaceState(t,r,s,p){const v=this.prepareExternalUrl(s+qe(p));this._platformLocation.replaceState(t,r,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null==(s=(r=this._platformLocation).historyGo)||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(W),f.LFG(Ee,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Xe=(()=>{class n extends Ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,p){let v=this.prepareExternalUrl(s+qe(p));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.pushState(t,r,v)}replaceState(t,r,s,p){let v=this.prepareExternalUrl(s+qe(p));0==v.length&&(v=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,v)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null==(s=(r=this._platformLocation).historyGo)||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(W),f.LFG(Ee,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),vt=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Je(jt(s)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,jt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null==(s=(r=this._platformStrategy).historyGo)||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=qe,n.joinWithSlash=Ue,n.stripTrailingSlash=Je,n.\u0275fac=function(t){return new(t||n)(f.LFG(Ce),f.LFG(W))},n.\u0275prov=f.Yz7({token:n,factory:function(){return new vt((0,f.LFG)(Ce),(0,f.LFG)(W))},providedIn:"root"}),n})();function jt(n){return n.replace(/\/index.html$/,"")}var Se=(()=>((Se=Se||{})[Se.Decimal=0]="Decimal",Se[Se.Percent=1]="Percent",Se[Se.Currency=2]="Currency",Se[Se.Scientific=3]="Scientific",Se))(),De=(()=>((De=De||{})[De.Zero=0]="Zero",De[De.One=1]="One",De[De.Two=2]="Two",De[De.Few=3]="Few",De[De.Many=4]="Many",De[De.Other=5]="Other",De))(),Fe=(()=>((Fe=Fe||{})[Fe.Format=0]="Format",Fe[Fe.Standalone=1]="Standalone",Fe))(),ze=(()=>((ze=ze||{})[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze))(),it=(()=>((it=it||{})[it.Short=0]="Short",it[it.Medium=1]="Medium",it[it.Long=2]="Long",it[it.Full=3]="Full",it))(),Pe=(()=>((Pe=Pe||{})[Pe.Decimal=0]="Decimal",Pe[Pe.Group=1]="Group",Pe[Pe.List=2]="List",Pe[Pe.PercentSign=3]="PercentSign",Pe[Pe.PlusSign=4]="PlusSign",Pe[Pe.MinusSign=5]="MinusSign",Pe[Pe.Exponential=6]="Exponential",Pe[Pe.SuperscriptingExponent=7]="SuperscriptingExponent",Pe[Pe.PerMille=8]="PerMille",Pe[Pe.Infinity=9]="Infinity",Pe[Pe.NaN=10]="NaN",Pe[Pe.TimeSeparator=11]="TimeSeparator",Pe[Pe.CurrencyDecimal=12]="CurrencyDecimal",Pe[Pe.CurrencyGroup=13]="CurrencyGroup",Pe))();function Mo(n,e){return $i((0,f.cg1)(n)[f.wAp.DateFormat],e)}function si(n,e){return $i((0,f.cg1)(n)[f.wAp.TimeFormat],e)}function bi(n,e){return $i((0,f.cg1)(n)[f.wAp.DateTimeFormat],e)}function dn(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(void 0===r){if(e===Pe.CurrencyDecimal)return t[f.wAp.NumberSymbols][Pe.Decimal];if(e===Pe.CurrencyGroup)return t[f.wAp.NumberSymbols][Pe.Group]}return r}const ys=f.kL8;function rr(n){if(!n[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $i(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Eo(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const An=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,pn={},or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qn=(()=>((Qn=Qn||{})[Qn.Short=0]="Short",Qn[Qn.ShortGMT=1]="ShortGMT",Qn[Qn.Long=2]="Long",Qn[Qn.Extended=3]="Extended",Qn))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),Ht=(()=>((Ht=Ht||{})[Ht.DayPeriods=0]="DayPeriods",Ht[Ht.Days=1]="Days",Ht[Ht.Months=2]="Months",Ht[Ht.Eras=3]="Eras",Ht))();function Qo(n,e,t,r){let s=function(n){if(F1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,p=1,v=1]=n.split("-").map(C=>+C);return Vs(s,p-1,v)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(An))return function(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,p=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const v=Number(n[4]||0)-t,C=Number(n[5]||0)-r,A=Number(n[6]||0),P=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return p.call(e,v,C,A,P),e}(r)}const e=new Date(n);if(!F1(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ii(t,e)||e;let C,v=[];for(;e;){if(C=or.exec(e),!C){v.push(e);break}{v=v.concat(C.slice(1));const B=v.pop();if(!B)break;e=B}}let A=s.getTimezoneOffset();r&&(A=Wr(r,A),s=function(n,e,t){const s=n.getTimezoneOffset();return function(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,-1*(Wr(e,s)-s))}(s,r));let P="";return v.forEach(B=>{const G=function(n){if(hn[n])return hn[n];let e;switch(n){case"G":case"GG":case"GGG":e=_e(Ht.Eras,ze.Abbreviated);break;case"GGGG":e=_e(Ht.Eras,ze.Wide);break;case"GGGGG":e=_e(Ht.Eras,ze.Narrow);break;case"y":e=ye(gt.FullYear,1,0,!1,!0);break;case"yy":e=ye(gt.FullYear,2,0,!0,!0);break;case"yyy":e=ye(gt.FullYear,3,0,!1,!0);break;case"yyyy":e=ye(gt.FullYear,4,0,!1,!0);break;case"Y":e=Jo(1);break;case"YY":e=Jo(2,!0);break;case"YYY":e=Jo(3);break;case"YYYY":e=Jo(4);break;case"M":case"L":e=ye(gt.Month,1,1);break;case"MM":case"LL":e=ye(gt.Month,2,1);break;case"MMM":e=_e(Ht.Months,ze.Abbreviated);break;case"MMMM":e=_e(Ht.Months,ze.Wide);break;case"MMMMM":e=_e(Ht.Months,ze.Narrow);break;case"LLL":e=_e(Ht.Months,ze.Abbreviated,Fe.Standalone);break;case"LLLL":e=_e(Ht.Months,ze.Wide,Fe.Standalone);break;case"LLLLL":e=_e(Ht.Months,ze.Narrow,Fe.Standalone);break;case"w":e=Xn(1);break;case"ww":e=Xn(2);break;case"W":e=Xn(1,!0);break;case"d":e=ye(gt.Date,1);break;case"dd":e=ye(gt.Date,2);break;case"c":case"cc":e=ye(gt.Day,1);break;case"ccc":e=_e(Ht.Days,ze.Abbreviated,Fe.Standalone);break;case"cccc":e=_e(Ht.Days,ze.Wide,Fe.Standalone);break;case"ccccc":e=_e(Ht.Days,ze.Narrow,Fe.Standalone);break;case"cccccc":e=_e(Ht.Days,ze.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":e=_e(Ht.Days,ze.Abbreviated);break;case"EEEE":e=_e(Ht.Days,ze.Wide);break;case"EEEEE":e=_e(Ht.Days,ze.Narrow);break;case"EEEEEE":e=_e(Ht.Days,ze.Short);break;case"a":case"aa":case"aaa":e=_e(Ht.DayPeriods,ze.Abbreviated);break;case"aaaa":e=_e(Ht.DayPeriods,ze.Wide);break;case"aaaaa":e=_e(Ht.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":e=_e(Ht.DayPeriods,ze.Abbreviated,Fe.Standalone,!0);break;case"bbbb":e=_e(Ht.DayPeriods,ze.Wide,Fe.Standalone,!0);break;case"bbbbb":e=_e(Ht.DayPeriods,ze.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":e=_e(Ht.DayPeriods,ze.Abbreviated,Fe.Format,!0);break;case"BBBB":e=_e(Ht.DayPeriods,ze.Wide,Fe.Format,!0);break;case"BBBBB":e=_e(Ht.DayPeriods,ze.Narrow,Fe.Format,!0);break;case"h":e=ye(gt.Hours,1,-12);break;case"hh":e=ye(gt.Hours,2,-12);break;case"H":e=ye(gt.Hours,1);break;case"HH":e=ye(gt.Hours,2);break;case"m":e=ye(gt.Minutes,1);break;case"mm":e=ye(gt.Minutes,2);break;case"s":e=ye(gt.Seconds,1);break;case"ss":e=ye(gt.Seconds,2);break;case"S":e=ye(gt.FractionalSeconds,1);break;case"SS":e=ye(gt.FractionalSeconds,2);break;case"SSS":e=ye(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Me(Qn.Short);break;case"ZZZZZ":e=Me(Qn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Me(Qn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Me(Qn.Long);break;default:return null}return hn[n]=e,e}(B);P+=G?G(s,t,A):"''"===B?"'":B.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),P}function Vs(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ii(n,e){const t=function(n){return(0,f.cg1)(n)[f.wAp.LocaleId]}(n);if(pn[t]=pn[t]||{},pn[t][e])return pn[t][e];let r="";switch(e){case"shortDate":r=Mo(n,it.Short);break;case"mediumDate":r=Mo(n,it.Medium);break;case"longDate":r=Mo(n,it.Long);break;case"fullDate":r=Mo(n,it.Full);break;case"shortTime":r=si(n,it.Short);break;case"mediumTime":r=si(n,it.Medium);break;case"longTime":r=si(n,it.Long);break;case"fullTime":r=si(n,it.Full);break;case"short":const s=Ii(n,"shortTime"),p=Ii(n,"shortDate");r=Jn(bi(n,it.Short),[s,p]);break;case"medium":const v=Ii(n,"mediumTime"),C=Ii(n,"mediumDate");r=Jn(bi(n,it.Medium),[v,C]);break;case"long":const A=Ii(n,"longTime"),P=Ii(n,"longDate");r=Jn(bi(n,it.Long),[A,P]);break;case"full":const B=Ii(n,"fullTime"),G=Ii(n,"fullDate");r=Jn(bi(n,it.Full),[B,G])}return r&&(pn[t][e]=r),r}function Jn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function uo(n,e,t="-",r,s){let p="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,p=t));let v=String(n);for(;v.length<e;)v="0"+v;return r&&(v=v.substr(v.length-e)),p+v}function ye(n,e,t=0,r=!1,s=!1){return function(p,v){let C=function(n,e){switch(n){case gt.FullYear:return e.getFullYear();case gt.Month:return e.getMonth();case gt.Date:return e.getDate();case gt.Hours:return e.getHours();case gt.Minutes:return e.getMinutes();case gt.Seconds:return e.getSeconds();case gt.FractionalSeconds:return e.getMilliseconds();case gt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,p);if((t>0||C>-t)&&(C+=t),n===gt.Hours)0===C&&-12===t&&(C=12);else if(n===gt.FractionalSeconds)return function(n,e){return uo(n,3).substr(0,e)}(C,e);const A=dn(v,Pe.MinusSign);return uo(C,e,A,r,s)}}function _e(n,e,t=Fe.Format,r=!1){return function(s,p){return function(n,e,t,r,s,p){switch(t){case Ht.Months:return function(n,e,t){const r=(0,f.cg1)(n),p=$i([r[f.wAp.MonthsFormat],r[f.wAp.MonthsStandalone]],e);return $i(p,t)}(e,s,r)[n.getMonth()];case Ht.Days:return function(n,e,t){const r=(0,f.cg1)(n),p=$i([r[f.wAp.DaysFormat],r[f.wAp.DaysStandalone]],e);return $i(p,t)}(e,s,r)[n.getDay()];case Ht.DayPeriods:const v=n.getHours(),C=n.getMinutes();if(p){const P=function(n){const e=(0,f.cg1)(n);return rr(e),(e[f.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Eo(r):[Eo(r[0]),Eo(r[1])])}(e),B=function(n,e,t){const r=(0,f.cg1)(n);rr(r);const p=$i([r[f.wAp.ExtraData][0],r[f.wAp.ExtraData][1]],e)||[];return $i(p,t)||[]}(e,s,r),G=P.findIndex(re=>{if(Array.isArray(re)){const[ae,ge]=re,Te=v>=ae.hours&&C>=ae.minutes,Oe=v<ge.hours||v===ge.hours&&C<ge.minutes;if(ae.hours<ge.hours){if(Te&&Oe)return!0}else if(Te||Oe)return!0}else if(re.hours===v&&re.minutes===C)return!0;return!1});if(-1!==G)return B[G]}return function(n,e,t){const r=(0,f.cg1)(n),p=$i([r[f.wAp.DayPeriodsFormat],r[f.wAp.DayPeriodsStandalone]],e);return $i(p,t)}(e,s,r)[v<12?0:1];case Ht.Eras:return function(n,e){return $i((0,f.cg1)(n)[f.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,p,n,e,t,r)}}function Me(n){return function(e,t,r){const s=-1*r,p=dn(t,Pe.MinusSign),v=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Qn.Short:return(s>=0?"+":"")+uo(v,2,p)+uo(Math.abs(s%60),2,p);case Qn.ShortGMT:return"GMT"+(s>=0?"+":"")+uo(v,1,p);case Qn.Long:return"GMT"+(s>=0?"+":"")+uo(v,2,p)+":"+uo(Math.abs(s%60),2,p);case Qn.Extended:return 0===r?"Z":(s>=0?"+":"")+uo(v,2,p)+":"+uo(Math.abs(s%60),2,p);default:throw new Error(`Unknown zone width "${n}"`)}}}function wi(n){return Vs(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Xn(n,e=!1){return function(t,r){let s;if(e){const p=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,v=t.getDate();s=1+Math.floor((v+p)/7)}else{const p=wi(t),v=function(n){const e=Vs(n,0,1).getDay();return Vs(n,0,1+(e<=4?4:11)-e)}(p.getFullYear()),C=p.getTime()-v.getTime();s=1+Math.round(C/6048e5)}return uo(s,n,dn(r,Pe.MinusSign))}}function Jo(n,e=!1){return function(t,r){return uo(wi(t).getFullYear(),n,dn(r,Pe.MinusSign),e)}}const hn={};function Wr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F1(n){return n instanceof Date&&!isNaN(n.valueOf())}const ui=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function h1(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class To{}let qn=(()=>{class n extends To{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ys(r||this.locale)(t)){case De.Zero:return"zero";case De.One:return"one";case De.Two:return"two";case De.Few:return"few";case De.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.soG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Bs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,p]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(p)}return null}let ho=(()=>{class n{constructor(t,r,s,p){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ts{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let f1=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((s,p,v)=>{if(null==s.previousIndex){const C=this._viewContainer.createEmbeddedView(this._template,new ts(null,this._ngForOf,-1,-1),null===v?void 0:v),A=new js(s,C);r.push(A)}else if(null==v)this._viewContainer.remove(null===p?void 0:p);else if(null!==p){const C=this._viewContainer.get(p);this._viewContainer.move(C,v);const A=new js(s,C);r.push(A)}});for(let s=0;s<r.length;s++)this._perViewChange(r[s].view,r[s].record);for(let s=0,p=this._viewContainer.length;s<p;s++){const v=this._viewContainer.get(s);v.context.index=s,v.context.count=p,v.context.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class js{constructor(e,t){this.record=e,this.view=t}}let ar=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new S2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){B1("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){B1("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class S2{constructor(){this.$implicit=null,this.ngIf=null}}function B1(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}class Di{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let bs=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),cr=(()=>{class n{constructor(t,r,s){this.ngSwitch=s,s._addCase(),this._view=new Di(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(bs,9))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ws=(()=>{class n{constructor(t,r,s){s._addDefault(new Di(t,r))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(bs,9))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();function Ji(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,f.AaK)(n)}'`)}class v4{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class s8{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const p1=new s8,a8=new v4;let T2=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,f.QGY)(t))return p1;if((0,f.F4k)(t))return a8;throw Ji(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO,16))},n.\u0275pipe=f.Yjl({name:"async",type:n,pure:!1}),n})();const I2=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let m1=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Ji(n,t);return t.replace(I2,r=>r[0].toUpperCase()+r.substr(1).toLowerCase())}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=f.Yjl({name:"titlecase",type:n,pure:!0}),n})();const _4=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ia=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",s,p){var v;if(null==t||""===t||t!=t)return null;try{return Qo(t,r,p||this.locale,null!=(v=null!=s?s:this.defaultTimezone)?v:void 0)}catch(C){throw Ji(n,C.message)}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(_4,24))},n.\u0275pipe=f.Yjl({name:"date",type:n,pure:!0}),n})(),Io=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function(n,e,t){return function(n,e,t,r,s,p,v=!1){let C="",A=!1;if(isFinite(n)){let P=function(n){let r,s,p,v,C,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(p=e.search(/e/i))>0?(s<0&&(s=p),s+=+e.slice(p+1),e=e.substring(0,p)):s<0&&(s=e.length),p=0;"0"===e.charAt(p);p++);if(p===(C=e.length))r=[0],s=1;else{for(C--;"0"===e.charAt(C);)C--;for(s-=p,r=[],v=0;p<=C;p++,v++)r[v]=Number(e.charAt(p))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);v&&(P=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(P));let B=e.minInt,G=e.minFrac,re=e.maxFrac;if(p){const St=p.match(ui);if(null===St)throw new Error(`${p} is not a valid digit info`);const Nt=St[1],kt=St[3],Dn=St[5];null!=Nt&&(B=h1(Nt)),null!=kt&&(G=h1(kt)),null!=Dn?re=h1(Dn):null!=kt&&G>re&&(re=G)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const p=Math.min(Math.max(e,s),t);let v=p+n.integerLen,C=r[v];if(v>0){r.splice(Math.max(n.integerLen,v));for(let G=v;G<r.length;G++)r[G]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,v=p+1),r[0]=0;for(let G=1;G<v;G++)r[G]=0}if(C>=5)if(v-1<0){for(let G=0;G>v;G--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[v-1]++;for(;s<Math.max(0,p);s++)r.push(0);let A=0!==p;const P=e+n.integerLen,B=r.reduceRight(function(G,re,ae,ge){return ge[ae]=(re+=G)<10?re:re-10,A&&(0===ge[ae]&&ae>=P?ge.pop():A=!1),re>=10?1:0},0);B&&(r.unshift(B),n.integerLen++)}(P,G,re);let ae=P.digits,ge=P.integerLen;const Te=P.exponent;let Oe=[];for(A=ae.every(St=>!St);ge<B;ge++)ae.unshift(0);for(;ge<0;ge++)ae.unshift(0);ge>0?Oe=ae.splice(ge,ae.length):(Oe=ae,ae=[0]);const rt=[];for(ae.length>=e.lgSize&&rt.unshift(ae.splice(-e.lgSize,ae.length).join(""));ae.length>e.gSize;)rt.unshift(ae.splice(-e.gSize,ae.length).join(""));ae.length&&rt.unshift(ae.join("")),C=rt.join(dn(t,r)),Oe.length&&(C+=dn(t,s)+Oe.join("")),Te&&(C+=dn(t,Pe.Exponential)+"+"+Te)}else C=dn(t,Pe.Infinity);return C=n<0&&!A?e.negPre+C+e.negSuf:e.posPre+C+e.posSuf,C}(n,function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],p=r[1],v=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],C=v[0],A=v[1]||"";t.posPre=C.substr(0,C.indexOf("#"));for(let B=0;B<A.length;B++){const G=A.charAt(B);"0"===G?t.minFrac=t.maxFrac=B+1:"#"===G?t.maxFrac=B+1:t.posSuf+=G}const P=C.split(",");if(t.gSize=P[1]?P[1].length:0,t.lgSize=P[2]||P[1]?(P[2]||P[1]).length:0,p){const B=s.length-t.posPre.length-t.posSuf.length,G=p.indexOf("#");t.negPre=p.substr(0,G).replace(/'/g,""),t.negSuf=p.substr(G+B).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,Se.Decimal),dn(e,Pe.MinusSign)),e,Pe.Group,Pe.Decimal,t)}(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(p){throw Ji(n,p.message)}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16))},n.\u0275pipe=f.Yjl({name:"number",type:n,pure:!0}),n})();let br=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[{provide:To,useClass:qn}]}),n})();const y4="browser";function hi(n){return"server"===n}let Ec=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new wl((0,f.LFG)(ve),window)}),n})();class wl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const p=s.shadowRoot;if(p){const v=p.getElementById(e)||p.querySelector(`[name="${e}"]`);if(v)return v}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(r-p[0],s-p[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=b4(this.window.history)||b4(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function b4(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class U1{}class $s extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new $s,Z||(Z=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null);return null==t?null:function(n){wr=wr||document.createElement("a"),wr.setAttribute("href",n);const e=wr.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Bs(document.cookie,e)}}let wr,Gs=null;const q1=new f.OlP("TRANSITION_ID"),mn=[{provide:f.ip1,useFactory:function(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=q(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<s.length;p++)r.remove(s[p])})}},deps:[q1,ve,f.zs3],multi:!0}];class v1{static init(){(0,f.VLi)(new v1)}addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const p=e.findTestabilityInTree(r,s);if(null==p)throw new Error("Could not find testability for element.");return p},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let p=s.length,v=!1;const C=function(A){v=v||A,p--,0==p&&r(v)};s.forEach(function(A){A.whenStable(C)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?q().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let La=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Ws=new f.OlP("EventManagerPlugins");let pi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let p=0;p<s.length;p++){const v=s[p];if(v.supports(t))return this._eventNameToPlugin.set(t,v),v}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ws),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class $1{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=q().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let N2=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Xi=(()=>{class n extends N2{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(p=>{const v=this._doc.createElement("style");v.textContent=p,s.push(r.appendChild(v))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(El),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(El))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function El(n){q().remove(n)}const In={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},xl=/%COMP%/g;function zi(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?zi(n,s,t):(s=s.replace(xl,n),t.push(s))}return t}function zo(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Dc=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Ra(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new Al(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case f.ifc.ShadowDom:return new Zs(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=zi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(pi),f.LFG(Xi),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ra{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(In[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const p=In[s];p?e.setAttributeNS(p,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=In[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zo(r)):this.eventManager.addEventListener(e,t,zo(r))}}class Al extends Ra{constructor(e,t,r,s){super(e),this.component=r;const p=zi(s+"-"+r.id,r.styles,[]);t.addStyles(p),this.contentAttr="_ngcontent-%COMP%".replace(xl,s+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(xl,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Zs extends Ra{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=zi(s.id,s.styles,[]);for(let v=0;v<p.length;v++){const C=document.createElement("style");C.textContent=p[v],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let lr=(()=>{class n extends $1{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const E4=["alt","control","meta","shift"],W1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ii={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},p6={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dh=(()=>{class n extends $1{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const p=n.parseEventName(r),v=n.eventCallback(p.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(t,p.domEventName,v))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const p=n._normalizeKey(r.pop());let v="";if(E4.forEach(A=>{const P=r.indexOf(A);P>-1&&(r.splice(P,1),v+=A+".")}),v+=p,0!=r.length||0===p.length)return null;const C={};return C.domEventName=s,C.fullKey=v,C}static getEventFullKey(t){let r="",s=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ii.hasOwnProperty(e)&&(e=ii[e]))}return W1[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),E4.forEach(p=>{p!=s&&p6[p](t)&&(r+=p+".")}),r+=s,r}static eventCallback(t,r,s){return p=>{n.getEventFullKey(p)===t&&s.runGuarded(()=>r(p))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Z1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):f.LFG(U3),r},providedIn:"root"}),n})(),U3=(()=>{class n extends Z1{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case f.q3G.NONE:return r;case f.q3G.HTML:return(0,f.qzn)(r,"HTML")?(0,f.z3N)(r):(0,f.EiD)(this._doc,String(r)).toString();case f.q3G.STYLE:return(0,f.qzn)(r,"Style")?(0,f.z3N)(r):r;case f.q3G.SCRIPT:if((0,f.qzn)(r,"Script"))return(0,f.z3N)(r);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(r),(0,f.qzn)(r,"URL")?(0,f.z3N)(r):(0,f.mCW)(String(r));case f.q3G.RESOURCE_URL:if((0,f.qzn)(r,"ResourceURL"))return(0,f.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,f.JVY)(t)}bypassSecurityTrustStyle(t){return(0,f.L6k)(t)}bypassSecurityTrustScript(t){return(0,f.eBb)(t)}bypassSecurityTrustUrl(t){return(0,f.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,f.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function(n){return new U3(n.get(ve))}(f.LFG(f.zs3)),r},providedIn:"root"}),n})();const Ba=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:y4},{provide:f.g9A,useValue:function(){$s.makeCurrent(),v1.init()},multi:!0},{provide:ve,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),A4=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Ws,useClass:lr,multi:!0,deps:[ve,f.R0b,f.Lbi]},{provide:Ws,useClass:dh,multi:!0,deps:[ve]},[],{provide:Dc,useClass:Dc,deps:[pi,Xi,f.AFp]},{provide:f.FYo,useExisting:Dc},{provide:N2,useExisting:Xi},{provide:Xi,useClass:Xi,deps:[ve]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:pi,useClass:pi,deps:[Ws,f.R0b]},{provide:U1,useClass:La,deps:[]},[]];let Sl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:q1,useExisting:f.AFp},mn]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:A4,imports:[br,f.hGG]}),n})(),rs=(()=>{class n{constructor(t){this._doc=t,this._dom=q()}addTag(t,r=!1){return t?this._getOrCreateElement(t,r):null}addTags(t,r=!1){return t?t.reduce((s,p)=>(p&&s.push(this._getOrCreateElement(p,r)),s),[]):[]}getTag(t){return t&&this._doc.querySelector(`meta[${t}]`)||null}getTags(t){if(!t)return[];const r=this._doc.querySelectorAll(`meta[${t}]`);return r?[].slice.call(r):[]}updateTag(t,r){if(!t)return null;r=r||this._parseSelector(t);const s=this.getTag(r);return s?this._setMetaElementAttributes(t,s):this._getOrCreateElement(t,!0)}removeTag(t){this.removeTagElement(this.getTag(t))}removeTagElement(t){t&&this._dom.remove(t)}_getOrCreateElement(t,r=!1){if(!r){const v=this._parseSelector(t),C=this.getTags(v).filter(A=>this._containsAttributes(t,A))[0];if(void 0!==C)return C}const s=this._dom.createElement("meta");return this._setMetaElementAttributes(t,s),this._doc.getElementsByTagName("head")[0].appendChild(s),s}_setMetaElementAttributes(t,r){return Object.keys(t).forEach(s=>r.setAttribute(this._getMetaKeyMap(s),t[s])),r}_parseSelector(t){const r=t.name?"name":"property";return`${r}="${t[r]}"`}_containsAttributes(t,r){return Object.keys(t).every(s=>r.getAttribute(this._getMetaKeyMap(s))===t[s])}_getMetaKeyMap(t){return Tl[t]||t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:new rs((0,f.LFG)(ve)),r},providedIn:"root"}),n})();const Tl={httpEquiv:"http-equiv"};"undefined"!=typeof window&&window;class Il{}const Wi="*";function at(n,e){return{type:7,name:n,definitions:e,options:{}}}function Et(n,e=null){return{type:4,styles:e,timings:n}}function Dl(n,e=null){return{type:2,steps:n,options:e}}function nn(n){return{type:6,styles:n,offset:null}}function Qr(n,e,t){return{type:0,name:n,styles:e,options:t}}function Y1(n){return{type:5,steps:n}}function Mr(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function qa(n=null){return{type:9,options:n}}function K1(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function xs(n){Promise.resolve(null).then(n)}class ss{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){xs(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class $a{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,s=0;const p=this.players.length;0==p?xs(()=>this._onFinish()):this.players.forEach(v=>{v.onDone(()=>{++t==p&&this._onFinish()}),v.onDestroy(()=>{++r==p&&this._onDestroy()}),v.onStart(()=>{++s==p&&this._onStart()})}),this.totalTime=this.players.reduce((v,C)=>Math.max(v,C.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const s=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(s)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function Ga(){return"undefined"!=typeof window&&void 0!==window.document}function Wa(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ur(n){switch(n.length){case 0:return new ss;case 1:return n[0];default:return new $a(n)}}function Sn(n,e,t,r,s={},p={}){const v=[],C=[];let A=-1,P=null;if(r.forEach(B=>{const G=B.offset,re=G==A,ae=re&&P||{};Object.keys(B).forEach(ge=>{let Te=ge,Oe=B[ge];if("offset"!==ge)switch(Te=e.normalizePropertyName(Te,v),Oe){case"!":Oe=s[ge];break;case Wi:Oe=p[ge];break;default:Oe=e.normalizeStyleValue(ge,Te,Oe,v)}ae[Te]=Oe}),re||C.push(ae),P=ae,A=G}),v.length){const B="\n - ";throw new Error(`Unable to animate due to the following errors:${B}${v.join(B)}`)}return C}function J1(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&y1(t,"start",n)));break;case"done":n.onDone(()=>r(t&&y1(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&y1(t,"destroy",n)))}}function y1(n,e,t){const r=t.totalTime,p=Jt(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),v=n._data;return null!=v&&(p._data=v),p}function Jt(n,e,t,r,s="",p=0,v){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:s,totalTime:p,disabled:!!v}}function Fi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function As(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let zl=(n,e)=>!1,R2=(n,e)=>!1,Rc=(n,e,t)=>[];const D4=Wa();(D4||"undefined"!=typeof Element)&&(zl=Ga()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),R2=(()=>{if(D4||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):R2}})(),Rc=(n,e,t)=>{let r=[];if(t){const s=n.querySelectorAll(e);for(let p=0;p<s.length;p++)r.push(s[p])}else{const s=n.querySelector(e);s&&r.push(s)}return r});let O2=null,y6=!1;function z4(n){O2||(O2=("undefined"!=typeof document?document.body:null)||{},y6=!!O2.style&&"WebkitAppearance"in O2.style);let e=!0;return O2.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in O2.style,!e&&y6&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in O2.style)),e}const Nl=R2,Ll=zl,Pl=Rc;function Ya(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Oc=(()=>{class n{validateStyleProperty(t){return z4(t)}matchesElement(t,r){return Nl(t,r)}containsElement(t,r){return Ll(t,r)}query(t,r,s){return Pl(t,r,s)}computeStyle(t,r,s){return s||""}animate(t,r,s,p,v,C=[],A){return new ss(s,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ni=(()=>{class n{}return n.NOOP=new Oc,n})();const b1="ng-enter",Tn="ng-leave",Er="ng-trigger",Li=".ng-trigger",jr="ng-animating",Fc=".ng-animating";function ea(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:G3(parseFloat(e[1]),e[2])}function G3(n,e){return"s"===e?1e3*n:n}function V2(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let s,p=0,v="";if("string"==typeof n){const C=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===C)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};s=G3(parseFloat(C[1]),C[2]);const A=C[3];null!=A&&(p=G3(parseFloat(A),C[4]));const P=C[5];P&&(v=P)}else s=n;if(!t){let C=!1,A=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),C=!0),p<0&&(e.push("Delay values below 0 are not allowed for this animation step."),C=!0),C&&e.splice(A,0,`The provided timing value "${n}" is invalid.`)}return{duration:s,delay:p,easing:v}}(n,e,t)}function Zi(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ur(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Zi(n,t);return t}function ta(n,e,t){return t?e+":"+t+";":""}function Qs(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=ta(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ta(0,ce(t),n.style[t]));n.setAttribute("style",e)}function xr(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const s=Q(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[s]),n.style[s]=e[r]}),Wa()&&Qs(n))}function C1(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Q(t);n.style[r]=""}),Wa()&&Qs(n))}function Ja(n){return Array.isArray(n)?1==n.length?n[0]:Dl(n):n}const Gn=new RegExp("{{\\s*(.+?)\\s*}}","g");function na(n){let e=[];if("string"==typeof n){let t;for(;t=Gn.exec(n);)e.push(t[1]);Gn.lastIndex=0}return e}function F2(n,e,t){const r=n.toString(),s=r.replace(Gn,(p,v)=>{let C=e[v];return e.hasOwnProperty(v)||(t.push(`Please provide a value for the animation param ${v}`),C=""),C.toString()});return s==r?n:s}function O(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const U=/-+([a-z0-9])/g;function Q(n){return n.replace(U,(...e)=>e[1].toUpperCase())}function ce(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ke(n,e){return 0===n||0===e}function Re(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let p=e[0],v=[];if(r.forEach(C=>{p.hasOwnProperty(C)||v.push(C),p[C]=t[C]}),v.length)for(var s=1;s<e.length;s++){let C=e[s];v.forEach(function(A){C[A]=yt(n,A)})}}return e}function Ke(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function yt(n,e){return window.getComputedStyle(n)[e]}function kn(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const A=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof A)return void e.push(A);n=A}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const s=r[1],p=r[2],v=r[3];e.push(ia(s,v));"<"==p[0]&&!("*"==s&&"*"==v)&&e.push(ia(v,s))}(r,t,e)):t.push(n),t}const Jr=new Set(["true","1"]),cn=new Set(["false","0"]);function ia(n,e){const t=Jr.has(n)||cn.has(n),r=Jr.has(e)||cn.has(e);return(s,p)=>{let v="*"==n||n==s,C="*"==e||e==p;return!v&&t&&"boolean"==typeof s&&(v=s?Jr.has(n):cn.has(n)),!C&&r&&"boolean"==typeof p&&(C=p?Jr.has(e):cn.has(e)),v&&C}}const Ro=new RegExp("s*:selfs*,?","g");function Ar(n,e,t){return new Ol(n).build(e,t)}class Ol{constructor(e){this._driver=e}build(e,t){const r=new ra(t);return this._resetContextStyleTimingState(r),Ke(this,Ja(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,s=t.depCount=0;const p=[],v=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(C=>{if(this._resetContextStyleTimingState(t),0==C.type){const A=C,P=A.name;P.toString().split(/\s*,\s*/).forEach(B=>{A.name=B,p.push(this.visitState(A,t))}),A.name=P}else if(1==C.type){const A=this.visitTransition(C,t);r+=A.queryCount,s+=A.depCount,v.push(A)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:p,transitions:v,queryCount:r,depCount:s,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(r.containsDynamicStyles){const p=new Set,v=s||{};if(r.styles.forEach(C=>{if(Js(C)){const A=C;Object.keys(A).forEach(P=>{na(A[P]).forEach(B=>{v.hasOwnProperty(B)||p.add(B)})})}}),p.size){const C=O(p.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${C.join(", ")}`)}}return{type:0,name:e.name,style:r,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ke(this,Ja(e.animation),t);return{type:1,matchers:kn(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Xa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ke(this,r,t)),options:Xa(e.options)}}visitGroup(e,t){const r=t.currentTime;let s=0;const p=e.steps.map(v=>{t.currentTime=r;const C=Ke(this,v,t);return s=Math.max(s,t.currentTime),C});return t.currentTime=s,{type:3,steps:p,options:Xa(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return B2(V2(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=B2(0,0,"");return p.dynamic=!0,p.strValue=r,p}return t=t||V2(r,e),B2(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let s,p=e.styles?e.styles:nn({});if(5==p.type)s=this.visitKeyframes(p,t);else{let v=e.styles,C=!1;if(!v){C=!0;const P={};r.easing&&(P.easing=r.easing),v=nn(P)}t.currentTime+=r.duration+r.delay;const A=this.visitStyle(v,t);A.isEmptyStep=C,s=A}return t.currentAnimateTimings=null,{type:4,timings:r,style:s,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(v=>{"string"==typeof v?v==Wi?r.push(v):t.errors.push(`The provided style string value ${v} is not allowed.`):r.push(v)}):r.push(e.styles);let s=!1,p=null;return r.forEach(v=>{if(Js(v)){const C=v,A=C.easing;if(A&&(p=A,delete C.easing),!s)for(let P in C)if(C[P].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:r,easing:p,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let s=t.currentTime,p=t.currentTime;r&&p>0&&(p-=r.duration+r.delay),e.styles.forEach(v=>{"string"!=typeof v&&Object.keys(v).forEach(C=>{if(!this._driver.validateStyleProperty(C))return void t.errors.push(`The provided animation property "${C}" is not a supported CSS property for animations`);const A=t.collectedStyles[t.currentQuerySelector],P=A[C];let B=!0;P&&(p!=s&&p>=P.startTime&&s<=P.endTime&&(t.errors.push(`The CSS property "${C}" that exists between the times of "${P.startTime}ms" and "${P.endTime}ms" is also being animated in a parallel animation between the times of "${p}ms" and "${s}ms"`),B=!1),p=P.startTime),B&&(A[C]={startTime:p,endTime:s}),t.options&&function(n,e,t){const r=e.params||{},s=na(n);s.length&&s.forEach(p=>{r.hasOwnProperty(p)||t.push(`Unable to resolve the local animation param ${p} in the given list of values`)})}(v[C],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let p=0;const v=[];let C=!1,A=!1,P=0;const B=e.steps.map(rt=>{const St=this._makeStyleAst(rt,t);let Nt=null!=St.offset?St.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Js(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Js(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(St.styles),kt=0;return null!=Nt&&(p++,kt=St.offset=Nt),A=A||kt<0||kt>1,C=C||kt<P,P=kt,v.push(kt),St});A&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),C&&t.errors.push("Please ensure that all keyframe offsets are in order");const G=e.steps.length;let re=0;p>0&&p<G?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==p&&(re=1/(G-1));const ae=G-1,ge=t.currentTime,Te=t.currentAnimateTimings,Oe=Te.duration;return B.forEach((rt,St)=>{const Nt=re>0?St==ae?1:re*St:v[St],kt=Nt*Oe;t.currentTime=ge+Te.delay+kt,Te.duration=kt,this._validateStyleAst(rt,t),rt.offset=Nt,r.styles.push(rt)}),r}visitReference(e,t){return{type:8,animation:Ke(this,Ja(e.animation),t),options:Xa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Xa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Xa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[p,v]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Ro,"")),n=n.replace(/@\*/g,Li).replace(/@\w+/g,t=>Li+"-"+t.substr(1)).replace(/:animating/g,Fc),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+p:p,Fi(t.collectedStyles,t.currentQuerySelector,{});const C=Ke(this,Ja(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:p,limit:s.limit||0,optional:!!s.optional,includeSelf:v,animation:C,originalSelector:e.selector,options:Xa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:V2(e.timings,t.errors,!0);return{type:12,animation:Ke(this,Ja(e.animation),t),timings:r,options:null}}}class ra{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Js(n){return!Array.isArray(n)&&"object"==typeof n}function Xa(n){return n?(n=Zi(n)).params&&(n.params=function(n){return n?Zi(n):null}(n.params)):n={},n}function B2(n,e,t){return{duration:n,delay:e,easing:t}}function Vl(n,e,t,r,s,p,v=null,C=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:s,delay:p,totalTime:s+p,easing:v,subTimeline:C}}class Fl{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Hl=new RegExp(":enter","g"),f8=new RegExp(":leave","g");function p8(n,e,t,r,s,p={},v={},C,A,P=[]){return(new P4).buildKeyframes(n,e,t,r,s,p,v,C,A,P)}class P4{buildKeyframes(e,t,r,s,p,v,C,A,P,B=[]){P=P||new Fl;const G=new m8(e,t,P,s,p,B,[]);G.options=A,G.currentTimeline.setStyles([v],null,G.errors,A),Ke(this,r,G);const re=G.timelines.filter(ae=>ae.containsAnimation());if(re.length&&Object.keys(C).length){const ae=re[re.length-1];ae.allowOnlyTimelineStyles()||ae.setStyles([C],null,G.errors,A)}return re.length?re.map(ae=>ae.buildKeyframes()):[Vl(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const s=t.createSubContext(e.options),p=t.currentTimeline.currentTime,v=this._visitSubInstructions(r,s,s.options);p!=v&&t.transformIntoNewTimeline(v)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let p=t.currentTimeline.currentTime;const v=null!=r.duration?ea(r.duration):null,C=null!=r.delay?ea(r.delay):null;return 0!==v&&e.forEach(A=>{const P=t.appendInstructionToTimeline(A,v,C);p=Math.max(p,P.duration+P.delay)}),p}visitReference(e,t){t.updateOptions(e.options,!0),Ke(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let s=t;const p=e.options;if(p&&(p.params||p.delay)&&(s=t.createSubContext(p),s.transformIntoNewTimeline(),null!=p.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Z3);const v=ea(p.delay);s.delayNextStep(v)}e.steps.length&&(e.steps.forEach(v=>Ke(this,v,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>r&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let s=t.currentTimeline.currentTime;const p=e.options&&e.options.delay?ea(e.options.delay):0;e.steps.forEach(v=>{const C=t.createSubContext(e.options);p&&C.delayNextStep(p),Ke(this,v,C),s=Math.max(s,C.currentTimeline.currentTime),r.push(C.currentTimeline)}),r.forEach(v=>t.currentTimeline.mergeTimelineCollectedStyles(v)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return V2(t.params?F2(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),s.snapshotCurrentStyles());const p=e.style;5==p.type?this.visitKeyframes(p,t):(t.incrementTime(r.duration),this.visitStyle(p,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,s=t.currentAnimateTimings;!s&&r.getCurrentStyleProperties().length&&r.forwardFrame();const p=s&&s.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(p):r.setStyles(e.styles,p,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,s=t.currentTimeline.duration,p=r.duration,C=t.createSubContext().currentTimeline;C.easing=r.easing,e.styles.forEach(A=>{C.forwardTime((A.offset||0)*p),C.setStyles(A.styles,A.easing,t.errors,t.options),C.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(C),t.transformIntoNewTimeline(s+p),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,s=e.options||{},p=s.delay?ea(s.delay):0;p&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Z3);let v=r;const C=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=C.length;let A=null;C.forEach((P,B)=>{t.currentQueryIndex=B;const G=t.createSubContext(e.options,P);p&&G.delayNextStep(p),P===t.element&&(A=G.currentTimeline),Ke(this,e.animation,G),G.currentTimeline.applyStylesToKeyframe(),v=Math.max(v,G.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(v),A&&(t.currentTimeline.mergeTimelineCollectedStyles(A),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,s=t.currentTimeline,p=e.timings,v=Math.abs(p.duration),C=v*(t.currentQueryTotal-1);let A=v*t.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":A=C-A;break;case"full":A=r.currentStaggerTime}const B=t.currentTimeline;A&&B.delayNextStep(A);const G=B.currentTime;Ke(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=s.currentTime-G+(s.startTime-r.currentTimeline.startTime)}}const Z3={};class m8{constructor(e,t,r,s,p,v,C,A){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=s,this._leaveClassName=p,this.errors=v,this.timelines=C,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z3,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=A||new Y3(this._driver,t,0),C.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let s=this.options;null!=r.duration&&(s.duration=ea(r.duration)),null!=r.delay&&(s.delay=ea(r.delay));const p=r.params;if(p){let v=s.params;v||(v=this.options.params={}),Object.keys(p).forEach(C=>{(!t||!v.hasOwnProperty(C))&&(v[C]=F2(p[C],v,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(s=>{r[s]=t[s]})}}return e}createSubContext(e=null,t,r){const s=t||this.element,p=new m8(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,r||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(e),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(e){return this.previousNode=Z3,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},p=new ph(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(p),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,s,p,v){let C=[];if(s&&C.push(this.element),e.length>0){e=(e=e.replace(Hl,"."+this._enterClassName)).replace(f8,"."+this._leaveClassName);let P=this._driver.query(this.element,e,1!=r);0!==r&&(P=r<0?P.slice(P.length+r,P.length):P.slice(0,r)),C.push(...P)}return!p&&0==C.length&&v.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),C}}class Y3{constructor(e,t,r,s){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Y3(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Wi,this._currentKeyframe[t]=Wi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,s){t&&(this._previousKeyframe.easing=t);const p=s&&s.params||{},v=function(n,e){const t={};let r;return n.forEach(s=>{"*"===s?(r=r||Object.keys(e),r.forEach(p=>{t[p]=Wi})):Ur(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(v).forEach(C=>{const A=F2(v[C],p,r);this._pendingStyles[C]=A,this._localTimelineStyles.hasOwnProperty(C)||(this._backFill[C]=this._globalTimelineStyles.hasOwnProperty(C)?this._globalTimelineStyles[C]:Wi),this._updateStyle(C,A)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],s=e._styleSummary[t];(!r||s.time>r.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((C,A)=>{const P=Ur(C,!0);Object.keys(P).forEach(B=>{const G=P[B];"!"==G?e.add(B):G==Wi&&t.add(B)}),r||(P.offset=A/this.duration),s.push(P)});const p=e.size?O(e.values()):[],v=t.size?O(t.values()):[];if(r){const C=s[0],A=Zi(C);C.offset=0,A.offset=1,s=[C,A]}return Vl(this.element,s,p,v,this.duration,this.startTime,this.easing,!1)}}class ph extends Y3{constructor(e,t,r,s,p,v,C=!1){super(e,t,v.delay),this.keyframes=r,this.preStyleProps=s,this.postStyleProps=p,this._stretchStartingKeyframe=C,this.timings={duration:v.duration,delay:v.delay,easing:v.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const p=[],v=r+t,C=t/v,A=Ur(e[0],!1);A.offset=0,p.push(A);const P=Ur(e[0],!1);P.offset=g8(C),p.push(P);const B=e.length-1;for(let G=1;G<=B;G++){let re=Ur(e[G],!1);re.offset=g8((t+re.offset*r)/v),p.push(re)}r=v,t=0,s="",e=p}return Vl(this.element,e,this.preStyleProps,this.postStyleProps,r,t,s,!0)}}function g8(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class j2{}class mh extends j2{normalizePropertyName(e,t){return Q(e)}normalizeStyleValue(e,t,r,s){let p="";const v=r.toString().trim();if(d9[t]&&0!==r&&"0"!==r)if("number"==typeof r)p="px";else{const C=r.match(/^[+-]?[\d\.]+([a-z]*)$/);C&&0==C[1].length&&s.push(`Please provide a CSS unit value for ${e}:${r}`)}return v+p}}const d9=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Q3(n,e,t,r,s,p,v,C,A,P,B,G,re){return{type:0,element:n,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:p,toState:r,toStyles:v,timelines:C,queriedElements:A,preStyleProps:P,postStyleProps:B,totalTime:G,errors:re}}const J3={};class X3{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,s){return function(n,e,t,r,s){return n.some(p=>p(e,t,r,s))}(this.ast.matchers,e,t,r,s)}buildStyles(e,t,r){const s=this._stateStyles["*"],p=this._stateStyles[e],v=s?s.buildStyles(t,r):{};return p?p.buildStyles(t,r):v}build(e,t,r,s,p,v,C,A,P,B){const G=[],re=this.ast.options&&this.ast.options.params||J3,ge=this.buildStyles(r,C&&C.params||J3,G),Te=A&&A.params||J3,Oe=this.buildStyles(s,Te,G),rt=new Set,St=new Map,Nt=new Map,kt="void"===s,Dn={params:lt(lt({},re),Te)},en=B?[]:p8(e,t,this.ast.animation,p,v,ge,Oe,Dn,P,G);let ji=0;if(en.forEach(hc=>{ji=Math.max(hc.duration+hc.delay,ji)}),G.length)return Q3(t,this._triggerName,r,s,kt,ge,Oe,[],[],St,Nt,ji,G);en.forEach(hc=>{const fc=hc.element,fL=Fi(St,fc,{});hc.preStyleProps.forEach(l9=>fL[l9]=!0);const ib=Fi(Nt,fc,{});hc.postStyleProps.forEach(l9=>ib[l9]=!0),fc!==t&&rt.add(fc)});const O1=O(rt.values());return Q3(t,this._triggerName,r,s,kt,ge,Oe,en,O1,St,Nt,ji)}}class sa{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},s=Zi(this.defaultParams);return Object.keys(e).forEach(p=>{const v=e[p];null!=v&&(s[p]=v)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const v=p;Object.keys(v).forEach(C=>{let A=v[C];A.length>1&&(A=F2(A,s,t));const P=this.normalizer.normalizePropertyName(C,t);A=this.normalizer.normalizeStyleValue(C,P,A,t),r[P]=A})}}),r}}class y8{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new sa(s.style,s.options&&s.options.params||{},r)}),V4(this.states,"true","1"),V4(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new X3(e,s,this.states))}),this.fallbackTransition=function(n,e,t){return new X3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(v,C)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,s){return this.transitionFactories.find(v=>v.match(e,t,r,s))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function V4(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const e0=new Fl;class Vn{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=Ar(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,r){const s=e.element,p=Sn(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(s,p,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const s=[],p=this._animations[e];let v;const C=new Map;if(p?(v=p8(this._driver,t,p,b1,Tn,{},{},r,e0,s),v.forEach(B=>{const G=Fi(C,B.element,{});B.postStyleProps.forEach(re=>G[re]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),v=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);C.forEach((B,G)=>{Object.keys(B).forEach(re=>{B[re]=this._driver.computeStyle(G,re,Wi)})});const P=ur(v.map(B=>{const G=C.get(B.element);return this._buildPlayer(B,{},G)}));return this._playersById[e]=P,P.onDestroy(()=>this.destroy(e)),this.players.push(P),P}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,s){const p=Jt(t,"","","");return J1(this._getPlayer(e),r,p,s),()=>{}}command(e,t,r,s){if("register"==r)return void this.register(e,s[0]);if("create"==r)return void this.create(e,t,s[0]||{});const p=this._getPlayer(e);switch(r){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const e2="ng-animate-queued",qr="ng-animate-disabled",Ts=".ng-animate-disabled",w8=[],C6={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},C8={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Xs="__ng_removed";class ca{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=null!=(n=r?e.value:e)?n:null,r){const p=Zi(e);delete p.value,this.options=p}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(s=>{null==r[s]&&(r[s]=t[s])})}}}const Bl="void",k6=new ca(Bl);class F4{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Sr(t,this._hostClassName)}listen(e,t,r,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);var n;const p=Fi(this._elementListeners,e,[]),v={name:t,phase:r,callback:s};p.push(v);const C=Fi(this._engine.statesByElement,e,{});return C.hasOwnProperty(t)||(Sr(e,Er),Sr(e,Er+"-"+t),C[t]=k6),()=>{this._engine.afterFlush(()=>{const A=p.indexOf(v);A>=0&&p.splice(A,1),this._triggers[t]||delete C[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,s=!0){const p=this._getTrigger(t),v=new jc(this.id,t,e);let C=this._engine.statesByElement.get(e);C||(Sr(e,Er),Sr(e,Er+"-"+t),this._engine.statesByElement.set(e,C={}));let A=C[t];const P=new ca(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&A&&P.absorbOptions(A.options),C[t]=P,A||(A=k6),P.value!==Bl&&A.value===P.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let s=0;s<t.length;s++){const p=t[s];if(!e.hasOwnProperty(p)||n[p]!==e[p])return!1}return!0}(A.params,P.params)){const Te=[],Oe=p.matchStyles(A.value,A.params,Te),rt=p.matchStyles(P.value,P.params,Te);Te.length?this._engine.reportError(Te):this._engine.afterFlush(()=>{C1(e,Oe),xr(e,rt)})}return}const re=Fi(this._engine.playersByElement,e,[]);re.forEach(Te=>{Te.namespaceId==this.id&&Te.triggerName==t&&Te.queued&&Te.destroy()});let ae=p.matchTransition(A.value,P.value,e,P.params),ge=!1;if(!ae){if(!s)return;ae=p.fallbackTransition,ge=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:ae,fromState:A,toState:P,player:v,isFallbackTransition:ge}),ge||(Sr(e,e2),v.onStart(()=>{la(e,e2)})),v.onDone(()=>{let Te=this.players.indexOf(v);Te>=0&&this.players.splice(Te,1);const Oe=this._engine.playersByElement.get(e);if(Oe){let rt=Oe.indexOf(v);rt>=0&&Oe.splice(rt,1)}}),this.players.push(v),re.push(v),v}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Li,!0);r.forEach(s=>{if(s[Xs])return;const p=this._engine.fetchNamespacesByElement(s);p.size?p.forEach(v=>v.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,r,s){const p=this._engine.statesByElement.get(e);if(p){const v=[];if(Object.keys(p).forEach(C=>{if(this._triggers[C]){const A=this.trigger(e,C,Bl,s);A&&v.push(A)}}),v.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&ur(v).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const s=new Set;t.forEach(p=>{const v=p.name;if(s.has(v))return;s.add(v);const A=this._triggers[v].fallbackTransition,P=r[v]||k6,B=new ca(Bl),G=new jc(this.id,v,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:v,transition:A,fromState:P,toState:B,player:G,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(r.totalAnimations){const p=r.players.length?r.playersByQueriedElement.get(e):[];if(p&&p.length)s=!0;else{let v=e;for(;v=v.parentNode;)if(r.statesByElement.get(v)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)r.markElementAsRemoved(this.id,e,!1,t);else{const p=e[Xs];(!p||p===C6)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Sr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const s=r.player;if(s.destroyed)return;const p=r.element,v=this._elementListeners.get(p);v&&v.forEach(C=>{if(C.name==r.triggerName){const A=Jt(p,r.triggerName,r.fromState.value,r.toState.value);A._data=e,J1(r.player,C.phase,A,C.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(r)}),this._queue=[],t.sort((r,s)=>{const p=r.transition.ast.depCount,v=s.transition.ast.depCount;return 0==p||0==v?p-v:this._engine.driver.containsElement(r.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class jl{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,p)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new F4(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let s=!1;for(let p=r;p>=0;p--)if(this.driver.containsElement(this._namespaceList[p].hostElement,t)){this._namespaceList.splice(p+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let s=this._namespaceLookup[e];s&&s.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(r);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const s=Object.keys(r);for(let p=0;p<s.length;p++){const v=r[s[p]].namespaceId;if(v){const C=this._fetchNamespace(v);C&&t.add(C)}}}return t}trigger(e,t,r,s){if(Pn(t)){const p=this._fetchNamespace(e);if(p)return p.trigger(t,r,s),!0}return!1}insertNode(e,t,r,s){if(!Pn(t))return;const p=t[Xs];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const v=this.collectedLeaveElements.indexOf(t);v>=0&&this.collectedLeaveElements.splice(v,1)}if(e){const v=this._fetchNamespace(e);v&&v.insertNode(t,r)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Sr(e,qr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),la(e,qr))}removeNode(e,t,r,s){if(Pn(t)){const p=e?this._fetchNamespace(e):null;if(p?p.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),r){const v=this.namespacesByHostElement.get(t);v&&v.id!==e&&v.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,r,s){this.collectedLeaveElements.push(t),t[Xs]={namespaceId:e,setForRemoval:s,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,s,p){return Pn(t)?this._fetchNamespace(e).listen(t,r,s,p):()=>{}}_buildInstruction(e,t,r,s,p){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,s,e.fromState.options,e.toState.options,t,p)}destroyInnerAnimations(e){let t=this.driver.query(e,Li,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Fc,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ur(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Xs];if(t&&t.setForRemoval){if(e[Xs]=C6,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Ts)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ts,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,s)=>this._balanceNamespaceList(r,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Sr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let s=0;s<r.length;s++)r[s]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ur(t).onDone(()=>{r.forEach(s=>s())}):r.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new Fl,s=[],p=new Map,v=[],C=new Map,A=new Map,P=new Map,B=new Set;this.disabledNodes.forEach(Lt=>{B.add(Lt);const Qt=this.driver.query(Lt,".ng-animate-queued",!0);for(let gn=0;gn<Qt.length;gn++)B.add(Qt[gn])});const G=this.bodyNode,re=Array.from(this.statesByElement.keys()),ae=t2(re,this.collectedEnterElements),ge=new Map;let Te=0;ae.forEach((Lt,Qt)=>{const gn=b1+Te++;ge.set(Qt,gn),Lt.forEach(yi=>Sr(yi,gn))});const Oe=[],rt=new Set,St=new Set;for(let Lt=0;Lt<this.collectedLeaveElements.length;Lt++){const Qt=this.collectedLeaveElements[Lt],gn=Qt[Xs];gn&&gn.setForRemoval&&(Oe.push(Qt),rt.add(Qt),gn.hasAnimation?this.driver.query(Qt,".ng-star-inserted",!0).forEach(yi=>rt.add(yi)):St.add(Qt))}const Nt=new Map,kt=t2(re,Array.from(rt));kt.forEach((Lt,Qt)=>{const gn=Tn+Te++;Nt.set(Qt,gn),Lt.forEach(yi=>Sr(yi,gn))}),e.push(()=>{ae.forEach((Lt,Qt)=>{const gn=ge.get(Qt);Lt.forEach(yi=>la(yi,gn))}),kt.forEach((Lt,Qt)=>{const gn=Nt.get(Qt);Lt.forEach(yi=>la(yi,gn))}),Oe.forEach(Lt=>{this.processLeaveNode(Lt)})});const Dn=[],en=[];for(let Lt=this._namespaceList.length-1;Lt>=0;Lt--)this._namespaceList[Lt].drainQueuedTransitions(t).forEach(gn=>{const yi=gn.player,u1=gn.element;if(Dn.push(yi),this.collectedEnterElements.length){const h6=u1[Xs];if(h6&&h6.setForMove)return void yi.destroy()}const d6=!G||!this.driver.containsElement(G,u1),_l=Nt.get(u1),uh=ge.get(u1),ko=this._buildInstruction(gn,r,uh,_l,d6);if(ko.errors&&ko.errors.length)en.push(ko);else{if(d6)return yi.onStart(()=>C1(u1,ko.fromStyles)),yi.onDestroy(()=>xr(u1,ko.toStyles)),void s.push(yi);if(gn.isFallbackTransition)return yi.onStart(()=>C1(u1,ko.fromStyles)),yi.onDestroy(()=>xr(u1,ko.toStyles)),void s.push(yi);ko.timelines.forEach(h6=>h6.stretchStartingKeyframe=!0),r.append(u1,ko.timelines),v.push({instruction:ko,player:yi,element:u1}),ko.queriedElements.forEach(h6=>Fi(C,h6,[]).push(yi)),ko.preStyleProps.forEach((h6,rb)=>{const Sk=Object.keys(h6);if(Sk.length){let u9=A.get(rb);u9||A.set(rb,u9=new Set),Sk.forEach(TA=>u9.add(TA))}}),ko.postStyleProps.forEach((h6,rb)=>{const Sk=Object.keys(h6);let u9=P.get(rb);u9||P.set(rb,u9=new Set),Sk.forEach(TA=>u9.add(TA))})}});if(en.length){const Lt=[];en.forEach(Qt=>{Lt.push(`@${Qt.triggerName} has failed due to:\n`),Qt.errors.forEach(gn=>Lt.push(`- ${gn}\n`))}),Dn.forEach(Qt=>Qt.destroy()),this.reportError(Lt)}const ji=new Map,O1=new Map;v.forEach(Lt=>{const Qt=Lt.element;r.has(Qt)&&(O1.set(Qt,Qt),this._beforeAnimationBuild(Lt.player.namespaceId,Lt.instruction,ji))}),s.forEach(Lt=>{const Qt=Lt.element;this._getPreviousPlayers(Qt,!1,Lt.namespaceId,Lt.triggerName,null).forEach(yi=>{Fi(ji,Qt,[]).push(yi),yi.destroy()})});const hc=Oe.filter(Lt=>Uc(Lt,A,P)),fc=new Map;Zn(fc,this.driver,St,P,Wi).forEach(Lt=>{Uc(Lt,A,P)&&hc.push(Lt)});const ib=new Map;ae.forEach((Lt,Qt)=>{Zn(ib,this.driver,new Set(Lt),A,"!")}),hc.forEach(Lt=>{const Qt=fc.get(Lt),gn=ib.get(Lt);fc.set(Lt,lt(lt({},Qt),gn))});const l9=[],pL=[],mL={};v.forEach(Lt=>{const{element:Qt,player:gn,instruction:yi}=Lt;if(r.has(Qt)){if(B.has(Qt))return gn.onDestroy(()=>xr(Qt,yi.toStyles)),gn.disabled=!0,gn.overrideTotalTime(yi.totalTime),void s.push(gn);let u1=mL;if(O1.size>1){let _l=Qt;const uh=[];for(;_l=_l.parentNode;){const ko=O1.get(_l);if(ko){u1=ko;break}uh.push(_l)}uh.forEach(ko=>O1.set(ko,u1))}const d6=this._buildAnimation(gn.namespaceId,yi,ji,p,ib,fc);if(gn.setRealPlayer(d6),u1===mL)l9.push(gn);else{const _l=this.playersByElement.get(u1);_l&&_l.length&&(gn.parentPlayer=ur(_l)),s.push(gn)}}else C1(Qt,yi.fromStyles),gn.onDestroy(()=>xr(Qt,yi.toStyles)),pL.push(gn),B.has(Qt)&&s.push(gn)}),pL.forEach(Lt=>{const Qt=p.get(Lt.element);if(Qt&&Qt.length){const gn=ur(Qt);Lt.setRealPlayer(gn)}}),s.forEach(Lt=>{Lt.parentPlayer?Lt.syncPlayerEvents(Lt.parentPlayer):Lt.destroy()});for(let Lt=0;Lt<Oe.length;Lt++){const Qt=Oe[Lt],gn=Qt[Xs];if(la(Qt,Tn),gn&&gn.hasAnimation)continue;let yi=[];if(C.size){let d6=C.get(Qt);d6&&d6.length&&yi.push(...d6);let _l=this.driver.query(Qt,Fc,!0);for(let uh=0;uh<_l.length;uh++){let ko=C.get(_l[uh]);ko&&ko.length&&yi.push(...ko)}}const u1=yi.filter(d6=>!d6.destroyed);u1.length?k8(this,Qt,u1):this.processLeaveNode(Qt)}return Oe.length=0,l9.forEach(Lt=>{this.players.push(Lt),Lt.onDone(()=>{Lt.destroy();const Qt=this.players.indexOf(Lt);this.players.splice(Qt,1)}),Lt.play()}),l9}elementContainsData(e,t){let r=!1;const s=t[Xs];return s&&s.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,s,p){let v=[];if(t){const C=this.playersByQueriedElement.get(e);C&&(v=C)}else{const C=this.playersByElement.get(e);if(C){const A=!p||p==Bl;C.forEach(P=>{P.queued||!A&&P.triggerName!=s||v.push(P)})}}return(r||s)&&(v=v.filter(C=>!(r&&r!=C.namespaceId||s&&s!=C.triggerName))),v}_beforeAnimationBuild(e,t,r){const p=t.element,v=t.isRemovalTransition?void 0:e,C=t.isRemovalTransition?void 0:t.triggerName;for(const A of t.timelines){const P=A.element,B=P!==p,G=Fi(r,P,[]);this._getPreviousPlayers(P,B,v,C,t.toState).forEach(ae=>{const ge=ae.getRealPlayer();ge.beforeDestroy&&ge.beforeDestroy(),ae.destroy(),G.push(ae)})}C1(p,t.fromStyles)}_buildAnimation(e,t,r,s,p,v){const C=t.triggerName,A=t.element,P=[],B=new Set,G=new Set,re=t.timelines.map(ge=>{const Te=ge.element;B.add(Te);const Oe=Te[Xs];if(Oe&&Oe.removedBeforeQueried)return new ss(ge.duration,ge.delay);const rt=Te!==A,St=function(n){const e=[];return H4(n,e),e}((r.get(Te)||w8).map(ji=>ji.getRealPlayer())).filter(ji=>!!ji.element&&ji.element===Te),Nt=p.get(Te),kt=v.get(Te),Dn=Sn(0,this._normalizer,0,ge.keyframes,Nt,kt),en=this._buildPlayer(ge,Dn,St);if(ge.subTimeline&&s&&G.add(Te),rt){const ji=new jc(e,C,Te);ji.setRealPlayer(en),P.push(ji)}return en});P.forEach(ge=>{Fi(this.playersByQueriedElement,ge.element,[]).push(ge),ge.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const s=r.indexOf(t);r.splice(s,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ge.element,ge))}),B.forEach(ge=>Sr(ge,jr));const ae=ur(re);return ae.onDestroy(()=>{B.forEach(ge=>la(ge,jr)),xr(A,t.toStyles)}),G.forEach(ge=>{Fi(s,ge,[]).push(ae)}),ae}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new ss(e.duration,e.delay)}}class jc{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new ss,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>J1(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Pn(n){return n&&1===n.nodeType}function U2(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Zn(n,e,t,r,s){const p=[];t.forEach(A=>p.push(U2(A)));const v=[];r.forEach((A,P)=>{const B={};A.forEach(G=>{const re=B[G]=e.computeStyle(P,G,s);(!re||0==re.length)&&(P[Xs]=C8,v.push(P))}),n.set(P,B)});let C=0;return t.forEach(A=>U2(A,p[C++])),v}function t2(n,e){const t=new Map;if(n.forEach(C=>t.set(C,[])),0==e.length)return t;const s=new Set(e),p=new Map;function v(C){if(!C)return 1;let A=p.get(C);if(A)return A;const P=C.parentNode;return A=t.has(P)?P:s.has(P)?1:v(P),p.set(C,A),A}return e.forEach(C=>{const A=v(C);1!==A&&t.get(A).push(C)}),t}const n2="$$classes";function Sr(n,e){if(n.classList)n.classList.add(e);else{let t=n[n2];t||(t=n[n2]={}),t[e]=!0}}function la(n,e){if(n.classList)n.classList.remove(e);else{let t=n[n2];t&&delete t[e]}}function k8(n,e,t){ur(t).onDone(()=>n.processLeaveNode(e))}function H4(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof $a?H4(r.players,e):e.push(r)}}function Uc(n,e,t){const r=t.get(n);if(!r)return!1;let s=e.get(n);return s?r.forEach(p=>s.add(p)):e.set(n,r),t.delete(n),!0}class q2{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,p)=>{},this._transitionEngine=new jl(e,t,r),this._timelineEngine=new Vn(e,t,r),this._transitionEngine.onRemovalComplete=(s,p)=>this.onRemovalComplete(s,p)}registerTrigger(e,t,r,s,p){const v=e+"-"+s;let C=this._triggerCache[v];if(!C){const A=[],P=Ar(this._driver,p,A);if(A.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${A.join("\n - ")}`);C=function(n,e,t){return new y8(n,e,t)}(s,P,this._normalizer),this._triggerCache[v]=C}this._transitionEngine.registerTrigger(t,s,C)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,s){this._transitionEngine.insertNode(e,t,r,s)}onRemove(e,t,r,s){this._transitionEngine.removeNode(e,t,s||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,s){if("@"==r.charAt(0)){const[p,v]=As(r);this._timelineEngine.command(p,t,v,s)}else this._transitionEngine.trigger(e,t,r,s)}listen(e,t,r,s,p){if("@"==r.charAt(0)){const[v,C]=As(r);return this._timelineEngine.listen(v,t,C,p)}return this._transitionEngine.listen(e,t,r,s,p)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function M8(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=r2(e[0]),e.length>1&&(r=r2(e[e.length-1]))):e&&(t=r2(e)),t||r?new M6(n,t,r):null}let M6=(()=>{class n{constructor(t,r,s){this._element=t,this._startStyles=r,this._endStyles=s,this._state=0;let p=n.initialStylesByElement.get(t);p||n.initialStylesByElement.set(t,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&xr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(xr(this._element,this._initialStyles),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(C1(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(C1(this._element,this._endStyles),this._endStyles=null),xr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function r2(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const s=t[r];ua(s)&&(e=e||{},e[s]=n[s])}return e}function ua(n){return"display"===n||"position"===n}const E8="animation",Ei="animationend";class da{constructor(e,t,r,s,p,v,C){this._element=e,this._name=t,this._duration=r,this._delay=s,this._easing=p,this._fillMode=v,this._onDoneFn=C,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=A=>this._handleCallback(A)}apply(){(function(n,e){const t=S8(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),Is(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),E6(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){o0(this._element,this._name,"paused")}resume(){o0(this._element,this._name,"running")}setPosition(e){const t=A8(this._element,this._name);this._position=e*this._duration,Is(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),E6(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=S8(n,"").split(","),s=qc(r,e);s>=0&&(r.splice(s,1),Is(n,"",r.join(",")))}(this._element,this._name))}}function o0(n,e,t){Is(n,"PlayState",t,A8(n,e))}function A8(n,e){const t=S8(n,"");return t.indexOf(",")>0?qc(t.split(","),e):qc([t],e)}function qc(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function E6(n,e,t){t?n.removeEventListener(Ei,e):n.addEventListener(Ei,e)}function Is(n,e,t,r){const s=E8+e;if(null!=r){const p=n.style[s];if(p.length){const v=p.split(",");v[r]=t,t=v.join(",")}}n.style[s]=t}function S8(n,e){return n.style[E8+e]||""}class Gc{constructor(e,t,r,s,p,v,C,A){this.element=e,this.keyframes=t,this.animationName=r,this._duration=s,this._delay=p,this._finalStyles=C,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=v||"linear",this.totalTime=s+p,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new da(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:yt(this.element,r))})}this.currentSnapshot=e}}class s0 extends ss{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Ya(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Tr{constructor(){this._count=0}validateStyleProperty(e){return z4(e)}matchesElement(e,t){return Nl(e,t)}containsElement(e,t){return Ll(e,t)}query(e,t,r){return Pl(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(C=>Ya(C));let s=`@keyframes ${t} {\n`,p="";r.forEach(C=>{p=" ";const A=parseFloat(C.offset);s+=`${p}${100*A}% {\n`,p+=" ",Object.keys(C).forEach(P=>{const B=C[P];switch(P){case"offset":return;case"easing":return void(B&&(s+=`${p}animation-timing-function: ${B};\n`));default:return void(s+=`${p}${P}: ${B};\n`)}}),s+=`${p}}\n`}),s+="}\n";const v=document.createElement("style");return v.textContent=s,v}animate(e,t,r,s,p,v=[],C){const A=v.filter(Oe=>Oe instanceof Gc),P={};ke(r,s)&&A.forEach(Oe=>{let rt=Oe.currentSnapshot;Object.keys(rt).forEach(St=>P[St]=rt[St])});const B=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(s=>{"offset"==s||"easing"==s||(e[s]=r[s])})}),e}(t=Re(e,t,P));if(0==r)return new s0(e,B);const G="gen_css_kf_"+this._count++,re=this.buildKeyframeElement(e,G,t);(function(n){var t;const e=null==(t=n.getRootNode)?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(re);const ge=M8(e,t),Te=new Gc(e,t,G,r,s,p,B,ge);return Te.onDestroy(()=>{var n;(n=re).parentNode.removeChild(n)}),Te}}class l0{constructor(e,t,r,s){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:yt(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class x6{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ha().toString()),this._cssKeyframesDriver=new Tr}validateStyleProperty(e){return z4(e)}matchesElement(e,t){return Nl(e,t)}containsElement(e,t){return Ll(e,t)}query(e,t,r){return Pl(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,s,p,v=[],C){if(!C&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,s,p,v);const B={duration:r,delay:s,fill:0==s?"both":"forwards"};p&&(B.easing=p);const G={},re=v.filter(ge=>ge instanceof l0);ke(r,s)&&re.forEach(ge=>{let Te=ge.currentSnapshot;Object.keys(Te).forEach(Oe=>G[Oe]=Te[Oe])});const ae=M8(e,t=Re(e,t=t.map(ge=>Ur(ge,!1)),G));return new l0(e,t,B,ae)}}function ha(){return Ga()&&Element.prototype.animate||{}}let D8=(()=>{class n extends Il{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Dl(t):t;return j4(this._renderer,null,r,"register",[s]),new B4(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class B4 extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new z8(this._id,e,t||{},this._renderer)}}class z8{constructor(e,t,r,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return j4(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function j4(n,e,t,r,s){return n.setProperty(e,`@@${t}:${r}`,s)}const Oo="@.disabled";let N8=(()=>{class n{constructor(t,r,s){this.delegate=t,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(p,v)=>{const C=null==v?void 0:v.parentNode(p);C&&v.removeChild(C,p)}}createRenderer(t,r){const p=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let B=this._rendererCache.get(p);return B||(B=new U4("",p,this.engine),this._rendererCache.set(p,B)),B}const v=r.id,C=r.id+"-"+this._currentId;this._currentId++,this.engine.register(C,t);const A=B=>{Array.isArray(B)?B.forEach(A):this.engine.registerTrigger(v,C,t,B.name,B)};return r.data.animation.forEach(A),new u0(this,C,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,s){t>=0&&t<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[v,C]=p;v(C)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.FYo),f.LFG(q2),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class U4{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,s=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,s){this.delegate.setAttribute(e,t,r,s)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,s){this.delegate.setStyle(e,t,r,s)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Oo?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class u0 extends U4{constructor(e,t,r,s){super(t,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Oo?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const s=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let p=t.substr(1),v="";return"@"!=p.charAt(0)&&([p,v]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(p)),this.engine.listen(this.namespaceId,s,p,v,C=>{this.factory.scheduleListenerCallback(C._data||-1,r,C)})}return this.delegate.listen(e,t,r)}}let Zc=(()=>{class n extends q2{constructor(t,r,s){super(t.body,r,s)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve),f.LFG(Ni),f.LFG(j2))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const s2=new f.OlP("AnimationModuleType"),P8=[{provide:Il,useClass:D8},{provide:j2,useFactory:function(){return new mh}},{provide:q2,useClass:Zc},{provide:f.FYo,useFactory:function(n,e,t){return new N8(n,e,t)},deps:[Dc,q2,f.R0b]}],Ul=[{provide:Ni,useFactory:function(){return"function"==typeof ha()?new x6:new Tr}},{provide:s2,useValue:"BrowserAnimations"},...P8],D=[{provide:Ni,useClass:Oc},{provide:s2,useValue:"NoopAnimations"},...P8];let k=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?D:Ul}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Ul,imports:[Sl]}),n})();var N=F(4762),j=F(2411),K=F(8053),be=F(1915),Ne=F(8345);function Qe(n,e){return"function"==typeof e?t=>t.pipe(Qe((r,s)=>(0,be.D)(n(r,s)).pipe((0,K.U)((p,v)=>e(r,p,s,v))))):t=>t.lift(new pt(n))}class pt{constructor(e){this.project=e}call(e,t){return t.subscribe(new Yt(e,this.project))}}class Yt extends Ne.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(s){return void this.destination.error(s)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ne.IY(this),s=this.destination;s.add(r),this.innerSubscription=(0,Ne.ft)(e,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Pt=F(7892),Ct=F(3405),ri=F(5548),xi=F(8526),t1=F(9748),ql=F(7575),po=F(1346),Pi=F(2108),Kc=F(5973);class Yn extends Ct.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new fr(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,p=r.length;let v;if(this.closed)throw new Pi.N;if(this.isStopped||this.hasError?v=po.w.EMPTY:(this.observers.push(e),v=new Kc.W(this,e)),s&&e.add(e=new t1.ht(e,s)),t)for(let C=0;C<p&&!e.closed;C++)e.next(r[C]);else for(let C=0;C<p&&!e.closed;C++)e.next(r[C].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),v}_getNow(){return(this.scheduler||ql.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,s=this._events,p=s.length;let v=0;for(;v<p&&!(e-s[v].time<r);)v++;return p>t&&(v=Math.max(v,p-t)),v>0&&s.splice(0,v),s}}class fr{constructor(e,t){this.time=e,this.value=t}}function Ir(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},s=>s.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let s,v,p=0,C=!1,A=!1;return function(B){let G;p++,!s||C?(C=!1,s=new Yn(n,e,r),G=s.subscribe(this),v=B.subscribe({next(re){s.next(re)},error(re){C=!0,s.error(re)},complete(){A=!0,v=void 0,s.complete()}}),A&&(v=void 0)):G=s.subscribe(this),this.add(()=>{p--,G.unsubscribe(),G=void 0,v&&!A&&t&&0===p&&(v.unsubscribe(),v=void 0,s=void 0)})}}(r))}const Ri=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var rn=F(4168);function pr(n,e){return function(r){return r.lift(new h9(n,e))}}class h9{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new f9(e,this.predicate,this.thisArg))}}class f9 extends rn.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}const d0=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var G2=F(172);function Vo(n){return e=>0===n?(0,G2.c)():e.lift(new Ag(n))}class Ag{constructor(e){if(this.total=e,this.total<0)throw new d0}call(e,t){return t.subscribe(new p9(e,this.total))}}class p9 extends rn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function m9(n=null){return e=>e.lift(new g9(n))}class g9{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new _h(e,this.defaultValue))}}class _h extends rn.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function R8(n=_9){return e=>e.lift(new O8(n))}class O8{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new v9(e,this.errorFactory))}}class v9 extends rn.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function _9(){return new Ri}var V8=F(7255);function n1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pr((s,p)=>n(s,p,r)):V8.y,Vo(1),t?m9(e):R8(()=>new Ri))}function Bi(n,e){return e?Qe(()=>n,e):Qe(()=>n)}var r1=F(225),Fn=F(5940),c2=F(7905);F(7713);var $e=F(8239),l2=F(1572),f0=F(1177),zn=F(4213),Qc=F(3855);const kh=new Map,k9={activated:!1,tokenObservers:[]},M9={initialized:!1,enabled:!1};function vi(n){return kh.get(n)||k9}function er(n,e){kh.set(n,e)}function p0(){return M9}class x9{constructor(e,t,r,s,p){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=p,this.pending=null,this.nextErrorWaitInterval=s,s>p)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,$e.Z)(function*(){t.stop();try{t.pending=new zn.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new zn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Rt=new zn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Mh(n){if(!vi(n).activated)throw Rt.create("use-before-activation",{appName:n.name})}function z6(n,e){return j8.apply(this,arguments)}function j8(){return(j8=(0,$e.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});s&&(r["X-Firebase-Client"]=s.getPlatformInfoString());const p={method:"POST",body:JSON.stringify(e),headers:r};let v,C;try{v=yield fetch(n,p)}catch(G){throw Rt.create("fetch-network-error",{originalErrorMessage:G.message})}if(200!==v.status)throw Rt.create("fetch-status-error",{httpStatus:v.status});try{C=yield v.json()}catch(G){throw Rt.create("fetch-parse-error",{originalErrorMessage:G.message})}const A=C.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Rt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const P=1e3*Number(A[1]),B=Date.now();return{token:C.attestationToken,expireTimeMillis:B+P,issuedAtTimeMillis:B}})).apply(this,arguments)}function N6(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const $8="firebase-app-check-store";let G8=null;function Ci(){return G8||(G8=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Rt.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($8,{keyPath:"compositeKey"})}}catch(t){e(Rt.create("storage-open",{originalErrorMessage:t.message}))}}),G8)}function Z8(){return(Z8=(0,$e.Z)(function*(n,e){const r=(yield Ci()).transaction($8,"readwrite"),p=r.objectStore($8).put({compositeKey:n,value:e});return new Promise((v,C)=>{p.onsuccess=A=>{v()},r.onerror=A=>{var P;C(Rt.create("storage-set",{originalErrorMessage:null===(P=A.target.error)||void 0===P?void 0:P.message}))}})})).apply(this,arguments)}const Wl=new Qc.Yd("@firebase/app-check");function zg(n,e){return(0,zn.hl)()?function(n,e){return function(n,e){return Z8.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Wl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function I9(){return p0().enabled}function Q8(){return D9.apply(this,arguments)}function D9(){return(D9=(0,$e.Z)(function*(){const n=p0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ab={error:"UNKNOWN_ERROR"};function cb(n){return zn.US.encodeString(JSON.stringify(n),!1)}function Jc(n){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,$e.Z)(function*(n,e=!1){const t=n.app;Mh(t);const r=vi(t);let p,s=r.token;if(!s){const A=yield r.cachedTokenPromise;A&&b0(A)&&(s=A)}if(!e&&s&&b0(s))return{token:s.token};let C,v=!1;if(I9()){r.exchangeTokenPromise||(r.exchangeTokenPromise=z6(N6(t,yield Q8()),n.platformLoggerProvider).then(P=>(r.exchangeTokenPromise=void 0,P)),v=!0);const A=yield r.exchangeTokenPromise;return yield zg(t,A),er(t,Object.assign(Object.assign({},r),{token:A})),{token:A.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(A=>(r.exchangeTokenPromise=void 0,A)),v=!0),s=yield r.exchangeTokenPromise}catch(A){"appCheck/throttled"===A.code?Wl.warn(A.message):Wl.error(A),p=A}return s?(C={token:s.token},er(t,Object.assign(Object.assign({},r),{token:s})),yield zg(t,s)):C=Ng(p),v&&Xc(t,C),C})).apply(this,arguments)}function z9(n,e){const t=vi(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),er(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function N9(n){const{app:e}=n,t=vi(e);let r=t.tokenRefresher;r||(r=function(n){const{app:e}=n;return new x9((0,$e.Z)(function*(){let r;if(r=vi(e).token?yield Jc(n,!0):yield Jc(n),r.error)throw r.error}),()=>!0,()=>{const t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),er(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Xc(n,e){const t=vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function b0(n){return n.expireTimeMillis-Date.now()>0}function Ng(n){return{token:cb(ab),error:n}}class J8{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=vi(this.app);for(const t of e)z9(this.app,t.next);return Promise.resolve()}}const R9="app-check-internal";(0,l2._registerComponent)(new f0.wA("app-check",n=>function(n,e){return new J8(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(R9).initialize()})),(0,l2._registerComponent)(new f0.wA(R9,n=>function(n){return{getToken:e=>Jc(n,e),addTokenListener:e=>function(n,e,t,r){const{app:s}=n,p=vi(s),v={next:t,error:r,type:e};if(er(s,Object.assign(Object.assign({},p),{tokenObservers:[...p.tokenObservers,v]})),p.token&&b0(p.token)){const C=p.token;Promise.resolve().then(()=>{t({token:C.token}),N9(n)}).catch(()=>{})}p.cachedTokenPromise.then(()=>N9(n))}(n,"INTERNAL",e),removeTokenListener:e=>z9(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,l2.registerVersion)("@firebase/app-check","0.5.2");class tl{constructor(){return(0,Fn.vb)("app-check")}}"undefined"!=typeof window&&window;const Fh=new f.OlP("angularfire2.auth.use-emulator"),Hh=new f.OlP("angularfire2.auth.settings"),nl=new f.OlP("angularfire2.auth.tenant-id"),Bh=new f.OlP("angularfire2.auth.langugage-code"),B6=new f.OlP("angularfire2.auth.use-device-language"),jh=new f.OlP("angularfire.auth.persistence"),j6=(n,e,t,r,s,p,v,C)=>(0,c2.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const A=e.runOutsideAngular(()=>n.auth());if(t&&A.useEmulator(...t),r&&(A.tenantId=r),A.languageCode=s,p&&A.useDeviceLanguage(),v)for(const[P,B]of Object.entries(v))A.settings[P]=B;return C&&A.setPersistence(C),A},[t,r,s,p,v,C]);let Bn=(()=>{class n{constructor(t,r,s,p,v,C,A,P,B,G,re,ae){const ge=new Ct.xQ,Te=(0,j.of)(void 0).pipe((0,t1.QV)(v.outsideAngular),Qe(()=>p.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,4802)))),(0,K.U)(()=>(0,c2.on)(t,p,r)),(0,K.U)(Oe=>j6(Oe,p,C,P,B,G,A,re)),Ir({bufferSize:1,refCount:!1}));if(hi(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,j.of)(null);else{Te.pipe(n1()).subscribe();const rt=Te.pipe(Qe(kt=>kt.getRedirectResult().then(Dn=>Dn,()=>null)),Fn.iC,Ir({bufferSize:1,refCount:!1})),St=Te.pipe(Qe(kt=>new ri.y(Dn=>({unsubscribe:p.runOutsideAngular(()=>kt.onAuthStateChanged(en=>Dn.next(en),en=>Dn.error(en),()=>Dn.complete()))})))),Nt=Te.pipe(Qe(kt=>new ri.y(Dn=>({unsubscribe:p.runOutsideAngular(()=>kt.onIdTokenChanged(en=>Dn.next(en),en=>Dn.error(en),()=>Dn.complete()))}))));this.authState=rt.pipe(Bi(St),(0,r1.R)(v.outsideAngular),(0,t1.QV)(v.insideAngular)),this.user=rt.pipe(Bi(Nt),(0,r1.R)(v.outsideAngular),(0,t1.QV)(v.insideAngular)),this.idToken=this.user.pipe(Qe(kt=>kt?(0,be.D)(kt.getIdToken()):(0,j.of)(null))),this.idTokenResult=this.user.pipe(Qe(kt=>kt?(0,be.D)(kt.getIdTokenResult()):(0,j.of)(null))),this.credential=(0,xi.T)(rt,ge,this.authState.pipe(pr(kt=>!kt))).pipe((0,K.U)(kt=>(null==kt?void 0:kt.user)?kt:null),(0,r1.R)(v.outsideAngular),(0,t1.QV)(v.insideAngular))}return(0,c2.pX)(this,Te,p,{spy:{apply:(Oe,rt,St)=>{(Oe.startsWith("signIn")||Oe.startsWith("createUser"))&&St.then(Nt=>ge.next(Nt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(c2.Dh),f.LFG(c2.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Fn.HU),f.LFG(Fh,8),f.LFG(Hh,8),f.LFG(nl,8),f.LFG(Bh,8),f.LFG(B6,8),f.LFG(jh,8),f.LFG(tl,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class S1 extends Ct.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pi.N;return this._value}next(e){super.next(this._value=e)}}var r5=F(8151),o5=F(5894);class V9 extends rn.L{notifyNext(e,t,r,s,p){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class Uh extends rn.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var U6=F(4651);function Hg(n,e,t,r,s=new Uh(n,t,r)){if(!s.closed)return e instanceof ri.y?e.subscribe(s):(0,U6.s)(e)(s)}var il=F(5433);const Zl={};function qh(...n){let e,t;return(0,r5.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,o5.k)(n[0])&&(n=n[0]),(0,il.n)(n,t).lift(new q6(e))}class q6{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new s5(e,this.resultSelector))}}class s5 extends V9{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Zl),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Hg(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const s=this.values,v=this.toRespond?s[r]===Zl?--this.toRespond:this.toRespond:0;s[r]=t,0===v&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var a5=F(2225);function k0(...n){return(0,a5.J)(1)((0,j.of)(...n))}function $6(n){return new ri.y(e=>{let t;try{t=n()}catch(s){return void e.error(s)}return(t?(0,be.D)(t):(0,G2.c)()).subscribe(e)})}var F9=F(5783);function Bo(...n){const e=n[n.length-1];return(0,r5.K)(e)?(n.pop(),t=>k0(n,t,e)):t=>k0(n,t)}function K4(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(s){return s.lift(new Bg(n,e,t))}}class Bg{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new jg(e,this.accumulator,this.seed,this.hasSeed))}}class jg extends rn.L{constructor(e,t,r,s){super(e),this.accumulator=t,this._seed=r,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=r,this.destination.next(r)}}function K2(n){return function(t){const r=new Gh(n),s=t.lift(r);return r.caught=s}}class Gh{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Wh(e,this.selector,this.caught))}}class Wh extends Ne.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(p){return void super.error(p)}this._unsubscribeAndRecycle();const r=new Ne.IY(this);this.add(r);const s=(0,Ne.ft)(t,r);s!==r&&this.add(s)}}}var jo=F(4421);function Q4(n,e){return(0,jo.zg)(n,e,1)}function pa(n){return function(t){return 0===n?(0,G2.c)():t.lift(new c5(n))}}class c5{constructor(e){if(this.total=e,this.total<0)throw new d0}call(e,t){return t.subscribe(new H9(e,this.total))}}class H9 extends rn.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,s=this.count++;t.length<r?t.push(e):t[s%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,s=this.ring;for(let p=0;p<r;p++){const v=t++%r;e.next(s[v])}}e.complete()}}var eo=F(5722),G6=F(5234);function l5(n){return e=>e.lift(new W6(n))}class W6{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Z6(e,this.callback))}}class Z6 extends rn.L{constructor(e,t){super(e),this.add(new po.w(t))}}class rl{constructor(e,t){this.id=e,this.url=t}}class Y6 extends rl{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class M0 extends rl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yh extends rl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class B9 extends rl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ug extends rl{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u5 extends rl{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j9 extends rl{constructor(e,t,r,s,p){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class U9 extends rl{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class q9 extends rl{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class K6{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $9{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kh{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kl{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d5{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Q6{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const En="primary";class qg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function J6(n){return new qg(n)}const G9="ngNavigationCancelingError";function X6(n){const e=Error("NavigationCancelingError: "+n);return e[G9]=!0,e}function Qh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let p=0;p<r.length;p++){const v=r[p],C=n[p];if(v.startsWith(":"))s[v.substring(1)]=C;else if(v!==C.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function ma(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let p=0;p<t.length;p++)if(s=t[p],!sl(n[s],e[s]))return!1;return!0}function sl(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,p)=>r[p]===s)}return n===e}function J4(n){return Array.prototype.concat.apply([],n)}function Jh(n){return n.length>0?n[n.length-1]:null}function go(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function u2(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,be.D)(Promise.resolve(n)):(0,j.of)(n)}const $g={exact:function Xh(n,e,t){if(!T1(n.segments,e.segments)||!E0(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Xh(n.children[r],e.children[r],t))return!1;return!0},subset:f5},Y9={exact:function(n,e){return ma(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>sl(n[t],e[t]))},ignored:()=>!0};function X4(n,e,t){return $g[t.paths](n.root,e.root,t.matrixParams)&&Y9[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function f5(n,e,t){return ga(n,e,e.segments,t)}function ga(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!T1(s,t)||e.hasChildren()||!E0(s,t,r))}if(n.segments.length===t.length){if(!T1(n.segments,t)||!E0(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!f5(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),p=t.slice(n.segments.length);return!!(T1(n.segments,s)&&E0(n.segments,s,r)&&n.children[En])&&ga(n.children[En],e,p,r)}}function E0(n,e,t){return e.every((r,s)=>Y9[t](n[s].parameters,r.parameters))}class e3{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J6(this.queryParams)),this._queryParamMap}toString(){return Gg.serialize(this)}}class Nn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,go(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return nf(this)}}class eu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=J6(this.parameters)),this._parameterMap}toString(){return Wg(this)}}function T1(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class tf{}class tu{parse(e){const t=new p5(e);return new e3(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${n3(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${nu(t)}=${nu(s)}`).join("&"):`${nu(t)}=${nu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const Gg=new tu;function nf(n){return n.segments.map(e=>Wg(e)).join("/")}function n3(n,e){if(!n.hasChildren())return nf(n);if(e){const t=n.children[En]?n3(n.children[En],!1):"",r=[];return go(n.children,(s,p)=>{p!==En&&r.push(`${p}:${n3(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return go(n.children,(r,s)=>{s===En&&(t=t.concat(e(r,s)))}),go(n.children,(r,s)=>{s!==En&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===En?[n3(n.children[En],!1)]:[`${s}:${n3(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[En]?`${nf(n)}/${t[0]}`:`${nf(n)}/(${t.join("//")})`}}function Q9(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nu(n){return Q9(n).replace(/%3B/gi,";")}function iu(n){return Q9(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zs(n){return decodeURIComponent(n)}function X9(n){return zs(n.replace(/\+/g,"%20"))}function Wg(n){return`${iu(n.path)}${function(n){return Object.keys(n).map(e=>`;${iu(e)}=${iu(n[e])}`).join("")}(n.parameters)}`}const np=/^[^\/()?;=#]+/;function ru(n){const e=n.match(np);return e?e[0]:""}const mb=/^[^=?&#]+/,rf=/^[^&#]+/;class p5{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Nn([],{}):new Nn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[En]=new Nn(e,t)),r}parseSegment(){const e=ru(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new eu(zs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ru(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=ru(this.remaining);s&&(r=s,this.capture(r))}e[zs(t)]=zs(r)}parseQueryParam(e){const t=function(n){const e=n.match(mb);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const v=function(n){const e=n.match(rf);return e?e[0]:""}(this.remaining);v&&(r=v,this.capture(r))}const s=X9(t),p=X9(r);if(e.hasOwnProperty(s)){let v=e[s];Array.isArray(v)||(v=[v],e[s]=v),v.push(p)}else e[s]=p}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ru(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let p;r.indexOf(":")>-1?(p=r.substr(0,r.indexOf(":")),this.capture(p),this.capture(":")):e&&(p=En);const v=this.parseChildren();t[p]=1===Object.keys(v).length?v[En]:new Nn([],v),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class rp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=i3(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=i3(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return sf(e,this._root).map(t=>t.value)}}function i3(n,e){if(n===e.value)return e;for(const t of e.children){const r=i3(n,t);if(r)return r}return null}function sf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sf(n,t);if(r.length)return r.unshift(e),r}return[]}class Q2{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function x0(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class op extends rp{constructor(e,t){super(e),this.snapshot=t,o1(this,e)}toString(){return this.snapshot.toString()}}function Ql(n,e){const t=function(n,e){const v=new A0([],{},{},"",{},En,e,null,n.root,-1,{});return new m5("",new Q2(v,[]))}(n,e),r=new S1([new eu("",{})]),s=new S1({}),p=new S1({}),v=new S1({}),C=new S1(""),A=new va(r,s,v,C,p,En,e,t.root);return A.snapshot=t.root,new op(new Q2(A,[]),t)}class va{constructor(e,t,r,s,p,v,C,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=p,this.outlet=v,this.component=C,this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,K.U)(e=>J6(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,K.U)(e=>J6(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function o3(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],p=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(p.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:lt(lt({},e.params),t.params),data:lt(lt({},e.data),t.data),resolve:lt(lt({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class A0{constructor(e,t,r,s,p,v,C,A,P,B,G){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=p,this.outlet=v,this.component=C,this.routeConfig=A,this._urlSegment=P,this._lastPathIndex=B,this._resolve=G}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=J6(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=J6(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m5 extends rp{constructor(e,t){super(t),this.url=e,o1(this,t)}toString(){return s3(this._root)}}function o1(n,e){e.value._routerState=n,e.children.forEach(t=>o1(n,t))}function s3(n){const e=n.children.length>0?` { ${n.children.map(s3).join(", ")} } `:"";return`${n.value}${e}`}function $r(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ma(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ma(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ma(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ma(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function vo(n,e){const t=ma(n.params,e.params)&&function(n,e){return T1(n,e)&&n.every((t,r)=>ma(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||vo(n.parent,e.parent))}function ls(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return ls(n,r,s);return ls(n,r)})}(n,e,t);return new Q2(r,s)}{if(n.shouldAttach(e.value)){const p=n.retrieve(e.value);if(null!==p){const v=p.route;return v.value._futureSnapshot=e.value,v.children=e.children.map(C=>ls(n,C)),v}}const r=function(n){return new va(new S1(n.url),new S1(n.params),new S1(n.queryParams),new S1(n.fragment),new S1(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(p=>ls(n,p));return new Q2(r,s)}}function J2(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function d2(n){return"object"==typeof n&&null!=n&&n.outlets}function h2(n,e,t,r,s){let p={};return r&&go(r,(v,C)=>{p[C]=Array.isArray(v)?v.map(A=>`${A}`):`${v}`}),new e3(t.root===n?e:c3(t.root,n,e),p,s)}function c3(n,e,t){const r={};return go(n.children,(s,p)=>{r[p]=s===e?t:c3(s,e,t)}),new Nn(n.segments,r)}class l3{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&J2(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(d2);if(s&&s!==Jh(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class al{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function lf(n,e,t){if(n||(n=new Nn([],{})),0===n.segments.length&&n.hasChildren())return d3(n,e,t);const r=function(n,e,t){let r=0,s=e;const p={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return p;const v=n.segments[s],C=t[r];if(d2(C))break;const A=`${C}`,P=r<t.length-1?t[r+1]:null;if(s>0&&void 0===A)break;if(A&&P&&"object"==typeof P&&void 0===P.outlets){if(!lp(A,P,v))return p;r+=2}else{if(!lp(A,{},v))return p;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const p=new Nn(n.segments.slice(0,r.pathIndex),{});return p.children[En]=new Nn(n.segments.slice(r.pathIndex),n.children),d3(p,0,s)}return r.match&&0===s.length?new Nn(n.segments,{}):r.match&&!n.hasChildren()?v5(n,e,t):r.match?d3(n,0,s):v5(n,e,t)}function d3(n,e,t){if(0===t.length)return new Nn(n.segments,{});{const r=function(n){return d2(n[0])?n[0].outlets:{[En]:n}}(t),s={};return go(r,(p,v)=>{"string"==typeof p&&(p=[p]),null!==p&&(s[v]=lf(n.children[v],e,p))}),go(n.children,(p,v)=>{void 0===r[v]&&(s[v]=p)}),new Nn(n.segments,s)}}function v5(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const p=t[s];if(d2(p)){const A=cp(p.outlets);return new Nn(r,A)}if(0===s&&J2(t[0])){r.push(new eu(n.segments[e].path,_5(t[0]))),s++;continue}const v=d2(p)?p.outlets[En]:`${p}`,C=s<t.length-1?t[s+1]:null;v&&C&&J2(C)?(r.push(new eu(v,_5(C))),s+=2):(r.push(new eu(v,{})),s++)}return new Nn(r,{})}function cp(n){const e={};return go(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=v5(new Nn([],{}),0,t))}),e}function _5(n){const e={};return go(n,(t,r)=>e[r]=`${t}`),e}function lp(n,e,t){return n==t.path&&ma(e,t.parameters)}class Kg{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$r(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=x0(t);e.children.forEach(p=>{const v=p.value.outlet;this.deactivateRoutes(p,s[v],r),delete s[v]}),go(s,(p,v)=>{this.deactivateRouteAndItsChildren(p,r)})}deactivateRoutes(e,t,r){const s=e.value,p=t?t.value:null;if(s===p)if(s.component){const v=r.getContext(s.outlet);v&&this.deactivateChildRoutes(e,t,v.children)}else this.deactivateChildRoutes(e,t,r);else p&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,p=x0(e);for(const v of Object.keys(p))this.deactivateRouteAndItsChildren(p[v],s);if(r&&r.outlet){const v=r.outlet.detach(),C=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:v,route:e,contexts:C})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,p=x0(e);for(const v of Object.keys(p))this.deactivateRouteAndItsChildren(p[v],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=x0(t);e.children.forEach(p=>{this.activateRoutes(p,s[p.value.outlet],r),this.forwardEvent(new d5(p.value.snapshot))}),e.children.length&&this.forwardEvent(new Kh(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,p=t?t.value:null;if($r(s),s===p)if(s.component){const v=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,v.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const v=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const C=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),v.children.onOutletReAttached(C.contexts),v.attachRef=C.componentRef,v.route=C.route.value,v.outlet&&v.outlet.attach(C.componentRef,C.route.value),$r(C.route.value),this.activateChildRoutes(e,null,v.children)}else{const C=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),A=C?C.module.componentFactoryResolver:null;v.attachRef=null,v.route=s,v.resolver=A,v.outlet&&v.outlet.activateWith(s,A),this.activateChildRoutes(e,null,v.children)}}else this.activateChildRoutes(e,null,r)}}class su{constructor(e,t){this.routes=e,this.module=t}}function X2(n){return"function"==typeof n}function cl(n){return n instanceof e3}const T0=Symbol("INITIAL_VALUE");function Jl(){return Qe(n=>qh(n.map(e=>e.pipe(Vo(1),Bo(T0)))).pipe(K4((e,t)=>{let r=!1;return t.reduce((s,p,v)=>s!==T0?s:(p===T0&&(r=!0),r||!1!==p&&v!==t.length-1&&!cl(p)?s:p),e)},T0),pr(e=>e!==T0),(0,K.U)(e=>cl(e)?e:!0===e),Vo(1)))}class Qg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new cu,this.attachRef=null}}class cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Qg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let hf=(()=>{class n{constructor(t,r,s,p,v){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=v,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=p||En,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const v=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,A=new Jg(t,C,this.location.injector);this.activated=this.location.createComponent(v,this.location.length,A),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(cu),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Jg{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===va?this.route:e===cu?this.childContexts:this.parent.get(e,t)}}let ff=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[hf],encapsulation:2}),n})();function pf(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];y5(r,mf(e,r))}}function y5(n,e){n.children&&pf(n.children,e)}function mf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function b5(n){const e=n.children&&n.children.map(b5),t=e?_s(lt({},n),{children:e}):lt({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==En&&(t.component=ff),t}function f2(n){return n.outlet||En}function Xg(n,e){const t=n.filter(r=>f2(r)===e);return t.push(...n.filter(r=>f2(r)!==e)),t}const pp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function lu(n,e,t){var C;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?lt({},pp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Qh)(t,n,e);if(!s)return lt({},pp);const p={};go(s.posParams,(A,P)=>{p[P]=A.path});const v=s.consumed.length>0?lt(lt({},p),s.consumed[s.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:v,positionalParamSegments:null!=(C=s.posParams)?C:{}}}function I0(n,e,t,r,s="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>uu(n,e,r)&&f2(r)!==En)}(n,t,r)){const v=new Nn(e,function(n,e,t,r){const s={};s[En]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const p of t)if(""===p.path&&f2(p)!==En){const v=new Nn([],{});v._sourceSegment=n,v._segmentIndexShift=e.length,s[f2(p)]=v}return s}(n,e,r,new Nn(t,n.children)));return v._sourceSegment=n,v._segmentIndexShift=e.length,{segmentGroup:v,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>uu(n,e,r))}(n,t,r)){const v=new Nn(n.segments,function(n,e,t,r,s,p){const v={};for(const C of r)if(uu(n,t,C)&&!s[f2(C)]){const A=new Nn([],{});A._sourceSegment=n,A._segmentIndexShift="legacy"===p?n.segments.length:e.length,v[f2(C)]=A}return lt(lt({},s),v)}(n,e,t,r,n.children,s));return v._sourceSegment=n,v._segmentIndexShift=e.length,{segmentGroup:v,slicedSegments:t}}const p=new Nn(n.segments,n.children);return p._sourceSegment=n,p._segmentIndexShift=e.length,{segmentGroup:p,slicedSegments:t}}function uu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gp(n,e,t,r){return!!(f2(n)===r||r!==En&&uu(e,t,n))&&("**"===n.path||lu(e,n,t).matched)}function w5(n,e,t){return 0===e.length&&!n.children[t]}class ll{constructor(e){this.segmentGroup=e||null}}class vp{constructor(e){this.urlTree=e}}function du(n){return new ri.y(e=>e.error(new ll(n)))}function _p(n){return new ri.y(e=>e.error(new vp(n)))}function nv(n){return new ri.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class rv{constructor(e,t,r,s,p){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=p,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=I0(this.urlTree.root,[],[],this.config).segmentGroup,t=new Nn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,En).pipe((0,K.U)(p=>this.createUrlTree(hu(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(K2(p=>{if(p instanceof vp)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof ll?this.noMatchError(p):p}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,En).pipe((0,K.U)(s=>this.createUrlTree(hu(s),e.queryParams,e.fragment))).pipe(K2(s=>{throw s instanceof ll?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new Nn([],{[En]:e}):e;return new e3(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,K.U)(p=>new Nn([],p))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const p of Object.keys(r.children))"primary"===p?s.unshift(p):s.push(p);return(0,be.D)(s).pipe(Q4(p=>{const v=r.children[p],C=Xg(t,p);return this.expandSegmentGroup(e,C,v,p).pipe((0,K.U)(A=>({segment:A,outlet:p})))}),K4((p,v)=>(p[v.outlet]=v.segment,p),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pr((s,p)=>n(s,p,r)):V8.y,pa(1),t?m9(e):R8(()=>new Ri))}())}expandSegment(e,t,r,s,p,v){return(0,be.D)(r).pipe(Q4(C=>this.expandSegmentAgainstRoute(e,t,r,C,s,p,v).pipe(K2(P=>{if(P instanceof ll)return(0,j.of)(null);throw P}))),n1(C=>!!C),K2((C,A)=>{if(C instanceof Ri||"EmptyError"===C.name){if(w5(t,s,p))return(0,j.of)(new Nn([],{}));throw new ll(t)}throw C}))}expandSegmentAgainstRoute(e,t,r,s,p,v,C){return gp(s,t,p,v)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,p,v):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,p,v):du(t):du(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,p,v){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,v):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,p,v)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const p=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?_p(p):this.lineralizeSegments(r,p).pipe((0,jo.zg)(v=>{const C=new Nn(v,{});return this.expandSegment(e,C,t,v,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,p,v){const{matched:C,consumedSegments:A,lastChild:P,positionalParamSegments:B}=lu(t,s,p);if(!C)return du(t);const G=this.applyRedirectCommands(A,s.redirectTo,B);return s.redirectTo.startsWith("/")?_p(G):this.lineralizeSegments(s,G).pipe((0,jo.zg)(re=>this.expandSegment(e,t,r,re.concat(p.slice(P)),v,!1)))}matchSegmentAgainstRoute(e,t,r,s,p){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,j.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,K.U)(re=>(r._loadedConfig=re,new Nn(s,{})))):(0,j.of)(new Nn(s,{}));const{matched:v,consumedSegments:C,lastChild:A}=lu(t,r,s);if(!v)return du(t);const P=s.slice(A);return this.getChildConfig(e,r,s).pipe((0,jo.zg)(G=>{const re=G.module,ae=G.routes,{segmentGroup:ge,slicedSegments:Te}=I0(t,C,P,ae),Oe=new Nn(ge.segments,ge.children);if(0===Te.length&&Oe.hasChildren())return this.expandChildren(re,ae,Oe).pipe((0,K.U)(kt=>new Nn(C,kt)));if(0===ae.length&&0===Te.length)return(0,j.of)(new Nn(C,{}));const rt=f2(r)===p;return this.expandSegment(re,Oe,ae,Te,rt?En:p,!0).pipe((0,K.U)(Nt=>new Nn(C.concat(Nt.segments),Nt.children)))}))}getChildConfig(e,t,r){return t.children?(0,j.of)(new su(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,j.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,jo.zg)(s=>{return s?this.configLoader.load(e.injector,t).pipe((0,K.U)(p=>(t._loadedConfig=p,p))):(n=t,new ri.y(e=>e.error(X6(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,j.of)(new su([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;if(!s||0===s.length)return(0,j.of)(!0);const p=s.map(v=>{const C=e.get(v);let A;if((n=C)&&X2(n.canLoad))A=C.canLoad(t,r);else{if(!X2(C))throw new Error("Invalid CanLoad guard");A=C(t,r)}var n;return u2(A)});return(0,j.of)(p).pipe(Jl(),(0,eo.b)(v=>{if(!cl(v))return;const C=X6(`Redirecting to "${this.urlSerializer.serialize(v)}"`);throw C.url=v,C}),(0,K.U)(v=>!0===v))}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,j.of)(r);if(s.numberOfChildren>1||!s.children[En])return nv(e.redirectTo);s=s.children[En]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const p=this.createSegmentGroup(e,t.root,r,s);return new e3(p,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return go(e,(s,p)=>{if("string"==typeof s&&s.startsWith(":")){const C=s.substring(1);r[p]=t[C]}else r[p]=s}),r}createSegmentGroup(e,t,r,s){const p=this.createSegments(e,t.segments,r,s);let v={};return go(t.children,(C,A)=>{v[A]=this.createSegmentGroup(e,C,r,s)}),new Nn(p,v)}createSegments(e,t,r,s){return t.map(p=>p.path.startsWith(":")?this.findPosParam(e,p,s):this.findOrReturn(p,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function hu(n){const e={};for(const r of Object.keys(n.children)){const p=hu(n.children[r]);(p.segments.length>0||p.hasChildren())&&(e[r]=p)}return function(n){if(1===n.numberOfChildren&&n.children[En]){const e=n.children[En];return new Nn(n.segments.concat(e.segments),e.children)}return n}(new Nn(n.segments,e))}class k5{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class h3{constructor(e,t){this.component=e,this.route=t}}function ov(n,e,t){const r=n._root;return ul(r,e?e._root:null,t,[r.value])}function M5(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function ul(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const p=x0(e);return n.children.forEach(v=>{(function(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const p=n.value,v=e?e.value:null,C=t?t.getContext(n.value.outlet):null;if(v&&p.routeConfig===v.routeConfig){const A=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!T1(n.url,e.url);case"pathParamsOrQueryParamsChange":return!T1(n.url,e.url)||!ma(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vo(n,e)||!ma(n.queryParams,e.queryParams);default:return!vo(n,e)}}(v,p,p.routeConfig.runGuardsAndResolvers);A?s.canActivateChecks.push(new k5(r)):(p.data=v.data,p._resolvedData=v._resolvedData),ul(n,e,p.component?C?C.children:null:t,r,s),A&&C&&C.outlet&&C.outlet.isActivated&&s.canDeactivateChecks.push(new h3(C.outlet.component,v))}else v&&f3(e,C,s),s.canActivateChecks.push(new k5(r)),ul(n,null,p.component?C?C.children:null:t,r,s)})(v,p[v.value.outlet],t,r.concat([v.value]),s),delete p[v.value.outlet]}),go(p,(v,C)=>f3(v,t.getContext(C),s)),s}function f3(n,e,t){const r=x0(n),s=n.value;go(r,(p,v)=>{f3(p,s.component?e?e.children.getContext(v):null:e,t)}),t.canDeactivateChecks.push(new h3(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class cv{}function x5(n){return new ri.y(e=>e.error(n))}class wp{constructor(e,t,r,s,p,v){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=v}recognize(){const e=I0(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,En);if(null===t)return null;const r=new A0([],Object.freeze({}),Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,{},En,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new Q2(r,t),p=new m5(this.url,s);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(e){const t=e.value,r=o3(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const p of Object.keys(t.children)){const v=t.children[p],C=Xg(e,p),A=this.processSegmentGroup(C,v,p);if(null===A)return null;r.push(...A)}const s=Cp(r);return s.sort((e,t)=>e.value.outlet===En?-1:t.value.outlet===En?1:e.value.outlet.localeCompare(t.value.outlet)),s}processSegment(e,t,r,s){for(const p of e){const v=this.processSegmentAgainstRoute(p,t,r,s);if(null!==v)return v}return w5(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!gp(e,t,r,s))return null;let p,v=[],C=[];if("**"===e.path){const ae=r.length>0?Jh(r).parameters:{};p=new A0(r,ae,Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,xf(e),f2(e),e.component,e,Ef(t),z0(t)+r.length,kp(e))}else{const ae=lu(t,e,r);if(!ae.matched)return null;v=ae.consumedSegments,C=r.slice(ae.lastChild),p=new A0(v,ae.parameters,Object.freeze(lt({},this.urlTree.queryParams)),this.urlTree.fragment,xf(e),f2(e),e.component,e,Ef(t),z0(t)+v.length,kp(e))}const A=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:P,slicedSegments:B}=I0(t,v,C,A.filter(ae=>void 0===ae.redirectTo),this.relativeLinkResolution);var n;if(0===B.length&&P.hasChildren()){const ae=this.processChildren(A,P);return null===ae?null:[new Q2(p,ae)]}if(0===A.length&&0===B.length)return[new Q2(p,[])];const G=f2(e)===s,re=this.processSegment(A,P,B,G?En:s);return null===re?null:[new Q2(p,re)]}}function pu(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Cp(n){const e=[],t=new Set;for(const r of n){if(!pu(r)){e.push(r);continue}const s=e.find(p=>r.value.routeConfig===p.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=Cp(r.children);e.push(new Q2(r.value,s))}return e.filter(r=>!t.has(r))}function Ef(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function z0(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function xf(n){return n.data||{}}function kp(n){return n.resolve||{}}function I5(n){return Qe(e=>{const t=n(e);return t?(0,be.D)(t).pipe((0,K.U)(()=>e)):(0,j.of)(e)})}class Df extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const mu=new f.OlP("ROUTES");class D5{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,K.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(t);const v=p.create(e);return new su(J4(v.injector.get(mu,void 0,f.XFs.Self|f.XFs.Optional)).map(b5),v)}),K2(p=>{throw t._loader$=void 0,p}));return t._loader$=new F9.c(s,()=>new Ct.xQ).pipe((0,G6.x)()),t._loader$}loadModuleFactory(e){return u2(e()).pipe((0,jo.zg)(t=>t instanceof f.YKP?(0,j.of)(t):(0,be.D)(this.compiler.compileModuleAsync(t))))}}class uv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dv(n){throw n}function hv(n,e,t){return e.parse("/")}function z5(n,e){return(0,j.of)(null)}const fv={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},to={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dr=(()=>{class n{constructor(t,r,s,p,v,C,A){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=p,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ct.xQ,this.errorHandler=dv,this.malformedUriErrorHandler=hv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:z5,afterPreactivation:z5},this.urlHandlingStrategy=new uv,this.routeReuseStrategy=new Df,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=v.get(f.h0i),this.console=v.get(f.c2e);const G=v.get(f.R0b);this.isNgZoneEnabled=G instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new e3(new Nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new D5(v,C,re=>this.triggerEvent(new Yl(re)),re=>this.triggerEvent(new K6(re))),this.routerState=Ql(this.currentUrlTree,this.rootComponentType),this.transitions=new S1({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(pr(s=>0!==s.id),(0,K.U)(s=>_s(lt({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Qe(s=>{let p=!1,v=!1;return(0,j.of)(s).pipe((0,eo.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?_s(lt({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Qe(C=>{const A=this.browserUrlTree.toString(),P=!this.navigated||C.extractedUrl.toString()!==A||A!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||P)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return gu(C.source)&&(this.browserUrlTree=C.extractedUrl),(0,j.of)(C).pipe(Qe(G=>{const re=this.transitions.getValue();return r.next(new Y6(G.id,this.serializeUrl(G.extractedUrl),G.source,G.restoredState)),re!==this.transitions.getValue()?G2.E:Promise.resolve(G)}),function(n,e,t,r){return Qe(s=>function(n,e,t,r,s){return new rv(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,K.U)(p=>_s(lt({},s),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,eo.b)(G=>{this.currentNavigation=_s(lt({},this.currentNavigation),{finalUrl:G.urlAfterRedirects})}),function(n,e,t,r,s){return(0,jo.zg)(p=>function(n,e,t,r,s="emptyOnly",p="legacy"){try{const v=new wp(n,e,t,r,s,p).recognize();return null===v?x5(new cv):(0,j.of)(v)}catch(v){return x5(v)}}(n,e,p.urlAfterRedirects,t(p.urlAfterRedirects),r,s).pipe((0,K.U)(v=>_s(lt({},p),{targetSnapshot:v}))))}(this.rootComponentType,this.config,G=>this.serializeUrl(G),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,eo.b)(G=>{if("eager"===this.urlUpdateStrategy){if(!G.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(G.urlAfterRedirects,G.rawUrl);this.setBrowserUrl(ae,G)}this.browserUrlTree=G.urlAfterRedirects}const re=new Ug(G.id,this.serializeUrl(G.extractedUrl),this.serializeUrl(G.urlAfterRedirects),G.targetSnapshot);r.next(re)}));if(P&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:re,extractedUrl:ae,source:ge,restoredState:Te,extras:Oe}=C,rt=new Y6(re,this.serializeUrl(ae),ge,Te);r.next(rt);const St=Ql(ae,this.rootComponentType).snapshot;return(0,j.of)(_s(lt({},C),{targetSnapshot:St,urlAfterRedirects:ae,extras:_s(lt({},Oe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,C.resolve(null),G2.E}),I5(C=>{const{targetSnapshot:A,id:P,extractedUrl:B,rawUrl:G,extras:{skipLocationChange:re,replaceUrl:ae}}=C;return this.hooks.beforePreactivation(A,{navigationId:P,appliedUrlTree:B,rawUrlTree:G,skipLocationChange:!!re,replaceUrl:!!ae})}),(0,eo.b)(C=>{const A=new u5(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(A)}),(0,K.U)(C=>_s(lt({},C),{guards:ov(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function(n,e){return(0,jo.zg)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:p,canDeactivateChecks:v}}=t;return 0===v.length&&0===p.length?(0,j.of)(_s(lt({},t),{guardsResult:!0})):function(n,e,t,r){return(0,be.D)(n).pipe((0,jo.zg)(s=>function(n,e,t,r,s){const p=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!p||0===p.length)return(0,j.of)(!0);const v=p.map(C=>{const A=M5(C,e,s);let P;if(function(n){return n&&X2(n.canDeactivate)}(A))P=u2(A.canDeactivate(n,e,t,r));else{if(!X2(A))throw new Error("Invalid CanDeactivate guard");P=u2(A(n,e,t,r))}return P.pipe(n1())});return(0,j.of)(v).pipe(Jl())}(s.component,s.route,t,e,r)),n1(s=>!0!==s,!0))}(v,r,s,n).pipe((0,jo.zg)(C=>C&&function(n){return"boolean"==typeof n}(C)?function(n,e,t,r){return(0,be.D)(e).pipe(Q4(s=>k0(function(n,e){return null!==n&&e&&e(new $9(n)),(0,j.of)(!0)}(s.route.parent,r),function(n,e){return null!==n&&e&&e(new Kl(n)),(0,j.of)(!0)}(s.route,r),function(n,e,t){const r=e[e.length-1],p=e.slice(0,e.length-1).reverse().map(v=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(v)).filter(v=>null!==v).map(v=>$6(()=>{const C=v.guards.map(A=>{const P=M5(A,v.node,t);let B;if(function(n){return n&&X2(n.canActivateChild)}(P))B=u2(P.canActivateChild(r,n));else{if(!X2(P))throw new Error("Invalid CanActivateChild guard");B=u2(P(r,n))}return B.pipe(n1())});return(0,j.of)(C).pipe(Jl())}));return(0,j.of)(p).pipe(Jl())}(n,s.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,j.of)(!0);const s=r.map(p=>$6(()=>{const v=M5(p,e,t);let C;if(function(n){return n&&X2(n.canActivate)}(v))C=u2(v.canActivate(e,n));else{if(!X2(v))throw new Error("Invalid CanActivate guard");C=u2(v(e,n))}return C.pipe(n1())}));return(0,j.of)(s).pipe(Jl())}(n,s.route,t))),n1(s=>!0!==s,!0))}(r,p,n,e):(0,j.of)(C)),(0,K.U)(C=>_s(lt({},t),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,eo.b)(C=>{if(cl(C.guardsResult)){const P=X6(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw P.url=C.guardsResult,P}const A=new j9(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(A)}),pr(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),I5(C=>{if(C.guards.canActivateChecks.length)return(0,j.of)(C).pipe((0,eo.b)(A=>{const P=new U9(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(P)}),Qe(A=>{let P=!1;return(0,j.of)(A).pipe(function(n,e){return(0,jo.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,j.of)(t);let p=0;return(0,be.D)(s).pipe(Q4(v=>function(n,e,t,r){return function(n,e,t,r){const s=Object.keys(n);if(0===s.length)return(0,j.of)({});const p={};return(0,be.D)(s).pipe((0,jo.zg)(v=>function(n,e,t,r){const s=M5(n,e,r);return u2(s.resolve?s.resolve(e,t):s(e,t))}(n[v],e,t,r).pipe((0,eo.b)(C=>{p[v]=C}))),pa(1),(0,jo.zg)(()=>Object.keys(p).length===s.length?(0,j.of)(p):G2.E))}(n._resolve,n,e,r).pipe((0,K.U)(p=>(n._resolvedData=p,n.data=lt(lt({},n.data),o3(n,t).resolve),null)))}(v.route,r,n,e)),(0,eo.b)(()=>p++),pa(1),(0,jo.zg)(v=>p===s.length?(0,j.of)(t):G2.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,eo.b)({next:()=>P=!0,complete:()=>{P||(this.restoreHistory(A),this.cancelNavigationTransition(A,"At least one route resolver didn't emit any value."))}}))}),(0,eo.b)(A=>{const P=new q9(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(P)}))}),I5(C=>{const{targetSnapshot:A,id:P,extractedUrl:B,rawUrl:G,extras:{skipLocationChange:re,replaceUrl:ae}}=C;return this.hooks.afterPreactivation(A,{navigationId:P,appliedUrlTree:B,rawUrlTree:G,skipLocationChange:!!re,replaceUrl:!!ae})}),(0,K.U)(C=>{const A=function(n,e,t){const r=ls(n,e._root,t?t._root:void 0);return new op(r,e)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return _s(lt({},C),{targetRouterState:A})}),(0,eo.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((n,e,t)=>(0,K.U)(r=>(new Kg(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,eo.b)({next(){p=!0},complete(){p=!0}}),l5(()=>{var C;p||v||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null==(C=this.currentNavigation)?void 0:C.id)===s.id&&(this.currentNavigation=null)}),K2(C=>{if(v=!0,function(n){return n&&n[G9]}(C)){const A=cl(C.url);A||(this.navigated=!0,this.restoreHistory(s,!0));const P=new Yh(s.id,this.serializeUrl(s.extractedUrl),C.message);r.next(P),A?setTimeout(()=>{const B=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),G={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gu(s.source)};this.scheduleNavigation(B,"imperative",null,G,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const A=new B9(s.id,this.serializeUrl(s.extractedUrl),C);r.next(A);try{s.resolve(this.errorHandler(C))}catch(P){s.reject(P)}}return G2.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(lt(lt({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var C;const s={replaceUrl:!0},p=(null==(C=t.state)?void 0:C.navigationId)?t.state:null;if(p){const A=lt({},p);delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(s.state=A)}const v=this.parseUrl(t.url);this.scheduleNavigation(v,r,p,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){pf(t),this.config=t.map(b5),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:p,fragment:v,queryParamsHandling:C,preserveFragment:A}=r,P=s||this.routerState.root,B=A?this.currentUrlTree.fragment:v;let G=null;switch(C){case"merge":G=lt(lt({},this.currentUrlTree.queryParams),p);break;case"preserve":G=this.currentUrlTree.queryParams;break;default:G=p||null}return null!==G&&(G=this.removeEmptyProps(G)),function(n,e,t,r,s){if(0===t.length)return h2(e.root,e.root,e,r,s);const p=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new l3(!0,0,n);let e=0,t=!1;const r=n.reduce((s,p,v)=>{if("object"==typeof p&&null!=p){if(p.outlets){const C={};return go(p.outlets,(A,P)=>{C[P]="string"==typeof A?A.split("/"):A}),[...s,{outlets:C}]}if(p.segmentPath)return[...s,p.segmentPath]}return"string"!=typeof p?[...s,p]:0===v?(p.split("/").forEach((C,A)=>{0==A&&"."===C||(0==A&&""===C?t=!0:".."===C?e++:""!=C&&s.push(C))}),s):[...s,p]},[]);return new l3(t,e,r)}(t);if(p.toRoot())return h2(e.root,new Nn([],{}),e,r,s);const v=function(n,e,t){if(n.isAbsolute)return new al(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const p=t.snapshot._urlSegment;return new al(p,p===e.root,0)}const r=J2(n.commands[0])?0:1;return function(n,e,t){let r=n,s=e,p=t;for(;p>s;){if(p-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new al(r,!1,s-p)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(p,e,n),C=v.processChildren?d3(v.segmentGroup,v.index,p.commands):lf(v.segmentGroup,v.index,p.commands);return h2(v.segmentGroup,C,e,r,s)}(P,this.currentUrlTree,t,G,null!=B?B:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=cl(t)?t:this.parseUrl(t),p=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?lt({},fv):!1===r?lt({},to):r,cl(t))return X4(this.currentUrlTree,t,s);const p=this.parseUrl(t);return X4(this.currentUrlTree,p,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const p=t[s];return null!=p&&(r[s]=p),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new M0(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,p,v){var rt,St,Nt;if(this.disposed)return Promise.resolve(!1);const C=this.transitions.value,A=gu(r)&&C&&!gu(C.source),P=C.rawUrl.toString()===t.toString(),B=C.id===(null==(rt=this.currentNavigation)?void 0:rt.id);if(A&&P&&B)return Promise.resolve(!0);let re,ae,ge;v?(re=v.resolve,ae=v.reject,ge=v.promise):ge=new Promise((kt,Dn)=>{re=kt,ae=Dn});const Te=++this.navigationId;let Oe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),Oe=s&&s.\u0275routerPageId?s.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!=(St=this.browserPageId)?St:0:(null!=(Nt=this.browserPageId)?Nt:0)+1):Oe=0,this.setTransition({id:Te,targetPageId:Oe,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:p,resolve:re,reject:ae,promise:ge,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ge.catch(kt=>Promise.reject(kt))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),p=lt(lt({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",p):this.location.go(s,"",p)}restoreHistory(t,r=!1){var s,p;if("computed"===this.canceledNavigationResolution){const v=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(s=this.currentNavigation)?void 0:s.finalUrl)||0===v?this.currentUrlTree===(null==(p=this.currentNavigation)?void 0:p.finalUrl)&&0===v&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(v)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new Yh(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function gu(n){return"imperative"!==n}let N0=(()=>{class n{constructor(t,r,s,p,v){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=p,this.el=v,this.commands=null,this.onChanges=new Ct.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Xl(this.skipLocationChange),replaceUrl:Xl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Dr),f.Y36(va),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})(),N5=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new Ct.xQ,this.subscription=t.events.subscribe(p=>{p instanceof M0&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,p,v){if(0!==t||r||s||p||v||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const C={skipLocationChange:Xl(this.skipLocationChange),replaceUrl:Xl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Xl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Dr),f.Y36(va),f.Y36(Ce))},n.\u0275dir=f.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(p){return r.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&t&&f.uIk("target",r.target)("href",r.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),n})();function Xl(n){return""===n||!!n}let e4=(()=>{class n{constructor(t,r,s,p,v,C){this.router=t,this.element=r,this.renderer=s,this.cdr=p,this.link=v,this.linkWithHref=C,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=t.events.subscribe(A=>{A instanceof M0&&this.update()})}ngAfterContentInit(){(0,j.of)(this.links.changes,this.linksWithHrefs.changes,(0,j.of)(null)).pipe((0,a5.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null==(r=this.linkInputChangesSubscription)||r.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,be.D)(t).pipe((0,a5.J)()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null==(t=this.linkInputChangesSubscription)||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Dr),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(N0,8),f.Y36(N5,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(f.Suo(s,N0,5),f.Suo(s,N5,5)),2&t){let p;f.iGM(p=f.CRH())&&(r.links=p),f.iGM(p=f.CRH())&&(r.linksWithHrefs=p)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),n})();class L5{}class P5{preload(e,t){return(0,j.of)(null)}}let zf=(()=>{class n{constructor(t,r,s,p){this.router=t,this.injector=s,this.preloadingStrategy=p,this.loader=new D5(s,r,A=>t.triggerEvent(new Yl(A)),A=>t.triggerEvent(new K6(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(pr(t=>t instanceof M0),Q4(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const p of r)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const v=p._loadedConfig;s.push(this.processRoutes(v.module,v.routes))}else p.loadChildren&&!p.canLoad?s.push(this.preloadConfig(t,p)):p.children&&s.push(this.processRoutes(t,p.children));return(0,be.D)(s).pipe((0,a5.J)(),(0,K.U)(p=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,j.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,jo.zg)(p=>(r._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Dr),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(L5))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),vu=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y6?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof M0&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Q6&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Q6(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const dl=new f.OlP("ROUTER_CONFIGURATION"),R5=new f.OlP("ROUTER_FORROOT_GUARD"),p2=[vt,{provide:tf,useClass:tu},{provide:Dr,useFactory:function(n,e,t,r,s,p,v={},C,A){const P=new Dr(null,n,e,t,r,s,J4(p));return C&&(P.urlHandlingStrategy=C),A&&(P.routeReuseStrategy=A),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(v,P),v.enableTracing&&P.events.subscribe(B=>{var G,re;null==(G=console.group)||G.call(console,`Router Event: ${B.constructor.name}`),console.log(B.toString()),console.log(B),null==(re=console.groupEnd)||re.call(console)}),P},deps:[tf,cu,vt,f.zs3,f.Sil,mu,dl,[class{},new f.FiY],[class{},new f.FiY]]},cu,{provide:va,useFactory:function(n){return n.routerState.root},deps:[Dr]},zf,P5,class{preload(e,t){return t().pipe(K2(()=>(0,j.of)(null)))}},{provide:dl,useValue:{enableTracing:!1}}];function O5(){return new f.PXZ("Router",Dr)}let gv=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[p2,Nf(t),{provide:R5,useFactory:g2,deps:[[Dr,new f.FiY,new f.tp0]]},{provide:dl,useValue:r||{}},{provide:Ce,useFactory:m2,deps:[W,[new f.tBr(Ee),new f.FiY],dl]},{provide:vu,useFactory:ec,deps:[Dr,Ec,dl]},{provide:L5,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:P5},{provide:f.PXZ,multi:!0,useFactory:O5},[Lf,{provide:f.ip1,multi:!0,useFactory:_v,deps:[Lf]},{provide:P0,useFactory:Pf,deps:[Lf]},{provide:f.tb,multi:!0,useExisting:P0}]]}}static forChild(t){return{ngModule:n,providers:[Nf(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(R5,8),f.LFG(Dr,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function ec(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new vu(n,e,t)}function m2(n,e,t={}){return t.useHash?new Xe(n,e):new Ge(n,e)}function g2(n){return"guarded"}function Nf(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:mu,multi:!0,useValue:n}]}let Lf=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ct.xQ}appInitializer(){return this.injector.get(ne,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(C=>r=C),p=this.injector.get(Dr),v=this.injector.get(dl);return"disabled"===v.initialNavigation?(p.setUpLocationChangeListener(),r(!0)):"enabled"===v.initialNavigation||"enabledBlocking"===v.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?(0,j.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),p.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(dl),s=this.injector.get(zf),p=this.injector.get(vu),v=this.injector.get(Dr),C=this.injector.get(f.z2F);t===C.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&v.initialNavigation(),s.setUpPreloading(),p.init(),v.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function _v(n){return n.appInitializer.bind(n)}function Pf(n){return n.bootstrapListener.bind(n)}const P0=new f.OlP("Router Initializer");var R0=F(8178);function V5(){return n=>n.lift(new tr)}class tr{call(e,t){return t.subscribe(new tc(e))}}class tc extends rn.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}function _u(n,e){return t=>t.lift(new Ap(n,e))}class Ap{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Rf(e,this.compare,this.keySelector))}}class Rf extends rn.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:s}=this;t=s?s(e):e}catch(s){return this.destination.error(s)}let r=!1;if(this.hasKey)try{const{compare:s}=this;r=s(this.key,t)}catch(s){return this.destination.error(s)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}F(4802);var At,Kn=F(6293),Of="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},v2={},yu=yu||{},sn=Of||self;function p3(){}function O0(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function m3(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var F5="closure_uid_"+(1e9*Math.random()>>>0),Tp=0;function wv(n,e,t){return n.call.apply(n.bind,arguments)}function V0(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function zr(n,e,t){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wv:V0).apply(null,arguments)}function mr(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,p){for(var v=Array(arguments.length-2),C=2;C<arguments.length;C++)v[C-2]=arguments[C];return e.prototype[s].apply(r,v)}}function D1(){this.s=this.s,this.o=this.o}var Ip={};D1.prototype.s=!1,D1.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,F5)&&n[F5]||(n[F5]=++Tp)}(this);delete Ip[n]}},D1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Hf=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Dp=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let p=0;p<r;p++)p in s&&e.call(t,s[p],p,n)};function Bf(n){return Array.prototype.concat.apply([],arguments)}function H5(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function bu(n){return/^[\s\xa0]*$/.test(n)}var qo,jf=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Uo(n,e){return-1!=n.indexOf(e)}function wu(n,e){return n<e?-1:n>e?1:0}e:{var B5=sn.navigator;if(B5){var j5=B5.userAgent;if(j5){qo=j5;break e}}qo=""}function F0(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Cu(n){const e={};for(const t in n)e[t]=n[t];return e}var ku="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U5(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let p=0;p<ku.length;p++)t=ku[p],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function H0(n){return H0[" "](n),n}H0[" "]=p3;var nc,n,t4=Uo(qo,"Opera"),j0=Uo(qo,"Trident")||Uo(qo,"MSIE"),Np=Uo(qo,"Edge"),n4=Np||j0,Cv=Uo(qo,"Gecko")&&!(Uo(qo.toLowerCase(),"webkit")&&!Uo(qo,"Edge"))&&!(Uo(qo,"Trident")||Uo(qo,"MSIE"))&&!Uo(qo,"Edge"),i4=Uo(qo.toLowerCase(),"webkit")&&!Uo(qo,"Edge");function Uf(){var n=sn.document;return n?n.documentMode:void 0}e:{var Mu="",Lp=(n=qo,Cv?/rv:([^\);]+)(\)|;)/.exec(n):Np?/Edge\/([\d\.]+)/.exec(n):j0?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):i4?/WebKit\/(\S+)/.exec(n):t4?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Lp&&(Mu=Lp?Lp[1]:""),j0){var $t=Uf();if(null!=$t&&$t>parseFloat(Mu)){nc=String($t);break e}}nc=Mu}var Pp={};function Rp(){return e=Pp,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=jf(String(nc)).split("."),t=jf("9").split("."),r=Math.max(e.length,t.length);for(let v=0;0==n&&v<r;v++){var s=e[v]||"",p=t[v]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==s[0].length&&0==p[0].length)break;n=wu(0==s[1].length?0:parseInt(s[1],10),0==p[1].length?0:parseInt(p[1],10))||wu(0==s[2].length,0==p[2].length)||wu(s[2],p[2]),s=s[3],p=p[3]}while(0==n)}return 0<=n}();var e}var kv=sn.document&&j0&&(Uf()||parseInt(nc,10))||void 0,q5=function(){if(!sn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{sn.addEventListener("test",p3,e),sn.removeEventListener("test",p3,e)}catch(t){}return n}();function no(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Oi(n,e){if(no.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Cv){e:{try{H0(e.nodeName);var s=!0;break e}catch(p){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:_b[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Oi.Z.h.call(this)}}no.prototype.h=function(){this.defaultPrevented=!0},Qi(Oi,no);var _b={2:"touch",3:"pen",4:"mouse"};Oi.prototype.h=function(){Oi.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var U0="closure_listenable_"+(1e6*Math.random()|0),Op=0;function $f(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++Op,this.ca=this.fa=!1}function xu(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Au(n){this.src=n,this.g={},this.h=0}function $5(n,e){var t=e.type;if(t in n.g){var p,r=n.g[t],s=Hf(r,e);(p=0<=s)&&Array.prototype.splice.call(r,s,1),p&&(xu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function G5(n,e,t,r){for(var s=0;s<n.length;++s){var p=n[s];if(!p.ca&&p.listener==e&&p.capture==!!t&&p.ia==r)return s}return-1}Au.prototype.add=function(n,e,t,r,s){var p=n.toString();(n=this.g[p])||(n=this.g[p]=[],this.h++);var v=G5(n,e,r,s);return-1<v?(e=n[v],t||(e.fa=!1)):((e=new $f(e,this.src,p,!!r,s)).fa=t,n.push(e)),e};var Gf="closure_lm_"+(1e6*Math.random()|0),W5={};function Vp(n,e,t,r,s){if(r&&r.once)return Fp(n,e,t,r,s);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Vp(n,e[p],t,r,s);return null}return t=g3(t),n&&n[U0]?n.N(e,t,m3(r)?!!r.capture:!!r,s):q0(n,e,t,!1,r,s)}function q0(n,e,t,r,s,p){if(!e)throw Error("Invalid event type");var v=m3(s)?!!s.capture:!!s,C=Tu(n);if(C||(n[Gf]=C=new Au(n)),(t=C.add(e,t,r,v,p)).proxy)return t;if(r=function(){var e=Z5;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)q5||(s=v),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Su(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Fp(n,e,t,r,s){if(Array.isArray(e)){for(var p=0;p<e.length;p++)Fp(n,e[p],t,r,s);return null}return t=g3(t),n&&n[U0]?n.O(e,t,m3(r)?!!r.capture:!!r,s):q0(n,e,t,!0,r,s)}function r4(n,e,t,r,s){if(Array.isArray(e))for(var p=0;p<e.length;p++)r4(n,e[p],t,r,s);else r=m3(r)?!!r.capture:!!r,t=g3(t),n&&n[U0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=G5(p=n.g[e],t,r,s))&&(xu(p[t]),Array.prototype.splice.call(p,t,1),0==p.length&&(delete n.g[e],n.h--))):n&&(n=Tu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=G5(e,t,r,s)),(t=-1<n?e[n]:null)&&$0(t))}function $0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[U0])$5(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Su(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Tu(e))?($5(t,n),0==t.h&&(t.src=null,e[Gf]=null)):xu(n)}}}function Su(n){return n in W5?W5[n]:W5[n]="on"+n}function Z5(n,e){if(n.ca)n=!0;else{e=new Oi(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&$0(n),n=t.call(r,e)}return n}function Tu(n){return(n=n[Gf])instanceof Au?n:null}var Wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function g3(n){return"function"==typeof n?n:(n[Wf]||(n[Wf]=function(e){return n.handleEvent(e)}),n[Wf])}function gr(){D1.call(this),this.i=new Au(this),this.P=this,this.I=null}function _o(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new no(e,n);else if(e instanceof no)e.target=e.target||n;else{var s=e;U5(e=new no(r,n),s)}if(s=!0,t)for(var p=t.length-1;0<=p;p--){var v=e.g=t[p];s=Y5(v,r,!0,e)&&s}if(s=Y5(v=e.g=n,r,!0,e)&&s,s=Y5(v,r,!1,e)&&s,t)for(p=0;p<t.length;p++)s=Y5(v=e.g=t[p],r,!1,e)&&s}function Y5(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,p=0;p<e.length;++p){var v=e[p];if(v&&!v.ca&&v.capture==t){var C=v.listener,A=v.ia||v.src;v.fa&&$5(n.i,v),s=!1!==C.call(A,r)&&s}}return s&&!r.defaultPrevented}Qi(gr,D1),gr.prototype[U0]=!0,gr.prototype.removeEventListener=function(n,e,t,r){r4(this,n,e,t,r)},gr.prototype.M=function(){if(gr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)xu(t[r]);delete n.g[e],n.h--}}this.I=null},gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Zf=sn.JSON.stringify;function Yf(){var n=h;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Kf,G0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ev,n=>n.reset());class Ev{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Q5(n){sn.setTimeout(()=>{throw n},0)}function J5(n,e){Kf||function(){var n=sn.Promise.resolve(void 0);Kf=function(){n.then(i)}}(),X5||(Kf(),X5=!0),h.add(n,e)}var X5=!1,h=new class{constructor(){this.h=this.g=null}add(e,t){const r=G0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function i(){for(var n;n=Yf();){try{n.h.call(n.g)}catch(t){Q5(t)}var e=G0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}X5=!1}function o(n,e){gr.call(this),this.h=n||1,this.g=e||sn,this.j=zr(this.kb,this),this.l=Date.now()}function l(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function d(n,e,t){if("function"==typeof n)t&&(n=zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:sn.setTimeout(n,e||0)}function g(n){n.g=d(()=>{n.g=null,n.i&&(n.i=!1,g(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qi(o,gr),(At=o.prototype).da=!1,At.S=null,At.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),_o(this,"tick"),this.da&&(l(this),this.start()))}},At.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},At.M=function(){o.Z.M.call(this),l(this),delete this.g};class y extends D1{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g(this)}M(){super.M(),this.g&&(sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function b(n){D1.call(this),this.h=n,this.g={}}Qi(b,D1);var M=[];function S(n,e,t,r){Array.isArray(t)||(t&&(M[0]=t.toString()),t=M);for(var s=0;s<t.length;s++){var p=Vp(e,t[s],r||n.handleEvent,!1,n.h||n);if(!p)break;n.g[p.key]=p}}function I(n){F0(n.g,function(e,t){this.g.hasOwnProperty(t)&&$0(e)},n),n.g={}}function z(){this.g=!0}function J(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var p=s[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var v=1;v<s.length;v++)s[v]=""}}}return Zf(t)}catch(C){return e}}(n,t)+(r?" "+r:"")})}b.prototype.M=function(){b.Z.M.call(this),I(this)},b.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},z.prototype.Aa=function(){this.g=!1},z.prototype.info=function(){};var ue={},xe=null;function je(){return xe=xe||new gr}function ut(n){no.call(this,ue.Ma,n)}function zt(n){const e=je();_o(e,new ut(e,n))}function _i(n,e){no.call(this,ue.STAT_EVENT,n),this.stat=e}function Kt(n){const e=je();_o(e,new _i(e,n))}function io(n,e){no.call(this,ue.Na,n),this.size=e}function ro(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return sn.setTimeout(function(){n()},e)}ue.Ma="serverreachability",Qi(ut,no),ue.STAT_EVENT="statevent",Qi(_i,no),ue.Na="timingevent",Qi(io,no);var oo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},s1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function z1(){}function v3(){}z1.prototype.h=null;var xv,o4={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ed(){no.call(this,"d")}function Iu(){no.call(this,"c")}function Hp(){}function Qf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new b(this),this.P=Tk,this.W=new o(n=n4?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bb}function bb(){this.i=null,this.g="",this.h=!1}Qi(ed,no),Qi(Iu,no),Qi(Hp,z1),Hp.prototype.g=function(){return new XMLHttpRequest},Hp.prototype.i=function(){return{}},xv=new Hp;var Tk=45e3,Av={},Bp={};function Sv(n,e,t){n.K=1,n.v=Nv(s4(e)),n.s=t,n.U=!0,Tv(n,null)}function Tv(n,e){n.F=Date.now(),td(n),n.A=s4(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Tb(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bb,n.g=Ob(n.l,t?e:null,!n.s),0<n.O&&(n.L=new y(zr(n.Ia,n,n.g),n.O)),S(n.V,n.g,"readystatechange",n.gb),e=n.H?Cu(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zt(1),function(n,e,t,r,s,p){n.info(function(){if(n.g)if(p)for(var v="",C=p.split("&"),A=0;A<C.length;A++){var P=C[A].split("=");if(1<P.length){var B=P[0];P=P[1];var G=B.split("_");v=2<=G.length&&"type"==G[1]?v+(B+"=")+P+"&":v+(B+"=redacted&")}}else v=null;else v=p;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+v})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Iv(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wb(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=Ik(n,t),s==Bp){4==e&&(n.o=4,Kt(14),r=!1),J(n.j,n.m,null,"[Incomplete Response]");break}if(s==Av){n.o=4,Kt(15),J(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}J(n.j,n.m,s,null),Xf(n,s)}Iv(n)&&s!=Bp&&s!=Av&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Kt(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Qp(e),e.L=!0,Kt(11))):(J(n.j,n.m,t,"[Invalid Chunked Response]"),_3(n),Jf(n))}function Ik(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Bp:(t=Number(e.substring(t,r)),isNaN(t)?Av:(r+=1)+t>e.length?Bp:(e=e.substr(r,t),n.C=r+t,e))}function td(n){n.Y=Date.now()+n.P,Cb(n,n.P)}function Cb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ro(zr(n.eb,n),e)}function jp(n){n.B&&(sn.clearTimeout(n.B),n.B=null)}function Jf(n){0==n.l.G||n.I||Rb(n.l,n)}function _3(n){jp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,l(n.W),I(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Xf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Nu(t.i,n)))if(t.I=n.N,!n.J&&Nu(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(P){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=ro(zr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Jp(t),Zp(t)}Kp(t),Kt(18)}if(1>=r7(t.i)&&t.ka){try{t.ka()}catch(P){}t.ka=void 0}}else Lu(t,11)}else if((n.J||t.g==n)&&Jp(t),!bu(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let P=s[e];if(t.U=P[0],P=P[1],2==t.G)if("c"==P[0]){t.J=P[1],t.la=P[2];const B=P[3];null!=B&&(t.ma=B,t.h.info("VER="+t.ma));const G=P[4];null!=G&&(t.za=G,t.h.info("SVER="+t.za));const re=P[5];null!=re&&"number"==typeof re&&0<re&&(t.K=r=1.5*re,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const ae=n.g;if(ae){const ge=ae.g?ae.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var p=r.i;!p.g&&(Uo(ge,"spdy")||Uo(ge,"quic")||Uo(ge,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(Vv(p,p.h),p.h=null))}if(r.D){const Te=ae.g?ae.g.getResponseHeader("X-HTTP-Session-Id"):null;Te&&(r.sa=Te,Ai(r.F,r.D,Te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=n;if((r=t).oa=hl(r,r.H?r.la:null,r.W),v.J){Fv(r.i,v);var C=v,A=r.K;A&&C.setTimeout(A),C.B&&(jp(C),td(C)),r.g=v}else Lb(r);0<t.l.length&&a7(t)}else"stop"!=P[0]&&"close"!=P[0]||Lu(t,7);else 3==t.G&&("stop"==P[0]||"close"==P[0]?"stop"==P[0]?Lu(t,7):Zv(t):"noop"!=P[0]&&t.j&&t.j.wa(P),t.A=0)}zt(4)}catch(P){}}function e7(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(O0(n)||"string"==typeof n)Dp(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(O0(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(O0(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var p=0;p<s;p++)e.call(void 0,r[p],t&&t[p],n)}}function nd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof nd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Dv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];y3(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)y3(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function y3(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(At=Qf.prototype).setTimeout=function(n){this.P=n},At.gb=function(n){n=n.target;const e=this.L;e&&3==u4(n)?e.l():this.Ia(n)},At.Ia=function(n){try{if(n==this.g)e:{const B=u4(this.g);var e=this.g.Da();const G=this.g.ba();if(!(3>B)&&(3!=B||n4||this.g&&(this.h.h||this.g.ga()||Db(this.g)))){this.I||4!=B||7==e||zt(8==e||0>=G?3:2),jp(this);var t=this.g.ba();this.N=t;t:if(Iv(this)){var r=Db(this.g);n="";var s=r.length,p=4==u4(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){_3(this),Jf(this);var v="";break t}this.h.i=new sn.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:p&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function(n,e,t,r,s,p,v){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+p+" "+v})}(this.j,this.u,this.A,this.m,this.X,B,t),this.i){if(this.$&&!this.J){t:{if(this.g){var C,A=this.g;if((C=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bu(C)){var P=C;break t}}P=null}if(!(t=P)){this.i=!1,this.o=3,Kt(12),_3(this),Jf(this);break e}J(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xf(this,t)}this.U?(wb(this,B,v),n4&&this.i&&3==B&&(S(this.V,this.W,"tick",this.fb),this.W.start())):(J(this.j,this.m,v,null),Xf(this,v)),4==B&&_3(this),this.i&&!this.I&&(4==B?Rb(this.l,this):(this.i=!1,td(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Kt(12)):(this.o=0,Kt(13)),_3(this),Jf(this)}}}catch(B){}},At.fb=function(){if(this.g){var n=u4(this.g),e=this.g.ga();this.C<e.length&&(jp(this),wb(this,n,e),this.i&&4!=n&&td(this))}},At.cancel=function(){this.I=!0,_3(this)},At.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zt(3),Kt(17)),_3(this),this.o=2,Jf(this)):Cb(this,this.Y-n)},(At=nd.prototype).R=function(){Dv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},At.T=function(){return Dv(this),this.g.concat()},At.get=function(n,e){return y3(this.h,n)?this.h[n]:e},At.set=function(n,e){y3(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},At.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],p=this.get(s);n.call(e,p,s,this)}};var Mb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Du(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Du){this.g=void 0!==e?e:n.g,t7(this,n.j),this.s=n.s,n7(this,n.i),zv(this,n.m),this.l=n.l,e=n.h;var t=new W0;t.i=e.i,e.g&&(t.g=new nd(e.g),t.h=e.h),xb(this,t),this.o=n.o}else n&&(t=String(n).match(Mb))?(this.g=!!e,t7(this,t[1]||"",!0),this.s=i7(t[2]||""),n7(this,t[3]||"",!0),zv(this,t[4]),this.l=i7(t[5]||"",!0),xb(this,t[6]||"",!0),this.o=i7(t[7]||"")):(this.g=!!e,this.h=new W0(null,this.g))}function s4(n){return new Du(n)}function t7(n,e,t){n.j=t?i7(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function n7(n,e,t){n.i=t?i7(e,!0):e}function zv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function xb(n,e,t){e instanceof W0?(n.h=e,function(n,e){e&&!n.j&&(Z0(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(Sb(this,r),Tb(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=a4(e,Ab)),n.h=new W0(e,n.g))}function Ai(n,e,t){n.h.set(e,t)}function Nv(n){return Ai(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function i7(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function a4(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Dk),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Dk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Du.prototype.toString=function(){var n=[],e=this.j;e&&n.push(a4(e,zk,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(a4(e,zk,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(a4(t,"/"==t.charAt(0)?c4:Nk,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",a4(t,DA)),n.join("")};var zk=/[#\/\?@]/g,Nk=/[#\?:]/g,c4=/[#\?]/g,Ab=/[#\?@]/g,DA=/#/g;function W0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Z0(n){n.g||(n.g=new nd,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var p=n[t].substring(0,r);s=n[t].substring(r+1)}else p=n[t];e(p,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Sb(n,e){Z0(n),e=id(n,e),y3(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,y3((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Dv(n)))}function Lk(n,e){return Z0(n),e=id(n,e),y3(n.g.h,e)}function Tb(n,e,t){Sb(n,e),0<t.length&&(n.i=null,n.g.set(id(n,e),H5(t)),n.h+=t.length)}function id(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Rv(n){this.l=n||Ov,n=sn.PerformanceNavigationTiming?0<(n=sn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(sn.g&&sn.g.Ea&&sn.g.Ea()&&sn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(At=W0.prototype).add=function(n,e){Z0(this),this.i=null,n=id(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},At.forEach=function(n,e){Z0(this),this.g.forEach(function(t,r){Dp(t,function(s){n.call(e,s,r,this)},this)},this)},At.T=function(){Z0(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],p=0;p<s.length;p++)t.push(e[r]);return t},At.R=function(n){Z0(this);var e=[];if("string"==typeof n)Lk(this,n)&&(e=Bf(e,this.g.get(id(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Bf(e,n[t])}return e},At.set=function(n,e){return Z0(this),this.i=null,Lk(this,n=id(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},At.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},At.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var p=0;p<r.length;p++){var v=s;""!==r[p]&&(v+="="+encodeURIComponent(String(r[p]))),n.push(v)}}return this.i=n.join("&")};var Ov=10;function zu(n){return!!n.h||!!n.g&&n.g.size>=n.j}function r7(n){return n.h?1:n.g?n.g.size:0}function Nu(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vv(n,e){n.g?n.g.add(e):n.h=e}function Fv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Hv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return H5(n.i)}function Bv(){}function Rk(){this.g=new Bv}function Ok(n,e,t){const r=t||"";try{e7(n,function(s,p){let v=s;m3(s)&&(v=Zf(s)),e.push(r+p+"="+encodeURIComponent(v))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function qp(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(p){}}function $p(n){this.l=n.$b||null,this.j=n.ib||!1}function Gp(n,e){gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Uv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rv.prototype.cancel=function(){if(this.i=Hv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bv.prototype.stringify=function(n){return sn.JSON.stringify(n,void 0)},Bv.prototype.parse=function(n){return sn.JSON.parse(n,void 0)},Qi($p,z1),$p.prototype.g=function(){return new Gp(this.l,this.j)},$p.prototype.i=function(n){return function(){return n}}({}),Qi(Gp,gr);var Uv=0;function Y0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function rd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,l4(n)}function l4(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(At=Gp.prototype).open=function(n,e){if(this.readyState!=Uv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,l4(this)},At.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||sn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},At.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rd(this)),this.readyState=Uv},At.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,l4(this)),this.g&&(this.readyState=3,l4(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==sn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Y0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},At.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?rd(this):l4(this),3==this.readyState&&Y0(this)}},At.Ua=function(n){this.g&&(this.response=this.responseText=n,rd(this))},At.Ta=function(n){this.g&&(this.response=n,rd(this))},At.ha=function(){this.g&&rd(this)},At.setRequestHeader=function(n,e){this.v.append(n,e)},At.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},At.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Gp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var zA=sn.JSON.parse;function so(n){gr.call(this),this.headers=new nd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ib,this.K=this.L=!1}Qi(so,gr);var Ib="",NA=/^https?$/i,qv=["POST","PUT"];function PA(n){return"content-type"==n.toLowerCase()}function Vk(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$v(n),o7(n)}function $v(n){n.D||(n.D=!0,_o(n,"complete"),_o(n,"error"))}function Wp(n){if(n.h&&void 0!==yu&&(!n.C[1]||4!=u4(n)||2!=n.ba()))if(n.v&&4==u4(n))d(n.Fa,0,n);else if(_o(n,"readystatechange"),4==u4(n)){n.h=!1;try{const C=n.ba();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===C){var s=String(n.H).match(Mb)[1]||null;if(!s&&sn.self&&sn.self.location){var p=sn.self.location.protocol;s=p.substr(0,p.length-1)}r=!NA.test(s?s.toLowerCase():"")}t=r}if(t)_o(n,"complete"),_o(n,"success");else{n.m=6;try{var v=2<u4(n)?n.g.statusText:""}catch(A){v=""}n.j=v+" ["+n.ba()+"]",$v(n)}}finally{o7(n)}}}function o7(n,e){if(n.g){Gv(n);const t=n.g,r=n.C[0]?p3:null;n.g=null,n.C=null,e||_o(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function Gv(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(sn.clearTimeout(n.A),n.A=null)}function u4(n){return n.g?n.g.readyState:0}function Db(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ib:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wv(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return F0(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ai(n,e,t))}function s7(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zb(n){this.za=0,this.l=[],this.h=new z,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=s7("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=s7("baseRetryDelayMs",5e3,n),this.$a=s7("retryDelaySeedMs",1e4,n),this.Ya=s7("forwardChannelMaxRetries",2,n),this.ra=s7("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Rv(n&&n.concurrentRequestLimit),this.Ca=new Rk,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Zv(n){if(od(n),3==n.G){var e=n.V++,t=s4(n.F);Ai(t,"SID",n.J),Ai(t,"RID",e),Ai(t,"TYPE","terminate"),sd(n,t),(e=new Qf(n,n.h,e,void 0)).K=2,e.v=Nv(s4(t)),t=!1,sn.navigator&&sn.navigator.sendBeacon&&(t=sn.navigator.sendBeacon(e.v.toString(),"")),!t&&sn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ob(e.l,null),e.g.ea(e.v)),e.F=Date.now(),td(e)}Xp(n)}function Zp(n){n.g&&(Qp(n),n.g.cancel(),n.g=null)}function od(n){Zp(n),n.u&&(sn.clearTimeout(n.u),n.u=null),Jp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&sn.clearTimeout(n.m),n.m=null)}function Yp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&a7(n)}function a7(n){zu(n.i)||n.m||(n.m=!0,J5(n.Ha,n),n.C=0)}function Yv(n,e){var t;t=e?e.m:n.V++;const r=s4(n.F);Ai(r,"SID",n.J),Ai(r,"RID",t),Ai(r,"AID",n.U),sd(n,r),n.o&&n.s&&Wv(r,n.o,n.s),t=new Qf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Kv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Vv(n.i,t),Sv(t,r,e)}function sd(n,e){n.j&&e7({},function(t,r){Ai(e,r,t)})}function Kv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?zr(n.j.Oa,n.j,n):null;e:{var s=n.l;let p=-1;for(;;){const v=["count="+t];-1==p?0<t?(p=s[0].h,v.push("ofs="+p)):p=0:v.push("ofs="+p);let C=!0;for(let A=0;A<t;A++){let P=s[A].h;const B=s[A].g;if(P-=p,0>P)p=Math.max(0,s[A].h-100),C=!1;else try{Ok(B,v,"req"+P+"_")}catch(G){r&&r(B)}}if(C){r=v.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Lb(n){n.g||n.u||(n.Y=1,J5(n.Ga,n),n.A=0)}function Kp(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ro(zr(n.Ga,n),ad(n,n.A)),n.A++,0))}function Qp(n){null!=n.B&&(sn.clearTimeout(n.B),n.B=null)}function Pb(n){n.g=new Qf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=s4(n.oa);Ai(e,"RID","rpc"),Ai(e,"SID",n.J),Ai(e,"CI",n.N?"0":"1"),Ai(e,"AID",n.U),sd(n,e),Ai(e,"TYPE","xmlhttp"),n.o&&n.s&&Wv(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Nv(s4(e)),t.s=null,t.U=!0,Tv(t,n)}function Jp(n){null!=n.v&&(sn.clearTimeout(n.v),n.v=null)}function Rb(n,e){var t=null;if(n.g==e){Jp(n),Qp(n),n.g=null;var r=2}else{if(!Nu(n.i,e))return;t=e.D,Fv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;_o(r=je(),new io(r,t,e,s)),a7(n)}else Lb(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function(n,e){return!(r7(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ro(zr(n.Ha,n,e),ad(n,n.C)),n.C++,0)))}(n,e)||2==r&&Kp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:Lu(n,5);break;case 4:Lu(n,10);break;case 3:Lu(n,6);break;default:Lu(n,2)}}function ad(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Lu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=zr(n.jb,n);t||(t=new Du("//www.google.com/images/cleardot.gif"),sn.location&&"http"==sn.location.protocol||t7(t,"https"),Nv(t)),function(n,e){const t=new z;if(sn.Image){const r=new Image;r.onload=mr(qp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mr(qp,t,r,"TestLoadImage: error",!1,e),r.onabort=mr(qp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mr(qp,t,r,"TestLoadImage: timeout",!1,e),sn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Kt(2);n.G=0,n.j&&n.j.va(e),Xp(n),od(n)}function Xp(n){n.G=0,n.I=-1,n.j&&((0!=Hv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,H5(n.l),n.l.length=0),n.j.ua())}function hl(n,e,t){let r=function(n){return n instanceof Du?s4(n):new Du(n,void 0)}(t);if(""!=r.i)e&&n7(r,e+"."+r.i),zv(r,r.m);else{const s=sn.location;r=function(n,e,t,r){var s=new Du(null,void 0);return n&&t7(s,n),e&&n7(s,e),t&&zv(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&F0(n.aa,function(s,p){Ai(r,p,s)}),t=n.sa,(e=n.D)&&t&&Ai(r,e,t),Ai(r,"VER",n.ma),sd(n,r),r}function Ob(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new so(t&&n.Ba&&!n.qa?new $p({ib:!0}):n.qa)).L=n.H,e}function cd(){}function em(){if(j0&&!(10<=Number(kv)))throw Error("Environmental error: no available transport.")}function ic(n,e){gr.call(this),this.g=new zb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!bu(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bu(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ud(this)}function Vb(n){ed.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ld(){Iu.call(this),this.status=1}function ud(n){this.g=n}(At=so.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:xv),this.g.onreadystatechange=zr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(p){return void Vk(this,p)}n=t||"";const s=new nd(this.headers);r&&e7(r,function(p,v){s.set(v,p)}),r=function(n){e:{var e=PA;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=sn.FormData&&n instanceof sn.FormData,!(0<=Hf(qv,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(p,v){this.g.setRequestHeader(v,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Gv(this),0<this.B&&((this.K=function(n){return j0&&Rp()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.pa,this)):this.A=d(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(p){Vk(this,p)}},At.pa=function(){void 0!==yu&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_o(this,"timeout"),this.abort(8))},At.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_o(this,"complete"),_o(this,"abort"),o7(this))},At.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),o7(this,!0)),so.Z.M.call(this)},At.Fa=function(){this.s||(this.F||this.v||this.l?Wp(this):this.cb())},At.cb=function(){Wp(this)},At.ba=function(){try{return 2<u4(this)?this.g.status:-1}catch(n){return-1}},At.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},At.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),zA(e)}},At.Da=function(){return this.m},At.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(At=zb.prototype).ma=8,At.G=1,At.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},At.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new Qf(this,this.h,n,void 0);let p=this.s;if(this.P&&(p?(p=Cu(p),U5(p,this.P)):p=this.P),null===this.o&&(s.H=p),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Kv(this,s,e),Ai(t=s4(this.F),"RID",n),Ai(t,"CVER",22),this.D&&Ai(t,"X-HTTP-Session-Id",this.D),sd(this,t),this.o&&p&&Wv(t,this.o,p),Vv(this.i,s),this.Ra&&Ai(t,"TYPE","init"),this.ja?(Ai(t,"$req",e),Ai(t,"SID","null"),s.$=!0,Sv(s,t,null)):Sv(s,t,e),this.G=2}}else 3==this.G&&(n?Yv(this,n):0==this.l.length||zu(this.i)||Yv(this))},At.Ga=function(){if(this.u=null,Pb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ro(zr(this.bb,this),n)}},At.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Kt(10),Zp(this),Pb(this))},At.ab=function(){null!=this.v&&(this.v=null,Zp(this),Kp(this),Kt(19))},At.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Kt(2)):(this.h.info("Failed to ping google.com"),Kt(1))},(At=cd.prototype).xa=function(){},At.wa=function(){},At.va=function(){},At.ua=function(){},At.Oa=function(){},em.prototype.g=function(n,e){return new ic(n,e)},Qi(ic,gr),ic.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),J5(zr(n.hb,n,e))),Kt(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=hl(n,null,n.W),a7(n)},ic.prototype.close=function(){Zv(this.g)},ic.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Yp(this.g,e)}else this.v?((e={}).__data__=Zf(n),Yp(this.g,e)):Yp(this.g,n)},ic.prototype.M=function(){this.g.j=null,delete this.j,Zv(this.g),delete this.g,ic.Z.M.call(this)},Qi(Vb,ed),Qi(ld,Iu),Qi(ud,cd),ud.prototype.xa=function(){_o(this.g,"a")},ud.prototype.wa=function(n){_o(this.g,new Vb(n))},ud.prototype.va=function(n){_o(this.g,new ld(n))},ud.prototype.ua=function(){_o(this.g,"b")},em.prototype.createWebChannel=em.prototype.g,ic.prototype.send=ic.prototype.u,ic.prototype.open=ic.prototype.m,ic.prototype.close=ic.prototype.close,oo.NO_ERROR=0,oo.TIMEOUT=8,oo.HTTP_ERROR=6,s1.COMPLETE="complete",v3.EventType=o4,o4.OPEN="a",o4.CLOSE="b",o4.ERROR="c",o4.MESSAGE="d",gr.prototype.listen=gr.prototype.N,so.prototype.listenOnce=so.prototype.O,so.prototype.getLastError=so.prototype.La,so.prototype.getLastErrorCode=so.prototype.Da,so.prototype.getStatus=so.prototype.ba,so.prototype.getResponseJson=so.prototype.Qa,so.prototype.getResponseText=so.prototype.ga,so.prototype.send=so.prototype.ea;var Hk=v2.createWebChannelTransport=function(){return new em},Bk=v2.getStatEventTarget=function(){return je()},dd=v2.ErrorCode=oo,jk=v2.EventType=s1,RA=v2.Event=ue,Fb=v2.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tm=v2.FetchXmlHttpFactory=$p,nm=v2.WebChannel=v3,Uk=v2.XhrIo=so;const Qv="@firebase/firestore";class us{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}us.UNAUTHENTICATED=new us(null),us.GOOGLE_CREDENTIALS=new us("google-credentials-uid"),us.FIRST_PARTY=new us("first-party-uid"),us.MOCK_USER=new us("mock-user");let K0="9.5.0";const b3=new Qc.Yd("@firebase/firestore");function Jv(){return b3.logLevel}function ht(n,...e){if(b3.logLevel<=Qc.in.DEBUG){const t=e.map(im);b3.debug(`Firestore (${K0}): ${n}`,...t)}}function Gr(n,...e){if(b3.logLevel<=Qc.in.ERROR){const t=e.map(im);b3.error(`Firestore (${K0}): ${n}`,...t)}}function Pu(n,...e){if(b3.logLevel<=Qc.in.WARN){const t=e.map(im);b3.warn(`Firestore (${K0}): ${n}`,...t)}}function im(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Ot(n="Unexpected state"){const e=`FIRESTORE (${K0}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Xt(n,e){n||Ot()}function bt(n,e){return n}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $o{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rm{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Hb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(us.UNAUTHENTICATED))}shutdown(){}}class Bb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jb{constructor(e){this.t=e,this.currentUser=us.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const p=P=>this.i!==s?(s=this.i,t(P)):Promise.resolve();let v=new $o;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new $o,e.enqueueRetryable(()=>p(this.currentUser))};const C=()=>{const P=v;e.enqueueRetryable((0,$e.Z)(function*(){yield P.promise,yield p(r.currentUser)}))},A=P=>{ht("FirebaseCredentialsProvider","Auth detected"),this.auth=P,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(P=>A(P)),setTimeout(()=>{if(!this.auth){const P=this.t.getImmediate({optional:!0});P?A(P):(ht("FirebaseCredentialsProvider","Auth not yet detected"),v.resolve(),v=new $o)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ht("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt("string"==typeof r.accessToken),new rm(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xt(null===e||"string"==typeof e),new us(e)}}class Ub{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=us.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class Gk{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ub(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(us.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _a{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function qb(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}_a.T=-1;class $b{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=qb(40);for(let p=0;p<s.length;++p)r.length<20&&s[p]<t&&(r+=e.charAt(s[p]%e.length))}return r}}function Rn(n,e){return n<e?-1:n>e?1:0}function Ru(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function a1(n){return n+"\0"}class Nr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new st(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new st(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new st(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nr.fromMillis(Date.now())}static fromDate(e){return Nr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Rn(this.nanoseconds,e.nanoseconds):Rn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yn(e)}static min(){return new yn(new Nr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fd(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class c7{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ot(),void 0===r?r=e.length-t:r>e.length-t&&Ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===c7.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof c7?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const p=e.get(s),v=t.get(s);if(p<v)return-1;if(p>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class oi extends c7{construct(e,t,r){return new oi(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(He.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new oi(t)}static emptyPath(){return new oi([])}}const Wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ds extends c7{construct(e,t,r){return new ds(e,t,r)}static isValidIdentifier(e){return Wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ds.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ds(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const p=()=>{if(0===r.length)throw new st(He.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let v=!1;for(;s<e.length;){const C=e[s];if("\\"===C){if(s+1===e.length)throw new st(He.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[s+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new st(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,s+=2}else"`"===C?(v=!v,s++):"."!==C||v?(r+=C,s++):(p(),s++)}if(p(),v)throw new st(He.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ds(t)}static emptyPath(){return new ds([])}}class pd{constructor(e){this.fields=e,e.sort(ds.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ru(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class yo{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new yo(t)}static fromUint8Array(e){const t=function(r){let s="";for(let p=0;p<r.length;++p)s+=String.fromCharCode(r[p]);return s}(e);return new yo(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yo.EMPTY_BYTE_STRING=new yo("");const Wb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function w3(n){if(Xt(!!n),"string"==typeof n){let e=0;const t=Wb.exec(n);if(Xt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lr(n.seconds),nanos:Lr(n.nanos)}}function Lr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Q0(n){return"string"==typeof n?yo.fromBase64String(n):yo.fromUint8Array(n)}function Zb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Xv(n){const e=n.mapValue.fields.__previous_value__;return Zb(e)?Xv(e):e}function l7(n){const e=w3(n.mapValue.fields.__local_write_time__.timestampValue);return new Nr(e.seconds,e.nanos)}function J0(n){return null==n}function Ou(n){return 0===n&&1/n==-1/0}function e_(n){return"number"==typeof n&&Number.isInteger(n)&&!Ou(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(oi.fromString(e))}static fromName(e){return new Vt(oi.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return oi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new oi(e.slice()))}}function C3(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Zb(n)?4:10:Ot()}function rc(n,e){const t=C3(n);if(t!==C3(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return l7(n).isEqual(l7(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const p=w3(r.timestampValue),v=w3(s.timestampValue);return p.seconds===v.seconds&&p.nanos===v.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Q0(n.bytesValue).isEqual(Q0(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Lr(r.geoPointValue.latitude)===Lr(s.geoPointValue.latitude)&&Lr(r.geoPointValue.longitude)===Lr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Lr(r.integerValue)===Lr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const p=Lr(r.doubleValue),v=Lr(s.doubleValue);return p===v?Ou(p)===Ou(v):isNaN(p)&&isNaN(v)}return!1}(n,e);case 9:return Ru(n.arrayValue.values||[],e.arrayValue.values||[],rc);case 10:return function(r,s){const p=r.mapValue.fields||{},v=s.mapValue.fields||{};if(Gb(p)!==Gb(v))return!1;for(const C in p)if(p.hasOwnProperty(C)&&(void 0===v[C]||!rc(p[C],v[C])))return!1;return!0}(n,e);default:return Ot()}var s}function u7(n,e){return void 0!==(n.values||[]).find(t=>rc(t,e))}function md(n,e){const t=C3(n),r=C3(e);if(t!==r)return Rn(t,r);switch(t){case 0:return 0;case 1:return Rn(n.booleanValue,e.booleanValue);case 2:return function(s,p){const v=Lr(s.integerValue||s.doubleValue),C=Lr(p.integerValue||p.doubleValue);return v<C?-1:v>C?1:v===C?0:isNaN(v)?isNaN(C)?0:-1:1}(n,e);case 3:return t_(n.timestampValue,e.timestampValue);case 4:return t_(l7(n),l7(e));case 5:return Rn(n.stringValue,e.stringValue);case 6:return function(s,p){const v=Q0(s),C=Q0(p);return v.compareTo(C)}(n.bytesValue,e.bytesValue);case 7:return function(s,p){const v=s.split("/"),C=p.split("/");for(let A=0;A<v.length&&A<C.length;A++){const P=Rn(v[A],C[A]);if(0!==P)return P}return Rn(v.length,C.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,p){const v=Rn(Lr(s.latitude),Lr(p.latitude));return 0!==v?v:Rn(Lr(s.longitude),Lr(p.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,p){const v=s.values||[],C=p.values||[];for(let A=0;A<v.length&&A<C.length;++A){const P=md(v[A],C[A]);if(P)return P}return Rn(v.length,C.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,p){const v=s.fields||{},C=Object.keys(v),A=p.fields||{},P=Object.keys(A);C.sort(),P.sort();for(let B=0;B<C.length&&B<P.length;++B){const G=Rn(C[B],P[B]);if(0!==G)return G;const re=md(v[C[B]],A[P[B]]);if(0!==re)return re}return Rn(C.length,P.length)}(n.mapValue,e.mapValue);default:throw Ot()}}function t_(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Rn(n,e);const t=w3(n),r=w3(e),s=Rn(t.seconds,r.seconds);return 0!==s?s:Rn(t.nanos,r.nanos)}function om(n){return sm(n)}function sm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=w3(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Q0(n.bytesValue).toBase64():"referenceValue"in n?Vt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",p=!0;for(const v of r.values||[])p?p=!1:s+=",",s+=sm(v);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let p="{",v=!0;for(const C of s)v?v=!1:p+=",",p+=`${C}:${sm(r.fields[C])}`;return p+"}"}(n.mapValue):Ot();var e}function am(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cm(n){return!!n&&"integerValue"in n}function lm(n){return!!n&&"arrayValue"in n}function Yb(n){return!!n&&"nullValue"in n}function Kb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function d7(n){return!!n&&"mapValue"in n}function h7(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=h7(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=h7(n.arrayValue.values[t]);return e}return Object.assign({},n)}class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!d7(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=h7(t)}setAll(e){let t=ds.emptyPath(),r={},s=[];e.forEach((v,C)=>{if(!t.isImmediateParentOf(C)){const A=this.getFieldsMap(t);this.applyChanges(A,r,s),r={},s=[],t=C.popLast()}v?r[C.lastSegment()]=h7(v):s.push(C.lastSegment())});const p=this.getFieldsMap(t);this.applyChanges(p,r,s)}delete(e){const t=this.field(e.popLast());d7(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];d7(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){hd(t,(s,p)=>e[s]=p);for(const s of r)delete e[s]}clone(){return new Ns(h7(this.value))}}function n_(n){const e=[];return hd(n.fields,(t,r)=>{const s=new ds([t]);if(d7(r)){const p=n_(r.mapValue).fields;if(0===p.length)e.push(s);else for(const v of p)e.push(s.child(v))}else e.push(s)}),new pd(e)}class nr{constructor(e,t,r,s,p){this.key=e,this.documentType=t,this.version=r,this.data=s,this.documentState=p}static newInvalidDocument(e){return new nr(e,0,yn.min(),Ns.empty(),0)}static newFoundDocument(e,t,r){return new nr(e,1,t,r,0)}static newNoDocument(e,t){return new nr(e,2,t,Ns.empty(),0)}static newUnknownDocument(e,t){return new nr(e,3,t,Ns.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof nr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new nr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qb{constructor(e,t=null,r=[],s=[],p=null,v=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=p,this.startAt=v,this.endAt=C,this.A=null}}function Jb(n,e=null,t=[],r=[],s=null,p=null,v=null){return new Qb(n,e,t,r,s,p,v)}function f7(n){const e=bt(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+om(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),J0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=r_(e.startAt)),e.endAt&&(t+="|ub:",t+=r_(e.endAt)),e.A=t}return e.A}function p7(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!nM(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!rc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iM(n.startAt,e.startAt)&&iM(n.endAt,e.endAt)}function i_(n){return Vt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ya extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Kk(e,t,r):"array-contains"===t?new Xk(e,r):"in"===t?new eM(e,r):"not-in"===t?new tM(e,r):"array-contains-any"===t?new FA(e,r):new ya(e,t,r)}static R(e,t,r){return"in"===t?new Qk(e,r):new VA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(md(t,this.value)):null!==t&&C3(this.value)===C3(t)&&this.P(md(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ot()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Kk extends ya{constructor(e,t,r){super(e,t,r),this.key=Vt.fromName(r.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.P(t)}}class Qk extends ya{constructor(e,t){super(e,"in",t),this.keys=Jk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VA extends ya{constructor(e,t){super(e,"not-in",t),this.keys=Jk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Vt.fromName(r.referenceValue))}class Xk extends ya{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lm(t)&&u7(t.arrayValue,this.value)}}class eM extends ya{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&u7(this.value.arrayValue,t)}}class tM extends ya{constructor(e,t){super(e,"not-in",t)}matches(e){if(u7(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!u7(this.value.arrayValue,t)}}class FA extends ya{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>u7(this.value.arrayValue,r))}}class um{constructor(e,t){this.position=e,this.before=t}}function r_(n){return`${n.before?"b":"a"}:${n.position.map(e=>om(e)).join(",")}`}class gd{constructor(e,t="asc"){this.field=e,this.dir=t}}function nM(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Xb(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const p=e[s],v=n.position[s];if(r=p.field.isKeyField()?Vt.comparator(Vt.fromName(v.referenceValue),t.key):md(v,t.data.field(p.field)),"desc"===p.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function iM(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!rc(n.position[t],e.position[t]))return!1;return!0}class X0{constructor(e,t=null,r=[],s=[],p=null,v="F",C=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=p,this.limitType=v,this.startAt=C,this.endAt=A,this.V=null,this.S=null}}function ew(n,e,t,r,s,p,v,C){return new X0(n,e,t,r,s,p,v,C)}function m7(n){return new X0(n)}function dm(n){return!J0(n.limit)&&"F"===n.limitType}function o_(n){return!J0(n.limit)&&"L"===n.limitType}function g7(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function e6(n){for(const e of n.filters)if(e.v())return e.field;return null}function hm(n){return null!==n.collectionGroup}function vd(n){const e=bt(n);if(null===e.V){e.V=[];const t=e6(e),r=g7(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new gd(t)),e.V.push(new gd(ds.keyField(),"asc"));else{let s=!1;for(const p of e.explicitOrderBy)e.V.push(p),p.field.isKeyField()&&(s=!0);if(!s){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new gd(ds.keyField(),p))}}}return e.V}function oc(n){const e=bt(n);if(!e.S)if("F"===e.limitType)e.S=Jb(e.path,e.collectionGroup,vd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const p of vd(e))t.push(new gd(p.field,"desc"===p.dir?"asc":"desc"));const r=e.endAt?new um(e.endAt.position,!e.endAt.before):null,s=e.startAt?new um(e.startAt.position,!e.startAt.before):null;e.S=Jb(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.S}function fm(n,e,t){return new X0(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _d(n,e){return p7(oc(n),oc(e))&&n.limitType===e.limitType}function s_(n){return`${f7(oc(n))}|lt:${n.limitType}`}function pm(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${om(r.value)}`;var r}).join(", ")}]`),J0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+r_(n.startAt)),n.endAt&&(e+=", endAt: "+r_(n.endAt)),`Target(${e})`}(oc(n))}; limitType=${n.limitType})`}function mm(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Vt.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Xb(t.startAt,vd(t),r)||t.endAt&&Xb(t.endAt,vd(t),r)));var t,r}function a_(n){return(e,t)=>{let r=!1;for(const s of vd(n)){const p=gm(s,e,t);if(0!==p)return p;r=r||s.field.isKeyField()}return 0}}function gm(n,e,t){const r=n.field.isKeyField()?Vt.comparator(e.key,t.key):function(s,p,v){const C=p.data.field(s),A=v.data.field(s);return null!==C&&null!==A?md(C,A):Ot()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ot()}}function c_(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ou(e)?"-0":e}}function rM(n){return{integerValue:""+n}}function oM(n,e){return e_(e)?rM(e):c_(n,e)}class l_{constructor(){this._=void 0}}function sM(n,e,t){return n instanceof yd?function(r,s){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(p.fields.__previous_value__=s),{mapValue:p}}(t,e):n instanceof bd?aM(n,e):n instanceof k3?tw(n,e):function(r,s){const p=u_(r,s),v=cM(p)+cM(r.C);return cm(p)&&cm(r.C)?rM(v):c_(r.N,v)}(n,e)}function HA(n,e,t){return n instanceof bd?aM(n,e):n instanceof k3?tw(n,e):t}function u_(n,e){return n instanceof v7?cm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class yd extends l_{}class bd extends l_{constructor(e){super(),this.elements=e}}function aM(n,e){const t=nw(e);for(const r of n.elements)t.some(s=>rc(s,r))||t.push(r);return{arrayValue:{values:t}}}class k3 extends l_{constructor(e){super(),this.elements=e}}function tw(n,e){let t=nw(e);for(const r of n.elements)t=t.filter(s=>!rc(s,r));return{arrayValue:{values:t}}}class v7 extends l_{constructor(e,t){super(),this.N=e,this.C=t}}function cM(n){return Lr(n.integerValue||n.doubleValue)}function nw(n){return lm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class vm{constructor(e,t){this.field=e,this.transform=t}}class lM{constructor(e,t){this.version=e,this.transformResults=t}}class Go{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Go}static exists(e){return new Go(void 0,e)}static updateTime(e){return new Go(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function d_(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class _m{}function h_(n,e,t){n instanceof _7?function(r,s,p){const v=r.value.clone(),C=bm(r.fieldTransforms,s,p.transformResults);v.setAll(C),s.convertToFoundDocument(p.version,v).setHasCommittedMutations()}(n,e,t):n instanceof bo?function(r,s,p){if(!d_(r.precondition,s))return void s.convertToUnknownDocument(p.version);const v=bm(r.fieldTransforms,s,p.transformResults),C=s.data;C.setAll(ow(r)),C.setAll(v),s.convertToFoundDocument(p.version,C).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function f_(n,e,t){var s;n instanceof _7?function(r,s,p){if(!d_(r.precondition,s))return;const v=r.value.clone(),C=sw(r.fieldTransforms,p,s);v.setAll(C),s.convertToFoundDocument(ym(s),v).setHasLocalMutations()}(n,e,t):n instanceof bo?function(r,s,p){if(!d_(r.precondition,s))return;const v=sw(r.fieldTransforms,p,s),C=s.data;C.setAll(ow(r)),C.setAll(v),s.convertToFoundDocument(ym(s),C).setHasLocalMutations()}(n,e,t):d_(n.precondition,s=e)&&s.convertToNoDocument(yn.min())}function uM(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),p=u_(r.transform,s||null);null!=p&&(null==t&&(t=Ns.empty()),t.set(r.field,p))}return t||null}function rw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Ru(t,r,(s,p)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof bd&&r instanceof bd||t instanceof k3&&r instanceof k3?Ru(t.elements,r.elements,rc):t instanceof v7&&r instanceof v7?rc(t.C,r.C):t instanceof yd&&r instanceof yd);var t,r}(s,p))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function ym(n){return n.isFoundDocument()?n.version:yn.min()}class _7 extends _m{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class bo extends _m{constructor(e,t,r,s,p=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=p,this.type=1}}function ow(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bm(n,e,t){const r=new Map;Xt(n.length===t.length);for(let s=0;s<t.length;s++){const p=n[s],v=p.transform,C=e.data.field(p.field);r.set(p.field,HA(v,C,t[s]))}return r}function sw(n,e,t){const r=new Map;for(const s of n){const p=s.transform,v=t.data.field(s.field);r.set(s.field,sM(p,v,e))}return r}class y7 extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class b7 extends _m{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class aw{constructor(e){this.count=e}}var ao,ei;function p_(n){switch(n){default:return Ot();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function m_(n){if(void 0===n)return Gr("GRPC error has no .code"),He.UNKNOWN;switch(n){case ao.OK:return He.OK;case ao.CANCELLED:return He.CANCELLED;case ao.UNKNOWN:return He.UNKNOWN;case ao.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case ao.INTERNAL:return He.INTERNAL;case ao.UNAVAILABLE:return He.UNAVAILABLE;case ao.UNAUTHENTICATED:return He.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case ao.NOT_FOUND:return He.NOT_FOUND;case ao.ALREADY_EXISTS:return He.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return He.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case ao.ABORTED:return He.ABORTED;case ao.OUT_OF_RANGE:return He.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return He.UNIMPLEMENTED;case ao.DATA_LOSS:return He.DATA_LOSS;default:return Ot()}}(ei=ao||(ao={}))[ei.OK=0]="OK",ei[ei.CANCELLED=1]="CANCELLED",ei[ei.UNKNOWN=2]="UNKNOWN",ei[ei.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ei[ei.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ei[ei.NOT_FOUND=5]="NOT_FOUND",ei[ei.ALREADY_EXISTS=6]="ALREADY_EXISTS",ei[ei.PERMISSION_DENIED=7]="PERMISSION_DENIED",ei[ei.UNAUTHENTICATED=16]="UNAUTHENTICATED",ei[ei.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ei[ei.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ei[ei.ABORTED=10]="ABORTED",ei[ei.OUT_OF_RANGE=11]="OUT_OF_RANGE",ei[ei.UNIMPLEMENTED=12]="UNIMPLEMENTED",ei[ei.INTERNAL=13]="INTERNAL",ei[ei.UNAVAILABLE=14]="UNAVAILABLE",ei[ei.DATA_LOSS=15]="DATA_LOSS";class Wo{constructor(e,t){this.comparator=e,this.root=t||Zo.EMPTY}insert(e,t){return new Wo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zo.BLACK,null,null))}remove(e){return new Wo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wm(this.root,e,this.comparator,!0)}}class wm{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=t?r(e.key,t):1,s&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zo{constructor(e,t,r,s,p){this.key=e,this.value=t,this.color=null!=r?r:Zo.RED,this.left=null!=s?s:Zo.EMPTY,this.right=null!=p?p:Zo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,p){return new Zo(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const p=r(e,s.key);return s=p<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===p?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Zo.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ot();const e=this.left.check();if(e!==this.right.check())throw Ot();return e+(this.isRed()?0:1)}}Zo.EMPTY=null,Zo.RED=!0,Zo.BLACK=!1,Zo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ot()}get value(){throw Ot()}get color(){throw Ot()}get left(){throw Ot()}get right(){throw Ot()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Zo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new Wo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new g_(this.data.getIterator())}getIteratorFrom(e){return new g_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,p=r.getNext().key;if(0!==this.comparator(s,p))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pr(this.comparator);return t.data=e,t}}class g_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const v_=new Wo(Vt.comparator);function sc(){return v_}const fl=new Wo(Vt.comparator);function __(){return fl}const BA=new Wo(Vt.comparator);function cw(){return BA}const jA=new Pr(Vt.comparator);function Si(...n){let e=jA;for(const t of n)e=e.add(t);return e}const dM=new Pr(Rn);function Cm(){return dM}class km{constructor(e,t,r,s,p){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,w7.createSynthesizedTargetChangeForCurrentChange(e,t)),new km(yn.min(),r,Cm(),sc(),Si())}}class w7{constructor(e,t,r,s,p){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,t){return new w7(yo.EMPTY_BYTE_STRING,t,Si(),Si(),Si())}}class C7{constructor(e,t,r,s){this.k=e,this.removedTargetIds=t,this.key=r,this.$=s}}class lw{constructor(e,t){this.targetId=e,this.O=t}}class uw{constructor(e,t,r=yo.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class y_{constructor(){this.F=0,this.M=b_(),this.L=yo.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Si(),t=Si(),r=Si();return this.M.forEach((s,p)=>{switch(p){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ot()}}),new w7(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=b_()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class hM{constructor(e){this.tt=e,this.et=new Map,this.nt=sc(),this.st=fM(),this.it=new Pr(Rn)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:Ot()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,s)=>{this.ht(s)&&t(s)})}ft(e){const t=e.targetId,r=e.O.count,s=this.dt(t);if(s){const p=s.target;if(i_(p))if(0===r){const v=new Vt(p.path);this.ct(t,v,nr.newNoDocument(v,yn.min()))}else Xt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((p,v)=>{const C=this.dt(v);if(C){if(p.current&&i_(C.target)){const A=new Vt(C.target.path);null!==this.nt.get(A)||this.gt(v,A)||this.ct(v,A,nr.newNoDocument(A,e))}p.K&&(t.set(v,p.W()),p.G())}});let r=Si();this.st.forEach((p,v)=>{let C=!0;v.forEachWhile(A=>{const P=this.dt(A);return!P||2===P.purpose||(C=!1,!1)}),C&&(r=r.add(p))});const s=new km(e,t,this.it,this.nt,r);return this.nt=sc(),this.st=fM(),this.it=new Pr(Rn),s}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const s=this.ut(e);this.gt(e,t)?s.H(t,1):s.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new y_,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Pr(Rn),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||ht("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new y_),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function fM(){return new Wo(Vt.comparator)}function b_(){return new Wo(Vt.comparator)}const dw={asc:"ASCENDING",desc:"DESCENDING"},pM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mM{constructor(e,t){this.databaseId=e,this.D=t}}function wd(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cd(n,e){return n.D?e.toBase64():e.toUint8Array()}function w_(n,e){return wd(n,e.toTimestamp())}function Yo(n){return Xt(!!n),yn.fromTimestamp(function(e){const t=w3(e);return new Nr(t.seconds,t.nanos)}(n))}function C_(n,e){return(t=n,new oi(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gM(n){const e=oi.fromString(n);return Xt(E_(e)),e}function Mm(n,e){return C_(n.databaseId,e.path)}function M3(n,e){const t=gM(e);if(t.get(1)!==n.databaseId.projectId)throw new st(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new st(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Vt(xm(t))}function hw(n,e){return C_(n.databaseId,e)}function vM(n){const e=gM(n);return 4===e.length?oi.emptyPath():xm(e)}function Em(n){return new oi(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function xm(n){return Xt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fw(n,e,t){return{name:Mm(n,e),fields:t.value.mapValue.fields}}function _M(n,e,t){const r=M3(n,e.name),s=Yo(e.updateTime),p=new Ns({mapValue:{fields:e.fields}}),v=nr.newFoundDocument(r,s,p);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function Am(n,e){let t;if(e instanceof _7)t={update:fw(n,e.key,e.value)};else if(e instanceof y7)t={delete:Mm(n,e.key)};else if(e instanceof bo)t={update:fw(n,e.key,e.data),updateMask:Vu(e.fieldMask)};else{if(!(e instanceof b7))return Ot();t={verify:Mm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,p){const v=p.transform;if(v instanceof yd)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof bd)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof k3)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof v7)return{fieldPath:p.field.canonicalString(),increment:v.C};throw Ot()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:w_(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ot()),t;var s}function pw(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?Go.updateTime(Yo(s.updateTime)):void 0!==s.exists?Go.exists(s.exists):Go.none():Go.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(p,v){let C=null;"setToServerValue"in v?(Xt("REQUEST_TIME"===v.setToServerValue),C=new yd):"appendMissingElements"in v?C=new bd(v.appendMissingElements.values||[]):"removeAllFromArray"in v?C=new k3(v.removeAllFromArray.values||[]):"increment"in v?C=new v7(p,v.increment):Ot();const A=ds.fromServerFormat(v.fieldPath);return new vm(A,C)}(n,s)):[];var s;if(e.update){const s=M3(n,e.update.name),p=new Ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new pd((e.updateMask.fieldPaths||[]).map(P=>ds.fromServerFormat(P)));return new bo(s,p,v,t,r)}return new _7(s,p,t,r)}if(e.delete){const s=M3(n,e.delete);return new y7(s,t)}if(e.verify){const s=M3(n,e.verify);return new b7(s,t)}return Ot()}function wM(n,e){return{documents:[hw(n,e.path)]}}function CM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=hw(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=hw(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(C){if(0===C.length)return;const A=C.map(P=>function(B){if("=="===B.op){if(Kb(B.value))return{unaryFilter:{field:E3(B.field),op:"IS_NAN"}};if(Yb(B.value))return{unaryFilter:{field:E3(B.field),op:"IS_NULL"}}}else if("!="===B.op){if(Kb(B.value))return{unaryFilter:{field:E3(B.field),op:"IS_NOT_NAN"}};if(Yb(B.value))return{unaryFilter:{field:E3(B.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:E3(B.field),op:MM(B.op),value:B.value}}}(P));return 1===A.length?A[0]:{compositeFilter:{op:"AND",filters:A}}}(e.filters);s&&(t.structuredQuery.where=s);const p=function(C){if(0!==C.length)return C.map(A=>{return{field:E3((P=A).field),direction:gw(P.dir)};var P})}(e.orderBy);p&&(t.structuredQuery.orderBy=p);const v=(A=e.limit,n.D||J0(A)?A:{value:A});var A;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt=kM(e.startAt)),e.endAt&&(t.structuredQuery.endAt=kM(e.endAt)),t}function mw(n){let e=vM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Xt(1===r);const B=t.from[0];B.allDescendants?s=B.collectionId:e=e.child(B.collectionId)}let p=[];t.where&&(p=Ko(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(B=>{return new gd(kd((G=B).field),function(re){switch(re){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(G.direction));var G}));let C=null;t.limit&&(C=function(B){let G;return G="object"==typeof B?B.value:B,J0(G)?null:G}(t.limit));let A=null;t.startAt&&(A=M_(t.startAt));let P=null;return t.endAt&&(P=M_(t.endAt)),ew(e,s,v,p,C,"F",A,P)}function Ko(n){return n?void 0!==n.unaryFilter?[vw(n)]:void 0!==n.fieldFilter?[EM(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Ko(e)).reduce((e,t)=>e.concat(t)):Ot():[]}function kM(n){return{before:n.before,values:n.position}}function M_(n){return new um(n.values||[],!!n.before)}function gw(n){return dw[n]}function MM(n){return pM[n]}function E3(n){return{fieldPath:n.canonicalString()}}function kd(n){return ds.fromServerFormat(n.fieldPath)}function EM(n){return ya.create(kd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ot()}}(n.fieldFilter.op),n.fieldFilter.value)}function vw(n){switch(n.unaryFilter.op){case"IS_NAN":const e=kd(n.unaryFilter.field);return ya.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=kd(n.unaryFilter.field);return ya.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=kd(n.unaryFilter.field);return ya.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=kd(n.unaryFilter.field);return ya.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ot()}}function Vu(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function E_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function y2(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=_w(e)),e=x_(n.get(t),e);return _w(e)}function x_(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const p=n.charAt(s);switch(p){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=p}}return t}function _w(n){return n+"\x01\x01"}function ac(n){const e=n.length;if(Xt(e>=2),2===e)return Xt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),oi.emptyPath();const t=e-2,r=[];let s="";for(let p=0;p<e;){const v=n.indexOf("\x01",p);switch((v<0||v>t)&&Ot(),n.charAt(v+1)){case"\x01":const C=n.substring(p,v);let A;0===s.length?A=C:(s+=C,A=s,s=""),r.push(A);break;case"\x10":s+=n.substring(p,v),s+="\0";break;case"\x11":s+=n.substring(p,v+1);break;default:Ot()}p=v+2}return new oi(r)}class xM{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class N1{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}N1.store="owner",N1.key="owner";class x3{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}x3.store="mutationQueues",x3.keyPath="userId";class bn{constructor(e,t,r,s,p){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=s,this.mutations=p}}bn.store="mutations",bn.keyPath="batchId",bn.userMutationsIndex="userMutationsIndex",bn.userMutationsKeyPath=["userId","batchId"];class L1{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,y2(t)]}static key(e,t,r){return[e,y2(t),r]}}L1.store="documentMutations",L1.PLACEHOLDER=new L1;class AM{constructor(e,t){this.path=e,this.readTime=t}}class SM{constructor(e,t){this.path=e,this.version=t}}class co{constructor(e,t,r,s,p,v){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=s,this.readTime=p,this.parentPath=v}}co.store="remoteDocuments",co.readTimeIndex="readTimeIndex",co.readTimeIndexPath="readTime",co.collectionReadTimeIndex="collectionReadTimeIndex",co.collectionReadTimeIndexPath=["parentPath","readTime"];class b2{constructor(e){this.byteSize=e}}b2.store="remoteDocumentGlobal",b2.key="remoteDocumentGlobalKey";class ba{constructor(e,t,r,s,p,v,C){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=s,this.lastListenSequenceNumber=p,this.lastLimboFreeSnapshotVersion=v,this.query=C}}ba.store="targets",ba.keyPath="targetId",ba.queryTargetsIndexName="queryTargetsIndex",ba.queryTargetsKeyPath=["canonicalId","targetId"];class c1{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}c1.store="targetDocuments",c1.keyPath=["targetId","path"],c1.documentTargetsIndex="documentTargetsIndex",c1.documentTargetsKeyPath=["path","targetId"];class cc{constructor(e,t,r,s){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=s}}cc.key="targetGlobalKey",cc.store="targetGlobal";class t6{constructor(e,t){this.collectionId=e,this.parent=t}}t6.store="collectionParents",t6.keyPath=["collectionId","parent"];class A3{constructor(e,t,r,s){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=s}}A3.store="clientMetadata",A3.keyPath="clientId";class Md{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}Md.store="bundles",Md.keyPath="bundleId";class Ed{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Ed.store="namedQueries",Ed.keyPath="name";const TM=[x3.store,bn.store,L1.store,co.store,ba.store,N1.store,cc.store,c1.store,A3.store,b2.store,t6.store,Md.store,Ed.store],A_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class S_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class nt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new nt((r,s)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(r,s)},this.catchCallback=p=>{this.wrapFailure(t,p).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof nt?t:nt.resolve(t)}catch(t){return nt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):nt.reject(t)}static resolve(e){return new nt((t,r)=>{t(e)})}static reject(e){return new nt((t,r)=>{r(e)})}static waitFor(e){return new nt((t,r)=>{let s=0,p=0,v=!1;e.forEach(C=>{++s,C.next(()=>{++p,v&&p===s&&t()},A=>r(A))}),v=!0,p===s&&t()})}static or(e){let t=nt.resolve(!1);for(const r of e)t=t.next(s=>s?nt.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,p)=>{r.push(t.call(this,s,p))}),this.waitFor(r)}}class Sm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new $o,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new n6(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const s=T_(r.target.error);this.Et.reject(new n6(e,s))}}static open(e,t,r,s){try{return new Sm(t,e.transaction(s,r))}catch(p){throw new n6(t,p)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(ht("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new bw(t)}}class pl{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===pl.Rt((0,zn.z$)())&&Gr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ht("SimpleDb","Removing database:",e),d4(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,zn.hl)())return!1;if(pl.Pt())return!0;const e=(0,zn.z$)(),t=pl.Rt(e),r=0<t&&t<10,s=pl.vt(e),p=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||p)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,$e.Z)(function*(){return t.db||(ht("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const p=indexedDB.open(t.name,t.version);p.onsuccess=v=>{r(v.target.result)},p.onblocked=()=>{s(new n6(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=v=>{const C=v.target.error;s("VersionError"===C.name?new st(He.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new st(He.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new n6(e,C))},p.onupgradeneeded=v=>{ht("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.At.Ct(v.target.result,p.transaction,v.oldVersion,t.version).next(()=>{ht("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var p=this;return(0,$e.Z)(function*(){const v="readonly"===t;let C=0;for(;;){++C;try{p.db=yield p.Dt(e);const A=Sm.open(p.db,e,v?"readonly":"readwrite",r),P=s(A).catch(B=>(A.abort(B),nt.reject(B))).toPromise();return P.catch(()=>{}),yield A.It,P}catch(A){const P="FirebaseError"!==A.name&&C<3;if(ht("SimpleDb","Transaction failed with error:",A.message,"Retrying:",P),p.close(),!P)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class yw{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return d4(this.kt.delete())}}class n6 extends st{constructor(e,t){super(He.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fu(n){return"IndexedDbTransactionError"===n.name}class bw{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ht("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ht("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),d4(r)}add(e){return ht("SimpleDb","ADD",this.store.name,e,e),d4(this.store.add(e))}get(e){return d4(this.store.get(e)).next(t=>(void 0===t&&(t=null),ht("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ht("SimpleDb","DELETE",this.store.name,e),d4(this.store.delete(e))}count(){return ht("SimpleDb","COUNT",this.store.name),d4(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),s=[];return this.Bt(r,(p,v)=>{s.push(v)}).next(()=>s)}Ut(e,t){ht("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const s=this.cursor(r);return this.Bt(s,(p,v,C)=>C.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Bt(s,t)}jt(e){const t=this.cursor({});return new nt((r,s)=>{t.onerror=p=>{const v=T_(p.target.error);s(v)},t.onsuccess=p=>{const v=p.target.result;v?e(v.primaryKey,v.value).next(C=>{C?v.continue():r()}):r()}})}Bt(e,t){const r=[];return new nt((s,p)=>{e.onerror=v=>{p(v.target.error)},e.onsuccess=v=>{const C=v.target.result;if(!C)return void s();const A=new yw(C),P=t(C.primaryKey,C.value,A);if(P instanceof nt){const B=P.catch(G=>(A.done(),nt.reject(G)));r.push(B)}A.isDone?s():null===A.Ft?C.continue():C.continue(A.Ft)}}).next(()=>nt.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function d4(n){return new nt((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=T_(r.target.error);t(s)}})}let ww=!1;function T_(n){const e=pl.Rt((0,zn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ww||(ww=!0,setTimeout(()=>{throw r},0)),r}}return n}class Cw extends S_{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function wa(n,e){const t=bt(n);return pl.St(t.Qt,e)}class kw{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const p=this.mutations[s];p.key.isEqual(e.key)&&h_(p,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&f_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&f_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(yn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Si())}isEqual(e){return this.batchId===e.batchId&&Ru(this.mutations,e.mutations,(t,r)=>rw(t,r))&&Ru(this.baseMutations,e.baseMutations,(t,r)=>rw(t,r))}}class I_{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Xt(e.mutations.length===r.length);let s=cw();const p=e.mutations;for(let v=0;v<p.length;v++)s=s.insert(p[v].key,r[v].version);return new I_(e,t,r,s)}}class i6{constructor(e,t,r,s,p=yn.min(),v=yn.min(),C=yo.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C}withSequenceNumber(e){return new i6(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new i6(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new i6(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Mw{constructor(e){this.Wt=e}}function D_(n,e){if(e.document)return _M(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Vt.fromSegments(e.noDocument.path),r=S3(e.noDocument.readTime),s=nr.newNoDocument(t,r);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){const t=Vt.fromSegments(e.unknownDocument.path),r=S3(e.unknownDocument.version);return nr.newUnknownDocument(t,r)}return Ot()}function Ew(n,e,t){const r=z_(t),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){const p={name:Mm(C=n.Wt,(A=e).key),fields:A.data.value.mapValue.fields,updateTime:wd(C,A.version.toTimestamp())};return new co(null,null,p,e.hasCommittedMutations,r,s)}var C,A;if(e.isNoDocument()){const p=e.key.path.toArray(),v=xd(e.version),C=e.hasCommittedMutations;return new co(null,new AM(p,v),null,C,r,s)}if(e.isUnknownDocument()){const p=e.key.path.toArray(),v=xd(e.version);return new co(new SM(p,v),null,null,!0,r,s)}return Ot()}function z_(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function xw(n){const e=new Nr(n[0],n[1]);return yn.fromTimestamp(e)}function xd(n){const e=n.toTimestamp();return new xM(e.seconds,e.nanoseconds)}function S3(n){const e=new Nr(n.seconds,n.nanoseconds);return yn.fromTimestamp(e)}function T3(n,e){const t=(e.baseMutations||[]).map(p=>pw(n.Wt,p));for(let p=0;p<e.mutations.length-1;++p){const v=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(v.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const r=e.mutations.map(p=>pw(n.Wt,p)),s=Nr.fromMillis(e.localWriteTimeMs);return new kw(e.batchId,s,t,r)}function Tm(n){const e=S3(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?S3(n.lastLimboFreeSnapshotVersion):yn.min();let r;var s;return void 0!==n.query.documents?(Xt(1===(s=n.query).documents.length),r=oc(m7(vM(s.documents[0])))):r=oc(mw(n.query)),new i6(r,n.targetId,0,n.lastListenSequenceNumber,e,t,yo.fromBase64String(n.resumeToken))}function Ad(n,e){const t=xd(e.snapshotVersion),r=xd(e.lastLimboFreeSnapshotVersion);let s;s=i_(e.target)?wM(n.Wt,e.target):CM(n.Wt,e.target);const p=e.resumeToken.toBase64();return new ba(e.targetId,f7(e.target),t,p,e.sequenceNumber,r,s)}function li(n){const e=mw({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fm(e,e.limit,"L"):e}class r6{getBundleMetadata(e,t){return Hu(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:S3(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return Hu(e).put({bundleId:(r=t).id,createTime:xd(Yo(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Sd(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:li(s.bundledQuery),readTime:S3(s.readTime)};var s})}saveNamedQuery(e,t){return Sd(e).put({name:(r=t).name,readTime:xd(Yo(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Hu(n){return wa(n,Md.store)}function Sd(n){return wa(n,Ed.store)}class qA{constructor(){this.Gt=new ln}addToCollectionParentIndex(e,t){return this.Gt.add(t),nt.resolve()}getCollectionParents(e,t){return nt.resolve(this.Gt.getEntries(t))}}class ln{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Pr(oi.comparator),p=!s.has(r);return this.index[t]=s.add(r),p}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Pr(oi.comparator)).toArray()}}class Aw{constructor(){this.zt=new ln}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const p={collectionId:r,parent:y2(s)};return Sw(e).put(p)}return nt.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[a1(t),""],!1,!0);return Sw(e).Lt(s).next(p=>{for(const v of p){if(v.collectionId!==t)break;r.push(ac(v.parent))}return r})}}function Sw(n){return wa(n,t6.store)}const Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class P1{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new P1(e,P1.DEFAULT_COLLECTION_PERCENTILE,P1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Iw(n,e,t){const r=n.store(bn.store),s=n.store(L1.store),p=[],v=IDBKeyRange.only(t.batchId);let C=0;const A=r.Kt({range:v},(B,G,re)=>(C++,re.delete()));p.push(A.next(()=>{Xt(1===C)}));const P=[];for(const B of t.mutations){const G=L1.key(e,B.key.path,t.batchId);p.push(s.delete(G)),P.push(B.key)}return nt.waitFor(p).next(()=>P)}function k7(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Ot();e=n.noDocument}return JSON.stringify(e).length}P1.DEFAULT_COLLECTION_PERCENTILE=10,P1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,P1.DEFAULT=new P1(41943040,P1.DEFAULT_COLLECTION_PERCENTILE,P1.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),P1.DISABLED=new P1(-1,0,0);class Ca{constructor(e,t,r,s){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=s,this.Jt={}}static Yt(e,t,r,s){Xt(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Ca(p,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).Kt({index:bn.userMutationsIndex,range:r},(s,p,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const p=Bu(e),v=ka(e);return v.add({}).next(C=>{Xt("number"==typeof C);const A=new kw(C,t,r,s),P=function(re,ae,ge){const Te=ge.baseMutations.map(rt=>Am(re.Wt,rt)),Oe=ge.mutations.map(rt=>Am(re.Wt,rt));return new bn(ae,ge.batchId,ge.localWriteTime.toMillis(),Te,Oe)}(this.N,this.userId,A),B=[];let G=new Pr((re,ae)=>Rn(re.canonicalString(),ae.canonicalString()));for(const re of s){const ae=L1.key(this.userId,re.key.path,C);G=G.add(re.key.path.popLast()),B.push(v.put(P)),B.push(p.put(ae,L1.PLACEHOLDER))}return G.forEach(re=>{B.push(this.Ht.addToCollectionParentIndex(e,re))}),e.addOnCommittedListener(()=>{this.Jt[C]=A.keys()}),nt.waitFor(B).next(()=>A)})}lookupMutationBatch(e,t){return ka(e).get(t).next(r=>r?(Xt(r.userId===this.userId),T3(this.N,r)):null)}Xt(e,t){return this.Jt[t]?nt.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Jt[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let p=null;return ka(e).Kt({index:bn.userMutationsIndex,range:s},(v,C,A)=>{C.userId===this.userId&&(Xt(C.batchId>=r),p=T3(this.N,C)),A.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ka(e).Kt({index:bn.userMutationsIndex,range:t,reverse:!0},(s,p,v)=>{r=p.batchId,v.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(e).Lt(bn.userMutationsIndex,t).next(r=>r.map(s=>T3(this.N,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=L1.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(r),p=[];return Bu(e).Kt({range:s},(v,C,A)=>{const[P,B,G]=v,re=ac(B);if(P===this.userId&&t.path.isEqual(re))return ka(e).get(G).next(ae=>{if(!ae)throw Ot();Xt(ae.userId===this.userId),p.push(T3(this.N,ae))});A.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pr(Rn);const s=[];return t.forEach(p=>{const v=L1.prefixForPath(this.userId,p.path),C=IDBKeyRange.lowerBound(v),A=Bu(e).Kt({range:C},(P,B,G)=>{const[re,ae,ge]=P,Te=ac(ae);re===this.userId&&p.path.isEqual(Te)?r=r.add(ge):G.done()});s.push(A)}),nt.waitFor(s).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,p=L1.prefixForPath(this.userId,r),v=IDBKeyRange.lowerBound(p);let C=new Pr(Rn);return Bu(e).Kt({range:v},(A,P,B)=>{const[G,re,ae]=A,ge=ac(re);G===this.userId&&r.isPrefixOf(ge)?ge.length===s&&(C=C.add(ae)):B.done()}).next(()=>this.Zt(e,C))}Zt(e,t){const r=[],s=[];return t.forEach(p=>{s.push(ka(e).get(p).next(v=>{if(null===v)throw Ot();Xt(v.userId===this.userId),r.push(T3(this.N,v))}))}),nt.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return Iw(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),nt.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return nt.resolve();const r=IDBKeyRange.lowerBound(L1.prefixForUser(this.userId)),s=[];return Bu(e).Kt({range:r},(p,v,C)=>{if(p[0]===this.userId){const A=ac(p[1]);s.push(A)}else C.done()}).next(()=>{Xt(0===s.length)})})}containsKey(e,t){return Im(e,this.userId,t)}ee(e){return N_(e).get(this.userId).next(t=>t||new x3(this.userId,-1,""))}}function Im(n,e,t){const r=L1.prefixForPath(e,t.path),s=r[1],p=IDBKeyRange.lowerBound(r);let v=!1;return Bu(n).Kt({range:p,qt:!0},(C,A,P)=>{const[B,G,re]=C;B===e&&G===s&&(v=!0),P.done()}).next(()=>v)}function ka(n){return wa(n,bn.store)}function Bu(n){return wa(n,L1.store)}function N_(n){return wa(n,x3.store)}class Td{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new Td(0)}static ie(){return new Td(-1)}}class IM{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new Td(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>yn.fromTimestamp(new Nr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.oe(e,s)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Id(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(Xt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let s=0;const p=[];return Id(e).Kt((v,C)=>{const A=Tm(C);A.sequenceNumber<=t&&null===r.get(A.targetId)&&(s++,p.push(this.removeTargetData(e,A)))}).next(()=>nt.waitFor(p)).next(()=>s)}forEachTarget(e,t){return Id(e).Kt((r,s)=>{const p=Tm(s);t(p)})}re(e){return w2(e).get(cc.key).next(t=>(Xt(null!==t),t))}oe(e,t){return w2(e).put(cc.key,t)}ce(e,t){return Id(e).put(Ad(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=f7(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let p=null;return Id(e).Kt({range:s,index:ba.queryTargetsIndexName},(v,C,A)=>{const P=Tm(C);p7(t,P.target)&&(p=P,A.done())}).next(()=>p)}addMatchingKeys(e,t,r){const s=[],p=ki(e);return t.forEach(v=>{const C=y2(v.path);s.push(p.put(new c1(r,C))),s.push(this.referenceDelegate.addReference(e,r,v))}),nt.waitFor(s)}removeMatchingKeys(e,t,r){const s=ki(e);return nt.forEach(t,p=>{const v=y2(p.path);return nt.waitFor([s.delete([r,v]),this.referenceDelegate.removeReference(e,r,p)])})}removeMatchingKeysForTargetId(e,t){const r=ki(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=ki(e);let p=Si();return s.Kt({range:r,qt:!0},(v,C,A)=>{const P=ac(v[1]),B=new Vt(P);p=p.add(B)}).next(()=>p)}containsKey(e,t){const r=y2(t.path),s=IDBKeyRange.bound([r],[a1(r)],!1,!0);let p=0;return ki(e).Kt({index:c1.documentTargetsIndex,qt:!0,range:s},([v,C],A,P)=>{0!==v&&(p++,P.done())}).next(()=>p>0)}Tt(e,t){return Id(e).get(t).next(r=>r?Tm(r):null)}}function Id(n){return wa(n,ba.store)}function w2(n){return wa(n,cc.store)}function ki(n){return wa(n,c1.store)}function Ls(n){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,$e.Z)(function*(n){if(n.code!==He.FAILED_PRECONDITION||n.message!==A_)throw n;ht("LocalStore","Unexpectedly lost primary lease")}),Dm.apply(this,arguments)}function Dw([n,e],[t,r]){const s=Rn(n,t);return 0===s?Rn(e,r):s}class zw{constructor(e){this.ue=e,this.buffer=new Pr(Dw),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Dw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class L_{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;ht("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,$e.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){Fu(s)?ht("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Ls(s)}yield t._e(e)}))}}class Dd{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return nt.resolve(_a.T);const r=new zw(t);return this.me.forEachTarget(e,s=>r.fe(s.sequenceNumber)).next(()=>this.me.ye(e,s=>r.fe(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(Tw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tw):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,s,p,v,C,A,P;const B=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(G=>(G>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${G}`),s=this.params.maximumSequenceNumbersToCollect):s=G,v=Date.now(),this.nthSequenceNumber(e,s))).next(G=>(r=G,C=Date.now(),this.removeTargets(e,r,t))).next(G=>(p=G,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(G=>(P=Date.now(),Jv()<=Qc.in.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-B}ms\n\tDetermined least recently used ${s} in `+(C-v)+`ms\n\tRemoved ${p} targets in `+(A-C)+`ms\n\tRemoved ${G} documents in `+(P-A)+`ms\nTotal Duration: ${P-B}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:p,documentsRemoved:G})))}}class M7{constructor(e,t){this.db=e,this.garbageCollector=new Dd(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,s)=>t(s))}addReference(e,t,r){return zm(e,r)}removeReference(e,t,r){return zm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return zm(e,t)}Ie(e,t){return function(r,s){let p=!1;return N_(r).jt(v=>Im(r,v,s).next(C=>(C&&(p=!0),nt.resolve(!C)))).next(()=>p)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let p=0;return this.Ee(e,(v,C)=>{if(C<=t){const A=this.Ie(e,v).next(P=>{if(!P)return p++,r.getEntry(e,v).next(()=>(r.removeEntry(v),ki(e).delete([0,y2(v.path)])))});s.push(A)}}).next(()=>nt.waitFor(s)).next(()=>r.apply(e)).next(()=>p)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return zm(e,t)}Ee(e,t){const r=ki(e);let s,p=_a.T;return r.Kt({index:c1.documentTargetsIndex},([v,C],{path:A,sequenceNumber:P})=>{0===v?(p!==_a.T&&t(new Vt(ac(s)),p),p=P,s=A):p=_a.T}).next(()=>{p!==_a.T&&t(new Vt(ac(s)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function zm(n,e){return ki(n).put((r=n.currentSequenceNumber,new c1(0,y2(e.path),r)));var r}class lc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,p]of r)if(this.equalsFn(s,e))return p}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s){for(let p=0;p<s.length;p++)if(this.equalsFn(s[p][0],e))return void(s[p]=[e,t]);s.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),!0;return!1}forEach(e){hd(this.inner,(t,r)=>{for(const[s,p]of r)e(s,p)})}isEmpty(){return fd(this.inner)}}class Nw{constructor(){this.changes=new lc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:yn.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:nr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?nt.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lw{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return h4(e).put(E7(t),r)}removeEntry(e,t){const r=h4(e),s=E7(t);return r.delete(s)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return h4(e).get(E7(t)).next(r=>this.Re(t,r))}be(e,t){return h4(e).get(E7(t)).next(r=>({document:this.Re(t,r),size:k7(r)}))}getEntries(e,t){let r=sc();return this.Pe(e,t,(s,p)=>{const v=this.Re(s,p);r=r.insert(s,v)}).next(()=>r)}ve(e,t){let r=sc(),s=new Wo(Vt.comparator);return this.Pe(e,t,(p,v)=>{const C=this.Re(p,v);r=r.insert(p,C),s=s.insert(p,k7(v))}).next(()=>({documents:r,Ve:s}))}Pe(e,t,r){if(t.isEmpty())return nt.resolve();const s=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),p=t.getIterator();let v=p.getNext();return h4(e).Kt({range:s},(C,A,P)=>{const B=Vt.fromSegments(C);for(;v&&Vt.comparator(v,B)<0;)r(v,null),v=p.getNext();v&&v.isEqual(B)&&(r(v,A),v=p.hasNext()?p.getNext():null),v?P.Mt(v.path.toArray()):P.done()}).next(()=>{for(;v;)r(v,null),v=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,t,r){let s=sc();const p=t.path.length+1,v={};if(r.isEqual(yn.min())){const C=t.path.toArray();v.range=IDBKeyRange.lowerBound(C)}else{const C=t.path.toArray(),A=z_(r);v.range=IDBKeyRange.lowerBound([C,A],!0),v.index=co.collectionReadTimeIndex}return h4(e).Kt(v,(C,A,P)=>{if(C.length!==p)return;const B=D_(this.N,A);t.path.isPrefixOf(B.key.path)?mm(t,B)&&(s=s.insert(B.key,B)):P.done()}).next(()=>s)}newChangeBuffer(e){return new P_(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return zd(e).get(b2.key).next(t=>(Xt(!!t),t))}Ae(e,t){return zd(e).put(b2.key,t)}Re(e,t){if(t){const r=D_(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(yn.min()))return r}return nr.newInvalidDocument(e)}}class P_ extends Nw{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new lc(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Pr((p,v)=>Rn(p.canonicalString(),v.canonicalString()));return this.changes.forEach((p,v)=>{const C=this.De.get(p);if(v.document.isValidDocument()){const A=Ew(this.Se.N,v.document,this.getReadTime(p));s=s.add(p.path.popLast()),r+=k7(A)-C,t.push(this.Se.addEntry(e,p,A))}else if(r-=C,this.trackRemovals){const A=Ew(this.Se.N,nr.newNoDocument(p,yn.min()),this.getReadTime(p));t.push(this.Se.addEntry(e,p,A))}else t.push(this.Se.removeEntry(e,p))}),s.forEach(p=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,p))}),t.push(this.Se.updateMetadata(e,r)),nt.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:s})=>(s.forEach((p,v)=>{this.De.set(p,v)}),r))}}function zd(n){return wa(n,b2.store)}function h4(n){return wa(n,co.store)}function E7(n){return n.path.toArray()}class Nd{constructor(e){this.N=e}Ct(e,t,r,s){Xt(r<s&&r>=0&&s<=11);const p=new Sm("createOrUpgrade",t);var C;r<1&&s>=1&&(e.createObjectStore(N1.store),(C=e).createObjectStore(x3.store,{keyPath:x3.keyPath}),C.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0}),C.createObjectStore(L1.store),Pw(e),function(C){C.createObjectStore(co.store)}(e));let v=nt.resolve();return r<3&&s>=3&&(0!==r&&(function(C){C.deleteObjectStore(c1.store),C.deleteObjectStore(ba.store),C.deleteObjectStore(cc.store)}(e),Pw(e)),v=v.next(()=>function(C){const A=C.store(cc.store),P=new cc(0,0,yn.min().toTimestamp(),0);return A.put(cc.key,P)}(p))),r<4&&s>=4&&(0!==r&&(v=v.next(()=>function(C,A){return A.store(bn.store).Lt().next(P=>{C.deleteObjectStore(bn.store),C.createObjectStore(bn.store,{keyPath:bn.keyPath,autoIncrement:!0}).createIndex(bn.userMutationsIndex,bn.userMutationsKeyPath,{unique:!0});const B=A.store(bn.store),G=P.map(re=>B.put(re));return nt.waitFor(G)})}(e,p))),v=v.next(()=>{!function(C){C.createObjectStore(A3.store,{keyPath:A3.keyPath})}(e)})),r<5&&s>=5&&(v=v.next(()=>this.Ce(p))),r<6&&s>=6&&(v=v.next(()=>(function(C){C.createObjectStore(b2.store)}(e),this.Ne(p)))),r<7&&s>=7&&(v=v.next(()=>this.xe(p))),r<8&&s>=8&&(v=v.next(()=>this.ke(e,p))),r<9&&s>=9&&(v=v.next(()=>{(function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")})(e),function(C){const A=C.objectStore(co.store);A.createIndex(co.readTimeIndex,co.readTimeIndexPath,{unique:!1}),A.createIndex(co.collectionReadTimeIndex,co.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&s>=10&&(v=v.next(()=>this.$e(p))),r<11&&s>=11&&(v=v.next(()=>{(function(C){C.createObjectStore(Md.store,{keyPath:Md.keyPath})})(e),function(C){C.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(e)})),v}Ne(e){let t=0;return e.store(co.store).Kt((r,s)=>{t+=k7(s)}).next(()=>{const r=new b2(t);return e.store(b2.store).put(b2.key,r)})}Ce(e){const t=e.store(x3.store),r=e.store(bn.store);return t.Lt().next(s=>nt.forEach(s,p=>{const v=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return r.Lt(bn.userMutationsIndex,v).next(C=>nt.forEach(C,A=>{Xt(A.userId===p.userId);const P=T3(this.N,A);return Iw(e,p.userId,P).next(()=>{})}))}))}xe(e){const t=e.store(c1.store),r=e.store(co.store);return e.store(cc.store).get(cc.key).next(s=>{const p=[];return r.Kt((v,C)=>{const A=new oi(v),P=[0,y2(A)];p.push(t.get(P).next(B=>B?nt.resolve():t.put(new c1(0,y2(A),s.highestListenSequenceNumber))))}).next(()=>nt.waitFor(p))})}ke(e,t){e.createObjectStore(t6.store,{keyPath:t6.keyPath});const r=t.store(t6.store),s=new ln,p=v=>{if(s.add(v)){const C=v.lastSegment(),A=v.popLast();return r.put({collectionId:C,parent:y2(A)})}};return t.store(co.store).Kt({qt:!0},(v,C)=>{const A=new oi(v);return p(A.popLast())}).next(()=>t.store(L1.store).Kt({qt:!0},([v,C,A],P)=>{const B=ac(C);return p(B.popLast())}))}$e(e){const t=e.store(ba.store);return t.Kt((r,s)=>{const p=Tm(s),v=Ad(this.N,p);return t.put(v)})}}function Pw(n){n.createObjectStore(c1.store,{keyPath:c1.keyPath}).createIndex(c1.documentTargetsIndex,c1.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(ba.store,{keyPath:ba.keyPath}).createIndex(ba.queryTargetsIndexName,ba.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(cc.store)}const Ld="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nm{constructor(e,t,r,s,p,v,C,A,P,B){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=p,this.window=v,this.document=C,this.Fe=P,this.Me=B,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=G=>Promise.resolve(),!Nm.bt())throw new st(He.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new M7(this,s),this.We=t+"main",this.N=new Mw(A),this.Ge=new pl(this.We,11,new Nd(this.N)),this.ze=new IM(this.referenceDelegate,this.N),this.Ht=new Aw,this.He=new Lw(this.N,this.Ht),this.Je=new r6,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===B&&Gr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(He.FAILED_PRECONDITION,Ld);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new _a(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,$e.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,$e.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,$e.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>x7(e).put(new A3(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(Fu(e))return ht("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ht("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return Pd(e).get(N1.key).next(t=>nt.resolve(this.an(t)))}un(e){return x7(e).delete(this.clientId)}hn(){var e=this;return(0,$e.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=wa(r,A3.store);return s.Lt().next(p=>{const v=e.fn(p,18e5),C=p.filter(A=>-1===v.indexOf(A));return nt.forEach(C,A=>s.delete(A.clientId)).next(()=>C)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?nt.resolve(!0):Pd(e).get(N1.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new st(He.FAILED_PRECONDITION,Ld);return!1}}return!(!this.networkEnabled||!this.inForeground)||x7(e).Lt().next(r=>void 0===this.fn(r,5e3).find(s=>{if(this.clientId!==s.clientId){const v=!this.inForeground&&s.inForeground,C=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||v&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ht("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,$e.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[N1.store,A3.store],t=>{const r=new Cw(t,_a.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>x7(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return Ca.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let p;return ht("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",TM,v=>(p=new Cw(v,this.Le?this.Le.next():_a.T),"readwrite-primary"===t?this.sn(p).next(C=>!!C||this.rn(p)).next(C=>{if(!C)throw Gr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new st(He.FAILED_PRECONDITION,A_);return r(p)}).next(C=>this.cn(p).next(()=>C)):this.Tn(p).next(()=>r(p)))).then(v=>(p.raiseOnCommittedEvent(),v))}Tn(e){return Pd(e).get(N1.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new st(He.FAILED_PRECONDITION,Ld)})}cn(e){const t=new N1(this.clientId,this.allowTabSynchronization,Date.now());return Pd(e).put(N1.key,t)}static bt(){return pl.bt()}on(e){const t=Pd(e);return t.get(N1.key).next(r=>this.an(r)?(ht("IndexedDbPersistence","Releasing primary lease."),t.delete(N1.key)):nt.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(Gr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,zn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return ht("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Gr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Gr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pd(n){return wa(n,N1.store)}function x7(n){return wa(n,A3.store)}function Rd(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DM{constructor(e,t){this.progress=e,this.En=t}}class Lm{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(s=>{for(const p of r)p.applyToLocalView(s);return s})}bn(e,t){e.forEach((r,s)=>{for(const p of t)p.applyToLocalView(s)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Vt.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Vn(e,t.path):hm(t)?this.Sn(e,t,r):this.Dn(e,t,r);var s}Vn(e,t){return this.An(e,new Vt(t)).next(r=>{let s=__();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}Sn(e,t,r){const s=t.collectionGroup;let p=__();return this.Ht.getCollectionParents(e,s).next(v=>nt.forEach(v,C=>{const A=(P=t,B=C.child(s),new X0(B,null,P.explicitOrderBy.slice(),P.filters.slice(),P.limit,P.limitType,P.startAt,P.endAt));var P,B;return this.Dn(e,A,r).next(P=>{P.forEach((B,G)=>{p=p.insert(B,G)})})}).next(()=>p))}Dn(e,t,r){let s,p;return this.He.getDocumentsMatchingQuery(e,t,r).next(v=>(s=v,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(v=>(p=v,this.Cn(e,p,s).next(C=>{s=C;for(const A of p)for(const P of A.mutations){const B=P.key;let G=s.get(B);null==G&&(G=nr.newInvalidDocument(B),s=s.insert(B,G)),f_(P,G,A.localWriteTime),G.isFoundDocument()||(s=s.remove(B))}}))).next(()=>(s.forEach((v,C)=>{mm(t,C)||(s=s.remove(v))}),s))}Cn(e,t,r){let s=Si();for(const v of t)for(const C of v.mutations)C instanceof bo&&null===r.get(C.key)&&(s=s.add(C.key));let p=r;return this.He.getEntries(e,s).next(v=>(v.forEach((C,A)=>{A.isFoundDocument()&&(p=p.insert(C,A))}),p))}}class A7{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=s}static kn(e,t){let r=Si(),s=Si();for(const p of t.docChanges)switch(p.type){case 0:r=r.add(p.doc.key);break;case 1:s=s.add(p.doc.key)}return new A7(e,t.fromCache,r,s)}}class zM{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,s){return 0===(p=t).filters.length&&null===p.limit&&null==p.startAt&&null==p.endAt&&(0===p.explicitOrderBy.length||1===p.explicitOrderBy.length&&p.explicitOrderBy[0].field.isKeyField())||r.isEqual(yn.min())?this.Fn(e,t):this.On.Pn(e,s).next(p=>{const v=this.Mn(t,p);return(dm(t)||o_(t))&&this.Ln(t.limitType,v,s,r)?this.Fn(e,t):(Jv()<=Qc.in.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),pm(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(C=>(v.forEach(A=>{C=C.insert(A.key,A)}),C)))});var p}Mn(e,t){let r=new Pr(a_(e));return t.forEach((s,p)=>{mm(e,p)&&(r=r.add(p))}),r}Ln(e,t,r,s){if(r.size!==t.size)return!0;const p="F"===e?t.last():t.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(s)>0)}Fn(e,t){return Jv()<=Qc.in.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",pm(t)),this.On.getDocumentsMatchingQuery(e,t,yn.min())}}class $A{constructor(e,t,r,s){this.persistence=e,this.Bn=t,this.N=s,this.Un=new Wo(Rn),this.qn=new lc(p=>f7(p),p7),this.Kn=yn.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new Lm(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function un(n,e,t,r){return new $A(n,e,t,r)}function NM(n,e){return Rw.apply(this,arguments)}function Rw(){return Rw=(0,$e.Z)(function*(n,e){const t=bt(n);let r=t.In,s=t.Qn;const p=yield t.persistence.runTransaction("Handle user change","readonly",v=>{let C;return t.In.getAllMutationBatches(v).next(A=>(C=A,r=t.persistence.getMutationQueue(e),s=new Lm(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(v))).next(A=>{const P=[],B=[];let G=Si();for(const re of C){P.push(re.batchId);for(const ae of re.mutations)G=G.add(ae.key)}for(const re of A){B.push(re.batchId);for(const ae of re.mutations)G=G.add(ae.key)}return s.Pn(v,G).next(re=>({Wn:re,removedBatchIds:P,addedBatchIds:B}))})});return t.In=r,t.Qn=s,t.Bn.$n(t.Qn),p}),Rw.apply(this,arguments)}function GA(n,e){const t=bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),p=t.jn.newChangeBuffer({trackRemovals:!0});return function(v,C,A,P){const B=A.batch,G=B.keys();let re=nt.resolve();return G.forEach(ae=>{re=re.next(()=>P.getEntry(C,ae)).next(ge=>{const Te=A.docVersions.get(ae);Xt(null!==Te),ge.version.compareTo(Te)<0&&(B.applyToRemoteDocument(ge,A),ge.isValidDocument()&&P.addEntry(ge,A.commitVersion))})}),re.next(()=>v.In.removeMutationBatch(C,B))}(t,r,e,p).next(()=>p.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,s))})}function Ow(n){const e=bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function LM(n,e){const t=bt(n),r=e.snapshotVersion;let s=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const v=t.jn.newChangeBuffer({trackRemovals:!0});s=t.Un;const C=[];e.targetChanges.forEach((P,B)=>{const G=s.get(B);if(!G)return;C.push(t.ze.removeMatchingKeys(p,P.removedDocuments,B).next(()=>t.ze.addMatchingKeys(p,P.addedDocuments,B)));const re=P.resumeToken;if(re.approximateByteSize()>0){const ae=G.withResumeToken(re,r).withSequenceNumber(p.currentSequenceNumber);s=s.insert(B,ae),ge=G,Oe=P,Xt((Te=ae).resumeToken.approximateByteSize()>0),(0===ge.resumeToken.approximateByteSize()||Te.snapshotVersion.toMicroseconds()-ge.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&C.push(t.ze.updateTargetData(p,ae))}var ge,Te,Oe});let A=sc();if(e.documentUpdates.forEach((P,B)=>{e.resolvedLimboDocuments.has(P)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(p,P))}),C.push(Vw(p,v,e.documentUpdates,r,void 0).next(P=>{A=P})),!r.isEqual(yn.min())){const P=t.ze.getLastRemoteSnapshotVersion(p).next(B=>t.ze.setTargetsMetadata(p,p.currentSequenceNumber,r));C.push(P)}return nt.waitFor(C).next(()=>v.apply(p)).next(()=>t.Qn.vn(p,A)).next(()=>A)}).then(p=>(t.Un=s,p))}function Vw(n,e,t,r,s){let p=Si();return t.forEach(v=>p=p.add(v)),e.getEntries(n,p).next(v=>{let C=sc();return t.forEach((A,P)=>{const B=v.get(A),G=(null==s?void 0:s.get(A))||r;P.isNoDocument()&&P.version.isEqual(yn.min())?(e.removeEntry(A,G),C=C.insert(A,P)):!B.isValidDocument()||P.version.compareTo(B.version)>0||0===P.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(P,G),C=C.insert(A,P)):ht("LocalStore","Ignoring outdated watch update for ",A,". Current version:",B.version," Watch version:",P.version)}),C})}function PM(n,e){const t=bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Od(n,e){const t=bt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ze.getTargetData(r,e).next(p=>p?(s=p,nt.resolve(s)):t.ze.allocateTargetId(r).next(v=>(s=new i6(e,v,0,r.currentSequenceNumber),t.ze.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Un.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function l1(n,e,t){return R_.apply(this,arguments)}function R_(){return R_=(0,$e.Z)(function*(n,e,t){const r=bt(n),s=r.Un.get(e),p=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",p,v=>r.persistence.referenceDelegate.removeTarget(v,s)))}catch(v){if(!Fu(v))throw v;ht("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}r.Un=r.Un.remove(e),r.qn.delete(s.target)}),R_.apply(this,arguments)}function Pm(n,e,t){const r=bt(n);let s=yn.min(),p=Si();return r.persistence.runTransaction("Execute query","readonly",v=>function(C,A,P){const B=bt(C),G=B.qn.get(P);return void 0!==G?nt.resolve(B.Un.get(G)):B.ze.getTargetData(A,P)}(r,v,oc(e)).next(C=>{if(C)return s=C.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(v,C.targetId).next(A=>{p=A})}).next(()=>r.Bn.getDocumentsMatchingQuery(v,e,t?s:yn.min(),t?p:Si())).next(C=>({documents:C,Gn:p})))}function Fw(n,e){const t=bt(n),r=bt(t.ze),s=t.Un.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",p=>r.Tt(p,e).next(v=>v?v.target:null))}function Hw(n){const e=bt(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,s,p){const v=bt(r);let C=sc(),A=z_(p);const P=h4(s),B=IDBKeyRange.lowerBound(A,!0);return P.Kt({index:co.readTimeIndex,range:B},(G,re)=>{const ae=D_(v.N,re);C=C.insert(ae.key,ae),A=re.readTime}).next(()=>({En:C,readTime:xw(A)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function O_(){return O_=(0,$e.Z)(function*(n){const e=bt(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const s=h4(r);let p=yn.min();return s.Kt({index:co.readTimeIndex,reverse:!0},(v,C,A)=>{C.readTime&&(p=xw(C.readTime)),A.done()}).next(()=>p)}(t)).then(t=>{e.Kn=t})}),O_.apply(this,arguments)}function V_(){return V_=(0,$e.Z)(function*(n,e,t,r){const s=bt(n);let p=Si(),v=sc(),C=cw();for(const B of t){const G=e.zn(B.metadata.name);B.document&&(p=p.add(G)),v=v.insert(G,e.Hn(B)),C=C.insert(G,e.Jn(B.metadata.readTime))}const A=s.jn.newChangeBuffer({trackRemovals:!0}),P=yield Od(s,(B=r,oc(m7(oi.fromString(`__bundle__/docs/${B}`)))));var B;return s.persistence.runTransaction("Apply bundle documents","readwrite",B=>Vw(B,A,v,yn.min(),C).next(G=>(A.apply(B),G)).next(G=>s.ze.removeMatchingKeysForTargetId(B,P.targetId).next(()=>s.ze.addMatchingKeys(B,p,P.targetId)).next(()=>s.Qn.vn(B,G)).next(()=>G)))}),V_.apply(this,arguments)}function WA(n,e){return Bw.apply(this,arguments)}function Bw(){return Bw=(0,$e.Z)(function*(n,e,t=Si()){const r=yield Od(n,oc(li(e.bundledQuery))),s=bt(n);return s.persistence.runTransaction("Save named query","readwrite",p=>{const v=Yo(e.readTime);if(r.snapshotVersion.compareTo(v)>=0)return s.Je.saveNamedQuery(p,e);const C=r.withResumeToken(yo.EMPTY_BYTE_STRING,v);return s.Un=s.Un.insert(C.targetId,C),s.ze.updateTargetData(p,C).next(()=>s.ze.removeMatchingKeysForTargetId(p,r.targetId)).next(()=>s.ze.addMatchingKeys(p,t,r.targetId)).next(()=>s.Je.saveNamedQuery(p,e))})}),Bw.apply(this,arguments)}class OM{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return nt.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Yo(r.createTime)}),nt.resolve()}getNamedQuery(e,t){return nt.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:li(r.bundledQuery),readTime:Yo(r.readTime)}),nt.resolve();var r}}class hs{constructor(){this.Zn=new Pr(fs.ts),this.es=new Pr(fs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new fs(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new fs(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Vt(new oi([])),r=new fs(t,e),s=new fs(t,e+1),p=[];return this.es.forEachInRange([r,s],v=>{this.rs(v),p.push(v.key)}),p}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Vt(new oi([])),r=new fs(t,e),s=new fs(t,e+1);let p=Si();return this.es.forEachInRange([r,s],v=>{p=p.add(v.key)}),p}containsKey(e){const t=new fs(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class fs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Vt.comparator(e.key,t.key)||Rn(e.ls,t.ls)}static ns(e,t){return Rn(e.ls,t.ls)||Vt.comparator(e.key,t.key)}}class VM{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Pr(fs.ts)}checkEmpty(e){return nt.resolve(0===this.In.length)}addMutationBatch(e,t,r,s){const p=this.fs;this.fs++;const v=new kw(p,t,r,s);this.In.push(v);for(const C of s)this.ds=this.ds.add(new fs(C.key,p)),this.Ht.addToCollectionParentIndex(e,C.key.path.popLast());return nt.resolve(v)}lookupMutationBatch(e,t){return nt.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const s=this._s(t+1),p=s<0?0:s;return nt.resolve(this.In.length>p?this.In[p]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return nt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new fs(t,0),s=new fs(t,Number.POSITIVE_INFINITY),p=[];return this.ds.forEachInRange([r,s],v=>{const C=this.ws(v.ls);p.push(C)}),nt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pr(Rn);return t.forEach(s=>{const p=new fs(s,0),v=new fs(s,Number.POSITIVE_INFINITY);this.ds.forEachInRange([p,v],C=>{r=r.add(C.ls)})}),nt.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let p=r;Vt.isDocumentKey(p)||(p=p.child(""));const v=new fs(new Vt(p),0);let C=new Pr(Rn);return this.ds.forEachWhile(A=>{const P=A.key.path;return!!r.isPrefixOf(P)&&(P.length===s&&(C=C.add(A.ls)),!0)},v),nt.resolve(this.gs(C))}gs(e){const t=[];return e.forEach(r=>{const s=this.ws(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Xt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return nt.forEach(t.mutations,s=>{const p=new fs(s.key,t.batchId);return r=r.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new fs(t,0),s=this.ds.firstAfterOrEqual(r);return nt.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return nt.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class F_{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new Wo(Vt.comparator),this.size=0}addEntry(e,t,r){const s=t.key,p=this.docs.get(s),v=p?p.size:0,C=this.ps(t);return this.docs=this.docs.insert(s,{document:t.clone(),size:C,readTime:r}),this.size+=C-v,this.Ht.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return nt.resolve(r?r.document.clone():nr.newInvalidDocument(t))}getEntries(e,t){let r=sc();return t.forEach(s=>{const p=this.docs.get(s);r=r.insert(s,p?p.document.clone():nr.newInvalidDocument(s))}),nt.resolve(r)}getDocumentsMatchingQuery(e,t,r){let s=sc();const p=new Vt(t.path.child("")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:C,value:{document:A,readTime:P}}=v.getNext();if(!t.path.isPrefixOf(C.path))break;P.compareTo(r)<=0||mm(t,A)&&(s=s.insert(A.key,A.clone()))}return nt.resolve(s)}Ts(e,t){return nt.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new FM(this)}getSize(e){return nt.resolve(this.size)}}class FM extends Nw{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.document.isValidDocument()?t.push(this.Se.addEntry(e,s.document,this.getReadTime(r))):this.Se.removeEntry(r)}),nt.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class HM{constructor(e){this.persistence=e,this.Es=new lc(t=>f7(t),p7),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.Is=0,this.As=new hs,this.targetCount=0,this.Rs=Td.se()}forEachTarget(e,t){return this.Es.forEach((r,s)=>t(s)),nt.resolve()}getLastRemoteSnapshotVersion(e){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return nt.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),nt.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Td(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,nt.resolve()}updateTargetData(e,t){return this.ce(t),nt.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,nt.resolve()}removeTargets(e,t,r){let s=0;const p=[];return this.Es.forEach((v,C)=>{C.sequenceNumber<=t&&null===r.get(C.targetId)&&(this.Es.delete(v),p.push(this.removeMatchingKeysForTargetId(e,C.targetId)),s++)}),nt.waitFor(p).next(()=>s)}getTargetCount(e){return nt.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return nt.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),nt.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const s=this.persistence.referenceDelegate,p=[];return s&&t.forEach(v=>{p.push(s.markPotentiallyOrphaned(e,v))}),nt.waitFor(p)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),nt.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return nt.resolve(r)}containsKey(e,t){return nt.resolve(this.As.containsKey(t))}}class BM{constructor(e,t){this.bs={},this.Le=new _a(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new HM(this),this.Ht=new qA,this.He=new F_(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new Mw(t),this.Je=new OM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new VM(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){ht("MemoryPersistence","Starting transaction:",e);const s=new jM(this.Le.next());return this.referenceDelegate.vs(),r(s).next(p=>this.referenceDelegate.Vs(s).next(()=>p)).toPromise().then(p=>(s.raiseOnCommittedEvent(),p))}Ss(e,t){return nt.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class jM extends S_{constructor(e){super(),this.currentSequenceNumber=e}}class H_{constructor(e){this.persistence=e,this.Ds=new hs,this.Cs=null}static Ns(e){return new H_(e)}get xs(){if(this.Cs)return this.Cs;throw Ot()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),nt.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),nt.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),nt.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(s=>this.xs.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(p=>this.xs.add(p.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.xs,r=>{const s=Vt.fromPath(r);return this.ks(e,s).next(p=>{p||t.removeEntry(s)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return nt.or([()=>nt.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function jw(n,e){return`firestore_clients_${n}_${e}`}function Rm(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function B_(n,e){return`firestore_targets_${n}_${e}`}class Om{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static $s(e,t,r){const s=JSON.parse(r);let p,v="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return v&&s.error&&(v="string"==typeof s.error.message&&"string"==typeof s.error.code,v&&(p=new st(s.error.code,s.error.message))),v?new Om(e,t,s.state,p):(Gr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Vd{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let s,p="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return p&&r.error&&(p="string"==typeof r.error.message&&"string"==typeof r.error.code,p&&(s=new st(r.error.code,r.error.message))),p?new Vd(e,r.state,s):(Gr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Fd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,p=Cm();for(let v=0;s&&v<r.activeTargetIds.length;++v)s=e_(r.activeTargetIds[v]),p=p.add(r.activeTargetIds[v]);return s?new Fd(e,p):(Gr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class j_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new j_(t.clientId,t.onlineState):(Gr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Uw{constructor(){this.activeTargetIds=Cm()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U_{constructor(e,t,r,s,p){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Wo(Rn),this.started=!1,this.Ks=[];const v=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.js=jw(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Uw),this.Ws=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(C){return`firestore_bundle_loaded_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,$e.Z)(function*(){const t=yield e.syncEngine.pn();for(const s of t){if(s===e.Ls)continue;const p=e.getItem(jw(e.persistenceKey,s));if(p){const v=Fd.$s(s,p);v&&(e.qs=e.qs.insert(v.clientId,v))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const s=e.Xs(r);s&&e.Zs(s)}for(const s of e.Ks)e.Us(s);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(B_(this.persistenceKey,e));if(r){const s=Vd.$s(e,r);s&&(t=s.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(B_(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.ni(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ht("SharedClientState","READ",e,t),t}setItem(e,t){ht("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ht("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ht("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void Gr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,$e.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const s=t.ci(r.key);return t.ai(s,null)}{const s=t.ui(r.key,r.newValue);if(s)return t.ai(s.clientId,s)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const s=t.hi(r.key,r.newValue);if(s)return t.li(s)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const s=t.fi(r.key,r.newValue);if(s)return t.di(s)}}else if(r.key===t.Hs){if(null!==r.newValue){const s=t.Xs(r.newValue);if(s)return t.Zs(s)}}else if(r.key===t.Qs){const s=function(p){let v=_a.T;if(null!=p)try{const C=JSON.parse(p);Xt("number"==typeof C),v=C}catch(C){Gr("SharedClientState","Failed to read sequence number from WebStorage",C)}return v}(r.newValue);s!==_a.T&&t.sequenceNumberHandler(s)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const s=new Om(this.currentUser,e,t,r),p=Rm(this.persistenceKey,this.currentUser,e);this.setItem(p,s.Os())}ni(e){const t=Rm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const s=B_(this.persistenceKey,e),p=new Vd(e,t,r);this.setItem(s,p.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return Fd.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),s=Number(r[1]);return Om.$s(new us(void 0!==r[2]?r[2]:null),s,t)}fi(e,t){const r=this.zs.exec(e),s=Number(r[1]);return Vd.$s(s,t)}Xs(e){return j_.$s(e)}li(e){var t=this;return(0,$e.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);ht("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),s=this.ti(this.qs),p=this.ti(r),v=[],C=[];return p.forEach(A=>{s.has(A)||v.push(A)}),s.forEach(A=>{p.has(A)||C.push(A)}),this.syncEngine.gi(v,C).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Cm();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class qw{constructor(){this.yi=new Uw,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new Uw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class UM{Ti(e){}shutdown(){}}class $w{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){ht("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){ht("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class $M{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class T7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,s){const p=this.Bi(e,t);ht("RestConnection","Sending: ",p,r);const v={};return this.Ui(v,s),this.qi(e,p,v,r).then(C=>(ht("RestConnection","Received: ",C),C),C=>{throw Pu("RestConnection",`${e} failed with error: `,C,"url: ",p,"request:",r),C})}Ki(e,t,r,s){return this.Li(e,t,r,s)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+K0,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${qM[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,s){return new Promise((p,v)=>{const C=new Uk;C.listenOnce(jk.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case dd.NO_ERROR:const P=C.getResponseJson();ht("Connection","XHR received:",JSON.stringify(P)),p(P);break;case dd.TIMEOUT:ht("Connection",'RPC "'+e+'" timed out'),v(new st(He.DEADLINE_EXCEEDED,"Request time out"));break;case dd.HTTP_ERROR:const B=C.getStatus();if(ht("Connection",'RPC "'+e+'" failed with status:',B,"response text:",C.getResponseText()),B>0){const G=C.getResponseJson().error;if(G&&G.status&&G.message){const re=function(ae){const ge=ae.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(ge)>=0?ge:He.UNKNOWN}(G.status);v(new st(re,G.message))}else v(new st(He.UNKNOWN,"Server responded with status "+C.getStatus()))}else v(new st(He.UNAVAILABLE,"Connection failed."));break;default:Ot()}}finally{ht("Connection",'RPC "'+e+'" completed.')}});const A=JSON.stringify(s);C.send(t,"POST",A,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Hk(),p=Bk(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(v.xmlHttpFactory=new tm({})),this.Ui(v.initMessageHeaders,t),(0,zn.uI)()||(0,zn.b$)()||(0,zn.d)()||(0,zn.w1)()||(0,zn.Mn)()||(0,zn.ru)()||(v.httpHeadersOverwriteParam="$httpHeaders");const C=r.join("");ht("Connection","Creating WebChannel: "+C,v);const A=s.createWebChannel(C,v);let P=!1,B=!1;const G=new $M({vi:ae=>{B?ht("Connection","Not sending because WebChannel is closed:",ae):(P||(ht("Connection","Opening WebChannel transport."),A.open(),P=!0),ht("Connection","WebChannel sending:",ae),A.send(ae))},Vi:()=>A.close()}),re=(ae,ge,Te)=>{ae.listen(ge,Oe=>{try{Te(Oe)}catch(rt){setTimeout(()=>{throw rt},0)}})};return re(A,nm.EventType.OPEN,()=>{B||ht("Connection","WebChannel transport opened.")}),re(A,nm.EventType.CLOSE,()=>{B||(B=!0,ht("Connection","WebChannel transport closed"),G.$i())}),re(A,nm.EventType.ERROR,ae=>{B||(B=!0,Pu("Connection","WebChannel transport errored:",ae),G.$i(new st(He.UNAVAILABLE,"The operation could not be completed")))}),re(A,nm.EventType.MESSAGE,ae=>{var ge;if(!B){const Te=ae.data[0];Xt(!!Te);const Oe=Te,rt=Oe.error||(null===(ge=Oe[0])||void 0===ge?void 0:ge.error);if(rt){ht("Connection","WebChannel received error:",rt);const St=rt.status;let Nt=function(Dn){const en=ao[Dn];if(void 0!==en)return m_(en)}(St),kt=rt.message;void 0===Nt&&(Nt=He.INTERNAL,kt="Unknown error status: "+St+" with message "+rt.message),B=!0,G.$i(new st(Nt,kt)),A.close()}else ht("Connection","WebChannel received:",Te),G.Oi(Te)}}),re(p,RA.STAT_EVENT,ae=>{ae.stat===Fb.PROXY?ht("Connection","Detected buffering proxy"):ae.stat===Fb.NOPROXY&&ht("Connection","Detected no buffering proxy")}),setTimeout(()=>{G.ki()},0),G}}function Gw(){return"undefined"!=typeof window?window:null}function Vm(){return"undefined"!=typeof document?document:null}function Hd(n){return new mM(n,!0)}class ju{constructor(e,t,r=1e3,s=1.5,p=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=s,this.Gi=p,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),s=Math.max(0,t-r);s>0&&ht("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,s,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class GM{constructor(e,t,r,s,p,v,C){this.Oe=e,this.er=r,this.nr=s,this.sr=p,this.credentialsProvider=v,this.listener=C,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new ju(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,$e.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,$e.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,$e.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===He.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===He.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const s=new st(He.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(s)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,$e.Z)(function*(){e.state=0,e.start()}))}Ir(e){return ht("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(ht("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ww extends GM{constructor(e,t,r,s,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,p),this.N=s}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(A=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:Ot(),s=e.targetChange.targetIds||[],p=function(A,P){return A.D?(Xt(void 0===P||"string"==typeof P),yo.fromBase64String(P||"")):(Xt(void 0===P||P instanceof Uint8Array),yo.fromUint8Array(P||new Uint8Array))}(n,e.targetChange.resumeToken),v=e.targetChange.cause,C=v&&function(A){const P=void 0===A.code?He.UNKNOWN:m_(A.code);return new st(P,A.message||"")}(v);t=new uw(r,s,p,C||null)}else if("documentChange"in e){const r=e.documentChange,s=M3(n,r.document.name),p=Yo(r.document.updateTime),v=new Ns({mapValue:{fields:r.document.fields}}),C=nr.newFoundDocument(s,p,v);t=new C7(r.targetIds||[],r.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const r=e.documentDelete,s=M3(n,r.document),p=r.readTime?Yo(r.readTime):yn.min(),v=nr.newNoDocument(s,p);t=new C7([],r.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const r=e.documentRemove,s=M3(n,r.document);t=new C7([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return Ot();{const r=e.filter,p=new aw(r.count||0);t=new lw(r.targetId,p)}}var A;return t}(this.N,e),r=function(s){if(!("targetChange"in s))return yn.min();const p=s.targetChange;return p.targetIds&&p.targetIds.length?yn.min():p.readTime?Yo(p.readTime):yn.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=Em(this.N),t.addTarget=function(s,p){let v;const C=p.target;return v=i_(C)?{documents:wM(s,C)}:{query:CM(s,C)},v.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?v.resumeToken=Cd(s,p.resumeToken):p.snapshotVersion.compareTo(yn.min())>0&&(v.readTime=wd(s,p.snapshotVersion.toTimestamp())),v}(this.N,e);const r=function(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ot()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=Em(this.N),t.removeTarget=e,this.mr(t)}}class WM extends GM{constructor(e,t,r,s,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,p),this.N=s,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Xt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(Xt(void 0!==e),n.map(t=>function(r,s){let p=Yo(r.updateTime?r.updateTime:s);return p.isEqual(yn.min())&&(p=Yo(s)),new lM(p,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Yo(e.commitTime);return this.listener.Dr(r,t)}return Xt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=Em(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Am(this.N,r))};this.mr(t)}}class ZM extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new st(He.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(s=>this.sr.Li(e,t,r,s)).catch(s=>{throw"FirebaseError"===s.name?(s.code===He.UNAUTHENTICATED&&this.credentials.invalidateToken(),s):new st(He.UNKNOWN,s.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(s=>this.sr.Ki(e,t,r,s)).catch(s=>{throw"FirebaseError"===s.name?(s.code===He.UNAUTHENTICATED&&this.credentials.invalidateToken(),s):new st(He.UNKNOWN,s.toString())})}terminate(){this.kr=!0}}class YM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Gr(t),this.Mr=!1):ht("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class KM{constructor(e,t,r,s,p){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=p,this.zr.Ti(C=>{r.enqueueAndForget((0,$e.Z)(function*(){var A;o6(v)&&(ht("RemoteStore","Restarting streams for network reachability change."),yield(A=(0,$e.Z)(function*(P){const B=bt(P);B.Wr.add(4),yield Bd(B),B.Hr.set("Unknown"),B.Wr.delete(4),yield I7(B)}),function(P){return A.apply(this,arguments)})(v))}))}),this.Hr=new YM(r,s)}}function I7(n){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,$e.Z)(function*(n){if(o6(n))for(const e of n.Gr)yield e(!0)}),Fm.apply(this,arguments)}function Bd(n){return q_.apply(this,arguments)}function q_(){return q_=(0,$e.Z)(function*(n){for(const e of n.Gr)yield e(!1)}),q_.apply(this,arguments)}function $_(n,e){const t=bt(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),W_(t)?G_(t):Ud(t).hr()&&Zw(t,e))}function Hm(n,e){const t=bt(n),r=Ud(t);t.Qr.delete(e),r.hr()&&Bm(t,e),0===t.Qr.size&&(r.hr()?r.wr():o6(t)&&t.Hr.set("Unknown"))}function Zw(n,e){n.Jr.Y(e.targetId),Ud(n).br(e)}function Bm(n,e){n.Jr.Y(e),Ud(n).Pr(e)}function G_(n){n.Jr=new hM({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Ud(n).start(),n.Hr.Lr()}function W_(n){return o6(n)&&!Ud(n).ur()&&n.Qr.size>0}function o6(n){return 0===bt(n).Wr.size}function Yw(n){n.Jr=void 0}function QM(n){return Z_.apply(this,arguments)}function Z_(){return Z_=(0,$e.Z)(function*(n){n.Qr.forEach((e,t)=>{Zw(n,e)})}),Z_.apply(this,arguments)}function Kw(n,e){return D7.apply(this,arguments)}function D7(){return D7=(0,$e.Z)(function*(n,e){Yw(n),W_(n)?(n.Hr.qr(e),G_(n)):n.Hr.set("Unknown")}),D7.apply(this,arguments)}function JM(n,e,t){return ps.apply(this,arguments)}function ps(){return ps=(0,$e.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof uw&&2===e.state&&e.cause)try{yield(r=(0,$e.Z)(function*(s,p){const v=p.cause;for(const C of p.targetIds)s.Qr.has(C)&&(yield s.remoteSyncer.rejectListen(C,v),s.Qr.delete(C),s.Jr.removeTarget(C))}),function(s,p){return r.apply(this,arguments)})(n,e)}catch(r){ht("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield z7(n,r)}else if(e instanceof C7?n.Jr.rt(e):e instanceof lw?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(yn.min()))try{const r=yield Ow(n.localStore);t.compareTo(r)>=0&&(yield function(s,p){const v=s.Jr._t(p);return v.targetChanges.forEach((C,A)=>{if(C.resumeToken.approximateByteSize()>0){const P=s.Qr.get(A);P&&s.Qr.set(A,P.withResumeToken(C.resumeToken,p))}}),v.targetMismatches.forEach(C=>{const A=s.Qr.get(C);if(!A)return;s.Qr.set(C,A.withResumeToken(yo.EMPTY_BYTE_STRING,A.snapshotVersion)),Bm(s,C);const P=new i6(A.target,C,1,A.sequenceNumber);Zw(s,P)}),s.remoteSyncer.applyRemoteEvent(v)}(n,t))}catch(r){ht("RemoteStore","Failed to raise snapshot:",r),yield z7(n,r)}var r}),ps.apply(this,arguments)}function z7(n,e,t){return C2.apply(this,arguments)}function C2(){return C2=(0,$e.Z)(function*(n,e,t){if(!Fu(e))throw e;n.Wr.add(1),yield Bd(n),n.Hr.set("Offline"),t||(t=()=>Ow(n.localStore)),n.asyncQueue.enqueueRetryable((0,$e.Z)(function*(){ht("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield I7(n)}))}),C2.apply(this,arguments)}function jm(n,e){return e().catch(t=>z7(n,t,e))}function jd(n){return Um.apply(this,arguments)}function Um(){return Um=(0,$e.Z)(function*(n){const e=bt(n),t=Uu(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;ZA(e);)try{const s=yield PM(e.localStore,r);if(null===s){0===e.jr.length&&t.wr();break}r=s.batchId,XM(e,s)}catch(s){yield z7(e,s)}Qw(e)&&Jw(e)}),Um.apply(this,arguments)}function ZA(n){return o6(n)&&n.jr.length<10}function XM(n,e){n.jr.push(e);const t=Uu(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function Qw(n){return o6(n)&&!Uu(n).ur()&&n.jr.length>0}function Jw(n){Uu(n).start()}function N7(n){return qm.apply(this,arguments)}function qm(){return qm=(0,$e.Z)(function*(n){Uu(n).Nr()}),qm.apply(this,arguments)}function YA(n){return Y_.apply(this,arguments)}function Y_(){return Y_=(0,$e.Z)(function*(n){const e=Uu(n);for(const t of n.jr)e.Sr(t.mutations)}),Y_.apply(this,arguments)}function KA(n,e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=(0,$e.Z)(function*(n,e,t){const r=n.jr.shift(),s=I_.from(r,e,t);yield jm(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield jd(n)}),Xw.apply(this,arguments)}function QA(n,e){return L7.apply(this,arguments)}function L7(){return L7=(0,$e.Z)(function*(n,e){var t;e&&Uu(n).Vr&&(yield(t=(0,$e.Z)(function*(r,s){if(p_(p=s.code)&&p!==He.ABORTED){const v=r.jr.shift();Uu(r).dr(),yield jm(r,()=>r.remoteSyncer.rejectFailedWrite(v.batchId,s)),yield jd(r)}var p}),function(r,s){return t.apply(this,arguments)})(n,e)),Qw(n)&&Jw(n)}),L7.apply(this,arguments)}function K_(n,e){return Q_.apply(this,arguments)}function Q_(){return Q_=(0,$e.Z)(function*(n,e){const t=bt(n);e?(t.Wr.delete(2),yield I7(t)):e||(t.Wr.add(2),yield Bd(t),t.Hr.set("Unknown"))}),Q_.apply(this,arguments)}function Ud(n){return n.Yr||(n.Yr=function(e,t,r){const s=bt(e);return s.$r(),new Ww(t,s.sr,s.credentials,s.N,r)}(n.datastore,n.asyncQueue,{Si:QM.bind(null,n),Ci:Kw.bind(null,n),Rr:JM.bind(null,n)}),n.Gr.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Yr.dr(),W_(n)?G_(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),Yw(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function Uu(n){return n.Xr||(n.Xr=function(e,t,r){const s=bt(e);return s.$r(),new WM(t,s.sr,s.credentials,s.N,r)}(n.datastore,n.asyncQueue,{Si:N7.bind(null,n),Ci:QA.bind(null,n),Cr:YA.bind(null,n),Dr:KA.bind(null,n)}),n.Gr.push(function(){var e=(0,$e.Z)(function*(t){t?(n.Xr.dr(),yield jd(n)):(yield n.Xr.stop(),n.jr.length>0&&(ht("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class J_{constructor(e,t,r,s,p){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=p,this.deferred=new $o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,r,s,p){const v=Date.now()+r,C=new J_(e,t,v,s,p);return C.start(r),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(He.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qd(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),Fu(n))return new st(He.UNAVAILABLE,`${e}: ${n}`);throw n}class $d{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Vt.comparator(t.key,r.key):(t,r)=>Vt.comparator(t.key,r.key),this.keyedMap=__(),this.sortedSet=new Wo(this.comparator)}static emptySet(e){return new $d(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $d)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,p=r.getNext().key;if(!s.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $d;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uc{constructor(){this.Zr=new Wo(Vt.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):Ot():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class P7{constructor(e,t,r,s,p,v,C,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=p,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=A}static fromInitialDocuments(e,t,r,s){const p=[];return t.forEach(v=>{p.push({type:0,doc:v})}),new P7(e,t,$d.emptySet(t),p,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class eC{constructor(){this.no=void 0,this.listeners=[]}}class eE{constructor(){this.queries=new lc(e=>s_(e),_d),this.onlineState="Unknown",this.so=new Set}}function $m(n,e){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,$e.Z)(function*(n,e){const t=bt(n),r=e.query;let s=!1,p=t.queries.get(r);if(p||(s=!0,p=new eC),s)try{p.no=yield t.onListen(r)}catch(v){const C=qd(v,`Initialization of query '${pm(e.query)}' failed`);return void e.onError(C)}t.queries.set(r,p),p.listeners.push(e),e.io(t.onlineState),p.no&&e.ro(p.no)&&Gd(t)}),Gm.apply(this,arguments)}function Wm(n,e){return R7.apply(this,arguments)}function R7(){return R7=(0,$e.Z)(function*(n,e){const t=bt(n),r=e.query;let s=!1;const p=t.queries.get(r);if(p){const v=p.listeners.indexOf(e);v>=0&&(p.listeners.splice(v,1),s=0===p.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),R7.apply(this,arguments)}function X_(n,e){const t=bt(n);let r=!1;for(const s of e){const v=t.queries.get(s.query);if(v){for(const C of v.listeners)C.ro(s)&&(r=!0);v.no=s}}r&&Gd(t)}function ey(n,e,t){const r=bt(n),s=r.queries.get(e);if(s)for(const p of s.listeners)p.onError(t);r.queries.delete(e)}function Gd(n){n.so.forEach(e=>{e.next()})}class Wd{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new P7(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=P7.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class tC{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class ty{constructor(e){this.N=e}zn(e){return M3(this.N,e)}Hn(e){return e.metadata.exists?_M(this.N,e.document,!1):nr.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Yo(e)}}class tE{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=nC(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new ty(this.N);for(const s of e)if(s.metadata.queries){const p=r.zn(s.metadata.name);for(const v of s.metadata.queries){const C=(t.get(v)||Si()).add(p);t.set(v,C)}}return t}complete(){var e=this;return(0,$e.Z)(function*(){const t=yield function(n,e,t,r){return V_.apply(this,arguments)}(e.localStore,new ty(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const s of e.queries)yield WA(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",new DM(Object.assign({},e.progress),t)})()}}function nC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ny{constructor(e){this.key=e}}class iC{constructor(e){this.key=e}}class rC{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=Si(),this.mutatedKeys=Si(),this.Io=a_(e),this.Ao=new $d(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new uc,s=t?t.Ao:this.Ao;let p=t?t.mutatedKeys:this.mutatedKeys,v=s,C=!1;const A=dm(this.query)&&s.size===this.query.limit?s.last():null,P=o_(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((B,G)=>{const re=s.get(B),ae=mm(this.query,G)?G:null,ge=!!re&&this.mutatedKeys.has(re.key),Te=!!ae&&(ae.hasLocalMutations||this.mutatedKeys.has(ae.key)&&ae.hasCommittedMutations);let Oe=!1;re&&ae?re.data.isEqual(ae.data)?ge!==Te&&(r.track({type:3,doc:ae}),Oe=!0):this.vo(re,ae)||(r.track({type:2,doc:ae}),Oe=!0,(A&&this.Io(ae,A)>0||P&&this.Io(ae,P)<0)&&(C=!0)):!re&&ae?(r.track({type:0,doc:ae}),Oe=!0):re&&!ae&&(r.track({type:1,doc:re}),Oe=!0,(A||P)&&(C=!0)),Oe&&(ae?(v=v.add(ae),p=Te?p.add(B):p.delete(B)):(v=v.delete(B),p=p.delete(B)))}),dm(this.query)||o_(this.query))for(;v.size>this.query.limit;){const B=dm(this.query)?v.last():v.first();v=v.delete(B.key),p=p.delete(B.key),r.track({type:1,doc:B})}return{Ao:v,Po:r,Ln:C,mutatedKeys:p}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const p=e.Po.eo();p.sort((P,B)=>function(G,re){const ae=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ot()}};return ae(G)-ae(re)}(P.type,B.type)||this.Io(P.doc,B.doc)),this.Vo(r);const v=t?this.So():[],C=0===this.Eo.size&&this.current?1:0,A=C!==this.To;return this.To=C,0!==p.length||A?{snapshot:new P7(this.query,e.Ao,s,p,e.mutatedKeys,0===C,A,!1),Do:v}:{Do:v}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new uc,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Si(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new iC(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new ny(r))}),t}No(e){this.po=e.Gn,this.Eo=Si();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return P7.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class nE{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class iy{constructor(e){this.key=e,this.ko=!1}}class iE{constructor(e,t,r,s,p,v){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=p,this.maxConcurrentLimboResolutions=v,this.$o={},this.Oo=new lc(C=>s_(C),_d),this.Fo=new Map,this.Mo=new Set,this.Lo=new Wo(Vt.comparator),this.Bo=new Map,this.Uo=new hs,this.qo={},this.Ko=new Map,this.jo=Td.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function R1(n,e){return qu.apply(this,arguments)}function qu(){return qu=(0,$e.Z)(function*(n,e){const t=fy(n);let r,s;const p=t.Oo.get(e);if(p)r=p.targetId,t.sharedClientState.addLocalQueryTarget(r),s=p.view.xo();else{const v=yield Od(t.localStore,oc(e)),C=t.sharedClientState.addLocalQueryTarget(v.targetId);r=v.targetId,s=yield Zd(t,e,r,"current"===C),t.isPrimaryClient&&$_(t.remoteStore,v)}return s}),qu.apply(this,arguments)}function Zd(n,e,t,r){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,$e.Z)(function*(n,e,t,r){n.Wo=(B,G,re)=>{return(ae=(0,$e.Z)(function*(ge,Te,Oe,rt){let St=Te.view.bo(Oe);St.Ln&&(St=yield Pm(ge.localStore,Te.query,!1).then(({documents:Dn})=>Te.view.bo(Dn,St)));const Nt=rt&&rt.targetChanges.get(Te.targetId),kt=Te.view.applyChanges(St,ge.isPrimaryClient,Nt);return cy(ge,Te.targetId,kt.Do),kt.snapshot}),function(ge,Te,Oe,rt){return ae.apply(this,arguments)})(n,B,G,re);var ae};const s=yield Pm(n.localStore,e,!0),p=new rC(e,s.Gn),v=p.bo(s.documents),C=w7.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),A=p.applyChanges(v,n.isPrimaryClient,C);cy(n,t,A.Do);const P=new nE(e,t,p);return n.Oo.set(e,P),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),A.snapshot}),Zm.apply(this,arguments)}function Ym(n,e){return O7.apply(this,arguments)}function O7(){return O7=(0,$e.Z)(function*(n,e){const t=bt(n),r=t.Oo.get(e),s=t.Fo.get(r.targetId);if(s.length>1)return t.Fo.set(r.targetId,s.filter(p=>!_d(p,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield l1(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Hm(t.remoteStore,r.targetId),Kd(t,r.targetId)}).catch(Ls))):(Kd(t,r.targetId),yield l1(t.localStore,r.targetId,!0))}),O7.apply(this,arguments)}function Yd(){return Yd=(0,$e.Z)(function*(n,e,t){const r=py(n);try{const s=yield function(p,v){const C=bt(p),A=Nr.now(),P=v.reduce((G,re)=>G.add(re.key),Si());let B;return C.persistence.runTransaction("Locally write mutations","readwrite",G=>C.Qn.Pn(G,P).next(re=>{B=re;const ae=[];for(const ge of v){const Te=uM(ge,B.get(ge.key));null!=Te&&ae.push(new bo(ge.key,Te,n_(Te.value.mapValue),Go.exists(!0)))}return C.In.addMutationBatch(G,A,ae,v)})).then(G=>(G.applyToLocalDocumentSet(B),{batchId:G.batchId,changes:B}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(p,v,C){let A=p.qo[p.currentUser.toKey()];A||(A=new Wo(Rn)),A=A.insert(v,C),p.qo[p.currentUser.toKey()]=A}(r,s.batchId,t),yield I3(r,s.changes),yield jd(r.remoteStore)}catch(s){const p=qd(s,"Failed to persist write");t.reject(p)}}),Yd.apply(this,arguments)}function sC(n,e){return ry.apply(this,arguments)}function ry(){return ry=(0,$e.Z)(function*(n,e){const t=bt(n);try{const r=yield LM(t.localStore,e);e.targetChanges.forEach((s,p)=>{const v=t.Bo.get(p);v&&(Xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?v.ko=!0:s.modifiedDocuments.size>0?Xt(v.ko):s.removedDocuments.size>0&&(Xt(v.ko),v.ko=!1))}),yield I3(t,r,e)}catch(r){yield Ls(r)}}),ry.apply(this,arguments)}function aC(n,e,t){const r=bt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.Oo.forEach((p,v)=>{const C=v.view.io(e);C.snapshot&&s.push(C.snapshot)}),function(p,v){const C=bt(p);C.onlineState=v;let A=!1;C.queries.forEach((P,B)=>{for(const G of B.listeners)G.io(v)&&(A=!0)}),A&&Gd(C)}(r.eventManager,e),s.length&&r.$o.Rr(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function rE(n,e,t){return Km.apply(this,arguments)}function Km(){return Km=(0,$e.Z)(function*(n,e,t){const r=bt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Bo.get(e),p=s&&s.key;if(p){let v=new Wo(Vt.comparator);v=v.insert(p,nr.newNoDocument(p,yn.min()));const C=Si().add(p),A=new km(yn.min(),new Map,new Pr(Rn),v,C);yield sC(r,A),r.Lo=r.Lo.remove(p),r.Bo.delete(e),Jm(r)}else yield l1(r.localStore,e,!1).then(()=>Kd(r,e,t)).catch(Ls)}),Km.apply(this,arguments)}function oE(n,e){return oy.apply(this,arguments)}function oy(){return oy=(0,$e.Z)(function*(n,e){const t=bt(n),r=e.batch.batchId;try{const s=yield GA(t.localStore,e);ay(t,r,null),sy(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield I3(t,s)}catch(s){yield Ls(s)}}),oy.apply(this,arguments)}function sE(n,e,t){return f4.apply(this,arguments)}function f4(){return f4=(0,$e.Z)(function*(n,e,t){const r=bt(n);try{const s=yield function(p,v){const C=bt(p);return C.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let P;return C.In.lookupMutationBatch(A,v).next(B=>(Xt(null!==B),P=B.keys(),C.In.removeMutationBatch(A,B))).next(()=>C.In.performConsistencyCheck(A)).next(()=>C.Qn.Pn(A,P))})}(r.localStore,e);ay(r,e,t),sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield I3(r,s)}catch(s){yield Ls(s)}}),f4.apply(this,arguments)}function F7(){return F7=(0,$e.Z)(function*(n,e){const t=bt(n);o6(t.remoteStore)||ht("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(p){const v=bt(p);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>v.In.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ko.get(r)||[];s.push(e),t.Ko.set(r,s)}catch(r){const s=qd(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),F7.apply(this,arguments)}function sy(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function ay(n,e,t){const r=bt(n);let s=r.qo[r.currentUser.toKey()];if(s){const p=s.get(e);p&&(t?p.reject(t):p.resolve(),s=s.remove(e)),r.qo[r.currentUser.toKey()]=s}}function Kd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||Qm(n,r)})}function Qm(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(Hm(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),Jm(n))}function cy(n,e,t){for(const r of t)r instanceof ny?(n.Uo.addReference(r.key,e),cC(n,r)):r instanceof iC?(ht("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||Qm(n,r.key)):Ot()}function cC(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(ht("SyncEngine","New document in limbo: "+t),n.Mo.add(r),Jm(n))}function Jm(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Vt(oi.fromString(e)),r=n.jo.next();n.Bo.set(r,new iy(t)),n.Lo=n.Lo.insert(t,r),$_(n.remoteStore,new i6(oc(m7(t.path)),r,2,_a.T))}}function I3(n,e,t){return ly.apply(this,arguments)}function ly(){return ly=(0,$e.Z)(function*(n,e,t){const r=bt(n),s=[],p=[],v=[];var C;r.Oo.isEmpty()||(r.Oo.forEach((C,A)=>{v.push(r.Wo(A,e,t).then(P=>{if(P){r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,P.fromCache?"not-current":"current"),s.push(P);const B=A7.kn(A.targetId,P);p.push(B)}}))}),yield Promise.all(v),r.$o.Rr(s),yield(C=(0,$e.Z)(function*(A,P){const B=bt(A);try{yield B.persistence.runTransaction("notifyLocalViewChanges","readwrite",G=>nt.forEach(P,re=>nt.forEach(re.Nn,ae=>B.persistence.referenceDelegate.addReference(G,re.targetId,ae)).next(()=>nt.forEach(re.xn,ae=>B.persistence.referenceDelegate.removeReference(G,re.targetId,ae)))))}catch(G){if(!Fu(G))throw G;ht("LocalStore","Failed to update sequence numbers: "+G)}for(const G of P){const re=G.targetId;if(!G.fromCache){const ae=B.Un.get(re),Te=ae.withLastLimboFreeSnapshotVersion(ae.snapshotVersion);B.Un=B.Un.insert(re,Te)}}}),function(A,P){return C.apply(this,arguments)})(r.localStore,p))}),ly.apply(this,arguments)}function aE(n,e){return ml.apply(this,arguments)}function ml(){return ml=(0,$e.Z)(function*(n,e){const t=bt(n);if(!t.currentUser.isEqual(e)){ht("SyncEngine","User change. New user:",e.toKey());const r=yield NM(t.localStore,e);t.currentUser=e,(s=t).Ko.forEach(v=>{v.forEach(C=>{C.reject(new st(He.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield I3(t,r.Wn)}var s}),ml.apply(this,arguments)}function H7(n,e){const t=bt(n),r=t.Bo.get(e);if(r&&r.ko)return Si().add(r.key);{let s=Si();const p=t.Fo.get(e);if(!p)return s;for(const v of p){const C=t.Oo.get(v);s=s.unionWith(C.view.Ro)}return s}}function Qd(n,e){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,$e.Z)(function*(n,e){const t=bt(n),r=yield Pm(t.localStore,e.query,!0),s=e.view.No(r);return t.isPrimaryClient&&cy(t,e.targetId,s.Do),s}),Jd.apply(this,arguments)}function Xd(n){return uy.apply(this,arguments)}function uy(){return uy=(0,$e.Z)(function*(n){const e=bt(n);return Hw(e.localStore).then(t=>I3(e,t))}),uy.apply(this,arguments)}function cE(n,e,t,r){return dy.apply(this,arguments)}function dy(){return dy=(0,$e.Z)(function*(n,e,t,r){const s=bt(n),p=yield function(v,C){const A=bt(v),P=bt(A.In);return A.persistence.runTransaction("Lookup mutation documents","readonly",B=>P.Xt(B,C).next(G=>G?A.Qn.Pn(B,G):nt.resolve(null)))}(s.localStore,e);var C;null!==p?("pending"===t?yield jd(s.remoteStore):"acknowledged"===t||"rejected"===t?(ay(s,e,r||null),sy(s,e),C=e,bt(bt(s.localStore).In).te(C)):Ot(),yield I3(s,p)):ht("SyncEngine","Cannot apply mutation batch with id: "+e)}),dy.apply(this,arguments)}function Xm(){return Xm=(0,$e.Z)(function*(n,e){const t=bt(n);if(fy(t),py(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield hy(t,r.toArray());t.Qo=!0,yield K_(t.remoteStore,!0);for(const p of s)$_(t.remoteStore,p)}else if(!1===e&&!1!==t.Qo){const r=[];let s=Promise.resolve();t.Fo.forEach((p,v)=>{t.sharedClientState.isLocalQueryTarget(v)?r.push(v):s=s.then(()=>(Kd(t,v),l1(t.localStore,v,!0))),Hm(t.remoteStore,v)}),yield s,yield hy(t,r),function(p){const v=bt(p);v.Bo.forEach((C,A)=>{Hm(v.remoteStore,A)}),v.Uo.us(),v.Bo=new Map,v.Lo=new Wo(Vt.comparator)}(t),t.Qo=!1,yield K_(t.remoteStore,!1)}}),Xm.apply(this,arguments)}function hy(n,e,t){return eg.apply(this,arguments)}function eg(){return eg=(0,$e.Z)(function*(n,e,t){const r=bt(n),s=[],p=[];for(const v of e){let C;const A=r.Fo.get(v);if(A&&0!==A.length){C=yield Od(r.localStore,oc(A[0]));for(const P of A){const B=r.Oo.get(P),G=yield Qd(r,B);G.snapshot&&p.push(G.snapshot)}}else{const P=yield Fw(r.localStore,v);C=yield Od(r.localStore,P),yield Zd(r,tg(P),v,!1)}s.push(C)}return r.$o.Rr(p),s}),eg.apply(this,arguments)}function tg(n){return ew(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function lE(n){const e=bt(n);return bt(bt(e.localStore).persistence).pn()}function uE(n,e,t,r){return ng.apply(this,arguments)}function ng(){return ng=(0,$e.Z)(function*(n,e,t,r){const s=bt(n);if(s.Qo)ht("SyncEngine","Ignoring unexpected query state notification.");else if(s.Fo.has(e))switch(t){case"current":case"not-current":{const p=yield Hw(s.localStore),v=km.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield I3(s,p,v);break}case"rejected":yield l1(s.localStore,e,!0),Kd(s,e,r);break;default:Ot()}}),ng.apply(this,arguments)}function $u(n,e,t){return B7.apply(this,arguments)}function B7(){return B7=(0,$e.Z)(function*(n,e,t){const r=fy(n);if(r.Qo){for(const s of e){if(r.Fo.has(s)){ht("SyncEngine","Adding an already active target "+s);continue}const p=yield Fw(r.localStore,s),v=yield Od(r.localStore,p);yield Zd(r,tg(p),v.targetId,!1),$_(r.remoteStore,v)}for(const s of t)r.Fo.has(s)&&(yield l1(r.localStore,s,!1).then(()=>{Hm(r.remoteStore,s),Kd(r,s)}).catch(Ls))}}),B7.apply(this,arguments)}function fy(n){const e=bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=sC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=H7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rE.bind(null,e),e.$o.Rr=X_.bind(null,e.eventManager),e.$o.Go=ey.bind(null,e.eventManager),e}function py(n){const e=bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oE.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sE.bind(null,e),e}class dE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,$e.Z)(function*(){t.N=Hd(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return un(this.persistence,new zM,e.initialUser,this.N)}Jo(e){return new BM(H_.Ns,this.N)}Ho(e){return new qw}terminate(){var e=this;return(0,$e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hE extends dE{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,$e.Z)(function*(){yield t().call(r,e),yield function(n){return O_.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield py(r.Zo.syncEngine),yield jd(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return un(this.persistence,new zM,e.initialUser,this.N)}Yo(e){return new L_(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?P1.withCacheSize(this.cacheSizeBytes):P1.DEFAULT;return new Nm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Gw(),Vm(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new qw}}class XA extends hE{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,$e.Z)(function*(){yield t().call(r,e);const s=r.Zo.syncEngine;r.sharedClientState instanceof U_&&(r.sharedClientState.syncEngine={_i:cE.bind(null,s),mi:uE.bind(null,s),gi:$u.bind(null,s),pn:lE.bind(null,s),wi:Xd.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var p=(0,$e.Z)(function*(v){yield function(n,e){return Xm.apply(this,arguments)}(r.Zo.syncEngine,v),r.gcScheduler&&(v&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):v||r.gcScheduler.stop())});return function(v){return p.apply(this,arguments)}}())})()}Ho(e){const t=Gw();if(!U_.bt(t))throw new st(He.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Rd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new U_(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class my{initialize(e,t){var r=this;return(0,$e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>aC(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=aE.bind(null,r.syncEngine),yield K_(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eE}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),r=new T7(e.databaseInfo);return new ZM(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,p=C=>aC(this.syncEngine,C,0),v=$w.bt()?new $w:new UM,new KM(t,r,s,p,v);var t,r,s,p,v}createSyncEngine(e,t){return function(r,s,p,v,C,A,P){const B=new iE(r,s,p,v,C,A);return P&&(B.Qo=!0),B}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,$e.Z)(function*(t){const r=bt(t);ht("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Bd(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function uC(n,e=10240){let t=0;return{read:()=>(0,$e.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,$e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eS{constructor(e,t){this.nc=e,this.N=t,this.metadata=new $o,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,$e.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,$e.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,$e.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),s=Number(r);isNaN(s)&&e.oc(`length string (${r}) is not valid number`);const p=yield e.cc(s);return new tC(JSON.parse(p),t.length+s)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,$e.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,$e.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,$e.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,$e.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new st(He.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,$e.Z)(function*(p,v){const C=bt(p),A=Em(C.N)+"/documents",P={documents:v.map(ae=>Mm(C.N,ae))},B=yield C.Ki("BatchGetDocuments",A,P),G=new Map;B.forEach(ae=>{const ge=function(n,e){return"found"in e?function(t,r){Xt(!!r.found);const s=M3(t,r.found.name),p=Yo(r.found.updateTime),v=new Ns({mapValue:{fields:r.found.fields}});return nr.newFoundDocument(s,p,v)}(n,e):"missing"in e?function(t,r){Xt(!!r.missing),Xt(!!r.readTime);const s=M3(t,r.missing),p=Yo(r.readTime);return nr.newNoDocument(s,p)}(n,e):Ot()}(C.N,ae);G.set(ge.key.toString(),ge)});const re=[];return v.forEach(ae=>{const ge=G.get(ae.toString());Xt(!!ge),re.push(ge)}),re}),function(p,v){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new y7(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,$e.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const p=Vt.fromPath(s);e.mutations.push(new b7(p,e.precondition(p)))}),yield(r=(0,$e.Z)(function*(s,p){const v=bt(s),C=Em(v.N)+"/documents",A={writes:p.map(P=>Am(v.N,P))};yield v.Li("Commit",C,A)}),function(s,p){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ot();t=yn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new st(He.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Go.updateTime(t):Go.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(yn.min()))throw new st(He.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Go.updateTime(t)}return Go.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nS{constructor(e,t,r,s){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=s,this.hc=5,this.ar=new ju(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,$e.Z)(function*(){const t=new tS(e.datastore),r=e.fc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(p=>{e.dc(p)}))}).catch(s=>{e.dc(s)})}))}fc(e){try{const t=this.updateFunction(e);return!J0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!p_(t)}return!1}}class fE{constructor(e,t,r){var s=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=us.UNAUTHENTICATED,this.clientId=$b.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var p=(0,$e.Z)(function*(v){ht("FirestoreClient","Received user=",v.uid),yield s.credentialListener(v),s.user=v});return function(v){return p.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,$e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(He.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new $o;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const s=qd(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function pE(n,e){return dC.apply(this,arguments)}function dC(){return dC=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ht("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,$e.Z)(function*(p){r.isEqual(p)||(yield NM(e.localStore,p),r=p)});return function(p){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),dC.apply(this,arguments)}function mE(n,e){return hC.apply(this,arguments)}function hC(){return hC=(0,$e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield a(n);ht("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>{return(p=(0,$e.Z)(function*(v,C){const A=bt(v);A.asyncQueue.verifyOperationInProgress(),ht("RemoteStore","RemoteStore received new credentials");const P=o6(A);A.Wr.add(3),yield Bd(A),P&&A.Hr.set("Unknown"),yield A.remoteSyncer.handleCredentialChange(C),A.Wr.delete(3),yield I7(A)}),function(v,C){return p.apply(this,arguments)})(e.remoteStore,s);var p}),n.onlineComponents=e}),hC.apply(this,arguments)}function a(n){return c.apply(this,arguments)}function c(){return c=(0,$e.Z)(function*(n){return n.offlineComponents||(ht("FirestoreClient","Using default OfflineComponentProvider"),yield pE(n,new dE)),n.offlineComponents}),c.apply(this,arguments)}function u(n){return m.apply(this,arguments)}function m(){return m=(0,$e.Z)(function*(n){return n.onlineComponents||(ht("FirestoreClient","Using default OnlineComponentProvider"),yield mE(n,new my)),n.onlineComponents}),m.apply(this,arguments)}function _(n){return a(n).then(e=>e.persistence)}function w(n){return a(n).then(e=>e.localStore)}function x(n){return u(n).then(e=>e.remoteStore)}function T(n){return u(n).then(e=>e.syncEngine)}function L(n){return V.apply(this,arguments)}function V(){return V=(0,$e.Z)(function*(n){const e=yield u(n),t=e.eventManager;return t.onListen=R1.bind(null,e.syncEngine),t.onUnlisten=Ym.bind(null,e.syncEngine),t}),V.apply(this,arguments)}function he(n,e,t={}){const r=new $o;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(s,p,v,C,A){const P=new gy({next:G=>{p.enqueueAndForget(()=>Wm(s,B));const re=G.docs.has(v);!re&&G.fromCache?A.reject(new st(He.UNAVAILABLE,"Failed to get document because the client is offline.")):re&&G.fromCache&&C&&"server"===C.source?A.reject(new st(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(G)},error:G=>A.reject(G)}),B=new Wd(m7(v.path),P,{includeMetadataChanges:!0,fo:!0});return $m(s,B)}(yield L(n),n.asyncQueue,e,t,r)})),r.promise}function Le(n,e,t={}){const r=new $o;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(s,p,v,C,A){const P=new gy({next:G=>{p.enqueueAndForget(()=>Wm(s,B)),G.fromCache&&"server"===C.source?A.reject(new st(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(G)},error:G=>A.reject(G)}),B=new Wd(v,P,{includeMetadataChanges:!0,fo:!0});return $m(s,B)}(yield L(n),n.asyncQueue,e,t,r)})),r.promise}class on{constructor(e,t,r,s,p,v,C,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=p,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.useFetchStreams=A}}class wn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wn&&e.projectId===this.projectId&&e.database===this.database}}const wo=new Map;function Ma(n,e,t){if(!t)throw new st(He.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function eh(n,e,t,r){if(!0===e&&!0===r)throw new st(He.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gu(n){if(!Vt.isDocumentKey(n))throw new st(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Wu(n){if(Vt.isDocumentKey(n))throw new st(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function D3(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Ot()}function jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new st(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=D3(n);throw new st(He.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ig(n,e){if(e<=0)throw new st(He.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class rg{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new st(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,eh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zu{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rg({}),this._settingsFrozen=!1,e instanceof wn?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new st(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wn(r.options.projectId)}(e))}get app(){if(!this._app)throw new st(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rg(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Hb;switch(t.type){case"gapi":const r=t.client;return Xt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Gk(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new st(He.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=wo.get(e);t&&(ht("ComponentProvider","Removing Datastore"),wo.delete(e),t.terminate())}(this),Promise.resolve()}}class Rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new s6(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class Ea{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ea(this.firestore,e,this._query)}}class s6 extends Ea{constructor(e,t,r){super(e,t,m7(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new Vt(e))}withConverter(e){return new s6(this.firestore,e,this._path)}}function iS(n,e,...t){if(n=(0,zn.m9)(n),Ma("collection","path",e),n instanceof Zu){const r=oi.fromString(e,...t);return Wu(r),new s6(n,null,r)}{if(!(n instanceof Rr||n instanceof s6))throw new st(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oi.fromString(e,...t));return Wu(r),new s6(n.firestore,null,r)}}function fC(n,e,...t){if(n=(0,zn.m9)(n),1===arguments.length&&(e=$b.I()),Ma("doc","path",e),n instanceof Zu){const r=oi.fromString(e,...t);return Gu(r),new Rr(n,null,new Vt(r))}{if(!(n instanceof Rr||n instanceof s6))throw new st(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(oi.fromString(e,...t));return Gu(r),new Rr(n.firestore,n instanceof s6?n.converter:null,new Vt(r))}}function rS(n,e){return n=(0,zn.m9)(n),e=(0,zn.m9)(e),(n instanceof Rr||n instanceof s6)&&(e instanceof Rr||e instanceof s6)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oS(n,e){return n=(0,zn.m9)(n),e=(0,zn.m9)(e),n instanceof Ea&&e instanceof Ea&&n.firestore===e.firestore&&_d(n._query,e._query)&&n.converter===e.converter}class yL{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new ju(this,"async_queue_retry"),this.Rc=()=>{const t=Vm();t&&ht("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=Vm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=Vm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new $o;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,$e.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!Fu(t))throw t;ht("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,Gr("INTERNAL UNHANDLED ERROR: ",function(p){let v=p.message||"";return p.stack&&(v=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),v}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const s=J_.createAndSchedule(this,e,t,r,p=>this.Vc(p));return this.yc.push(s),s}bc(){this.Tc&&Ot()}verifyOperationInProgress(){}Sc(){var e=this;return(0,$e.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function gE(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class bL{constructor(){this._progressObserver={},this._taskCompletionResolver=new $o,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class lo extends Zu{constructor(e,t){super(e,t),this.type="firestore",this._queue=new yL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||sS(this),this._firestoreClient.terminate()}}function Ps(n){return n._firestoreClient||sS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function sS(n){var e;const t=n._freezeSettings(),r=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new on(n._databaseId,p,n._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var p,C;n._firestoreClient=new fE(n._credentials,n._queue,r)}function aS(n,e,t){const r=new $o;return n.asyncQueue.enqueue((0,$e.Z)(function*(){try{yield pE(n,t),yield mE(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(p=s).name?p.code===He.FAILED_PRECONDITION||p.code===He.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&p instanceof DOMException)||22===p.code||20===p.code||11===p.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var p})).then(()=>r.promise)}function cS(n){if(n._initialized||n._terminated)throw new st(He.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Yu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new st(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ds(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class a6{constructor(e){this._byteString=e}static fromBase64String(e){try{return new a6(yo.fromBase64String(e))}catch(t){throw new st(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new a6(yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class j7{constructor(e){this._methodName=e}}class pC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new st(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new st(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rn(this._lat,e._lat)||Rn(this._long,e._long)}}const IL=/^__.*__$/;class DL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new _7(e,this.data,t,this.fieldTransforms)}}class lS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function uS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ot()}}class mC{constructor(e,t,r,s,p,v){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=s,void 0===p&&this.xc(),this.fieldTransforms=p||[],this.fieldMask=v||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new mC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.$c({path:r,Fc:!1});return s.Mc(e),s}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.$c({path:r,Fc:!1});return s.xc(),s}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return vC(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(uS(this.kc)&&IL.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class zL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||Hd(e)}jc(e,t,r,s=!1){return new mC({kc:e,methodName:t,Kc:r,path:ds.emptyPath(),Fc:!1,qc:s},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function U7(n){const e=n._freezeSettings(),t=Hd(n._databaseId);return new zL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gC(n,e,t,r,s,p={}){const v=n.jc(p.merge||p.mergeFields?2:0,e,t,s);bE("Data must be an object, but it was:",v,r);const C=fS(r,v);let A,P;if(p.merge)A=new pd(v.fieldMask),P=v.fieldTransforms;else if(p.mergeFields){const B=[];for(const G of p.mergeFields){const re=wE(e,G,t);if(!v.contains(re))throw new st(He.INVALID_ARGUMENT,`Field '${re}' is specified in your field mask but missing from your input data.`);mS(B,re)||B.push(re)}A=new pd(B),P=v.fieldTransforms.filter(G=>A.covers(G.field))}else A=null,P=v.fieldTransforms;return new DL(new Ns(C),A,P)}class _y extends j7{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _y}}function dS(n,e,t){return new mC({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class vE extends j7{_toFieldTransform(e){return new vm(e.path,new yd)}isEqual(e){return e instanceof vE}}class NL extends j7{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=dS(this,e,!0),r=this.Qc.map(p=>q7(p,t)),s=new bd(r);return new vm(e.path,s)}isEqual(e){return this===e}}class LL extends j7{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=dS(this,e,!0),r=this.Qc.map(p=>q7(p,t)),s=new k3(r);return new vm(e.path,s)}isEqual(e){return this===e}}class PL extends j7{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new v7(e.N,oM(e.N,this.Wc));return new vm(e.path,t)}isEqual(e){return this===e}}function _E(n,e,t,r){const s=n.jc(1,e,t);bE("Data must be an object, but it was:",s,r);const p=[],v=Ns.empty();hd(r,(A,P)=>{const B=CE(e,A,t);P=(0,zn.m9)(P);const G=s.Lc(B);if(P instanceof _y)p.push(B);else{const re=q7(P,G);null!=re&&(p.push(B),v.set(B,re))}});const C=new pd(p);return new lS(v,C,s.fieldTransforms)}function yE(n,e,t,r,s,p){const v=n.jc(1,e,t),C=[wE(e,r,t)],A=[s];if(p.length%2!=0)throw new st(He.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let re=0;re<p.length;re+=2)C.push(wE(e,p[re])),A.push(p[re+1]);const P=[],B=Ns.empty();for(let re=C.length-1;re>=0;--re)if(!mS(P,C[re])){const ae=C[re];let ge=A[re];ge=(0,zn.m9)(ge);const Te=v.Lc(ae);if(ge instanceof _y)P.push(ae);else{const Oe=q7(ge,Te);null!=Oe&&(P.push(ae),B.set(ae,Oe))}}const G=new pd(P);return new lS(B,G,v.fieldTransforms)}function hS(n,e,t,r=!1){return q7(t,n.jc(r?4:3,e))}function q7(n,e){if(pS(n=(0,zn.m9)(n)))return bE("Unsupported field value:",e,n),fS(n,e);if(n instanceof j7)return function(t,r){if(!uS(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const s=[];let p=0;for(const v of t){let C=q7(v,r.Bc(p));null==C&&(C={nullValue:"NULL_VALUE"}),s.push(C),p++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,zn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oM(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Nr.fromDate(t);return{timestampValue:wd(r.N,s)}}if(t instanceof Nr){const s=new Nr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:wd(r.N,s)}}if(t instanceof pC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof a6)return{bytesValue:Cd(r.N,t._byteString)};if(t instanceof Rr){const s=r.databaseId,p=t.firestore._databaseId;if(!p.isEqual(s))throw r.Uc(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${D3(t)}`)}(n,e)}function fS(n,e){const t={};return fd(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hd(n,(r,s)=>{const p=q7(s,e.Oc(r));null!=p&&(t[r]=p)}),{mapValue:{fields:t}}}function pS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nr||n instanceof pC||n instanceof a6||n instanceof Rr||n instanceof j7)}function bE(n,e,t){if(!pS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=D3(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function wE(n,e,t){if((e=(0,zn.m9)(e))instanceof Yu)return e._internalPath;if("string"==typeof e)return CE(n,e);throw vC("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const RL=new RegExp("[~\\*/\\[\\]]");function CE(n,e,t){if(e.search(RL)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Yu(...e.split("."))._internalPath}catch(r){throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vC(n,e,t,r,s){const p=r&&!r.isEmpty(),v=void 0!==s;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let A="";return(p||v)&&(A+=" (found",p&&(A+=` in field ${r}`),v&&(A+=` in document ${s}`),A+=")"),new st(He.INVALID_ARGUMENT,C+n+A)}function mS(n,e){return n.some(t=>t.isEqual(e))}class yy{constructor(e,t,r,s,p){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_C("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class OL extends yy{data(){return super.data()}}function _C(n,e){return"string"==typeof e?CE(n,e):e instanceof Yu?e._internalPath:e._delegate._internalPath}class $7{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ku extends yy{constructor(e,t,r,s,p,v){super(e,t,r,s,v),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new by(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(_C("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class by extends Ku{data(e={}){return super.data(e)}}class th{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new $7(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new by(this._firestore,this._userDataWriter,r.key,r,new $7(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new st(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let p=0;return r._snapshot.docChanges.map(v=>({type:"added",doc:new by(r._firestore,r._userDataWriter,v.doc.key,v.doc,new $7(r._snapshot.mutatedKeys.has(v.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:p++}))}{let p=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(v=>s||3!==v.type).map(v=>{const C=new by(r._firestore,r._userDataWriter,v.doc.key,v.doc,new $7(r._snapshot.mutatedKeys.has(v.doc.key),r._snapshot.fromCache),r.query.converter);let A=-1,P=-1;return 0!==v.type&&(A=p.indexOf(v.doc.key),p=p.delete(v.doc.key)),1!==v.type&&(p=p.add(v.doc),P=p.indexOf(v.doc.key)),{type:VL(v.type),doc:C,oldIndex:A,newIndex:P}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function VL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ot()}}function gS(n,e){return n instanceof Ku&&e instanceof Ku?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof th&&e instanceof th&&n._firestore===e._firestore&&oS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function vS(n){if(o_(n)&&0===n.explicitOrderBy.length)throw new st(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wy{}function nh(n,...e){for(const t of e)n=t._apply(n);return n}class FL extends wy{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=U7(e.firestore),r=function(s,p,v,C,A,P,B){let G;if(A.isKeyField()){if("array-contains"===P||"array-contains-any"===P)throw new st(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${P}' queries on FieldPath.documentId().`);if("in"===P||"not-in"===P){kS(B,P);const ae=[];for(const ge of B)ae.push(CS(C,s,ge));G={arrayValue:{values:ae}}}else G=CS(C,s,B)}else"in"!==P&&"not-in"!==P&&"array-contains-any"!==P||kS(B,P),G=hS(v,"where",B,"in"===P||"not-in"===P);const re=ya.create(A,P,G);return function(ae,ge){if(ge.v()){const Oe=e6(ae);if(null!==Oe&&!Oe.isEqual(ge.field))throw new st(He.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${ge.field.toString()}'`);const rt=g7(ae);null!==rt&&MS(0,ge.field,rt)}const Te=function(Oe,rt){for(const St of Oe.filters)if(rt.indexOf(St.op)>=0)return St.op;return null}(ae,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ge.op));if(null!==Te)throw new st(He.INVALID_ARGUMENT,Te===ge.op?`Invalid query. You cannot use more than one '${ge.op.toString()}' filter.`:`Invalid query. You cannot use '${ge.op.toString()}' filters with '${Te.toString()}' filters.`)}(s,re),re}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Ea(e.firestore,e.converter,function(s,p){const v=s.filters.concat([p]);return new X0(s.path,s.collectionGroup,s.explicitOrderBy.slice(),v,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class BL extends wy{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,s,p){if(null!==r.startAt)throw new st(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new st(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new gd(s,p);return function(C,A){if(null===g7(C)){const P=e6(C);null!==P&&MS(0,P,A.field)}}(r,v),v}(e._query,this.Gc,this.Jc);return new Ea(e.firestore,e.converter,function(r,s){const p=r.explicitOrderBy.concat([s]);return new X0(r.path,r.collectionGroup,p,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _S extends wy{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Ea(e.firestore,e.converter,fm(e._query,this.Yc,this.Xc))}}class yS extends wy{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=wS(e,this.type,this.Zc,this.ta);return new Ea(e.firestore,e.converter,(s=t,new X0((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class bS extends wy{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=wS(e,this.type,this.Zc,this.ta);return new Ea(e.firestore,e.converter,(s=t,new X0((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function wS(n,e,t,r){if(t[0]=(0,zn.m9)(t[0]),t[0]instanceof yy)return function(s,p,v,C,A){if(!C)throw new st(He.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const P=[];for(const B of vd(s))if(B.field.isKeyField())P.push(am(p,C.key));else{const G=C.data.field(B.field);if(Zb(G))throw new st(He.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+B.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===G){const re=B.field.canonicalString();throw new st(He.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${re}' (used as the orderBy) does not exist.`)}P.push(G)}return new um(P,A)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=U7(n.firestore);return function(p,v,C,A,P,B){const G=p.explicitOrderBy;if(P.length>G.length)throw new st(He.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const re=[];for(let ae=0;ae<P.length;ae++){const ge=P[ae];if(G[ae].field.isKeyField()){if("string"!=typeof ge)throw new st(He.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof ge}`);if(!hm(p)&&-1!==ge.indexOf("/"))throw new st(He.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${A}() must be a plain document ID, but '${ge}' contains a slash.`);const Te=p.path.child(oi.fromString(ge));if(!Vt.isDocumentKey(Te))throw new st(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${A}() must result in a valid document path, but '${Te}' is not because it contains an odd number of segments.`);const Oe=new Vt(Te);re.push(am(v,Oe))}else{const Te=hS(C,A,ge);re.push(Te)}}return new um(re,B)}(n._query,n.firestore._databaseId,s,e,t,r)}}function CS(n,e,t){if("string"==typeof(t=(0,zn.m9)(t))){if(""===t)throw new st(He.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(e)&&-1!==t.indexOf("/"))throw new st(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(oi.fromString(t));if(!Vt.isDocumentKey(r))throw new st(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return am(n,new Vt(r))}if(t instanceof Rr)return am(n,t._key);throw new st(He.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${D3(t)}.`)}function kS(n,e){if(!Array.isArray(n)||0===n.length)throw new st(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new st(He.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function MS(n,e,t){if(!t.isEqual(e))throw new st(He.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class kE{convertValue(e,t="none"){switch(C3(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Q0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ot()}}convertObject(e,t){const r={};return hd(e.fields,(s,p)=>{r[s]=this.convertValue(p,t)}),r}convertGeoPoint(e){return new pC(Lr(e.latitude),Lr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Xv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(l7(e));default:return null}}convertTimestamp(e){const t=w3(e);return new Nr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=oi.fromString(e);Xt(E_(r));const s=new wn(r.get(1),r.get(3)),p=new Vt(r.popFirst(5));return s.isEqual(t)||Gr(`Document ${p} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),p}}function yC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class YL extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new a6(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}class ES{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=U7(e)}set(e,t,r){this._verifyNotCommitted();const s=ih(e,this._firestore),p=yC(s.converter,t,r),v=gC(this._dataReader,"WriteBatch.set",s._key,p,null!==s.converter,r);return this._mutations.push(v.toMutation(s._key,Go.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const p=ih(e,this._firestore);let v;return v="string"==typeof(t=(0,zn.m9)(t))||t instanceof Yu?yE(this._dataReader,"WriteBatch.update",p._key,t,r,s):_E(this._dataReader,"WriteBatch.update",p._key,t),this._mutations.push(v.toMutation(p._key,Go.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ih(e,this._firestore);return this._mutations=this._mutations.concat(new y7(t._key,Go.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(He.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ih(n,e){if((n=(0,zn.m9)(n)).firestore!==e)throw new st(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class G7 extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new a6(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}function xS(n,e,t){n=jn(n,Rr);const r=jn(n.firestore,lo),s=yC(n.converter,e,t);return og(r,[gC(U7(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,Go.none())])}function AS(n,e,t,...r){n=jn(n,Rr);const s=jn(n.firestore,lo),p=U7(s);let v;return v="string"==typeof(e=(0,zn.m9)(e))||e instanceof Yu?yE(p,"updateDoc",n._key,e,t,r):_E(p,"updateDoc",n._key,e),og(s,[v.toMutation(n._key,Go.exists(!0))])}function SS(n,...e){var t,r,s;n=(0,zn.m9)(n);let p={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||gE(e[v])||(p=e[v],v++);const C={includeMetadataChanges:p.includeMetadataChanges};if(gE(e[v])){const G=e[v];e[v]=null===(t=G.next)||void 0===t?void 0:t.bind(G),e[v+1]=null===(r=G.error)||void 0===r?void 0:r.bind(G),e[v+2]=null===(s=G.complete)||void 0===s?void 0:s.bind(G)}let A,P,B;if(n instanceof Rr)P=jn(n.firestore,lo),B=m7(n._key.path),A={next:G=>{e[v]&&e[v](ME(P,n,G))},error:e[v+1],complete:e[v+2]};else{const G=jn(n,Ea);P=jn(G.firestore,lo),B=G._query;const re=new G7(P);A={next:ae=>{e[v]&&e[v](new th(P,re,G,ae))},error:e[v+1],complete:e[v+2]},vS(n._query)}return function(G,re,ae,ge){const Te=new gy(ge),Oe=new Wd(re,Te,ae);return G.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return $m(yield L(G),Oe)})),()=>{Te.ec(),G.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return Wm(yield L(G),Oe)}))}}(Ps(P),B,C,A)}function og(n,e){return function(t,r){const s=new $o;return t.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(n,e,t){return Yd.apply(this,arguments)}(yield T(t),r,s)})),s.promise}(Ps(n),e)}function ME(n,e,t){const r=t.docs.get(e._key),s=new G7(n);return new Ku(n,s,e._key,r,new $7(t.hasPendingWrites,t.fromCache),e.converter)}class oP extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=U7(e)}get(e){const t=ih(e,this._firestore),r=new YL(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return Ot();const p=s[0];if(p.isFoundDocument())return new yy(this._firestore,r,p.key,p,t.converter);if(p.isNoDocument())return new yy(this._firestore,r,t._key,null,t.converter);throw Ot()})}set(e,t,r){const s=ih(e,this._firestore),p=yC(s.converter,t,r),v=gC(this._dataReader,"Transaction.set",s._key,p,null!==s.converter,r);return this._transaction.set(s._key,v),this}update(e,t,r,...s){const p=ih(e,this._firestore);let v;return v="string"==typeof(t=(0,zn.m9)(t))||t instanceof Yu?yE(this._dataReader,"Transaction.update",p._key,t,r,s):_E(this._dataReader,"Transaction.update",p._key,t),this._transaction.update(p._key,v),this}delete(e){const t=ih(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ih(e,this._firestore),r=new G7(this._firestore);return super.get(e).then(s=>new Ku(this._firestore,r,t._key,s._document,new $7(!1,!1),t.converter))}}function EE(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new st("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function TS(){if("undefined"==typeof Uint8Array)throw new st("unimplemented","Uint8Arrays are not available in this environment.")}function IS(){if("undefined"==typeof atob)throw new st("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){K0=l2.SDK_VERSION,(0,l2._registerComponent)(new f0.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),p=new lo(s,new jb(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),p._setSettings(r),p},"PUBLIC")),(0,l2.registerVersion)(Qv,"3.3.1",n),(0,l2.registerVersion)(Qv,"3.3.1","esm2017")}();class Cy{constructor(e){this._delegate=e}static fromBase64String(e){return IS(),new Cy(a6.fromBase64String(e))}static fromUint8Array(e){return TS(),new Cy(a6.fromUint8Array(e))}toBase64(){return IS(),this._delegate.toBase64()}toUint8Array(){return TS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xE(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class mP{enableIndexedDbPersistence(e,t){return function(n,e){cS(n=jn(n,lo));const t=Ps(n),r=n._freezeSettings(),s=new my;return aS(t,s,new hE(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){cS(n=jn(n,lo));const e=Ps(n),t=n._freezeSettings(),r=new my;return aS(e,r,new XA(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new st(He.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new $o;return n._queue.enqueueAndForgetEvenWhileRestricted((0,$e.Z)(function*(){try{yield(t=(0,$e.Z)(function*(r){if(!pl.bt())return Promise.resolve();const s=r+"main";yield pl.delete(s)}),function(r){return t.apply(this,arguments)})(Rd(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class DS{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof wn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var s;const p=(n=jn(n,Zu))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Pu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let v,C;if("string"==typeof r.mockUserToken)v=r.mockUserToken,C=us.MOCK_USER;else{v=(0,zn.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new st(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new us(A)}n._credentials=new Bb(new rm(v,C))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield _(n),t=yield x(n);return e.setNetworkEnabled(!0),function(r){const s=bt(r);return s.Wr.delete(0),I7(s)}(t)}))}(Ps(n=jn(n,lo)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,$e.Z)(function*(){const e=yield _(n),t=yield x(n);return e.setNetworkEnabled(!1),(r=(0,$e.Z)(function*(s){const p=bt(s);p.Wr.add(0),yield Bd(p),p.Hr.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Ps(n=jn(n,lo)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,eh("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new $o;return e.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return function(n,e){return F7.apply(this,arguments)}(yield T(e),t)})),t.promise}(Ps(n=jn(n,lo)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new gy(e);return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield L(n),s=t,bt(r).so.add(s),void s.next();var r,s})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return r=yield L(n),s=t,void bt(r).so.delete(s);var r,s}))}}(Ps(n=jn(n,lo)),gE(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new st("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new sg(this,iS(this._delegate,e))}catch(t){throw k2(t,"collection()","Firestore.collection()")}}doc(e){try{return new p4(this,fC(this._delegate,e))}catch(t){throw k2(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new M2(this,function(n,e){if(n=jn(n,Zu),Ma("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new st(He.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ea(n,null,(t=e,new X0(oi.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw k2(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new $o;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){const r=yield(s=n,u(s).then(p=>p.datastore));var s;new nS(n.asyncQueue,r,e,t).run()})),t.promise}(Ps(n=jn(n,lo)),t=>e(new oP(n,t)))}(this._delegate,t=>e(new zS(this,t)))}batch(){return Ps(this._delegate),new NS(new ES(this._delegate,e=>og(this._delegate,e)))}loadBundle(e){return function(n,e){const t=Ps(n=jn(n,lo)),r=new bL;return function(n,e,t,r){const s=function(p,v){let C;return C="string"==typeof p?(new TextEncoder).encode(p):p,A=function(A,P){if(A instanceof Uint8Array)return uC(A,P);if(A instanceof ArrayBuffer)return uC(new Uint8Array(A),P);if(A instanceof ReadableStream)return A.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new eS(A,v);var A}(t,Hd(e));n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){!function(n,e,t){const r=bt(n);var s;(s=(0,$e.Z)(function*(p,v,C){try{const A=yield v.getMetadata();if(yield function(re,ae){const ge=bt(re),Te=Yo(ae.createTime);return ge.persistence.runTransaction("hasNewerBundle","readonly",Oe=>ge.Je.getBundleMetadata(Oe,ae.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(Te)>=0)}(p.localStore,A))return yield v.close(),void C._completeWith((re=A,{taskState:"Success",documentsLoaded:re.totalDocuments,bytesLoaded:re.totalBytes,totalDocuments:re.totalDocuments,totalBytes:re.totalBytes}));C._updateProgress(nC(A));const P=new tE(A,p.localStore,v.N);let B=yield v.zo();for(;B;){const re=yield P.mo(B);re&&C._updateProgress(re),B=yield v.zo()}const G=yield P.complete();yield I3(p,G.En,void 0),yield function(re,ae){const ge=bt(re);return ge.persistence.runTransaction("Save bundle","readwrite",Te=>ge.Je.saveBundleMetadata(Te,ae))}(p.localStore,A),C._completeWith(G.progress)}catch(A){Pu("SyncEngine",`Loading bundle failed with ${A}`),C._failWith(A)}var re}),function(p,v,C){return s.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield T(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,$e.Z)(function*(){return function(t,r){const s=bt(t);return s.persistence.runTransaction("Get named query","readonly",p=>s.Je.getNamedQuery(p,r))}(yield w(n),e)}))}(Ps(n=jn(n,lo)),e).then(t=>t?new Ea(n,null,t.query):null)}(this._delegate,e).then(t=>t?new M2(this,t):null)}}class bC extends kE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cy(new a6(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return p4.forKey(t,this.firestore,null)}}class zS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}get(e){const t=Z7(e);return this._delegate.get(t).then(r=>new ky(this._firestore,new Ku(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Z7(e);return r?(EE("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const p=Z7(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,r,...s),this}delete(e){const t=Z7(e);return this._delegate.delete(t),this}}class NS{constructor(e){this._delegate=e}set(e,t,r){const s=Z7(e);return r?(EE("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const p=Z7(e);return 2===arguments.length?this._delegate.update(p,t):this._delegate.update(p,t,r,...s),this}delete(e){const t=Z7(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class W7{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new by(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new My(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=W7.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let p=s.get(t);return p||(p=new W7(e,new bC(e),t),s.set(t,p)),p}}W7.INSTANCES=new WeakMap;class p4{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new st("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new p4(t,new Rr(t._delegate,r,new Vt(e)))}static forKey(e,t,r){return new p4(t,new Rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new sg(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new sg(this.firestore,iS(this._delegate,e))}catch(t){throw k2(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,zn.m9)(e))instanceof Rr&&rS(this._delegate,e)}set(e,t){t=EE("DocumentReference.set",t);try{return t?xS(this._delegate,e,t):xS(this._delegate,e)}catch(r){throw k2(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?AS(this._delegate,e):AS(this._delegate,e,t,...r)}catch(s){throw k2(s,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return og(jn(n.firestore,lo),[new y7(n._key,Go.none())])}(this._delegate)}onSnapshot(...e){const t=LS(e),r=PS(e,s=>new ky(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return SS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=jn(n,Rr);const e=jn(n.firestore,lo),t=Ps(e),r=new G7(e);return function(n,e){const t=new $o;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(r=(0,$e.Z)(function*(s,p,v){try{const C=yield function(A,P){const B=bt(A);return B.persistence.runTransaction("read document","readonly",G=>B.Qn.An(G,P))}(s,p);C.isFoundDocument()?v.resolve(C):C.isNoDocument()?v.resolve(null):v.reject(new st(He.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const A=qd(C,`Failed to get document '${p} from cache`);v.reject(A)}}),function(s,p,v){return r.apply(this,arguments)})(yield w(n),e,t);var r})),t.promise}(t,n._key).then(s=>new Ku(e,r,n._key,s,new $7(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=jn(n,Rr);const e=jn(n.firestore,lo);return he(Ps(e),n._key,{source:"server"}).then(t=>ME(e,n,t))}(this._delegate):function(n){n=jn(n,Rr);const e=jn(n.firestore,lo);return he(Ps(e),n._key).then(t=>ME(e,n,t))}(this._delegate),t.then(r=>new ky(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new p4(this.firestore,this._delegate.withConverter(e?W7.getInstance(this.firestore,e):null))}}function k2(n,e,t){return n.message=n.message.replace(e,t),n}function LS(n){for(const e of n)if("object"==typeof e&&!xE(e))return e;return{}}function PS(n,e){var t,r;let s;return s=xE(n[0])?n[0]:xE(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:p=>{s.next&&s.next(e(p))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class ky{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new p4(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gS(this._delegate,e._delegate)}}class My extends ky{data(e){const t=this._delegate.data(e);return function(n,e){n||Ot()}(void 0!==t),t}}class M2{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}where(e,t,r){try{return new M2(this.firestore,nh(this._delegate,function(n,e,t){const r=e,s=_C("where",n);return new FL(s,r,t)}(e,t,r)))}catch(s){throw k2(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new M2(this.firestore,nh(this._delegate,function(n,e="asc"){const t=e,r=_C("orderBy",n);return new BL(r,t)}(e,t)))}catch(r){throw k2(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new M2(this.firestore,nh(this._delegate,function(n){return ig("limit",n),new _S("limit",n,"F")}(e)))}catch(t){throw k2(t,"limit()","Query.limit()")}}limitToLast(e){try{return new M2(this.firestore,nh(this._delegate,function(n){return ig("limitToLast",n),new _S("limitToLast",n,"L")}(e)))}catch(t){throw k2(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new M2(this.firestore,nh(this._delegate,function(...n){return new yS("startAt",n,!0)}(...e)))}catch(t){throw k2(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new M2(this.firestore,nh(this._delegate,function(...n){return new yS("startAfter",n,!1)}(...e)))}catch(t){throw k2(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new M2(this.firestore,nh(this._delegate,function(...n){return new bS("endBefore",n,!0)}(...e)))}catch(t){throw k2(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new M2(this.firestore,nh(this._delegate,function(...n){return new bS("endAt",n,!1)}(...e)))}catch(t){throw k2(t,"endAt()","Query.endAt()")}}isEqual(e){return oS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=jn(n,Ea);const e=jn(n.firestore,lo),t=Ps(e),r=new G7(e);return function(n,e){const t=new $o;return n.asyncQueue.enqueueAndForget((0,$e.Z)(function*(){return(r=(0,$e.Z)(function*(s,p,v){try{const C=yield Pm(s,p,!0),A=new rC(p,C.Gn),P=A.bo(C.documents),B=A.applyChanges(P,!1);v.resolve(B.snapshot)}catch(C){const A=qd(C,`Failed to execute query '${p} against cache`);v.reject(A)}}),function(s,p,v){return r.apply(this,arguments)})(yield w(n),e,t);var r})),t.promise}(t,n._query).then(s=>new th(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=jn(n,Ea);const e=jn(n.firestore,lo),t=Ps(e),r=new G7(e);return Le(t,n._query,{source:"server"}).then(s=>new th(e,r,n,s))}(this._delegate):function(n){n=jn(n,Ea);const e=jn(n.firestore,lo),t=Ps(e),r=new G7(e);return vS(n._query),Le(t,n._query).then(s=>new th(e,r,n,s))}(this._delegate),t.then(r=>new AE(this.firestore,new th(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=LS(e),r=PS(e,s=>new AE(this.firestore,new th(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return SS(this._delegate,t,r)}withConverter(e){return new M2(this.firestore,this._delegate.withConverter(e?W7.getInstance(this.firestore,e):null))}}class vP{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new My(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class AE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new M2(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new My(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vP(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new My(this._firestore,r))})}isEqual(e){return gS(this._delegate,e._delegate)}}class sg extends M2{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new p4(this.firestore,e):null}doc(e){try{return new p4(this.firestore,void 0===e?fC(this._delegate):fC(this._delegate,e))}catch(t){throw k2(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=jn(n.firestore,lo),r=fC(n),s=yC(n.converter,e);return og(t,[gC(U7(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,Go.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new p4(this.firestore,t))}isEqual(e){return rS(this._delegate,e._delegate)}withConverter(e){return new sg(this.firestore,this._delegate.withConverter(e?W7.getInstance(this.firestore,e):null))}}function Z7(n){return jn(n,Rr)}class SE{constructor(...e){this._delegate=new Yu(...e)}static documentId(){return new SE(ds.keyField().canonicalString())}isEqual(e){return(e=(0,zn.m9)(e))instanceof Yu&&this._delegate._internalPath.isEqual(e._internalPath)}}class Y7{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Y7(e)}static delete(){const e=new _y("deleteField");return e._methodName="FieldValue.delete",new Y7(e)}static arrayUnion(...e){const t=function(...n){return new NL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Y7(t)}static arrayRemove(...e){const t=function(...n){return new LL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Y7(t)}static increment(e){const t=function(n){return new PL("increment",n)}(e);return t._methodName="FieldValue.increment",new Y7(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _P={Firestore:DS,GeoPoint:pC,Timestamp:Nr,Blob:Cy,Transaction:zS,WriteBatch:NS,DocumentReference:p4,DocumentSnapshot:ky,Query:M2,QueryDocumentSnapshot:My,QuerySnapshot:AE,CollectionReference:sg,FieldPath:SE,FieldValue:Y7,setLogLevel:function(n){!function(n){b3.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function RS(n,e){return function(n,e=R0.z){return new ri.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function TE(n,e){return RS(n,e).pipe((0,K.U)(t=>({payload:t,type:"query"})))}function wC(n,e){return TE(n,e).pipe(Bo(void 0),V5(),(0,K.U)(([t,r])=>{const s=r.payload.docChanges(),p=s.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((v,C)=>{const A=s.find(B=>B.doc.ref.isEqual(v.ref)),P=null==t?void 0:t.payload.docs.find(B=>B.ref.isEqual(v.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(v.metadata)||!A&&P&&JSON.stringify(P.metadata)===JSON.stringify(v.metadata)||p.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:v}})}),p}))}function OS(n,e,t){return wC(n,t).pipe(K4((r,s)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IE(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IE(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IE(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(p=>p.payload),e),[]),_u(),(0,K.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function IE(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function VS(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,e){n.INTERNAL.registerComponent(new f0.wA("firestore-compat",t=>((e,t)=>new DS(e,t,new mP))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},_P)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.8")}(Kn.Z);class FS{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=wC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,K.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Bo(void 0),V5(),pr(([r,s])=>s.length>0||!r),(0,K.U)(([r,s])=>s),Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(K4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VS(e);return OS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return TE(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Fn.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(Fn.iC)}add(e){return this.ref.add(e)}doc(e){return new HS(this.ref.doc(e),this.afs)}}class HS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:p}=US(r,t);return new FS(s,p,this.afs)}snapshotChanges(){return function(n,e){return RS(n,e).pipe(Bo(void 0),V5(),(0,K.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,K.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,be.D)(this.ref.get(e)).pipe(Fn.iC)}}class EP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?wC(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),pr(t=>t.length>0),Fn.iC):wC(this.query,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}auditTrail(e){return this.stateChanges(e).pipe(K4((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=VS(e);return OS(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fn.iC)}valueChanges(e={}){return TE(this.query,this.afs.schedulers.outsideAngular).pipe((0,K.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),Fn.iC)}get(e){return(0,be.D)(this.query.get(e)).pipe(Fn.iC)}}const BS=new f.OlP("angularfire2.enableFirestorePersistence"),jS=new f.OlP("angularfire2.firestore.persistenceSettings"),xP=new f.OlP("angularfire2.firestore.settings"),AP=new f.OlP("angularfire2.firestore.use-emulator");function US(n,e=(t=>t)){return{query:e(n),ref:n}}let NE,CC=(()=>{class n{constructor(t,r,s,p,v,C,A,P,B,G,re,ae,ge,Te,Oe,rt,St){this.schedulers=A;const Nt=(0,c2.on)(t,C,r),kt=B;G&&j6(Nt,C,re,ge,Te,Oe,ae,rt),[this.firestore,this.persistenceEnabled$]=(0,c2.cc)(`${Nt.name}.firestore`,"AngularFirestore",Nt.name,()=>{const Dn=C.runOutsideAngular(()=>Nt.firestore());if(p&&Dn.settings(p),kt&&Dn.useEmulator(...kt),s&&!hi(v)){const en=()=>{try{return(0,be.D)(Dn.enablePersistence(P||void 0).then(()=>!0,()=>!1))}catch(ji){return"undefined"!=typeof console&&console.warn(ji),(0,j.of)(!1)}};return[Dn,C.runOutsideAngular(en)]}return[Dn,(0,j.of)(!1)]},[p,kt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:p,query:v}=US(s,r),C=this.schedulers.ngZone.run(()=>p);return new FS(C,v,this)}collectionGroup(t,r){const s=r||(v=>v),p=this.firestore.collectionGroup(t);return new EP(s(p),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new HS(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(c2.Dh),f.LFG(c2.xv,8),f.LFG(BS,8),f.LFG(xP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Fn.HU),f.LFG(jS,8),f.LFG(AP,8),f.LFG(Bn,8),f.LFG(Fh,8),f.LFG(Hh,8),f.LFG(nl,8),f.LFG(Bh,8),f.LFG(B6,8),f.LFG(jh,8),f.LFG(tl,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SP=(()=>{class n{constructor(){Pt.Z.registerVersion("angularfire",Fn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:BS,useValue:!0},{provide:jS,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[CC]}),n})(),K7=(()=>{class n{constructor(t,r,s,p){this.afAuth=t,this.route=r,this.router=s,this.db=p,this.appUser$=this.afAuth.authState.pipe(Qe(v=>v?this.db.doc(`appusers/${v.uid}`).valueChanges():(0,j.of)(null)))}login(){return(0,N.mG)(this,void 0,void 0,function*(){const t=this.route.snapshot.queryParamMap.get("returnUrl")||this.router.url;localStorage.setItem("returnUrl",t);const r=yield this.afAuth.signInWithPopup(new Pt.Z.auth.GoogleAuthProvider);return this.updateUserData(r.user)})}logout(){return(0,N.mG)(this,void 0,void 0,function*(){this.afAuth.signOut().then(()=>{this.router.navigate(["/"])})})}updateUserData(t){return this.db.doc(`appusers/${t.uid}`).set({name:t.displayName,email:t.email,photoURL:t.photoURL},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Bn),f.LFG(va),f.LFG(Dr),f.LFG(CC))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q7(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function zE(n,e=R0.P){return t=>t.lift(new HP(n,e))}class HP{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new BP(e,this.dueTime,this.scheduler))}}class BP extends rn.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(jP,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function jP(n){n.debouncedNext()}function $S(n){return e=>e.lift(new UP(n))}class UP{constructor(e){this.total=e}call(e,t){return t.subscribe(new qP(e,this.total))}}class qP extends rn.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function Mi(n){return e=>e.lift(new $P(n))}class $P{constructor(e){this.notifier=e}call(e,t){const r=new GP(e),s=(0,Ne.ft)(this.notifier,new Ne.IY(r));return s&&!r.seenValue?(r.add(s),t.subscribe(r)):r}}class GP extends Ne.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Co(n){return null!=n&&"false"!=`${n}`}function ag(n,e=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function TC(n){return Array.isArray(n)?n:[n]}function ms(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Qu(n){return n instanceof f.SBq?n.nativeElement:n}try{NE="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){NE=!1}let cg,Rs=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(n){return n===y4}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!NE)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const GS=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WS(){if(cg)return cg;if("object"!=typeof document||!document)return cg=new Set(GS),cg;let n=document.createElement("input");return cg=new Set(GS.filter(e=>(n.setAttribute("type",e),n.type===e))),cg}let xy,J7,LE;function lg(n){return function(){if(null==xy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xy=!0}))}finally{xy=xy||!1}return xy}()?n:!!n.capture}function YP(){if(null==J7){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return J7=!1,J7;if("scrollBehavior"in document.documentElement.style)J7=!0;else{const n=Element.prototype.scrollTo;J7=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return J7}function ZS(n){if(function(){if(null==LE){const n="undefined"!=typeof document?document.head:null;LE=!(!n||!n.createShadowRoot&&!n.attachShadow)}return LE}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function X7(n){return n.composedPath?n.composedPath()[0]:n.target}function PE(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}let YS=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QP=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Qu(t);return new ri.y(s=>{const v=this._observeElement(r).subscribe(s);return()=>{v.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new Ct.xQ,s=this._mutationObserverFactory.create(p=>r.next(p));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:s}=this._observedElements.get(t);r&&r.disconnect(),s.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(YS))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JP=(()=>{class n{constructor(t,r,s){this._contentObserver=t,this._elementRef=r,this._ngZone=s,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Co(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ag(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(zE(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(QP),f.Y36(f.SBq),f.Y36(f.R0b))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),KS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[YS]}),n})();function DC(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const JS="cdk-describedby-message-container",XS="cdk-describedby-message",zC="cdk-describedby-host";let tR=0;const c6=new Map;let gl=null,nR=(()=>{class n{constructor(t){this._document=t}describe(t,r,s){if(!this._canBeDescribed(t,r))return;const p=RE(r,s);"string"!=typeof r?(eT(r),c6.set(p,{messageElement:r,referenceCount:0})):c6.has(p)||this._createMessageElement(r,s),this._isElementDescribedByMessage(t,p)||this._addMessageReference(t,p)}removeDescription(t,r,s){if(!r||!this._isElementNode(t))return;const p=RE(r,s);if(this._isElementDescribedByMessage(t,p)&&this._removeMessageReference(t,p),"string"==typeof r){const v=c6.get(p);v&&0===v.referenceCount&&this._deleteMessageElement(p)}gl&&0===gl.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll(`[${zC}]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(zC);gl&&this._deleteMessagesContainer(),c6.clear()}_createMessageElement(t,r){const s=this._document.createElement("div");eT(s),s.textContent=t,r&&s.setAttribute("role",r),this._createMessagesContainer(),gl.appendChild(s),c6.set(RE(t,r),{messageElement:s,referenceCount:0})}_deleteMessageElement(t){var s;const r=c6.get(t);null==(s=null==r?void 0:r.messageElement)||s.remove(),c6.delete(t)}_createMessagesContainer(){if(!gl){const t=this._document.getElementById(JS);null==t||t.remove(),gl=this._document.createElement("div"),gl.id=JS,gl.style.visibility="hidden",gl.classList.add("cdk-visually-hidden"),this._document.body.appendChild(gl)}}_deleteMessagesContainer(){gl&&(gl.remove(),gl=null)}_removeCdkDescribedByReferenceIds(t){const r=DC(t,"aria-describedby").filter(s=>0!=s.indexOf(XS));t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){const s=c6.get(r);(function(n,e,t){const r=DC(n,e);r.some(s=>s.trim()==t.trim())||(r.push(t.trim()),n.setAttribute(e,r.join(" ")))})(t,"aria-describedby",s.messageElement.id),t.setAttribute(zC,""),s.referenceCount++}_removeMessageReference(t,r){const s=c6.get(r);s.referenceCount--,function(n,e,t){const s=DC(n,e).filter(p=>p!=t.trim());s.length?n.setAttribute(e,s.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",s.messageElement.id),t.removeAttribute(zC)}_isElementDescribedByMessage(t,r){const s=DC(t,"aria-describedby"),p=c6.get(r),v=p&&p.messageElement.id;return!!v&&-1!=s.indexOf(v)}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&"object"==typeof r)return!0;const s=null==r?"":`${r}`.trim(),p=t.getAttribute("aria-label");return!(!s||p&&p.trim()===s)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RE(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function eT(n){n.id||(n.id=`${XS}-${tR++}`)}class tT{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ct.xQ,this._typeaheadSubscription=po.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ct.xQ,this.change=new Ct.xQ,e instanceof f.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const s=t.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,eo.b)(t=>this._pressedLetters.push(t)),zE(e),pr(()=>this._pressedLetters.length>0),(0,K.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const r=this._getItemsArray();for(let s=1;s<r.length+1;s++){const p=(this._activeItemIndex+s)%r.length,v=r[p];if(!this._skipPredicateFn(v)&&0===v.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(p);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(p=>!e[p]||this._allowedModifierKeys.indexOf(p)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Q7(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),r="number"==typeof e?e:t.indexOf(e),s=t[r];this._activeItem=null==s?null:s,this._activeItemIndex=r}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let r=1;r<=t.length;r++){const s=(this._activeItemIndex+e*r+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(!r[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof f.n_E?this._items.toArray():this._items}}class iR extends tT{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}class rR extends tT{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function OE(n){return 0===n.offsetX&&0===n.offsetY}function VE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const uR=new f.OlP("cdk-input-modality-detector-options"),dR={ignoreKeys:[18,17,224,91,16]},ug=lg({passive:!0,capture:!0});let hR=(()=>{class n{constructor(t,r,s,p){this._platform=t,this._mostRecentTarget=null,this._modality=new S1(null),this._lastTouchMs=0,this._onKeydown=v=>{var C,A;(null==(A=null==(C=this._options)?void 0:C.ignoreKeys)?void 0:A.some(P=>P===v.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=X7(v))},this._onMousedown=v=>{Date.now()-this._lastTouchMs<650||(this._modality.next(OE(v)?"keyboard":"mouse"),this._mostRecentTarget=X7(v))},this._onTouchstart=v=>{VE(v)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=X7(v))},this._options=lt(lt({},dR),p),this.modalityDetected=this._modality.pipe($S(1)),this.modalityChanged=this.modalityDetected.pipe(_u()),t.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,ug),s.addEventListener("mousedown",this._onMousedown,ug),s.addEventListener("touchstart",this._onTouchstart,ug)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ug),document.removeEventListener("mousedown",this._onMousedown,ug),document.removeEventListener("touchstart",this._onTouchstart,ug))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs),f.LFG(f.R0b),f.LFG(ve),f.LFG(uR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fR=new f.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),mR=new f.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let rT=(()=>{class n{constructor(t,r,s,p){this._ngZone=r,this._defaultOptions=p,this._document=s,this._liveElement=t||this._createLiveElement()}announce(t,...r){const s=this._defaultOptions;let p,v;return 1===r.length&&"number"==typeof r[0]?v=r[0]:[p,v]=r,this.clear(),clearTimeout(this._previousTimeout),p||(p=s&&s.politeness?s.politeness:"polite"),null==v&&s&&(v=s.duration),this._liveElement.setAttribute("aria-live",p),this._ngZone.runOutsideAngular(()=>new Promise(C=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,C(),"number"==typeof v&&(this._previousTimeout=setTimeout(()=>this.clear(),v))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),s=this._document.createElement("div");for(let p=0;p<r.length;p++)r[p].remove();return s.classList.add(t),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fR,8),f.LFG(f.R0b),f.LFG(ve),f.LFG(mR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gR=new f.OlP("cdk-focus-monitor-default-options"),NC=lg({passive:!0,capture:!0});let LC=(()=>{class n{constructor(t,r,s,p,v){this._ngZone=t,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ct.xQ,this._rootNodeFocusAndBlurListener=C=>{const A=X7(C),P="focus"===C.type?this._onFocus:this._onBlur;for(let B=A;B;B=B.parentElement)P.call(this,C,B)},this._document=p,this._detectionMode=(null==v?void 0:v.detectionMode)||0}monitor(t,r=!1){const s=Qu(t);if(!this._platform.isBrowser||1!==s.nodeType)return(0,j.of)(null);const p=ZS(s)||this._getDocument(),v=this._elementInfo.get(s);if(v)return r&&(v.checkChildren=!0),v.subject;const C={checkChildren:r,subject:new Ct.xQ,rootNode:p};return this._elementInfo.set(s,C),this._registerGlobalListeners(C),C.subject}stopMonitoring(t){const r=Qu(t),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(t,r,s){const p=Qu(t);p===this._getDocument().activeElement?this._getClosestElementsInfo(p).forEach(([C,A])=>this._originChanged(C,r,A)):(this._setOrigin(r),"function"==typeof p.focus&&p.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const s=this._elementInfo.get(r),p=X7(t);!s||!s.checkChildren&&r!==p||this._originChanged(r,this._getFocusOrigin(p),s)}_onBlur(t,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(s.subject,null))}_emitOrigin(t,r){this._ngZone.run(()=>t.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,NC),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,NC)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Mi(this._stopInputModalityDetector)).subscribe(p=>{this._setOrigin(p,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,NC),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,NC),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,s){this._setClasses(t,r),this._emitOrigin(s.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((s,p)=>{(p===t||s.checkChildren&&p.contains(t))&&r.push([p,s])}),r}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(Rs),f.LFG(hR),f.LFG(ve,8),f.LFG(gR,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oT="cdk-high-contrast-black-on-white",sT="cdk-high-contrast-white-on-black",FE="cdk-high-contrast-active";let aT=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(t):null,p=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),p){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(FE),t.remove(oT),t.remove(sT),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(FE),t.add(oT)):2===r&&(t.add(FE),t.add(sT))}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs),f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vR=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(aT))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ey,KS]]}),n})();const _R=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(ve)}});let dg=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new f.vpe,t){const s=t.documentElement?t.documentElement.dir:null,p=(t.body?t.body.dir:null)||s;this.value="ltr"===p||"rtl"===p?p:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(_R,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const cT=new f.GfV("13.0.2");function bR(n,e){if(1&n&&f._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=f.oxw();f.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function wR(n,e){if(1&n&&(f.TgZ(0,"span",5),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.hij("(",t.group.label,")")}}const CR=["*"],lT=new f.GfV("13.0.2"),MR=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ir=(()=>{class n{constructor(t,r,s){this._hasDoneGlobalChecks=!1,this._document=s,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!(0,f.X6Q)()||PE())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&lT.full!==cT.full&&console.warn("The Angular Material version ("+lT.full+") does not match the Angular CDK version ("+cT.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(aT),f.LFG(MR,8),f.LFG(ve))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ay],Ay]}),n})();function HE(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Co(e)}}}function Sy(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function BE(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Co(e)}}}function ER(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ag(t):this.defaultTabIndex}}}function uT(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new Ct.xQ,this.errorState=!1}updateErrorState(){const e=this.errorState,p=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);p!==e&&(this.errorState=p,this.stateChanges.next())}}}let jE=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class AR{constructor(e,t,r){this._renderer=e,this.element=t,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dT={enterDuration:225,exitDuration:150},UE=lg({passive:!0}),hT=["mousedown","touchstart"],fT=["mouseup","mouseleave","touchend","touchcancel"];class TR{constructor(e,t,r,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Qu(r))}fadeInRipple(e,t,r={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),p=lt(lt({},dT),r.animation);r.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const v=r.radius||function(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+s*s)}(e,t,s),C=e-s.left,A=t-s.top,P=p.enterDuration,B=document.createElement("div");B.classList.add("mat-ripple-element"),B.style.left=C-v+"px",B.style.top=A-v+"px",B.style.height=2*v+"px",B.style.width=2*v+"px",null!=r.color&&(B.style.backgroundColor=r.color),B.style.transitionDuration=`${P}ms`,this._containerElement.appendChild(B),function(n){window.getComputedStyle(n).getPropertyValue("opacity")}(B),B.style.transform="scale(1)";const G=new AR(this,B,r);return G.state=0,this._activeRipples.add(G),r.persistent||(this._mostRecentTransientRipple=G),this._runTimeoutOutsideZone(()=>{const re=G===this._mostRecentTransientRipple;G.state=1,!r.persistent&&(!re||!this._isPointerDown)&&G.fadeOut()},P),G}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const r=e.element,s=lt(lt({},dT),e.config.animation);r.style.transitionDuration=`${s.exitDuration}ms`,r.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,r.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Qu(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(hT))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(fT),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=OE(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!VE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,UE)})})}_removeTriggerEvents(){this._triggerElement&&(hT.forEach(e=>{this._triggerElement.removeEventListener(e,this,UE)}),this._pointerUpEventsRegistered&&fT.forEach(e=>{this._triggerElement.removeEventListener(e,this,UE)}))}}const zR=new f.OlP("mat-ripple-global-options");let PC=(()=>{class n{constructor(t,r,s,p,v){this._elementRef=t,this._animationMode=v,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=p||{},this._rippleRenderer=new TR(this,r,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:lt(lt(lt({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,lt(lt({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,lt(lt({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(Rs),f.Y36(zR,8),f.Y36(s2,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&f.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir,Ey],ir]}),n})(),NR=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(s2,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,r){2&t&&f.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,r){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),LR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir]]}),n})();const pT=new f.OlP("MAT_OPTION_PARENT_COMPONENT"),mT=new f.OlP("MatOptgroup");let PR=0;class RR{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let OR=(()=>{class n{constructor(t,r,s,p){this._element=t,this._changeDetectorRef=r,this._parent=s,this.group=p,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+PR++,this.onSelectionChange=new f.vpe,this._stateChanges=new Ct.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=Co(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,r){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Q7(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new RR(this,t))}}return n.\u0275fac=function(t){f.$Z()},n.\u0275dir=f.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),gT=(()=>{class n extends OR{constructor(t,r,s,p){super(t,r,s,p)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(pT,8),f.Y36(mT,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r._selectViaInteraction()})("keydown",function(p){return r._handleKeydown(p)}),2&t&&(f.Ikx("id",r.id),f.uIk("tabindex",r._getTabIndex())("aria-selected",r._getAriaSelected())("aria-disabled",r.disabled.toString()),f.ekj("mat-selected",r.selected)("mat-option-multiple",r.multiple)("mat-active",r.active)("mat-option-disabled",r.disabled))},exportAs:["matOption"],features:[f.qOj],ngContentSelectors:CR,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,r){1&t&&(f.F$t(),f.YNc(0,bR,1,2,"mat-pseudo-checkbox",0),f.TgZ(1,"span",1),f.Hsn(2),f.qZA(),f.YNc(3,wR,2,1,"span",2),f._UZ(4,"div",3)),2&t&&(f.Q6J("ngIf",r.multiple),f.xp6(3),f.Q6J("ngIf",r.group&&r.group._inert),f.xp6(1),f.Q6J("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},directives:[ar,PC,NR],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function vT(n,e,t){if(t.length){let r=e.toArray(),s=t.toArray(),p=0;for(let v=0;v<n+1;v++)r[v].group&&r[v].group===s[p]&&p++;return p}return 0}let _T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[qE,br,ir,LR]]}),n})();const FR=["*",[["mat-toolbar-row"]]],HR=["*","mat-toolbar-row"],BR=Sy(class{constructor(n){this._elementRef=n}});let jR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),UR=(()=>{class n extends BR{constructor(t,r,s){super(t),this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Rs),f.Y36(ve))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,r,s){if(1&t&&f.Suo(s,jR,5),2&t){let p;f.iGM(p=f.CRH())&&(r._toolbarRows=p)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,r){2&t&&f.ekj("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[f.qOj],ngContentSelectors:HR,decls:2,vars:0,template:function(t,r){1&t&&(f.F$t(FR),f.Hsn(0),f.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),yT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir],ir]}),n})();const qR=["mat-button",""],$R=["*"],WR=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],ZR=Sy(HE(BE(class{constructor(n){this._elementRef=n}})));let hg=(()=>{class n extends ZR{constructor(t,r,s){super(t),this._focusMonitor=r,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const p of WR)this._hasHostAttributes(p)&&this._getHostElement().classList.add(p);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,r){t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(LC),f.Y36(s2,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,r){if(1&t&&f.Gf(PC,5),2&t){let s;f.iGM(s=f.CRH())&&(r.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,r){2&t&&(f.uIk("disabled",r.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:qR,ngContentSelectors:$R,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,r){1&t&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&t&&(f.xp6(2),f.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),f.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[PC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),$E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[qE,ir],ir]}),n})();const YR=["*",[["mat-card-footer"]]],KR=["*","mat-card-footer"];let RC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),bT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),GE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),n})(),WE=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,r){2&t&&f.ekj("mat-card-actions-align-end","end"===r.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),wT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Iy=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(s2,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&f.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:KR,decls:2,vars:0,template:function(t,r){1&t&&(f.F$t(YR),f.Hsn(0),f.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),n})(),CT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir],ir]}),n})();var ZE=F(2907),kT=F(8085);function YE(n,e=R0.P){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return s=>s.lift(new JR(r,e))}class JR{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new KE(e,this.delay,this.scheduler))}}class KE extends rn.L{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,s=e.scheduler,p=e.destination;for(;r.length>0&&r[0].time-s.now()<=0;)r.shift().notification.observe(p);if(r.length>0){const v=Math.max(0,r[0].time-s.now());this.schedule(e,v)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(KE.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new XR(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(kT.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(kT.P.createComplete()),this.unsubscribe()}}class XR{constructor(e,t){this.time=e,this.notification=t}}class QE{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class OC extends QE{constructor(e,t,r,s){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=s}}class VC extends QE{constructor(e,t,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class eO extends QE{constructor(e){super(),this.element=e instanceof f.SBq?e.nativeElement:e}}class JE{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof OC?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof VC?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof eO?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class tO extends JE{constructor(e,t,r,s,p){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=v=>{const C=v.element,A=this._document.createComment("dom-portal");C.parentNode.insertBefore(A,C),this.outletElement.appendChild(C),this._attachedPortal=v,super.setDisposeFn(()=>{A.parentNode&&A.parentNode.replaceChild(C,A)})},this._document=p}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=r.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context);return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(r);-1!==s&&t.remove(s)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let MT=(()=>{class n extends JE{constructor(t,r,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=p=>{const v=p.element,C=this._document.createComment("dom-portal");p.setAttachedHost(this),v.parentNode.insertBefore(C,v),this._getRootNode().appendChild(v),this._attachedPortal=p,super.setDisposeFn(()=>{C.parentNode&&C.parentNode.replaceChild(v,C)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const r=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,p=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),v=r.createComponent(p,r.length,t.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(v.hostView.rootNodes[0]),super.setDisposeFn(()=>v.destroy()),this._attachedPortal=t,this._attachedRef=v,this.attached.emit(v),v}attachTemplatePortal(t){t.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(ve))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),n})(),ET=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();var nO=F(6783);function XE(n,e,t,r){return(0,nO.m)(t)&&(r=t,t=void 0),r?XE(n,e,t).pipe((0,K.U)(s=>(0,o5.k)(s)?r(...s):r(s))):new ri.y(s=>{xT(n,e,function(v){s.next(arguments.length>1?Array.prototype.slice.call(arguments):v)},s,t)})}function xT(n,e,t,r,s){let p;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const v=n;n.addEventListener(e,t,s),p=()=>v.removeEventListener(e,t,s)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const v=n;n.on(e,t),p=()=>v.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const v=n;n.addListener(e,t),p=()=>v.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let v=0,C=n.length;v<C;v++)xT(n[v],e,t,r,s)}r.add(p)}var sO=F(6339),cO=F(5192);new class extends cO.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let r,s=-1,p=t.length;e=e||t.shift();do{if(r=e.execute(e.state,e.delay))break}while(++s<p&&(e=t.shift()));if(this.active=!1,r){for(;++s<p&&(e=t.shift());)e.unsubscribe();throw r}}}(class extends sO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(e,t,r);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}});class hO{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new fO(e,this.durationSelector))}}class fO extends Ne.Ds{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let t;try{const{durationSelector:s}=this;t=s(e)}catch(s){return this.destination.error(s)}const r=(0,Ne.ft)(t,new Ne.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:e,hasValue:t,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),t&&(this.value=void 0,this.hasValue=!1,this.destination.next(e))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var AT=F(8212);function mO(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function ST(n,e=R0.P){return function(n){return function(t){return t.lift(new hO(n))}}(()=>function(n=0,e,t){let r=-1;return(0,AT.k)(e)?r=Number(e)<1?1:Number(e):(0,r5.K)(e)&&(t=e),(0,r5.K)(t)||(t=R0.P),new ri.y(s=>{const p=(0,AT.k)(n)?n:+n-t.now();return t.schedule(mO,p,{index:0,period:r,subscriber:s})})}(n,e))}let TT=(()=>{class n{constructor(t,r,s){this._ngZone=t,this._platform=r,this._scrolled=new Ct.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ri.y(r=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(ST(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,j.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const s=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(pr(p=>!p||s.indexOf(p)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((s,p)=>{this._scrollableContainsElement(p,t)&&r.push(p)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let s=Qu(r),p=t.getElementRef().nativeElement;do{if(s==p)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>XE(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b),f.LFG(Rs),f.LFG(ve,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ex=(()=>{class n{constructor(t,r,s){this._platform=t,this._change=new Ct.xQ,this._changeListener=p=>{this._change.next(p)},this._document=s,r.runOutsideAngular(()=>{if(t.isBrowser){const p=this._getWindow();p.addEventListener("resize",this._changeListener),p.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),s=t.documentElement,p=s.getBoundingClientRect();return{top:-p.top||t.body.scrollTop||r.scrollY||s.scrollTop||0,left:-p.left||t.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(ST(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs),f.LFG(f.R0b),f.LFG(ve,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ay,Ey,Dy],Ay,Dy]}),n})();class yO{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new bO(e,this.predicate,this.inclusive))}}class bO extends rn.L{constructor(e,t,r){super(e),this.predicate=t,this.inclusive=r,this.index=0}_next(e){const t=this.destination;let r;try{r=this.predicate(e,this.index++)}catch(s){return void t.error(s)}this.nextOrComplete(e,r)}nextOrComplete(e,t){const r=this.destination;Boolean(t)?r.next(e):(this.inclusive&&r.next(e),r.complete())}}const DT=YP();class wO{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ms(-this._previousScrollPosition.left),e.style.top=ms(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,s=this._document.body.style,p=r.scrollBehavior||"",v=s.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),DT&&(r.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),DT&&(r.scrollBehavior=p,s.scrollBehavior=v)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class CO{constructor(e,t,r,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class zT{enable(){}disable(){}attach(){}}function tx(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function NT(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class kO{constructor(e,t,r,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:s}=this._viewportRuler.getViewportSize();tx(t,[{width:r,height:s,bottom:s,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let MO=(()=>{class n{constructor(t,r,s,p){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new zT,this.close=v=>new CO(this._scrollDispatcher,this._ngZone,this._viewportRuler,v),this.block=()=>new wO(this._viewportRuler,this._document),this.reposition=v=>new kO(this._scrollDispatcher,this._viewportRuler,this._ngZone,v),this._document=p}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(TT),f.LFG(ex),f.LFG(f.R0b),f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FC{constructor(e){if(this.scrollStrategy=new zT,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class EO{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let LT=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xO=(()=>{class n extends LT{constructor(t){super(t),this._keydownListener=r=>{const s=this._attachedOverlays;for(let p=s.length-1;p>-1;p--)if(s[p]._keydownEvents.observers.length>0){s[p]._keydownEvents.next(r);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AO=(()=>{class n extends LT{constructor(t,r){super(t),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=X7(s)},this._clickListener=s=>{const p=X7(s),v="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:p;this._pointerDownEventTarget=null;const C=this._attachedOverlays.slice();for(let A=C.length-1;A>-1;A--){const P=C[A];if(!(P._outsidePointerEvents.observers.length<1)&&P.hasAttached()){if(P.overlayElement.contains(p)||P.overlayElement.contains(v))break;P._outsidePointerEvents.next(s)}}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve),f.LFG(Rs))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PT=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||PE()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let p=0;p<s.length;p++)s[p].remove()}const r=this._document.createElement("div");r.classList.add(t),PE()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve),f.LFG(Rs))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class SO{constructor(e,t,r,s,p,v,C,A,P){this._portalOutlet=e,this._host=t,this._pane=r,this._config=s,this._ngZone=p,this._keyboardDispatcher=v,this._document=C,this._location=A,this._outsideClickDispatcher=P,this._backdropElement=null,this._backdropClick=new Ct.xQ,this._attachments=new Ct.xQ,this._detachments=new Ct.xQ,this._locationChanges=po.w.EMPTY,this._backdropClickHandler=B=>this._backdropClick.next(B),this._keydownEvents=new Ct.xQ,this._outsidePointerEvents=new Ct.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vo(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=lt(lt({},this._config),e),this._updateElementSize()}setDirection(e){this._config=_s(lt({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=ms(this._config.width),e.height=ms(this._config.height),e.minWidth=ms(this._config.minWidth),e.minHeight=ms(this._config.minHeight),e.maxWidth=ms(this._config.maxWidth),e.maxHeight=ms(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const r=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",r),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",r)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(e,t,r){const s=TC(t||[]).filter(p=>!!p);s.length&&(r?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Mi((0,xi.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const RT="cdk-overlay-connected-position-bounding-box",TO=/([A-Za-z%]+)$/;class IO{constructor(e,t,r,s,p){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=p,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ct.xQ,this._resizeSubscription=po.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(RT),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,s=[];let p;for(let v of this._preferredPositions){let C=this._getOriginPoint(e,v),A=this._getOverlayPoint(C,t,v),P=this._getOverlayFit(A,t,r,v);if(P.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(v,C);this._canFitWithFlexibleDimensions(P,A,r)?s.push({position:v,origin:C,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(C,v)}):(!p||p.overlayFit.visibleArea<P.visibleArea)&&(p={overlayFit:P,overlayPoint:A,originPoint:C,position:v,overlayRect:t})}if(s.length){let v=null,C=-1;for(const A of s){const P=A.boundingBoxRect.width*A.boundingBoxRect.height*(A.position.weight||1);P>C&&(C=P,v=A)}return this._isPushed=!1,void this._applyPosition(v.position,v.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(p.position,p.originPoint);this._applyPosition(p.position,p.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&e9(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(RT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let r,s;if("center"==t.originX)r=e.left+e.width/2;else{const p=this._isRtl()?e.right:e.left,v=this._isRtl()?e.left:e.right;r="start"==t.originX?p:v}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:r,y:s}}_getOverlayPoint(e,t,r){let s,p;return s="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,p="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+s,y:e.y+p}}_getOverlayFit(e,t,r,s){const p=VT(t);let{x:v,y:C}=e,A=this._getOffset(s,"x"),P=this._getOffset(s,"y");A&&(v+=A),P&&(C+=P);let re=0-C,ae=C+p.height-r.height,ge=this._subtractOverflows(p.width,0-v,v+p.width-r.width),Te=this._subtractOverflows(p.height,re,ae),Oe=ge*Te;return{visibleArea:Oe,isCompletelyWithinViewport:p.width*p.height===Oe,fitsInViewportVertically:Te===p.height,fitsInViewportHorizontally:ge==p.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const s=r.bottom-t.y,p=r.right-t.x,v=OT(this._overlayRef.getConfig().minHeight),C=OT(this._overlayRef.getConfig().minWidth),P=e.fitsInViewportHorizontally||null!=C&&C<=p;return(e.fitsInViewportVertically||null!=v&&v<=s)&&P}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=VT(t),p=this._viewportRect,v=Math.max(e.x+s.width-p.width,0),C=Math.max(e.y+s.height-p.height,0),A=Math.max(p.top-r.top-e.y,0),P=Math.max(p.left-r.left-e.x,0);let B=0,G=0;return B=s.width<=p.width?P||-v:e.x<this._viewportMargin?p.left-r.left-e.x:0,G=s.height<=p.height?A||-C:e.y<this._viewportMargin?p.top-r.top-e.y:0,this._previousPushAmount={x:B,y:G},{x:e.x+B,y:e.y+G}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),s=new EO(e,r);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,s=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let p=0;p<t.length;p++)t[p].style.transformOrigin=`${r} ${s}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,s=this._isRtl();let p,v,C,B,G,re;if("top"===t.overlayY)v=e.y,p=r.height-v+this._viewportMargin;else if("bottom"===t.overlayY)C=r.height-e.y+2*this._viewportMargin,p=r.height-C+this._viewportMargin;else{const ae=Math.min(r.bottom-e.y+r.top,e.y),ge=this._lastBoundingBoxSize.height;p=2*ae,v=e.y-ae,p>ge&&!this._isInitialRender&&!this._growAfterOpen&&(v=e.y-ge/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)re=r.width-e.x+this._viewportMargin,B=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)G=e.x,B=r.right-e.x;else{const ae=Math.min(r.right-e.x+r.left,e.x),ge=this._lastBoundingBoxSize.width;B=2*ae,G=e.x-ae,B>ge&&!this._isInitialRender&&!this._growAfterOpen&&(G=e.x-ge/2)}return{top:v,left:G,bottom:C,right:re,width:B,height:p}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const p=this._overlayRef.getConfig().maxHeight,v=this._overlayRef.getConfig().maxWidth;s.height=ms(r.height),s.top=ms(r.top),s.bottom=ms(r.bottom),s.width=ms(r.width),s.left=ms(r.left),s.right=ms(r.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",p&&(s.maxHeight=ms(p)),v&&(s.maxWidth=ms(v))}this._lastBoundingBoxSize=r,e9(this._boundingBox.style,s)}_resetBoundingBoxStyles(){e9(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){e9(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},s=this._hasExactPosition(),p=this._hasFlexibleDimensions,v=this._overlayRef.getConfig();if(s){const B=this._viewportRuler.getViewportScrollPosition();e9(r,this._getExactOverlayY(t,e,B)),e9(r,this._getExactOverlayX(t,e,B))}else r.position="static";let C="",A=this._getOffset(t,"x"),P=this._getOffset(t,"y");A&&(C+=`translateX(${A}px) `),P&&(C+=`translateY(${P}px)`),r.transform=C.trim(),v.maxHeight&&(s?r.maxHeight=ms(v.maxHeight):p&&(r.maxHeight="")),v.maxWidth&&(s?r.maxWidth=ms(v.maxWidth):p&&(r.maxWidth="")),e9(this._pane.style,r)}_getExactOverlayY(e,t,r){let s={top:"",bottom:""},p=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,r));let v=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return p.y-=v,"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(p.y+this._overlayRect.height)+"px":s.top=ms(p.y),s}_getExactOverlayX(e,t,r){let v,s={left:"",right:""},p=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(p=this._pushOverlayOnScreen(p,this._overlayRect,r)),v=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===v?s.right=this._document.documentElement.clientWidth-(p.x+this._overlayRect.width)+"px":s.left=ms(p.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NT(e,r),isOriginOutsideView:tx(e,r),isOverlayClipped:NT(t,r),isOverlayOutsideView:tx(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,s)=>r-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&TC(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof f.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function e9(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function OT(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(TO);return t&&"px"!==t?null:parseFloat(e)}return n||null}function VT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const FT="cdk-global-overlay-wrapper";class DO{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(FT),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:s,height:p,maxWidth:v,maxHeight:C}=r,A=!("100%"!==s&&"100vw"!==s||v&&"100%"!==v&&"100vw"!==v),P=!("100%"!==p&&"100vh"!==p||C&&"100%"!==C&&"100vh"!==C);e.position=this._cssPosition,e.marginLeft=A?"0":this._leftOffset,e.marginTop=P?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,A?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=P?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(FT),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let zO=(()=>{class n{constructor(t,r,s,p){this._viewportRuler=t,this._document=r,this._platform=s,this._overlayContainer=p}global(){return new DO}flexibleConnectedTo(t){return new IO(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ex),f.LFG(ve),f.LFG(Rs),f.LFG(PT))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NO=0,Ju=(()=>{class n{constructor(t,r,s,p,v,C,A,P,B,G,re){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=p,this._keyboardDispatcher=v,this._injector=C,this._ngZone=A,this._document=P,this._directionality=B,this._location=G,this._outsideClickDispatcher=re}create(t){const r=this._createHostElement(),s=this._createPaneElement(r),p=this._createPortalOutlet(s),v=new FC(t);return v.direction=v.direction||this._directionality.value,new SO(p,r,s,v,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+NO++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new tO(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(MO),f.LFG(PT),f.LFG(f._Vd),f.LFG(zO),f.LFG(xO),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(ve),f.LFG(dg),f.LFG(vt),f.LFG(AO))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const LO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],HT=new f.OlP("cdk-connected-overlay-scroll-strategy");let BT=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),jT=(()=>{class n{constructor(t,r,s,p,v){this._overlay=t,this._dir=v,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=po.w.EMPTY,this._attachSubscription=po.w.EMPTY,this._detachSubscription=po.w.EMPTY,this._positionSubscription=po.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new f.vpe,this.positionChange=new f.vpe,this.attach=new f.vpe,this.detach=new f.vpe,this.overlayKeydown=new f.vpe,this.overlayOutsideClick=new f.vpe,this._templatePortal=new VC(r,s),this._scrollStrategyFactory=p,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Co(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=Co(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=Co(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=Co(t)}get push(){return this._push}set push(t){this._push=Co(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=LO);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!Q7(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{this.overlayOutsideClick.next(r)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new FC({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){const r=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof BT?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(n,e=!1){return t=>t.lift(new yO(n,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ju),f.Y36(f.Rgc),f.Y36(f.s_b),f.Y36(HT),f.Y36(dg,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[f.TTD]}),n})();const RO={provide:HT,deps:[Ju],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let HC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Ju,RO],imports:[[Ay,ET,IT],IT]}),n})();const OO=["mat-menu-item",""];function VO(n,e){1&n&&(f.O4$(),f.TgZ(0,"svg",2),f._UZ(1,"polygon",3),f.qZA())}const UT=["*"];function FO(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",0),f.NdJ("keydown",function(s){return f.CHM(t),f.oxw()._handleKeydown(s)})("click",function(){return f.CHM(t),f.oxw().closed.emit("click")})("@transformMenu.start",function(s){return f.CHM(t),f.oxw()._onAnimationStart(s)})("@transformMenu.done",function(s){return f.CHM(t),f.oxw()._onAnimationDone(s)}),f.TgZ(1,"div",1),f.Hsn(2),f.qZA(),f.qZA()}if(2&n){const t=f.oxw();f.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),f.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const BC={transformMenu:at("transformMenu",[Qr("void",nn({opacity:0,transform:"scale(0.8)"})),Mr("void => enter",Et("120ms cubic-bezier(0, 0, 0.2, 1)",nn({opacity:1,transform:"scale(1)"}))),Mr("* => void",Et("100ms 25ms linear",nn({opacity:0})))]),fadeInItems:at("fadeInItems",[Qr("showing",nn({opacity:1})),Mr("void => *",[nn({opacity:0}),Et("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},HO=new f.OlP("MatMenuContent"),nx=new f.OlP("MAT_MENU_PANEL"),BO=BE(HE(class{}));let jC=(()=>{class n extends BO{constructor(t,r,s,p,v){super(),this._elementRef=t,this._focusMonitor=s,this._parentMenu=p,this._changeDetectorRef=v,this.role="menuitem",this._hovered=new Ct.xQ,this._focused=new Ct.xQ,this._highlighted=!1,this._triggersSubmenu=!1,p&&p.addItem&&p.addItem(this)}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var s;const t=this._elementRef.nativeElement.cloneNode(!0),r=t.querySelectorAll("mat-icon, .material-icons");for(let p=0;p<r.length;p++)r[p].remove();return(null==(s=t.textContent)?void 0:s.trim())||""}_setHighlighted(t){var r;this._highlighted=t,null==(r=this._changeDetectorRef)||r.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(ve),f.Y36(LC),f.Y36(nx,8),f.Y36(f.sBO))},n.\u0275cmp=f.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,r){1&t&&f.NdJ("click",function(p){return r._checkDisabled(p)})("mouseenter",function(){return r._handleMouseEnter()}),2&t&&(f.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),f.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[f.qOj],attrs:OO,ngContentSelectors:UT,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,r){1&t&&(f.F$t(),f.Hsn(0),f._UZ(1,"div",0),f.YNc(2,VO,2,0,"svg",1)),2&t&&(f.xp6(1),f.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),f.xp6(1),f.Q6J("ngIf",r._triggersSubmenu))},directives:[PC,ar],encapsulation:2,changeDetection:0}),n})();const qT=new f.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let UO=0,zy=(()=>{class n{constructor(t,r,s){this._elementRef=t,this._ngZone=r,this._defaultOptions=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new f.n_E,this._tabSubscription=po.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Ct.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new f.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+UO++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Co(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Co(t)}set panelClass(t){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new rR(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Bo(this._directDescendantItems),Qe(t=>(0,xi.T)(...t.map(r=>r._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Bo(this._directDescendantItems),Qe(r=>(0,xi.T)(...r.map(s=>s._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const r=t.keyCode,s=this._keyManager;switch(r){case 27:Q7(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&s.setFocusOrigin("keyboard"),s.onKeydown(t)}}focusFirstItem(t="program"){this.lazyContent?this._ngZone.onStable.pipe(Vo(1)).subscribe(()=>this._focusFirstItem(t)):this._focusFirstItem(t)}_focusFirstItem(t){const r=this._keyManager;if(r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const r=Math.min(this._baseElevation+t,24),s=`${this._elevationPrefix}${r}`,p=Object.keys(this._classList).find(v=>v.startsWith(this._elevationPrefix));(!p||p===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(t=this.xPosition,r=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===t,s["mat-menu-after"]="after"===t,s["mat-menu-above"]="above"===r,s["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Bo(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(qT))},n.\u0275dir=f.lG2({type:n,contentQueries:function(t,r,s){if(1&t&&(f.Suo(s,HO,5),f.Suo(s,jC,5),f.Suo(s,jC,4)),2&t){let p;f.iGM(p=f.CRH())&&(r.lazyContent=p.first),f.iGM(p=f.CRH())&&(r._allItems=p),f.iGM(p=f.CRH())&&(r.items=p)}},viewQuery:function(t,r){if(1&t&&f.Gf(f.Rgc,5),2&t){let s;f.iGM(s=f.CRH())&&(r.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),qO=(()=>{class n extends zy{constructor(t,r,s){super(t,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(qT))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,r){2&t&&f.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[f._Bn([{provide:nx,useExisting:n}]),f.qOj],ngContentSelectors:UT,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,r){1&t&&(f.F$t(),f.YNc(0,FO,3,6,"ng-template"))},directives:[ho],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[BC.transformMenu,BC.fadeInItems]},changeDetection:0}),n})();const $T=new f.OlP("mat-menu-scroll-strategy"),GO={provide:$T,deps:[Ju],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},WT=lg({passive:!0});let WO=(()=>{class n{constructor(t,r,s,p,v,C,A,P){this._overlay=t,this._element=r,this._viewContainerRef=s,this._menuItemInstance=C,this._dir=A,this._focusMonitor=P,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=po.w.EMPTY,this._hoverSubscription=po.w.EMPTY,this._menuCloseSubscription=po.w.EMPTY,this._handleTouchStart=B=>{VE(B)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new f.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new f.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=p,this._parentMaterialMenu=v instanceof zy?v:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,WT),C&&(C._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,WT),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const t=this._createOverlay(),r=t.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,t.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof zy&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(t,r){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,r):this._element.nativeElement.focus(r)}updatePosition(){var t;null==(t=this._overlayRef)||t.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof zy?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(pr(s=>"void"===s.toState),Vo(1),Mi(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let t=0,r=this.menu.parentMenu;for(;r;)t++,r=r.parentMenu;this.menu.setElevation(t)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const t=this._getOverlayConfig();this._subscribeToPositions(t.positionStrategy),this._overlayRef=this._overlay.create(t),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new FC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t){this.menu.setPositionClasses&&t.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(t){let[r,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[p,v]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[C,A]=[p,v],[P,B]=[r,s],G=0;this.triggersSubmenu()?(B=r="before"===this.menu.xPosition?"start":"end",s=P="end"===r?"start":"end",G="bottom"===p?8:-8):this.menu.overlapTrigger||(C="top"===p?"bottom":"top",A="top"===v?"bottom":"top"),t.withPositions([{originX:r,originY:C,overlayX:P,overlayY:p,offsetY:G},{originX:s,originY:C,overlayX:B,overlayY:p,offsetY:G},{originX:r,originY:A,overlayX:P,overlayY:v,offsetY:-G},{originX:s,originY:A,overlayX:B,overlayY:v,offsetY:-G}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,j.of)(),p=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(pr(v=>v!==this._menuItemInstance),pr(()=>this._menuOpen)):(0,j.of)();return(0,xi.T)(t,s,p,r)}_handleMousedown(t){OE(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const r=t.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(pr(t=>t===this._menuItemInstance&&!t.disabled),YE(0,ZE.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof zy&&this.menu._isAnimating?this.menu._animationDone.pipe(Vo(1),YE(0,ZE.E),Mi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new VC(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ju),f.Y36(f.SBq),f.Y36(f.s_b),f.Y36($T),f.Y36(nx,8),f.Y36(jC,10),f.Y36(dg,8),f.Y36(LC))},n.\u0275dir=f.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,r){1&t&&f.NdJ("click",function(p){return r._handleClick(p)})("mousedown",function(p){return r._handleMousedown(p)})("keydown",function(p){return r._handleKeydown(p)}),2&t&&f.uIk("aria-expanded",r.menuOpen||null)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),ZO=(()=>{class n extends WO{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[f.qOj]}),n})(),ZT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[GO],imports:[[br,ir,qE,HC],Dy,ir]}),n})();var YO=F(540),KO=F(7879);function YT(...n){if(1===n.length){const e=n[0];if((0,o5.k)(e))return UC(e,null);if((0,KO.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return UC(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return UC(n=1===n.length&&(0,o5.k)(n[0])?n[0]:n,null).pipe((0,K.U)(t=>e(...t)))}return UC(n,null)}function UC(n,e){return new ri.y(t=>{const r=n.length;if(0===r)return void t.complete();const s=new Array(r);let p=0,v=0;for(let C=0;C<r;C++){const A=(0,be.D)(n[C]);let P=!1;t.add(A.subscribe({next:B=>{P||(P=!0,v++),s[C]=B},error:B=>t.error(B),complete:()=>{p++,(p===r||!P)&&(v===r&&t.next(e?e.reduce((B,G,re)=>(B[G]=s[re],B),{}):s),t.complete())}}))}})}var QO=F(6669);class KT{}class QT{}class Xu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),p=s.toLowerCase(),v=t.slice(r+1).trim();this.maybeSetNormalizedName(s,p),this.headers.has(p)?this.headers.get(p).push(v):this.headers.set(p,[v])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Xu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Xu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Xu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const p=e.value;if(p){let v=this.headers.get(t);if(!v)return;v=v.filter(C=>-1===p.indexOf(C)),0===v.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,v)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class JO{encodeKey(e){return JT(e)}encodeValue(e){return JT(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const eV=/%(\d[a-f0-9])/gi,tV={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function JT(n){return encodeURIComponent(n).replace(eV,(e,t)=>{var r;return null!=(r=tV[t])?r:e})}function XT(n){return`${n}`}class rh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new JO,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const p=s.indexOf("="),[v,C]=-1==p?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,p)),e.decodeValue(s.slice(p+1))],A=t.get(v)||[];A.push(C),t.set(v,A)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(p=>{t.push({param:r,value:p,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(XT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(XT(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class nV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function eI(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function tI(n){return"undefined"!=typeof Blob&&n instanceof Blob}function nI(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ny{constructor(e,t,r,s){let p;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,p=s):p=r,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new Xu),this.context||(this.context=new nV),this.params){const v=this.params.toString();if(0===v.length)this.urlWithParams=t;else{const C=t.indexOf("?");this.urlWithParams=t+(-1===C?"?":C<t.length-1?"&":"")+v}}else this.params=new rh,this.urlWithParams=t}serializeBody(){return null===this.body?null:eI(this.body)||tI(this.body)||nI(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nI(this.body)?null:tI(this.body)?this.body.type||null:eI(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var G;const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,p=void 0!==e.body?e.body:this.body,v=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,C=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let A=e.headers||this.headers,P=e.params||this.params;const B=null!=(G=e.context)?G:this.context;return void 0!==e.setHeaders&&(A=Object.keys(e.setHeaders).reduce((re,ae)=>re.set(ae,e.setHeaders[ae]),A)),e.setParams&&(P=Object.keys(e.setParams).reduce((re,ae)=>re.set(ae,e.setParams[ae]),P)),new Ny(t,r,p,{params:P,headers:A,context:B,reportProgress:C,responseType:s,withCredentials:v})}}var gs=(()=>((gs=gs||{})[gs.Sent=0]="Sent",gs[gs.UploadProgress=1]="UploadProgress",gs[gs.ResponseHeader=2]="ResponseHeader",gs[gs.DownloadProgress=3]="DownloadProgress",gs[gs.Response=4]="Response",gs[gs.User=5]="User",gs))();class ix{constructor(e,t=200,r="OK"){this.headers=e.headers||new Xu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class rx extends ix{constructor(e={}){super(e),this.type=gs.ResponseHeader}clone(e={}){return new rx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class qC extends ix{constructor(e={}){super(e),this.type=gs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new qC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class iI extends ix{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ox(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sx=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let p;if(t instanceof Ny)p=t;else{let A,P;A=s.headers instanceof Xu?s.headers:new Xu(s.headers),s.params&&(P=s.params instanceof rh?s.params:new rh({fromObject:s.params})),p=new Ny(t,r,void 0!==s.body?s.body:null,{headers:A,context:s.context,params:P,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const v=(0,j.of)(p).pipe(Q4(A=>this.handler.handle(A)));if(t instanceof Ny||"events"===s.observe)return v;const C=v.pipe(pr(A=>A instanceof qC));switch(s.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return C.pipe((0,K.U)(A=>{if(null!==A.body&&!(A.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return A.body}));case"blob":return C.pipe((0,K.U)(A=>{if(null!==A.body&&!(A.body instanceof Blob))throw new Error("Response is not a Blob.");return A.body}));case"text":return C.pipe((0,K.U)(A=>{if(null!==A.body&&"string"!=typeof A.body)throw new Error("Response is not a string.");return A.body}));default:return C.pipe((0,K.U)(A=>A.body))}case"response":return C;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,ox(s,r))}post(t,r,s={}){return this.request("POST",t,ox(s,r))}put(t,r,s={}){return this.request("PUT",t,ox(s,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(KT))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class rI{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const oI=new f.OlP("HTTP_INTERCEPTORS");let oV=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const sV=/^\)\]\}',?\n/;let sI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ri.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((ae,ge)=>s.setRequestHeader(ae,ge.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ae=t.detectContentTypeHeader();null!==ae&&s.setRequestHeader("Content-Type",ae)}if(t.responseType){const ae=t.responseType.toLowerCase();s.responseType="json"!==ae?ae:"text"}const p=t.serializeBody();let v=null;const C=()=>{if(null!==v)return v;const ae=1223===s.status?204:s.status,ge=s.statusText||"OK",Te=new Xu(s.getAllResponseHeaders()),Oe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return v=new rx({headers:Te,status:ae,statusText:ge,url:Oe}),v},A=()=>{let{headers:ae,status:ge,statusText:Te,url:Oe}=C(),rt=null;204!==ge&&(rt=void 0===s.response?s.responseText:s.response),0===ge&&(ge=rt?200:0);let St=ge>=200&&ge<300;if("json"===t.responseType&&"string"==typeof rt){const Nt=rt;rt=rt.replace(sV,"");try{rt=""!==rt?JSON.parse(rt):null}catch(kt){rt=Nt,St&&(St=!1,rt={error:kt,text:rt})}}St?(r.next(new qC({body:rt,headers:ae,status:ge,statusText:Te,url:Oe||void 0})),r.complete()):r.error(new iI({error:rt,headers:ae,status:ge,statusText:Te,url:Oe||void 0}))},P=ae=>{const{url:ge}=C(),Te=new iI({error:ae,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ge||void 0});r.error(Te)};let B=!1;const G=ae=>{B||(r.next(C()),B=!0);let ge={type:gs.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(ge.total=ae.total),"text"===t.responseType&&!!s.responseText&&(ge.partialText=s.responseText),r.next(ge)},re=ae=>{let ge={type:gs.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(ge.total=ae.total),r.next(ge)};return s.addEventListener("load",A),s.addEventListener("error",P),s.addEventListener("timeout",P),s.addEventListener("abort",P),t.reportProgress&&(s.addEventListener("progress",G),null!==p&&s.upload&&s.upload.addEventListener("progress",re)),s.send(p),r.next({type:gs.Sent}),()=>{s.removeEventListener("error",P),s.removeEventListener("abort",P),s.removeEventListener("load",A),s.removeEventListener("timeout",P),t.reportProgress&&(s.removeEventListener("progress",G),null!==p&&s.upload&&s.upload.removeEventListener("progress",re)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(U1))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ax=new f.OlP("XSRF_COOKIE_NAME"),cx=new f.OlP("XSRF_HEADER_NAME");class aI{}let cV=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Bs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve),f.LFG(f.Lbi),f.LFG(ax))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),lx=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const p=this.tokenService.getToken();return null!==p&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,p)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(aI),f.LFG(cx))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),lV=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(oI,[]);this.chain=r.reduceRight((s,p)=>new rI(s,p),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(QT),f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),uV=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:lx,useClass:oV}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:ax,useValue:t.cookieName}:[],t.headerName?{provide:cx,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[lx,{provide:oI,useExisting:lx,multi:!0},{provide:aI,useClass:cV},{provide:ax,useValue:"XSRF-TOKEN"},{provide:cx,useValue:"X-XSRF-TOKEN"}]}),n})(),dV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[sx,{provide:KT,useClass:lV},sI,{provide:QT,useExisting:sI}],imports:[[uV.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const hV=["*"];let $C;function Ly(n){var e;return(null==(e=function(){if(void 0===$C&&($C=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&($C=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return $C}())?void 0:e.createHTML(n))||n}function cI(n){return Error(`Unable to find icon with the name "${n}"`)}function lI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function uI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class t9{constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}}let GC=(()=>{class n{constructor(t,r,s,p){this._httpClient=t,this._sanitizer=r,this._errorHandler=p,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(t,r,s){return this.addSvgIconInNamespace("",t,r,s)}addSvgIconLiteral(t,r,s){return this.addSvgIconLiteralInNamespace("",t,r,s)}addSvgIconInNamespace(t,r,s,p){return this._addSvgIconConfig(t,r,new t9(s,null,p))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,s,p){const v=this._sanitizer.sanitize(f.q3G.HTML,s);if(!v)throw uI(s);const C=Ly(v);return this._addSvgIconConfig(t,r,new t9("",C,p))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,s){return this._addSvgIconSetConfig(t,new t9(r,null,s))}addSvgIconSetLiteralInNamespace(t,r,s){const p=this._sanitizer.sanitize(f.q3G.HTML,r);if(!p)throw uI(r);const v=Ly(p);return this._addSvgIconSetConfig(t,new t9("",v,s))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const r=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,t);if(!r)throw lI(t);const s=this._cachedIconsByUrl.get(r);return s?(0,j.of)(WC(s)):this._loadSvgIconFromConfig(new t9(t,null)).pipe((0,eo.b)(p=>this._cachedIconsByUrl.set(r,p)),(0,K.U)(p=>WC(p)))}getNamedSvgIcon(t,r=""){const s=dI(r,t);let p=this._svgIconConfigs.get(s);if(p)return this._getSvgFromConfig(p);if(p=this._getIconConfigFromResolvers(r,t),p)return this._svgIconConfigs.set(s,p),this._getSvgFromConfig(p);const v=this._iconSetConfigs.get(r);return v?this._getSvgFromIconSetConfigs(t,v):(0,YO._)(cI(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,j.of)(WC(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,K.U)(r=>WC(r)))}_getSvgFromIconSetConfigs(t,r){const s=this._extractIconWithNameFromAnySet(t,r);return s?(0,j.of)(s):YT(r.filter(v=>!v.svgText).map(v=>this._loadSvgIconSetFromConfig(v).pipe(K2(C=>{const P=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,v.url)} failed: ${C.message}`;return this._errorHandler.handleError(new Error(P)),(0,j.of)(null)})))).pipe((0,K.U)(()=>{const v=this._extractIconWithNameFromAnySet(t,r);if(!v)throw cI(t);return v}))}_extractIconWithNameFromAnySet(t,r){for(let s=r.length-1;s>=0;s--){const p=r[s];if(p.svgText&&p.svgText.toString().indexOf(t)>-1){const v=this._svgElementFromConfig(p),C=this._extractSvgIconFromSet(v,t,p.options);if(C)return C}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,eo.b)(r=>t.svgText=r),(0,K.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,j.of)(null):this._fetchIcon(t).pipe((0,eo.b)(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,s){const p=t.querySelector(`[id="${r}"]`);if(!p)return null;const v=p.cloneNode(!0);if(v.removeAttribute("id"),"svg"===v.nodeName.toLowerCase())return this._setSvgAttributes(v,s);if("symbol"===v.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(v),s);const C=this._svgElementFromString(Ly("<svg></svg>"));return C.appendChild(v),this._setSvgAttributes(C,s)}_svgElementFromString(t){const r=this._document.createElement("DIV");r.innerHTML=t;const s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(t){const r=this._svgElementFromString(Ly("<svg></svg>")),s=t.attributes;for(let p=0;p<s.length;p++){const{name:v,value:C}=s[p];"id"!==v&&r.setAttribute(v,C)}for(let p=0;p<t.childNodes.length;p++)t.childNodes[p].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[p].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){var P;const{url:r,options:s}=t,p=null!=(P=null==s?void 0:s.withCredentials)&&P;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const v=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,r);if(!v)throw lI(r);const C=this._inProgressUrlFetches.get(v);if(C)return C;const A=this._httpClient.get(v,{responseType:"text",withCredentials:p}).pipe((0,K.U)(B=>Ly(B)),l5(()=>this._inProgressUrlFetches.delete(v)),(0,QO.B)());return this._inProgressUrlFetches.set(v,A),A}_addSvgIconConfig(t,r,s){return this._svgIconConfigs.set(dI(t,r),s),this}_addSvgIconSetConfig(t,r){const s=this._iconSetConfigs.get(t);return s?s.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){const r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let s=0;s<this._resolvers.length;s++){const p=this._resolvers[s](r,t);if(p)return gV(p)?new t9(p.url,null,p.options):new t9(p,null)}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(sx,8),f.LFG(Z1),f.LFG(ve,8),f.LFG(f.qLn))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WC(n){return n.cloneNode(!0)}function dI(n,e){return n+":"+e}function gV(n){return!(!n.url||!n.options)}const vV=Sy(class{constructor(n){this._elementRef=n}}),_V=new f.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,f.f3M)(ve),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),hI=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],bV=hI.map(n=>`[${n}]`).join(", "),wV=/^url\(['"]?#(.*?)['"]?\)$/;let fI=(()=>{class n extends vV{constructor(t,r,s,p,v){super(t),this._iconRegistry=r,this._location=p,this._errorHandler=v,this._inline=!1,this._currentIconFetch=po.w.EMPTY,s||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Co(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const r=t.querySelectorAll("style");for(let p=0;p<r.length;p++)r[p].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const s=t.childNodes[r];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),r&&t.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const r=this._elementsWithExternalReferences;r&&r.forEach((s,p)=>{s.forEach(v=>{p.setAttribute(v.name,`url('${t}#${v.value}')`)})})}_cacheChildrenWithExternalReferences(t){const r=t.querySelectorAll(bV),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let p=0;p<r.length;p++)hI.forEach(v=>{const C=r[p],A=C.getAttribute(v),P=A?A.match(wV):null;if(P){let B=s.get(C);B||(B=[],s.set(C,B)),B.push({name:v,value:P[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[r,s]=this._splitIconName(t);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(Vo(1)).subscribe(p=>this._setSvgElement(p),p=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${s}! ${p.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(GC),f.$8M("aria-hidden"),f.Y36(_V),f.Y36(f.qLn))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,r){2&t&&(f.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),f.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:hV,decls:1,vars:0,template:function(t,r){1&t&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),pI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir],ir]}),n})();const CV=function(){return["link-active"]},kV=function(){return["/addpost"]};function MV(n,e){1&n&&(f.ynx(0),f.TgZ(1,"button",6),f._uU(2," Add Post "),f.qZA(),f.BQk()),2&n&&(f.xp6(1),f.Q6J("routerLinkActive",f.DdM(2,CV))("routerLink",f.DdM(3,kV)))}function EV(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){return f.CHM(t),f.oxw().login()}),f._uU(1,"Login with Google"),f.qZA()}}function xV(n,e){if(1&n){const t=f.EpF();f.ynx(0),f._UZ(1,"img",8),f.TgZ(2,"button",9),f._uU(3),f.ALo(4,"titlecase"),f.TgZ(5,"mat-icon"),f._uU(6,"arrow_drop_down"),f.qZA(),f.qZA(),f.TgZ(7,"mat-menu",null,10),f.TgZ(9,"button",11),f.NdJ("click",function(){return f.CHM(t),f.oxw().logout()}),f._uU(10,"Logout"),f.qZA(),f.qZA(),f.BQk()}if(2&n){const t=f.MAs(8),r=f.oxw();f.xp6(1),f.s9C("src",r.appUser.photoURL,f.LSH),f.xp6(1),f.Q6J("matMenuTriggerFor",t),f.xp6(1),f.hij(" ",f.lcZ(4,3,r.appUser.name),"")}}const AV=function(){return["/"]};let SV=(()=>{class n{constructor(t){this.authService=t}ngOnInit(){this.authService.appUser$.subscribe(t=>this.appUser=t)}login(){this.authService.login()}logout(){this.authService.logout()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(K7))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-nav-bar"]],decls:8,vars:5,consts:[[1,"nav-bar","mat-elevation-z2"],["mat-button","",3,"routerLink"],[4,"ngIf"],[1,"spacer"],["anonymousUser",""],[4,"ngIf","ngIfElse"],["mat-button","",3,"routerLinkActive","routerLink"],["mat-button","",3,"click"],["mat-card-avatar","",1,"user-avatar",3,"src"],["mat-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,r){if(1&t&&(f.TgZ(0,"mat-toolbar",0),f.TgZ(1,"button",1),f._uU(2,"Chaitanya's blog"),f.qZA(),f.YNc(3,MV,3,4,"ng-container",2),f._UZ(4,"span",3),f.YNc(5,EV,2,0,"ng-template",null,4,f.W1O),f.YNc(7,xV,11,5,"ng-container",5),f.qZA()),2&t){const s=f.MAs(6);f.xp6(1),f.Q6J("routerLink",f.DdM(4,AV)),f.xp6(2),f.Q6J("ngIf",r.appUser),f.xp6(4),f.Q6J("ngIf",r.appUser)("ngIfElse",s)}},directives:[UR,hg,N0,ar,e4,wT,ZO,fI,qO,jC],pipes:[m1],styles:[".nav-bar[_ngcontent-%COMP%]{background-color:#1565c0;color:#fff;position:fixed;top:0;z-index:99}button[_ngcontent-%COMP%]:focus{outline:none;border:0}.user-avatar[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;flex-shrink:0}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}"]}),n})(),TV=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}ngOnInit(){this.authService.appUser$.subscribe(t=>{if(t){const r=localStorage.getItem("returnUrl");if(!r)return;localStorage.removeItem("returnUrl"),this.router.navigateByUrl(r)}})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(K7),f.Y36(Dr))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(f._UZ(0,"app-nav-bar"),f.TgZ(1,"div",0),f._UZ(2,"router-outlet"),f.qZA())},directives:[SV,hf],styles:[""]}),n})();const mI_firebaseConfig={apiKey:"AIzaSyBcv1Ato1eZrWiajz8beQmO4DezwK6W8nE",authDomain:"blog-56f62.firebaseapp.com",databaseURL:"https://blog-56f62-default-rtdb.asia-southeast1.firebasedatabase.app/",projectId:"blog-56f62",storageBucket:"blog-56f62.appspot.com",messagingSenderId:"811434291879",appId:"1:811434291879:web:5c8cda6c9c90ad33052182"},e8=function(n){var e=typeof n;return null!=n&&("object"==e||"function"==e)},gI="object"==typeof global&&global&&global.Object===Object&&global;var zV="object"==typeof self&&self&&self.Object===Object&&self;const z3=gI||zV||Function("return this")(),ux=function(){return z3.Date.now()};var PV=/\s/;var VV=/^\s+/;const HV=function(n){return n&&n.slice(0,function(n){for(var e=n.length;e--&&PV.test(n.charAt(e)););return e}(n)+1).replace(VV,"")},fg=z3.Symbol;var vI=Object.prototype,jV=vI.hasOwnProperty,UV=vI.toString,Py=fg?fg.toStringTag:void 0;var WV=Object.prototype.toString;var _I=fg?fg.toStringTag:void 0;const n9=function(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":_I&&_I in Object(n)?function(n){var e=jV.call(n,Py),t=n[Py];try{n[Py]=void 0;var r=!0}catch(p){}var s=UV.call(n);return r&&(e?n[Py]=t:delete n[Py]),s}(n):function(n){return WV.call(n)}(n)},oh=function(n){return null!=n&&"object"==typeof n};var iF=/^[-+]0x[0-9a-f]+$/i,rF=/^0b[01]+$/i,oF=/^0o[0-7]+$/i,sF=parseInt;const bI=function(n){if("number"==typeof n)return n;if(function(n){return"symbol"==typeof n||oh(n)&&"[object Symbol]"==n9(n)}(n))return NaN;if(e8(n)){var e="function"==typeof n.valueOf?n.valueOf():n;n=e8(e)?e+"":e}if("string"!=typeof n)return 0===n?n:+n;n=HV(n);var t=rF.test(n);return t||oF.test(n)?sF(n.slice(2),t?2:8):iF.test(n)?NaN:+n};var lF=Math.max,uF=Math.min;const mF=function(n,e,t){var r=!0,s=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return e8(t)&&(r="leading"in t?!!t.leading:r,s="trailing"in t?!!t.trailing:s),function(n,e,t){var r,s,p,v,C,A,P=0,B=!1,G=!1,re=!0;if("function"!=typeof n)throw new TypeError("Expected a function");function ae(en){var ji=r,O1=s;return r=s=void 0,P=en,v=n.apply(O1,ji)}function ge(en){return P=en,C=setTimeout(rt,e),B?ae(en):v}function Oe(en){var ji=en-A;return void 0===A||ji>=e||ji<0||G&&en-P>=p}function rt(){var en=ux();if(Oe(en))return St(en);C=setTimeout(rt,function(en){var hc=e-(en-A);return G?uF(hc,p-(en-P)):hc}(en))}function St(en){return C=void 0,re&&r?ae(en):(r=s=void 0,v)}function Dn(){var en=ux(),ji=Oe(en);if(r=arguments,s=this,A=en,ji){if(void 0===C)return ge(A);if(G)return clearTimeout(C),C=setTimeout(rt,e),ae(A)}return void 0===C&&(C=setTimeout(rt,e)),v}return e=bI(e)||0,e8(t)&&(B=!!t.leading,p=(G="maxWait"in t)?lF(bI(t.maxWait)||0,e):p,re="trailing"in t?!!t.trailing:re),Dn.cancel=function(){void 0!==C&&clearTimeout(C),P=0,r=A=s=C=void 0},Dn.flush=function(){return void 0===C?v:St(ux())},Dn}(n,e,{leading:r,maxWait:e,trailing:s})},wI=function(n,e){return n===e||n!=n&&e!=e},ZC=function(n,e){for(var t=n.length;t--;)if(wI(n[t][0],e))return t;return-1};var wF=Array.prototype.splice;function pg(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}pg.prototype.clear=function(){this.__data__=[],this.size=0},pg.prototype.delete=function(n){var e=this.__data__,t=ZC(e,n);return!(t<0||(t==e.length-1?e.pop():wF.call(e,t,1),--this.size,0))},pg.prototype.get=function(n){var e=this.__data__,t=ZC(e,n);return t<0?void 0:e[t][1]},pg.prototype.has=function(n){return ZC(this.__data__,n)>-1},pg.prototype.set=function(n,e){var t=this.__data__,r=ZC(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this};const YC=pg,CI=function(n){if(!e8(n))return!1;var e=n9(n);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},dx=z3["__core-js_shared__"];var kI=function(){var n=/[^.]+$/.exec(dx&&dx.keys&&dx.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var WF=Function.prototype.toString;const i9=function(n){if(null!=n){try{return WF.call(n)}catch(e){}try{return n+""}catch(e){}}return""};var KF=/^\[object .+?Constructor\]$/,tH=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const iH=function(n){return!(!e8(n)||function(n){return!!kI&&kI in n}(n))&&(CI(n)?tH:KF).test(i9(n))},r9=function(n,e){var t=function(n,e){return null==n?void 0:n[e]}(n,e);return iH(t)?t:void 0},Ry=r9(z3,"Map"),Oy=r9(Object,"create");var mH=Object.prototype.hasOwnProperty;var yH=Object.prototype.hasOwnProperty;function mg(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}mg.prototype.clear=function(){this.__data__=Oy?Oy(null):{},this.size=0},mg.prototype.delete=function(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e},mg.prototype.get=function(n){var e=this.__data__;if(Oy){var t=e[n];return"__lodash_hash_undefined__"===t?void 0:t}return mH.call(e,n)?e[n]:void 0},mg.prototype.has=function(n){var e=this.__data__;return Oy?void 0!==e[n]:yH.call(e,n)},mg.prototype.set=function(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Oy&&void 0===e?"__lodash_hash_undefined__":e,this};const MI=mg,KC=function(n,e){var t=n.__data__;return function(n){var e=typeof n;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n}(e)?t["string"==typeof e?"string":"hash"]:t.map};function gg(n){var e=-1,t=null==n?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}gg.prototype.clear=function(){this.size=0,this.__data__={hash:new MI,map:new(Ry||YC),string:new MI}},gg.prototype.delete=function(n){var e=KC(this,n).delete(n);return this.size-=e?1:0,e},gg.prototype.get=function(n){return KC(this,n).get(n)},gg.prototype.has=function(n){return KC(this,n).has(n)},gg.prototype.set=function(n,e){var t=KC(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this};const VH=gg;function vg(n){var e=this.__data__=new YC(n);this.size=e.size}vg.prototype.clear=function(){this.__data__=new YC,this.size=0},vg.prototype.delete=function(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t},vg.prototype.get=function(n){return this.__data__.get(n)},vg.prototype.has=function(n){return this.__data__.has(n)},vg.prototype.set=function(n,e){var t=this.__data__;if(t instanceof YC){var r=t.__data__;if(!Ry||r.length<199)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new VH(r)}return t.set(n,e),this.size=t.size,this};const jH=vg;var $H=function(){try{var n=r9(Object,"defineProperty");return n({},"",{}),n}catch(e){}}();const EI=$H,xI=function(n,e,t){"__proto__"==e&&EI?EI(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t};var ZH=Object.prototype.hasOwnProperty;const AI=function(n,e,t){var r=n[e];(!ZH.call(n,e)||!wI(r,t)||void 0===t&&!(e in n))&&xI(n,e,t)},QC=function(n,e,t,r){var s=!t;t||(t={});for(var p=-1,v=e.length;++p<v;){var C=e[p],A=r?r(t[C],n[C],C,t,n):void 0;void 0===A&&(A=n[C]),s?xI(t,C,A):AI(t,C,A)}return t},SI=function(n){return oh(n)&&"[object Arguments]"==n9(n)};var TI=Object.prototype,tB=TI.hasOwnProperty,nB=TI.propertyIsEnumerable,iB=SI(function(){return arguments}())?SI:function(n){return oh(n)&&tB.call(n,"callee")&&!nB.call(n,"callee")};const rB=iB,hx=Array.isArray;var II="object"==typeof exports&&exports&&!exports.nodeType&&exports,DI=II&&"object"==typeof module&&module&&!module.nodeType&&module,zI=DI&&DI.exports===II?z3.Buffer:void 0;const NI=(zI?zI.isBuffer:void 0)||function(){return!1};var hB=/^(?:0|[1-9]\d*)$/;const pB=function(n,e){var t=typeof n;return!!(e=null==e?9007199254740991:e)&&("number"==t||"symbol"!=t&&hB.test(n))&&n>-1&&n%1==0&&n<e},LI=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991};var Or={};Or["[object Float32Array]"]=Or["[object Float64Array]"]=Or["[object Int8Array]"]=Or["[object Int16Array]"]=Or["[object Int32Array]"]=Or["[object Uint8Array]"]=Or["[object Uint8ClampedArray]"]=Or["[object Uint16Array]"]=Or["[object Uint32Array]"]=!0,Or["[object Arguments]"]=Or["[object Array]"]=Or["[object ArrayBuffer]"]=Or["[object Boolean]"]=Or["[object DataView]"]=Or["[object Date]"]=Or["[object Error]"]=Or["[object Function]"]=Or["[object Map]"]=Or["[object Number]"]=Or["[object Object]"]=Or["[object RegExp]"]=Or["[object Set]"]=Or["[object String]"]=Or["[object WeakMap]"]=!1;const fx=function(n){return function(e){return n(e)}};var PI="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vy=PI&&"object"==typeof module&&module&&!module.nodeType&&module,px=Vy&&Vy.exports===PI&&gI.process;const _g=function(){try{return Vy&&Vy.require&&Vy.require("util").types||px&&px.binding&&px.binding("util")}catch(e){}}();var RI=_g&&_g.isTypedArray;const WB=RI?fx(RI):function(n){return oh(n)&&LI(n.length)&&!!Or[n9(n)]};var YB=Object.prototype.hasOwnProperty;const OI=function(n,e){var t=hx(n),r=!t&&rB(n),s=!t&&!r&&NI(n),p=!t&&!r&&!s&&WB(n),v=t||r||s||p,C=v?function(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}(n.length,String):[],A=C.length;for(var P in n)(e||YB.call(n,P))&&(!v||!("length"==P||s&&("offset"==P||"parent"==P)||p&&("buffer"==P||"byteLength"==P||"byteOffset"==P)||pB(P,A)))&&C.push(P);return C};var QB=Object.prototype;const mx=function(n){var e=n&&n.constructor;return n===("function"==typeof e&&e.prototype||QB)},VI=function(n,e){return function(t){return n(e(t))}},tj=VI(Object.keys,Object);var ij=Object.prototype.hasOwnProperty;const FI=function(n){return null!=n&&LI(n.length)&&!CI(n)},gx=function(n){return FI(n)?OI(n):function(n){if(!mx(n))return tj(n);var e=[];for(var t in Object(n))ij.call(n,t)&&"constructor"!=t&&e.push(t);return e}(n)};var fj=Object.prototype.hasOwnProperty;const mj=function(n){if(!e8(n))return function(n){var e=[];if(null!=n)for(var t in Object(n))e.push(t);return e}(n);var e=mx(n),t=[];for(var r in n)"constructor"==r&&(e||!fj.call(n,r))||t.push(r);return t},vx=function(n){return FI(n)?OI(n,!0):mj(n)};var HI="object"==typeof exports&&exports&&!exports.nodeType&&exports,BI=HI&&"object"==typeof module&&module&&!module.nodeType&&module,jI=BI&&BI.exports===HI?z3.Buffer:void 0,UI=jI?jI.allocUnsafe:void 0;const qI=function(){return[]};var Sj=Object.prototype.propertyIsEnumerable,$I=Object.getOwnPropertySymbols,Tj=$I?function(n){return null==n?[]:(n=Object(n),function(n,e){for(var t=-1,r=null==n?0:n.length,s=0,p=[];++t<r;){var v=n[t];e(v,t,n)&&(p[s++]=v)}return p}($I(n),function(e){return Sj.call(n,e)}))}:qI;const _x=Tj,GI=function(n,e){for(var t=-1,r=e.length,s=n.length;++t<r;)n[s+t]=e[t];return n},yx=VI(Object.getPrototypeOf,Object);var Pj=Object.getOwnPropertySymbols?function(n){for(var e=[];n;)GI(e,_x(n)),n=yx(n);return e}:qI;const WI=Pj,ZI=function(n,e,t){var r=e(n);return hx(n)?r:GI(r,t(n))},Hj=function(n){return ZI(n,gx,_x)},jj=function(n){return ZI(n,vx,WI)},bx=r9(z3,"DataView"),wx=r9(z3,"Promise"),Cx=r9(z3,"Set"),kx=r9(z3,"WeakMap");var YI="[object Map]",KI="[object Promise]",QI="[object Set]",JI="[object WeakMap]",XI="[object DataView]",Zj=i9(bx),Yj=i9(Ry),Kj=i9(wx),Qj=i9(Cx),Jj=i9(kx),o9=n9;(bx&&o9(new bx(new ArrayBuffer(1)))!=XI||Ry&&o9(new Ry)!=YI||wx&&o9(wx.resolve())!=KI||Cx&&o9(new Cx)!=QI||kx&&o9(new kx)!=JI)&&(o9=function(n){var e=n9(n),t="[object Object]"==e?n.constructor:void 0,r=t?i9(t):"";if(r)switch(r){case Zj:return XI;case Yj:return YI;case Kj:return KI;case Qj:return QI;case Jj:return JI}return e});const Mx=o9;var eU=Object.prototype.hasOwnProperty;const eD=z3.Uint8Array,Ex=function(n){var e=new n.constructor(n.byteLength);return new eD(e).set(new eD(n)),e};var aU=/\w*$/;var tD=fg?fg.prototype:void 0,nD=tD?tD.valueOf:void 0;const LU=function(n,e,t){var r=n.constructor;switch(e){case"[object ArrayBuffer]":return Ex(n);case"[object Boolean]":case"[object Date]":return new r(+n);case"[object DataView]":return function(n,e){var t=e?Ex(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}(n,t);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(n,e){var t=e?Ex(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}(n,t);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(n);case"[object RegExp]":return function(n){var e=new n.constructor(n.source,aU.exec(n));return e.lastIndex=n.lastIndex,e}(n);case"[object Symbol]":return function(n){return nD?Object(nD.call(n)):{}}(n)}};var iD=Object.create,PU=function(){function n(){}return function(e){if(!e8(e))return{};if(iD)return iD(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();const RU=PU;var rD=_g&&_g.isMap;const UU=rD?fx(rD):function(n){return oh(n)&&"[object Map]"==Mx(n)};var oD=_g&&_g.isSet;const ZU=oD?fx(oD):function(n){return oh(n)&&"[object Set]"==Mx(n)};var sD="[object Arguments]",aD="[object Function]",cD="[object Object]",vr={};vr[sD]=vr["[object Array]"]=vr["[object ArrayBuffer]"]=vr["[object DataView]"]=vr["[object Boolean]"]=vr["[object Date]"]=vr["[object Float32Array]"]=vr["[object Float64Array]"]=vr["[object Int8Array]"]=vr["[object Int16Array]"]=vr["[object Int32Array]"]=vr["[object Map]"]=vr["[object Number]"]=vr[cD]=vr["[object RegExp]"]=vr["[object Set]"]=vr["[object String]"]=vr["[object Symbol]"]=vr["[object Uint8Array]"]=vr["[object Uint8ClampedArray]"]=vr["[object Uint16Array]"]=vr["[object Uint32Array]"]=!0,vr["[object Error]"]=vr[aD]=vr["[object WeakMap]"]=!1;const wq=function JC(n,e,t,r,s,p){var v,C=1&e,A=2&e,P=4&e;if(t&&(v=s?t(n,r,s,p):t(n)),void 0!==v)return v;if(!e8(n))return n;var B=hx(n);if(B){if(v=function(n){var e=n.length,t=new n.constructor(e);return e&&"string"==typeof n[0]&&eU.call(n,"index")&&(t.index=n.index,t.input=n.input),t}(n),!C)return function(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}(n,v)}else{var G=Mx(n),re=G==aD||"[object GeneratorFunction]"==G;if(NI(n))return function(n,e){if(e)return n.slice();var t=n.length,r=UI?UI(t):new n.constructor(t);return n.copy(r),r}(n,C);if(G==cD||G==sD||re&&!s){if(v=A||re?{}:function(n){return"function"!=typeof n.constructor||mx(n)?{}:RU(yx(n))}(n),!C)return A?function(n,e){return QC(n,WI(n),e)}(n,function(n,e){return n&&QC(e,vx(e),n)}(v,n)):function(n,e){return QC(n,_x(n),e)}(n,function(n,e){return n&&QC(e,gx(e),n)}(v,n))}else{if(!vr[G])return s?n:{};v=LU(n,G,C)}}p||(p=new jH);var ae=p.get(n);if(ae)return ae;p.set(n,v),ZU(n)?n.forEach(function(Oe){v.add(JC(Oe,e,t,Oe,n,p))}):UU(n)&&n.forEach(function(Oe,rt){v.set(rt,JC(Oe,e,t,rt,n,p))});var Te=B?void 0:(P?A?jj:Hj:A?vx:gx)(n);return function(n,e){for(var t=-1,r=null==n?0:n.length;++t<r&&!1!==e(n[t],t,n););}(Te||n,function(Oe,rt){Te&&(Oe=n[rt=Oe]),AI(v,rt,JC(Oe,e,t,rt,n,p))}),v};var lD=Function.prototype.toString,Tq=Object.prototype.hasOwnProperty,Iq=lD.call(Object);const Lq=function(n){return oh(n)&&1===n.nodeType&&!function(n){if(!oh(n)||"[object Object]"!=n9(n))return!1;var e=yx(n);if(null===e)return!0;var t=Tq.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t instanceof t&&lD.call(t)==Iq}(n)};function uD(n,e=new Set){const t=[n],r=new Set;for(;t.length>0;){const s=t.shift();if(!(r.has(s)||Pq(s)||e.has(s)))if(r.add(s),s[Symbol.iterator])try{for(const p of s)t.push(p)}catch(p){}else for(const p in s)"defaultValue"!==p&&t.push(s[p])}return r}function Pq(n){const e=Object.prototype.toString.call(n),t=typeof n;return"number"===t||"boolean"===t||"string"===t||"symbol"===t||"function"===t||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==n||n instanceof EventTarget||n instanceof Event}class Fq extends class{constructor(e){if(this.crashes=[],this.state="initializing",this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{const r=t.error||t.reason;r instanceof Error&&this._handleError(r,t)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter(r=>r!==t)}_fire(e,...t){const r=this._listeners[e]||[];for(const s of r)s.apply(this,[null,...t])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t.filename,lineno:t.lineno,colno:t.colno,date:this._now()});const r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&null!=e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}{constructor(e,t={}){super(t),this._editor=null,this._throttledSave=mF(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),this._creator=(r,s)=>e.create(r,s),this._destructor=r=>r.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{if("string"==typeof this._elementOrData)return this.create(this._data,this._config,this._config.context);{const e=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,e,e.context)}}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,t=this._config,r){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._config=this._cloneEditorConfiguration(t)||{},this._config.context=r,this._creator(e,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const e=this._editor;return this._editor=null,this._destructor(e)})}_save(){const e=this._editor.model.document.version;if(e!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=e}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e={};for(const t of this._editor.model.document.getRootNames())e[t]=this._editor.data.get({rootName:t});return e}_isErrorComingFromThisItem(e){return function(n,e,t=new Set){if(n===e&&function(n){return"object"==typeof n&&null!==n}(n))return!0;const r=uD(n,t),s=uD(e,t);for(const p of r)if(s.has(p))return!0;return!1}(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return function(n,e){return wq(n,5,e="function"==typeof e?e:void 0)}(e,(t,r)=>{if(Lq(t)||"context"===r)return t})}}let dD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),s9=(()=>{class n extends dD{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const N3=new f.OlP("NgValueAccessor"),Bq={provide:N3,useExisting:(0,f.Gpc)(()=>Fy),multi:!0},Uq=new f.OlP("CompositionEventMode");let Fy=(()=>{class n extends dD{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=q()?q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Uq,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(p){return r._handleInput(p.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(p){return r._compositionEnd(p.target.value)})},features:[f._Bn([Bq]),f.qOj]}),n})();function sh(n){return null==n||0===n.length}function fD(n){return null!=n&&"number"==typeof n.length}const xa=new f.OlP("NgValidators"),ah=new f.OlP("NgAsyncValidators"),qq=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class pD{static min(e){return function(n){return e=>{if(sh(e.value)||sh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(sh(e.value)||sh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return vD(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return yD(e)}static minLength(e){return function(n){return e=>sh(e.value)||!fD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>fD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return Hy;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(sh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return SD(e)}static composeAsync(e){return TD(e)}}function vD(n){return sh(n.value)?{required:!0}:null}function yD(n){return sh(n.value)||qq.test(n.value)?null:{email:!0}}function Hy(n){return null}function kD(n){return null!=n}function MD(n){const e=(0,f.QGY)(n)?(0,be.D)(n):n;return(0,f.CqO)(e),e}function ED(n){let e={};return n.forEach(t=>{e=null!=t?lt(lt({},e),t):e}),0===Object.keys(e).length?null:e}function xD(n,e){return e.map(t=>t(n))}function AD(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function SD(n){if(!n)return null;const e=n.filter(kD);return 0==e.length?null:function(t){return ED(xD(t,e))}}function xx(n){return null!=n?SD(AD(n)):null}function TD(n){if(!n)return null;const e=n.filter(kD);return 0==e.length?null:function(t){return YT(xD(t,e).map(MD)).pipe((0,K.U)(ED))}}function Ax(n){return null!=n?TD(AD(n)):null}function ID(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function DD(n){return n._rawValidators}function zD(n){return n._rawAsyncValidators}function Sx(n){return n?Array.isArray(n)?n:[n]:[]}function XC(n,e){return Array.isArray(n)?n.includes(e):n===e}function ND(n,e){const t=Sx(e);return Sx(n).forEach(s=>{XC(t,s)||t.push(s)}),t}function LD(n,e){return Sx(e).filter(t=>!XC(n,t))}class PD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=xx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ax(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class E2 extends PD{get formDirective(){return null}get path(){return null}}class l6 extends PD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class RD{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(s=null==(r=this._cd)?void 0:r.control)?void 0:s[e])}}let ek=(()=>{class n extends RD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(l6,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[f.qOj]}),n})(),Tx=(()=>{class n extends RD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(E2,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[f.qOj]}),n})();function By(n,e){zx(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&OD(n,e)})}(n,e),function(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&OD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ik(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ok(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rk(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zx(n,e){const t=DD(n);null!==e.validator?n.setValidators(ID(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=zD(n);null!==e.asyncValidator?n.setAsyncValidators(ID(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();rk(e._rawValidators,s),rk(e._rawAsyncValidators,s)}function ok(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=DD(n);if(Array.isArray(s)&&s.length>0){const p=s.filter(v=>v!==e.validator);p.length!==s.length&&(t=!0,n.setValidators(p))}}if(null!==e.asyncValidator){const s=zD(n);if(Array.isArray(s)&&s.length>0){const p=s.filter(v=>v!==e.asyncValidator);p.length!==s.length&&(t=!0,n.setAsyncValidators(p))}}}const r=()=>{};return rk(e._rawValidators,r),rk(e._rawAsyncValidators,r),t}function OD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function VD(n,e){zx(n,e)}function FD(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function sk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const jy="VALID",ak="INVALID",yg="PENDING",Uy="DISABLED";function Px(n){return(Ox(n)?n.validators:n)||null}function HD(n){return Array.isArray(n)?xx(n):n||null}function Rx(n,e){return(Ox(e)?e.asyncValidators:n)||null}function BD(n){return Array.isArray(n)?Ax(n):n||null}function Ox(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Vx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=HD(this._rawValidators),this._composedAsyncValidatorFn=BD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jy}get invalid(){return this.status===ak}get pending(){return this.status==yg}get disabled(){return this.status===Uy}get enabled(){return this.status!==Uy}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=HD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=BD(e)}addValidators(e){this.setValidators(ND(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ND(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(LD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(LD(e,this._rawAsyncValidators))}hasValidator(e){return XC(this._rawValidators,e)}hasAsyncValidator(e){return XC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=yg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uy,this.errors=null,this._forEachChild(r=>{r.disable(_s(lt({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(_s(lt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jy,this._forEachChild(r=>{r.enable(_s(lt({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(_s(lt({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jy||this.status===yg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uy:jy}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=yg,this._hasOwnPendingAsyncValidator=!0;const t=MD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=r instanceof Fx?r.controls.hasOwnProperty(s)?r.controls[s]:null:r instanceof i$&&r.at(s)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Uy:this.errors?ak:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yg)?yg:this._anyControlsHaveStatus(ak)?ak:jy}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ox(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ck extends Vx{constructor(e=null,t,r){super(Px(t),Rx(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Fx extends Vx{constructor(e,t,r){super(Px(t),Rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof ck?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,p)=>{r=t(r,s,p)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class i$ extends Vx{constructor(e,t,r){super(Px(t),Rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof ck?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const r$={provide:E2,useExisting:(0,f.Gpc)(()=>a9)},qy=(()=>Promise.resolve(null))();let a9=(()=>{class n extends E2{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new Fx({},xx(t),Ax(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){qy.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),By(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){qy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),sk(this._directives,t)})}addFormGroup(t){qy.then(()=>{const r=this._findContainer(t.path),s=new Fx({});VD(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){qy.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){qy.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,FD(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(xa,10),f.Y36(ah,10))},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(p){return r.onSubmit(p)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([r$]),f.qOj]}),n})();const s$={provide:l6,useExisting:(0,f.Gpc)(()=>$y)},qD=(()=>Promise.resolve(null))();let $y=(()=>{class n extends l6{constructor(t,r,s,p){super(),this.control=new ck,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(p=>{p.constructor===Fy?t=p:function(n){return Object.getPrototypeOf(n.constructor)===s9}(p)?r=p:s=p}),s||r||t||null}(0,p)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){By(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){qD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;qD.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(E2,9),f.Y36(xa,10),f.Y36(ah,10),f.Y36(N3,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([s$]),f.qOj,f.TTD]}),n})(),Hx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),GD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const h$={provide:E2,useExisting:(0,f.Gpc)(()=>Gy)};let Gy=(()=>{class n extends E2{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ok(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return By(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ik(t.control||null,t,!1),sk(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,FD(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(ik(r||null,t),s instanceof ck&&(By(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);VD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return ok(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zx(this.form,this),this._oldForm&&ok(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(xa,10),f.Y36(ah,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(p){return r.onSubmit(p)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([h$]),f.qOj,f.TTD]}),n})();const M$={provide:xa,useExisting:(0,f.Gpc)(()=>Wy),multi:!0};let Wy=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?vD(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[f._Bn([M$])]}),n})();const x$={provide:xa,useExisting:(0,f.Gpc)(()=>$x),multi:!0};let $x=(()=>{class n{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?yD(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[f._Bn([x$])]}),n})(),I$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[GD]]}),n})(),lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[I$]}),n})();function D$(n,e){}const Aa=new Array(256).fill(0).map((n,e)=>("0"+e.toString(16)).slice(-2));let L$=(()=>{class n{constructor(t,r){this.config={},this.data="",this.tagName="div",this.ready=new f.vpe,this.change=new f.vpe,this.blur=new f.vpe,this.focus=new f.vpe,this.error=new f.vpe,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=function(){const n=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0;return"e"+Aa[n>>0&255]+Aa[n>>8&255]+Aa[n>>16&255]+Aa[n>>24&255]+Aa[e>>0&255]+Aa[e>>8&255]+Aa[e>>16&255]+Aa[e>>24&255]+Aa[t>>0&255]+Aa[t>>8&255]+Aa[t>>16&255]+Aa[t>>24&255]+Aa[r>>0&255]+Aa[r>>8&255]+Aa[r>>16&255]+Aa[r>>24&255]}(),this.ngZone=r,this.elementRef=t}set disabled(t){this.setDisabledState(t)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let t=this.editorWatchdog;return this.watchdog&&(t=this.watchdog._watchdogs.get(this.id)),t?t.editor:null}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return(0,N.mG)(this,void 0,void 0,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(t){null===t&&(t=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.setData(t),this.isEditorSettingData=!1):(this.data=t,this.ready.pipe(n1()).subscribe(r=>{r.setData(this.data)}))}registerOnChange(t){this.cvaOnChange=t}registerOnTouched(t){this.cvaOnTouched=t}setDisabledState(t){this.editorInstance&&(this.editorInstance.isReadOnly=t),this.initiallyDisabled=t}attachToWatchdog(){const t=(C,A)=>(0,N.mG)(this,void 0,void 0,function*(){return this.ngZone.runOutsideAngular(()=>(0,N.mG)(this,void 0,void 0,function*(){this.elementRef.nativeElement.appendChild(C);const P=yield this.editor.create(C,A);return this.initiallyDisabled&&(P.isReadOnly=this.initiallyDisabled),this.ngZone.run(()=>{this.ready.emit(P)}),this.setUpEditorEvents(P),P}))}),r=C=>(0,N.mG)(this,void 0,void 0,function*(){yield C.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),s=()=>{this.ngZone.run(()=>{this.error.emit()})},p=document.createElement(this.tagName),v=this.getConfig();if(this.editorElement=p,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:t,destructor:r,sourceElementOrData:p,config:v}),this.watchdog.on("itemError",(C,{itemId:A})=>{A===this.id&&s()});else{const C=new Fq(this.editor);C.setCreator(t),C.setDestructor(r),C.on("error",s),this.editorWatchdog=C,this.editorWatchdog.create(p,v)}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");const t=Object.assign({},this.config),r=this.config.initialData||this.data;return r&&(t.initialData=r),t}setUpEditorEvents(t){const s=t.editing.view.document;t.model.document.on("change:data",p=>{this.ngZone.run(()=>{if(this.cvaOnChange&&!this.isEditorSettingData){const v=t.getData();this.cvaOnChange(v)}this.change.emit({event:p,editor:t})})}),s.on("focus",p=>{this.ngZone.run(()=>{this.focus.emit({event:p,editor:t})})}),s.on("blur",p=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:p,editor:t})})})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.R0b))},n.\u0275cmp=f.Xpm({type:n,selectors:[["ckeditor"]],inputs:{config:"config",data:"data",tagName:"tagName",disabled:"disabled",editor:"editor",watchdog:"watchdog"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[f._Bn([{provide:N3,useExisting:(0,f.Gpc)(()=>n),multi:!0}])],decls:1,vars:0,template:function(t,r){1&t&&f.YNc(0,D$,0,0,"ng-template")},encapsulation:2}),n})(),P$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[lz,br]]}),n})(),Gx=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Co(t)}get inset(){return this._inset}set inset(t){this._inset=Co(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,r){2&t&&(f.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),f.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),uz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir],ir]}),n})();const dz=lg({passive:!0});let R$=(()=>{class n{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return G2.E;const r=Qu(t),s=this._monitoredElements.get(r);if(s)return s.subject;const p=new Ct.xQ,v="cdk-text-field-autofilled",C=A=>{"cdk-text-field-autofill-start"!==A.animationName||r.classList.contains(v)?"cdk-text-field-autofill-end"===A.animationName&&r.classList.contains(v)&&(r.classList.remove(v),this._ngZone.run(()=>p.next({target:A.target,isAutofilled:!1}))):(r.classList.add(v),this._ngZone.run(()=>p.next({target:A.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",C,dz),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:p,unlisten:()=>{r.removeEventListener("animationstart",C,dz)}}),p}stopMonitoring(t){const r=Qu(t),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ey]]}),n})();const O$=["connectionContainer"],V$=["inputContainer"],F$=["label"];function H$(n,e){1&n&&(f.ynx(0),f.TgZ(1,"div",14),f._UZ(2,"div",15),f._UZ(3,"div",16),f._UZ(4,"div",17),f.qZA(),f.TgZ(5,"div",18),f._UZ(6,"div",15),f._UZ(7,"div",16),f._UZ(8,"div",17),f.qZA(),f.BQk())}function B$(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",19),f.NdJ("cdkObserveContent",function(){return f.CHM(t),f.oxw().updateOutlineGap()}),f.Hsn(1,1),f.qZA()}if(2&n){const t=f.oxw();f.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function j$(n,e){if(1&n&&(f.ynx(0),f.Hsn(1,2),f.TgZ(2,"span"),f._uU(3),f.qZA(),f.BQk()),2&n){const t=f.oxw(2);f.xp6(3),f.Oqu(t._control.placeholder)}}function U$(n,e){1&n&&f.Hsn(0,3,["*ngSwitchCase","true"])}function q$(n,e){1&n&&(f.TgZ(0,"span",23),f._uU(1," *"),f.qZA())}function $$(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"label",20,21),f.NdJ("cdkObserveContent",function(){return f.CHM(t),f.oxw().updateOutlineGap()}),f.YNc(2,j$,4,1,"ng-container",12),f.YNc(3,U$,1,0,"ng-content",12),f.YNc(4,q$,2,0,"span",22),f.qZA()}if(2&n){const t=f.oxw();f.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),f.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),f.uIk("for",t._control.id)("aria-owns",t._control.id),f.xp6(2),f.Q6J("ngSwitchCase",!1),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function G$(n,e){1&n&&(f.TgZ(0,"div",24),f.Hsn(1,4),f.qZA())}function W$(n,e){if(1&n&&(f.TgZ(0,"div",25),f._UZ(1,"span",26),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Z$(n,e){if(1&n&&(f.TgZ(0,"div"),f.Hsn(1,5),f.qZA()),2&n){const t=f.oxw();f.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Y$(n,e){if(1&n&&(f.TgZ(0,"div",30),f._uU(1),f.qZA()),2&n){const t=f.oxw(2);f.Q6J("id",t._hintLabelId),f.xp6(1),f.Oqu(t.hintLabel)}}function K$(n,e){if(1&n&&(f.TgZ(0,"div",27),f.YNc(1,Y$,2,2,"div",28),f.Hsn(2,6),f._UZ(3,"div",29),f.Hsn(4,7),f.qZA()),2&n){const t=f.oxw();f.Q6J("@transitionMessages",t._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",t.hintLabel)}}const Q$=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],J$=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let X$=0;const fz=new f.OlP("MatError");let eG=(()=>{class n{constructor(t,r){this.id="mat-error-"+X$++,t||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(f.$8M("aria-live"),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,r){2&t&&f.uIk("id",r.id)},inputs:{id:"id"},features:[f._Bn([{provide:fz,useExisting:n}])]}),n})();const tG={transitionMessages:at("transitionMessages",[Qr("enter",nn({opacity:1,transform:"translateY(0%)"})),Mr("void => enter",[nn({opacity:0,transform:"translateY(-5px)"}),Et("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let uk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n}),n})();const nG=new f.OlP("MatHint");let Wx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-label"]]}),n})(),iG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const rG=new f.OlP("MatPrefix"),oG=new f.OlP("MatSuffix");let pz=0;const aG=Sy(class{constructor(n){this._elementRef=n}},"primary"),cG=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Zx=new f.OlP("MatFormField");let gz=(()=>{class n extends aG{constructor(t,r,s,p,v,C,A){super(t),this._changeDetectorRef=r,this._dir=s,this._defaults=p,this._platform=v,this._ngZone=C,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ct.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+pz++,this._labelId="mat-form-field-label-"+pz++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==A,this.appearance=p&&p.appearance?p.appearance:"legacy",this._hideRequiredMarker=!(!p||null==p.hideRequiredMarker)&&p.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const r=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Co(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Bo(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Mi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Mi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,xi.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Bo(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Bo(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Mi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const r=this._control?this._control.ngControl:null;return r&&r[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,XE(this._label.nativeElement,"transitionend").pipe(Vo(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(p=>"start"===p.align):null,s=this._hintChildren?this._hintChildren.find(p=>"end"===p.align):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,s=0;const p=this._connectionContainerRef.nativeElement,v=p.querySelectorAll(".mat-form-field-outline-start"),C=p.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const A=p.getBoundingClientRect();if(0===A.width&&0===A.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const P=this._getStartEnd(A),B=t.children,G=this._getStartEnd(B[0].getBoundingClientRect());let re=0;for(let ae=0;ae<B.length;ae++)re+=B[ae].offsetWidth;r=Math.abs(G-P)-5,s=re>0?.75*re+10:0}for(let A=0;A<v.length;A++)v[A].style.width=`${r}px`;for(let A=0;A<C.length;A++)C[A].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(dg,8),f.Y36(cG,8),f.Y36(Rs),f.Y36(f.R0b),f.Y36(s2,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,r,s){if(1&t&&(f.Suo(s,uk,5),f.Suo(s,uk,7),f.Suo(s,Wx,5),f.Suo(s,Wx,7),f.Suo(s,iG,5),f.Suo(s,fz,5),f.Suo(s,nG,5),f.Suo(s,rG,5),f.Suo(s,oG,5)),2&t){let p;f.iGM(p=f.CRH())&&(r._controlNonStatic=p.first),f.iGM(p=f.CRH())&&(r._controlStatic=p.first),f.iGM(p=f.CRH())&&(r._labelChildNonStatic=p.first),f.iGM(p=f.CRH())&&(r._labelChildStatic=p.first),f.iGM(p=f.CRH())&&(r._placeholderChild=p.first),f.iGM(p=f.CRH())&&(r._errorChildren=p),f.iGM(p=f.CRH())&&(r._hintChildren=p),f.iGM(p=f.CRH())&&(r._prefixChildren=p),f.iGM(p=f.CRH())&&(r._suffixChildren=p)}},viewQuery:function(t,r){if(1&t&&(f.Gf(O$,7),f.Gf(V$,5),f.Gf(F$,5)),2&t){let s;f.iGM(s=f.CRH())&&(r._connectionContainerRef=s.first),f.iGM(s=f.CRH())&&(r._inputContainerRef=s.first),f.iGM(s=f.CRH())&&(r._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,r){2&t&&f.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Zx,useExisting:n}]),f.qOj],ngContentSelectors:J$,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,r){1&t&&(f.F$t(Q$),f.TgZ(0,"div",0),f.TgZ(1,"div",1,2),f.NdJ("click",function(p){return r._control.onContainerClick&&r._control.onContainerClick(p)}),f.YNc(3,H$,9,0,"ng-container",3),f.YNc(4,B$,2,1,"div",4),f.TgZ(5,"div",5,6),f.Hsn(7),f.TgZ(8,"span",7),f.YNc(9,$$,5,16,"label",8),f.qZA(),f.qZA(),f.YNc(10,G$,2,0,"div",9),f.qZA(),f.YNc(11,W$,2,4,"div",10),f.TgZ(12,"div",11),f.YNc(13,Z$,2,1,"div",12),f.YNc(14,K$,5,2,"div",13),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.Q6J("ngIf","outline"==r.appearance),f.xp6(1),f.Q6J("ngIf",r._prefixChildren.length),f.xp6(5),f.Q6J("ngIf",r._hasFloatingLabel()),f.xp6(1),f.Q6J("ngIf",r._suffixChildren.length),f.xp6(1),f.Q6J("ngIf","outline"!=r.appearance),f.xp6(1),f.Q6J("ngSwitch",r._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},directives:[ar,bs,cr,JP],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[tG.transitionMessages]},changeDetection:0}),n})(),Yx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[br,ir,KS],ir]}),n})();const lG=new f.OlP("MAT_INPUT_VALUE_ACCESSOR"),uG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let dG=0;const hG=uT(class{constructor(n,e,t,r){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=r}});let fG=(()=>{class n extends hG{constructor(t,r,s,p,v,C,A,P,B,G){super(C,p,v,s),this._elementRef=t,this._platform=r,this._autofillMonitor=P,this._formField=G,this._uid="mat-input-"+dG++,this.focused=!1,this.stateChanges=new Ct.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(ge=>WS().has(ge));const re=this._elementRef.nativeElement,ae=re.nodeName.toLowerCase();this._inputValueAccessor=A||re,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&B.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",ge=>{const Te=ge.target;!Te.value&&0===Te.selectionStart&&0===Te.selectionEnd&&(Te.setSelectionRange(1,1),Te.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===ae,this._isTextarea="textarea"===ae,this._isInFormField=!!G,this._isNativeSelect&&(this.controlType=re.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Co(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,r,s,p;return null!=(p=null!=(s=this._required)?s:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(pD.required))&&p}set required(t){this._required=Co(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&WS().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Co(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var r,s;const t=(null==(s=null==(r=this._formField)?void 0:r._hideControlPlaceholder)?void 0:s.call(r))?null:this.placeholder;if(t!==this._previousPlaceholder){const p=this._elementRef.nativeElement;this._previousPlaceholder=t,t?p.setAttribute("placeholder",t):p.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){uG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Rs),f.Y36(l6,10),f.Y36(a9,8),f.Y36(Gy,8),f.Y36(jE),f.Y36(lG,10),f.Y36(R$),f.Y36(f.R0b),f.Y36(Zx,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,r){1&t&&f.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&t&&(f.Ikx("disabled",r.disabled)("required",r.required),f.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),f.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[f._Bn([{provide:uk,useExisting:n}]),f.qOj,f.TTD]}),n})(),vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[jE],imports:[[hz,Yx,ir],hz,Yx]}),n})();function pG(n,e){if(1&n&&(f.O4$(),f._UZ(0,"circle",3)),2&n){const t=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),f.uIk("r",t._getCircleRadius())}}function mG(n,e){if(1&n&&(f.O4$(),f._UZ(0,"circle",3)),2&n){const t=f.oxw();f.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),f.uIk("r",t._getCircleRadius())}}function gG(n,e){if(1&n&&(f.O4$(),f._UZ(0,"circle",3)),2&n){const t=f.oxw();f.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),f.uIk("r",t._getCircleRadius())}}function vG(n,e){if(1&n&&(f.O4$(),f._UZ(0,"circle",3)),2&n){const t=f.oxw();f.Udp("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%"),f.uIk("r",t._getCircleRadius())}}const bG=Sy(class{constructor(n){this._elementRef=n}},"primary"),_z=new f.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}});class t8 extends bG{constructor(e,t,r,s,p){super(e),this._document=r,this._diameter=100,this._value=0,this.mode="determinate";const v=t8._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),v.has(r.head)||v.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===s&&!!p&&!p._forceAnimations,p&&(p.diameter&&(this.diameter=p.diameter),p.strokeWidth&&(this.strokeWidth=p.strokeWidth))}get diameter(){return this._diameter}set diameter(e){this._diameter=ag(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(e){this._strokeWidth=ag(e)}get value(){return"determinate"===this.mode?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,ag(e)))}ngOnInit(){const e=this._elementRef.nativeElement;this._styleRoot=ZS(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const e=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${e} ${e}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const e=this._styleRoot,t=this._diameter,r=t8._diameters;let s=r.get(e);if(!s||!s.has(t)){const p=this._document.createElement("style");p.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),p.textContent=this._getAnimationText(),e.appendChild(p),s||(s=new Set,r.set(e,s)),s.add(t)}}_getAnimationText(){const e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}t8._diameters=new WeakMap,t8.\u0275fac=function(e){return new(e||t8)(f.Y36(f.SBq),f.Y36(Rs),f.Y36(ve,8),f.Y36(s2,8),f.Y36(_z))},t8.\u0275cmp=f.Xpm({type:t8,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(f.uIk("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),f.Udp("width",t.diameter,"px")("height",t.diameter,"px"),f.ekj("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,pG,1,9,"circle",1),f.YNc(2,mG,1,7,"circle",2),f.qZA()),2&e&&(f.Udp("width",t.diameter,"px")("height",t.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===t.mode),f.uIk("viewBox",t._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[bs,cr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let yz=(()=>{class n extends t8{constructor(t,r,s,p,v){super(t,r,s,p,v),this.mode="indeterminate"}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(Rs),f.Y36(ve,8),f.Y36(s2,8),f.Y36(_z))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,r){2&t&&(f.Udp("width",r.diameter,"px")("height",r.diameter,"px"),f.ekj("_mat-animation-noopable",r._noopAnimations))},inputs:{color:"color"},features:[f.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,r){1&t&&(f.O4$(),f.TgZ(0,"svg",0),f.YNc(1,gG,1,9,"circle",1),f.YNc(2,vG,1,7,"circle",2),f.qZA()),2&t&&(f.Udp("width",r.diameter,"px")("height",r.diameter,"px"),f.Q6J("ngSwitch","indeterminate"===r.mode),f.uIk("viewBox",r._getViewBox()),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1))},directives:[bs,cr],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),n})(),bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[ir,br],ir]}),n})();class kG{constructor(e=!1,t,r=!0){this._multiple=e,this._emitChanges=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ct.xQ,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const MG=["trigger"],EG=["panel"];function xG(n,e){if(1&n&&(f.TgZ(0,"span",8),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Oqu(t.placeholder)}}function AG(n,e){if(1&n&&(f.TgZ(0,"span",12),f._uU(1),f.qZA()),2&n){const t=f.oxw(2);f.xp6(1),f.Oqu(t.triggerValue)}}function SG(n,e){1&n&&f.Hsn(0,0,["*ngSwitchCase","true"])}function TG(n,e){if(1&n&&(f.TgZ(0,"span",9),f.YNc(1,AG,2,1,"span",10),f.YNc(2,SG,1,0,"ng-content",11),f.qZA()),2&n){const t=f.oxw();f.Q6J("ngSwitch",!!t.customTrigger),f.xp6(2),f.Q6J("ngSwitchCase",!0)}}function IG(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",13),f.TgZ(1,"div",14,15),f.NdJ("@transformPanel.done",function(s){return f.CHM(t),f.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return f.CHM(t),f.oxw()._handleKeydown(s)}),f.Hsn(3,1),f.qZA(),f.qZA()}if(2&n){const t=f.oxw();f.Q6J("@transformPanelWrap",void 0),f.xp6(1),f.Gre("mat-select-panel ",t._getPanelTheme(),""),f.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),f.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),f.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const DG=[[["mat-select-trigger"]],"*"],zG=["mat-select-trigger","*"],wz={transformPanelWrap:at("transformPanelWrap",[Mr("* => void",K1("@transformPanel",[qa()],{optional:!0}))]),transformPanel:at("transformPanel",[Qr("void",nn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Qr("showing",nn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Qr("showing-multiple",nn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Mr("void => *",Et("120ms cubic-bezier(0, 0, 0.2, 1)")),Mr("* => void",Et("100ms 25ms linear",nn({opacity:0})))])};let Cz=0;const Mz=new f.OlP("mat-select-scroll-strategy"),RG=new f.OlP("MAT_SELECT_CONFIG"),OG={provide:Mz,deps:[Ju],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};class VG{constructor(e,t){this.source=e,this.value=t}}const FG=BE(ER(HE(uT(class{constructor(n,e,t,r,s){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=r,this.ngControl=s}})))),HG=new f.OlP("MatSelectTrigger");let BG=(()=>{class n extends FG{constructor(t,r,s,p,v,C,A,P,B,G,re,ae,ge,Te){var Oe,rt,St;super(v,p,A,P,G),this._viewportRuler=t,this._changeDetectorRef=r,this._ngZone=s,this._dir=C,this._parentFormField=B,this._liveAnnouncer=ge,this._defaultOptions=Te,this._panelOpen=!1,this._compareWith=(Nt,kt)=>Nt===kt,this._uid="mat-select-"+Cz++,this._triggerAriaLabelledBy=null,this._destroy=new Ct.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Cz++,this._panelDoneAnimatingStream=new Ct.xQ,this._overlayPanelClass=(null==(Oe=this._defaultOptions)?void 0:Oe.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(St=null==(rt=this._defaultOptions)?void 0:rt.disableOptionCentering)&&St,this.ariaLabel="",this.optionSelectionChanges=$6(()=>{const Nt=this.options;return Nt?Nt.changes.pipe(Bo(Nt),Qe(()=>(0,xi.T)(...Nt.map(kt=>kt.onSelectionChange)))):this._ngZone.onStable.pipe(Vo(1),Qe(()=>this.optionSelectionChanges))}),this.openedChange=new f.vpe,this._openedStream=this.openedChange.pipe(pr(Nt=>Nt),(0,K.U)(()=>{})),this._closedStream=this.openedChange.pipe(pr(Nt=>!Nt),(0,K.U)(()=>{})),this.selectionChange=new f.vpe,this.valueChange=new f.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Te?void 0:Te.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Te.typeaheadDebounceInterval),this._scrollStrategyFactory=ae,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(re)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,r,s,p;return null!=(p=null!=(s=this._required)?s:null==(r=null==(t=this.ngControl)?void 0:t.control)?void 0:r.hasValidator(pD.required))&&p}set required(t){this._required=Co(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Co(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Co(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=ag(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new kG(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(_u(),Mi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Mi(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Bo(null),Mi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,r;return this.multiple?(null==(t=this._selectionModel)?void 0:t.selected)||[]:null==(r=this._selectionModel)?void 0:r.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const r=t.keyCode,s=40===r||38===r||37===r||39===r,p=13===r||32===r,v=this._keyManager;if(!v.isTyping()&&p&&!Q7(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const C=this.selected;v.onKeydown(t);const A=this.selected;A&&C!==A&&this._liveAnnouncer.announce(A.viewValue,1e4)}}_handleOpenKeydown(t){const r=this._keyManager,s=t.keyCode,p=40===s||38===s,v=r.isTyping();if(p&&t.altKey)t.preventDefault(),this.close();else if(v||13!==s&&32!==s||!r.activeItem||Q7(t))if(!v&&this._multiple&&65===s&&t.ctrlKey){t.preventDefault();const C=this.options.some(A=>!A.disabled&&!A.selected);this.options.forEach(A=>{A.disabled||(C?A.select():A.deselect())})}else{const C=r.activeItemIndex;r.onKeydown(t),this._multiple&&p&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==C&&r.activeItem._selectViaInteraction()}else t.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Vo(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectValue(r)),this._sortValues();else{const r=this._selectValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const r=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch(p){return!1}});return r&&this._selectionModel.select(r),r}_initKeyManager(){this._keyManager=new iR(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Mi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Mi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,xi.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Mi(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,xi.T)(...this.options.map(r=>r._stateChanges)).pipe(Mi(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,r){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((r,s)=>this.sortComparator?this.sortComparator(r,s,t):t.indexOf(r)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let r=null;r=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null==(t=this.options)?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var s;if(this.ariaLabel)return null;const t=null==(s=this._parentFormField)?void 0:s.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var s;if(this.ariaLabel)return null;const t=null==(s=this._parentFormField)?void 0:s.getLabelId();let r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(ex),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(jE),f.Y36(f.SBq),f.Y36(dg,8),f.Y36(a9,8),f.Y36(Gy,8),f.Y36(Zx,8),f.Y36(l6,10),f.$8M("tabindex"),f.Y36(Mz),f.Y36(rT),f.Y36(RG,8))},n.\u0275dir=f.lG2({type:n,viewQuery:function(t,r){if(1&t&&(f.Gf(MG,5),f.Gf(EG,5),f.Gf(jT,5)),2&t){let s;f.iGM(s=f.CRH())&&(r.trigger=s.first),f.iGM(s=f.CRH())&&(r.panel=s.first),f.iGM(s=f.CRH())&&(r._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[f.qOj,f.TTD]}),n})(),jG=(()=>{class n extends BG{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,r,s){const p=this._getItemHeight();return Math.min(Math.max(0,p*t-r+p/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Mi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Vo(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const r=vT(t,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===r?0:function(n,e,t,r){return n<t?n:n+e>t+256?Math.max(0,n-256+e):t}((t+r)*s,s,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new VG(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),r=this._viewportRuler.getViewportSize(),s=this._isRtl(),p=this.multiple?56:32;let v;if(this.multiple)v=40;else if(this.disableOptionCentering)v=16;else{let P=this._selectionModel.selected[0]||this.options.first;v=P&&P.group?32:16}s||(v*=-1);const C=0-(t.left+v-(s?p:0)),A=t.right+v-r.width+(s?0:p);C>0?v+=C+8:A>0&&(v-=A+8),this._overlayDir.offsetX=Math.round(v),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,r,s){const p=this._getItemHeight(),v=(p-this._triggerRect.height)/2,C=Math.floor(256/p);let A;return this.disableOptionCentering?0:(A=0===this._scrollTop?t*p:this._scrollTop===s?(t-(this._getItemCount()-C))*p+(p-(this._getItemCount()*p-256)%p):r-p/2,Math.round(-1*A-v))}_checkOverlayWithinViewport(t){const r=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),p=this._triggerRect.top-8,v=s.height-this._triggerRect.bottom-8,C=Math.abs(this._offsetY),P=Math.min(this._getItemCount()*r,256)-C-this._triggerRect.height;P>v?this._adjustPanelUp(P,v):C>p?this._adjustPanelDown(C,p,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,r){const s=Math.round(t-r);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,r,s){const p=Math.round(t-r);if(this._scrollTop+=p,this._offsetY+=p,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),r=this._getItemCount(),s=Math.min(r*t,256),v=r*t-s;let C;C=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),C+=vT(C,this.options,this.optionGroups);const A=s/2;this._scrollTop=this._calculateOverlayScroll(C,A,v),this._offsetY=this._calculateOverlayOffsetY(C,A,v),this._checkOverlayWithinViewport(v)}_getOriginBasedOnOption(){const t=this._getItemHeight(),r=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-r+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,r,s){if(1&t&&(f.Suo(s,HG,5),f.Suo(s,gT,5),f.Suo(s,mT,5)),2&t){let p;f.iGM(p=f.CRH())&&(r.customTrigger=p.first),f.iGM(p=f.CRH())&&(r.options=p),f.iGM(p=f.CRH())&&(r.optionGroups=p)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,r){1&t&&f.NdJ("keydown",function(p){return r._handleKeydown(p)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&t&&(f.uIk("id",r.id)("tabindex",r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-describedby",r._ariaDescribedby||null)("aria-activedescendant",r._getAriaActiveDescendant()),f.ekj("mat-select-disabled",r.disabled)("mat-select-invalid",r.errorState)("mat-select-required",r.required)("mat-select-empty",r.empty)("mat-select-multiple",r.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[f._Bn([{provide:uk,useExisting:n},{provide:pT,useExisting:n}]),f.qOj],ngContentSelectors:zG,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,r){if(1&t&&(f.F$t(DG),f.TgZ(0,"div",0,1),f.NdJ("click",function(){return r.toggle()}),f.TgZ(3,"div",2),f.YNc(4,xG,2,1,"span",3),f.YNc(5,TG,3,2,"span",4),f.qZA(),f.TgZ(6,"div",5),f._UZ(7,"div",6),f.qZA(),f.qZA(),f.YNc(8,IG,4,14,"ng-template",7),f.NdJ("backdropClick",function(){return r.close()})("attach",function(){return r._onAttached()})("detach",function(){return r.close()})),2&t){const s=f.MAs(1);f.uIk("aria-owns",r.panelOpen?r.id+"-panel":null),f.xp6(3),f.Q6J("ngSwitch",r.empty),f.uIk("id",r._valueId),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1),f.xp6(3),f.Q6J("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayMinWidth",null==r._triggerRect?null:r._triggerRect.width)("cdkConnectedOverlayOffsetY",r._offsetY)}},directives:[BT,bs,cr,jT,ws,ho],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[wz.transformPanelWrap,wz.transformPanel]},changeDetection:0}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[OG],imports:[[br,HC,_T,ir],Dy,Yx,_T,ir]}),n})();const xz=new Set;let wg,UG=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$G}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function(n){if(!xz.has(n))try{wg||(wg=document.createElement("style"),wg.setAttribute("type","text/css"),document.head.appendChild(wg)),wg.sheet&&(wg.sheet.insertRule(`@media ${n} {body{ }}`,0),xz.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rs))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $G(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Az=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new Ct.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Sz(TC(t)).some(s=>this._registerQuery(s).mql.matches)}observe(t){let p=qh(Sz(TC(t)).map(v=>this._registerQuery(v).observable));return p=k0(p.pipe(Vo(1)),p.pipe($S(1),zE(0))),p.pipe((0,K.U)(v=>{const C={matches:!1,breakpoints:{}};return v.forEach(({matches:A,query:P})=>{C.matches=C.matches||A,C.breakpoints[P]=A}),C}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),p={observable:new ri.y(v=>{const C=A=>this._zone.run(()=>v.next(A));return r.addListener(C),()=>{r.removeListener(C)}}).pipe(Bo(r),(0,K.U)(({matches:v})=>({query:t,matches:v})),Mi(this._destroySubject)),mql:r};return this._queries.set(t,p),p}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(UG),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sz(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function GG(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",1),f.TgZ(1,"button",2),f.NdJ("click",function(){return f.CHM(t),f.oxw().action()}),f._uU(2),f.qZA(),f.qZA()}if(2&n){const t=f.oxw();f.xp6(2),f.Oqu(t.data.action)}}function WG(n,e){}const Iz=new f.OlP("MatSnackBarData");class hk{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const ZG=Math.pow(2,31)-1;class Qx{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Ct.xQ,this._afterOpened=new Ct.xQ,this._onAction=new Ct.xQ,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(()=>this.dismiss()),e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,ZG))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let YG=(()=>{class n{constructor(t,r){this.snackBarRef=t,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Qx),f.Y36(Iz))},n.\u0275cmp=f.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"span"),f._uU(1),f.qZA(),f.YNc(2,GG,3,1,"div",0)),2&t&&(f.xp6(1),f.Oqu(r.data.message),f.xp6(1),f.Q6J("ngIf",r.hasAction))},directives:[ar,hg],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),n})();const KG={snackBarState:at("state",[Qr("void, hidden",nn({transform:"scale(0.8)",opacity:0})),Qr("visible",nn({transform:"scale(1)",opacity:1})),Mr("* => visible",Et("150ms cubic-bezier(0, 0, 0.2, 1)")),Mr("* => void, * => hidden",Et("75ms cubic-bezier(0.4, 0.0, 1, 1)",nn({opacity:0})))])};let QG=(()=>{class n extends JE{constructor(t,r,s,p,v){super(),this._ngZone=t,this._elementRef=r,this._changeDetectorRef=s,this._platform=p,this.snackBarConfig=v,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ct.xQ,this._onExit=new Ct.xQ,this._onEnter=new Ct.xQ,this._animationState="void",this.attachDomPortal=C=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(C)),this._live="assertive"!==v.politeness||v.announcementMessage?"off"===v.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:r,toState:s}=t;if(("void"===s&&"void"!==r||"hidden"===s)&&this._completeExit(),"visible"===s){const p=this._onEnter;this._ngZone.run(()=>{p.next(),p.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Vo(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>t.classList.add(s)):t.classList.add(r)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(s=document.activeElement),t.removeAttribute("aria-hidden"),r.appendChild(t),null==s||s.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.R0b),f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Rs),f.Y36(hk))},n.\u0275cmp=f.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,r){if(1&t&&f.Gf(MT,7),2&t){let s;f.iGM(s=f.CRH())&&(r._portalOutlet=s.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,r){1&t&&f.WFA("@state.done",function(p){return r.onAnimationEnd(p)}),2&t&&f.d8E("@state",r._animationState)},features:[f.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.YNc(1,WG,0,0,"ng-template",1),f.qZA(),f._UZ(2,"div")),2&t&&(f.xp6(2),f.uIk("aria-live",r._live)("role",r._role))},directives:[MT],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[KG.snackBarState]}}),n})(),Jx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[HC,ET,br,$E,ir],ir]}),n})();const JG=new f.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new hk}});let eW=(()=>{class n{constructor(t,r,s,p,v,C){this._overlay=t,this._live=r,this._injector=s,this._breakpointObserver=p,this._parentSnackBar=v,this._defaultConfig=C,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=YG,this.snackBarContainerComponent=QG,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,r){return this._attach(t,r)}openFromTemplate(t,r){return this._attach(t,r)}open(t,r="",s){const p=lt(lt({},this._defaultConfig),s);return p.data={message:t,action:r},p.announcementMessage===t&&(p.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,p)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,r){const p=f.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:hk,useValue:r}]}),v=new OC(this.snackBarContainerComponent,r.viewContainerRef,p),C=t.attach(v);return C.instance.snackBarConfig=r,C.instance}_attach(t,r){const s=lt(lt(lt({},new hk),this._defaultConfig),r),p=this._createOverlay(s),v=this._attachSnackBarContainer(p,s),C=new Qx(v,p);if(t instanceof f.Rgc){const A=new VC(t,null,{$implicit:s.data,snackBarRef:C});C.instance=v.attachTemplatePortal(A)}else{const A=this._createInjector(s,C),P=new OC(t,void 0,A),B=v.attachComponentPortal(P);C.instance=B.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Mi(p.detachments())).subscribe(A=>{p.overlayElement.classList.toggle(this.handsetCssClass,A.matches)}),s.announcementMessage&&v._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(C,s),this._openedSnackBarRef=C,this._openedSnackBarRef}_animateSnackBar(t,r){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),r.duration&&r.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(r.duration))}_createOverlay(t){const r=new FC;r.direction=t.direction;let s=this._overlay.position().global();const p="rtl"===t.direction,v="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!p||"end"===t.horizontalPosition&&p,C=!v&&"center"!==t.horizontalPosition;return v?s.left("0"):C?s.right("0"):s.centerHorizontally(),"top"===t.verticalPosition?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(t,r){return f.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Qx,useValue:r},{provide:Iz,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Ju),f.LFG(rT),f.LFG(f.zs3),f.LFG(Az),f.LFG(n,12),f.LFG(JG))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:Jx}),n})();const tW={tooltipState:at("state",[Qr("initial, void, hidden",nn({opacity:0,transform:"scale(0)"})),Qr("visible",nn({transform:"scale(1)"})),Mr("* => visible",Et("200ms cubic-bezier(0, 0, 0.2, 1)",Y1([nn({opacity:0,transform:"scale(0)",offset:0}),nn({opacity:.5,transform:"scale(0.99)",offset:.5}),nn({opacity:1,transform:"scale(1)",offset:1})]))),Mr("* => hidden",Et("100ms cubic-bezier(0, 0, 0.2, 1)",nn({opacity:0})))])},Dz="tooltip-panel",zz=lg({passive:!0}),Nz=new f.OlP("mat-tooltip-scroll-strategy"),oW={provide:Nz,deps:[Ju],useFactory:function(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},sW=new f.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let cW=(()=>{class n{constructor(t,r,s,p,v,C,A,P,B,G,re,ae){this._overlay=t,this._elementRef=r,this._scrollDispatcher=s,this._viewContainerRef=p,this._ngZone=v,this._platform=C,this._ariaDescriber=A,this._focusMonitor=P,this._dir=G,this._defaultOptions=re,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ct.xQ,this._handleKeydown=ge=>{this._isTooltipVisible()&&27===ge.keyCode&&!Q7(ge)&&(ge.preventDefault(),ge.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=B,this._document=ae,re&&(re.position&&(this.position=re.position),re.touchGestures&&(this.touchGestures=re.touchGestures)),G.change.pipe(Mi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),v.runOutsideAngular(()=>{r.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){var r;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null==(r=this._tooltipInstance)||r.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Co(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Mi(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([r,s])=>{t.removeEventListener(r,s,zz)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const r=this._createOverlay();this._detach(),this._portal=this._portal||new OC(this._tooltipComponent,this._viewContainerRef),this._tooltipInstance=r.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Mi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return r.positionChanges.pipe(Mi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${Dz}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Mi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Mi(this._destroyed)).subscribe(()=>{var s;return null==(s=this._tooltipInstance)?void 0:s._handleBodyInteraction()}),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const r=t.getConfig().positionStrategy,s=this._getOrigin(),p=this._getOverlayPosition();r.withPositions([this._addOffset(lt(lt({},s.main),p.main)),this._addOffset(lt(lt({},s.fallback),p.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r||"below"==r?s={originX:"center",originY:"above"==r?"top":"bottom"}:"before"==r||"left"==r&&t||"right"==r&&!t?s={originX:"start",originY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(s={originX:"end",originY:"center"});const{x:p,y:v}=this._invertPosition(s.originX,s.originY);return{main:s,fallback:{originX:p,originY:v}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,r=this.position;let s;"above"==r?s={overlayX:"center",overlayY:"bottom"}:"below"==r?s={overlayX:"center",overlayY:"top"}:"before"==r||"left"==r&&t||"right"==r&&!t?s={overlayX:"end",overlayY:"center"}:("after"==r||"right"==r&&t||"left"==r&&!t)&&(s={overlayX:"start",overlayY:"center"});const{x:p,y:v}=this._invertPosition(s.overlayX,s.overlayY);return{main:s,fallback:{overlayX:p,overlayY:v}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Vo(1),Mi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return"above"===this.position||"below"===this.position?"top"===r?r="bottom":"bottom"===r&&(r="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){const{overlayY:r,originX:s,originY:p}=t;let v;if(v="center"===r?this._dir&&"rtl"===this._dir.value?"end"===s?"left":"right":"start"===s?"left":"right":"bottom"===r&&"top"===p?"above":"below",v!==this._currentPosition){const C=this._overlayRef;if(C){const A=`${this._cssClassPrefix}-${Dz}-`;C.removePanelClass(A+this._currentPosition),C.addPanelClass(A+v)}this._currentPosition=v}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",r=>this._wheelListener(r)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const r=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,s])=>{this._elementRef.nativeElement.addEventListener(r,s,zz)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const r=this._document.elementFromPoint(t.clientX,t.clientY),s=this._elementRef.nativeElement;r!==s&&!s.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const r=this._elementRef.nativeElement,s=r.style;("on"===t||"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName)&&(s.userSelect=s.msUserSelect=s.webkitUserSelect=s.MozUserSelect="none"),("on"===t||!r.draggable)&&(s.webkitUserDrag="none"),s.touchAction="none",s.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275dir=f.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),lW=(()=>{class n extends cW{constructor(t,r,s,p,v,C,A,P,B,G,re,ae){super(t,r,s,p,v,C,A,P,B,G,re,ae),this._tooltipComponent=dW}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ju),f.Y36(f.SBq),f.Y36(TT),f.Y36(f.s_b),f.Y36(f.R0b),f.Y36(Rs),f.Y36(nR),f.Y36(LC),f.Y36(Nz),f.Y36(dg,8),f.Y36(sW,8),f.Y36(ve))},n.\u0275dir=f.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[f.qOj]}),n})(),uW=(()=>{class n{constructor(t){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ct.xQ}show(t){clearTimeout(this._hideTimeoutId),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=void 0,this._onShow(),this._markForCheck()},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=void 0,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const r=t.toState;"hidden"===r&&!this.isVisible()&&this._onHide.next(),("visible"===r||"hidden"===r)&&(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_onShow(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n}),n})(),dW=(()=>{class n extends uW{constructor(t,r){super(t),this._breakpointObserver=r,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.sBO),f.Y36(Az))},n.\u0275cmp=f.Xpm({type:n,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,r){2&t&&f.Udp("zoom","visible"===r._visibility?1:null)},features:[f.qOj],decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,r){if(1&t&&(f.TgZ(0,"div",0),f.NdJ("@state.start",function(){return r._animationStart()})("@state.done",function(p){return r._animationDone(p)}),f.ALo(1,"async"),f._uU(2),f.qZA()),2&t){let s;f.ekj("mat-tooltip-handset",null==(s=f.lcZ(1,5,r._isHandset))?null:s.matches),f.Q6J("ngClass",r.tooltipClass)("@state",r._visibility),f.xp6(2),f.Oqu(r.message)}},directives:[ho],pipes:[T2],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[tW.tooltipState]},changeDetection:0}),n})(),Lz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[oW],imports:[[vR,br,HC,ir],ir,Dy]}),n})(),hW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[br,yT,$E,CT,vz,pI,uz,ZT,Ez,Jx,bz,Lz],br,yT,$E,CT,vz,pI,uz,ZT,Ez,Jx,bz,Lz]}),n})();function fW(n,e){if(1&n){var t=f.EpF();f.TgZ(0,"a",11),f.NdJ("keyup.enter",function(){return f.CHM(t),f.oxw(3),f.MAs(1).previous()})("click",function(){return f.CHM(t),f.oxw(3),f.MAs(1).previous()}),f._uU(1),f.TgZ(2,"span",12),f._uU(3),f.qZA(),f.qZA()}if(2&n){var r=f.oxw(3);f.uIk("aria-label",r.previousLabel+" "+r.screenReaderPageLabel),f.xp6(1),f.hij(" ",r.previousLabel," "),f.xp6(2),f.Oqu(r.screenReaderPageLabel)}}function pW(n,e){if(1&n&&(f.TgZ(0,"span"),f._uU(1),f.TgZ(2,"span",12),f._uU(3),f.qZA(),f.qZA()),2&n){var t=f.oxw(3);f.xp6(1),f.hij(" ",t.previousLabel," "),f.xp6(2),f.Oqu(t.screenReaderPageLabel)}}function mW(n,e){if(1&n&&(f.TgZ(0,"li",8),f.YNc(1,fW,4,3,"a",9),f.YNc(2,pW,4,2,"span",10),f.qZA()),2&n){f.oxw(2);var t=f.MAs(1);f.ekj("disabled",t.isFirstPage()),f.xp6(1),f.Q6J("ngIf",1<t.getCurrent()),f.xp6(1),f.Q6J("ngIf",t.isFirstPage())}}function gW(n,e){if(1&n){var t=f.EpF();f.TgZ(0,"a",11),f.NdJ("keyup.enter",function(){f.CHM(t);var v=f.oxw().$implicit;return f.oxw(2),f.MAs(1).setCurrent(v.value)})("click",function(){f.CHM(t);var v=f.oxw().$implicit;return f.oxw(2),f.MAs(1).setCurrent(v.value)}),f.TgZ(1,"span",12),f._uU(2),f.qZA(),f.TgZ(3,"span"),f._uU(4),f.ALo(5,"number"),f.qZA(),f.qZA()}if(2&n){var r=f.oxw().$implicit,s=f.oxw(2);f.xp6(2),f.hij("",s.screenReaderPageLabel," "),f.xp6(2),f.Oqu("..."===r.label?r.label:f.xi3(5,2,r.label,""))}}function vW(n,e){if(1&n&&(f.ynx(0),f.TgZ(1,"span",12),f._uU(2),f.qZA(),f.TgZ(3,"span"),f._uU(4),f.ALo(5,"number"),f.qZA(),f.BQk()),2&n){var t=f.oxw().$implicit,r=f.oxw(2);f.xp6(2),f.hij("",r.screenReaderCurrentLabel," "),f.xp6(2),f.Oqu("..."===t.label?t.label:f.xi3(5,2,t.label,""))}}function _W(n,e){if(1&n&&(f.TgZ(0,"li"),f.YNc(1,gW,6,5,"a",9),f.YNc(2,vW,6,5,"ng-container",10),f.qZA()),2&n){var t=e.$implicit;f.oxw(2);var r=f.MAs(1);f.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),f.xp6(1),f.Q6J("ngIf",r.getCurrent()!==t.value),f.xp6(1),f.Q6J("ngIf",r.getCurrent()===t.value)}}function yW(n,e){if(1&n){var t=f.EpF();f.TgZ(0,"a",11),f.NdJ("keyup.enter",function(){return f.CHM(t),f.oxw(3),f.MAs(1).next()})("click",function(){return f.CHM(t),f.oxw(3),f.MAs(1).next()}),f._uU(1),f.TgZ(2,"span",12),f._uU(3),f.qZA(),f.qZA()}if(2&n){var r=f.oxw(3);f.uIk("aria-label",r.nextLabel+" "+r.screenReaderPageLabel),f.xp6(1),f.hij(" ",r.nextLabel," "),f.xp6(2),f.Oqu(r.screenReaderPageLabel)}}function bW(n,e){if(1&n&&(f.TgZ(0,"span"),f._uU(1),f.TgZ(2,"span",12),f._uU(3),f.qZA(),f.qZA()),2&n){var t=f.oxw(3);f.xp6(1),f.hij(" ",t.nextLabel," "),f.xp6(2),f.Oqu(t.screenReaderPageLabel)}}function wW(n,e){if(1&n&&(f.TgZ(0,"li",13),f.YNc(1,yW,4,3,"a",9),f.YNc(2,bW,4,2,"span",10),f.qZA()),2&n){f.oxw(2);var t=f.MAs(1);f.ekj("disabled",t.isLastPage()),f.xp6(1),f.Q6J("ngIf",!t.isLastPage()),f.xp6(1),f.Q6J("ngIf",t.isLastPage())}}function CW(n,e){if(1&n&&(f.TgZ(0,"ul",3),f.YNc(1,mW,3,4,"li",4),f.TgZ(2,"li",5),f._uU(3),f.qZA(),f.YNc(4,_W,3,6,"li",6),f.YNc(5,wW,3,4,"li",7),f.qZA()),2&n){var t=f.oxw(),r=f.MAs(1);f.ekj("responsive",t.responsive),f.uIk("aria-label",t.screenReaderPaginationLabel),f.xp6(1),f.Q6J("ngIf",t.directionLinks),f.xp6(2),f.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),f.xp6(1),f.Q6J("ngForOf",r.pages),f.xp6(1),f.Q6J("ngIf",t.directionLinks)}}var Yy=function(){function n(){this.change=new f.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return n.prototype.defaultId=function(){return this.DEFAULT_ID},n.prototype.register=function(e){null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e)&&this.change.emit(e.id):(this.instances[e.id]=e,this.change.emit(e.id))},n.prototype.updateInstance=function(e){var t=!1;for(var r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t},n.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},n.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},n.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},n.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},n.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},n.prototype.clone=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(e){return n.\u0275fac(e)}}),n}(),MW=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},EW=Number.MAX_SAFE_INTEGER,xW=function(){function n(e){this.service=e,this.state={}}return n.prototype.transform=function(e,t){if(!(e instanceof Array)){var r=t.id||this.service.defaultId();return this.state[r]?this.state[r].slice:e}var C,A,s=t.totalItems&&t.totalItems!==e.length,p=this.createInstance(e,t),v=p.id,P=p.itemsPerPage;if(this.service.register(p),!s&&e instanceof Array){if(this.stateIsIdentical(v,e,C=(p.currentPage-1)*(P=+P||EW),A=C+P))return this.state[v].slice;var G=e.slice(C,A);return this.saveState(v,e,G,C,A),this.service.change.emit(v),G}return this.saveState(v,e,e,C,A),e},n.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},n.prototype.checkConfig=function(e){var r=["itemsPerPage","currentPage"].filter(function(s){return!(s in e)});if(0<r.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+r.join(", "))},n.prototype.saveState=function(e,t,r,s,p){this.state[e]={collection:t,size:t.length,slice:r,start:s,end:p}},n.prototype.stateIsIdentical=function(e,t,r,s){var p=this.state[e];return!!p&&!(p.size!==t.length||p.start!==r||p.end!==s)&&p.slice.every(function(C,A){return C===t[r+A]})},n=function(n,e,t,r){var v,s=arguments.length,p=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(n,e,t,r);else for(var C=n.length-1;C>=0;C--)(v=n[C])&&(p=(s<3?v(p):s>3?v(e,t,p):v(e,t))||p);return s>3&&p&&Object.defineProperty(e,t,p),p}([MW("design:paramtypes",[Yy])],n),n.\u0275fac=function(t){return new(t||n)(f.Y36(Yy,16))},n.\u0275pipe=f.Yjl({name:"paginate",type:n,pure:!1}),n}(),L3=function(n,e,t,r){var v,s=arguments.length,p=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(n,e,t,r);else for(var C=n.length-1;C>=0;C--)(v=n[C])&&(p=(s<3?v(p):s>3?v(e,t,p):v(e,t))||p);return s>3&&p&&Object.defineProperty(e,t,p),p},dc=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)};function Xx(n){return!!n&&"false"!==n}var AW=function(){function n(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new f.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(n.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=Xx(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=Xx(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=Xx(e)},enumerable:!0,configurable:!0}),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"id",void 0),L3([(0,f.IIB)(),dc("design:type",Number)],n.prototype,"maxSize",void 0),L3([(0,f.IIB)(),dc("design:type",Boolean),dc("design:paramtypes",[Boolean])],n.prototype,"directionLinks",null),L3([(0,f.IIB)(),dc("design:type",Boolean),dc("design:paramtypes",[Boolean])],n.prototype,"autoHide",null),L3([(0,f.IIB)(),dc("design:type",Boolean),dc("design:paramtypes",[Boolean])],n.prototype,"responsive",null),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"previousLabel",void 0),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"nextLabel",void 0),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"screenReaderPaginationLabel",void 0),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"screenReaderPageLabel",void 0),L3([(0,f.IIB)(),dc("design:type",String)],n.prototype,"screenReaderCurrentLabel",void 0),L3([(0,f.r_U)(),dc("design:type",f.vpe)],n.prototype,"pageChange",void 0),n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{maxSize:"maxSize",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",id:"id"},outputs:{pageChange:"pageChange"},decls:3,vars:3,consts:[[3,"id","maxSize","pageChange"],["p","paginationApi"],["class","ngx-pagination","role","navigation",3,"responsive",4,"ngIf"],["role","navigation",1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],[4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(f.TgZ(0,"pagination-template",0,1),f.NdJ("pageChange",function(v){return r.pageChange.emit(v)}),f.YNc(2,CW,6,8,"ul",2),f.qZA()),2&t){var s=f.MAs(1);f.Q6J("id",r.id)("maxSize",r.maxSize),f.xp6(2),f.Q6J("ngIf",!(r.autoHide&&s.pages.length<=1))}},directives:function(){return[SW,ar,f1]},pipes:function(){return[Io]},styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],encapsulation:2,changeDetection:0}),n}(),fk=function(n,e,t,r){var v,s=arguments.length,p=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(n,e,t,r);else for(var C=n.length-1;C>=0;C--)(v=n[C])&&(p=(s<3?v(p):s>3?v(e,t,p):v(e,t))||p);return s>3&&p&&Object.defineProperty(e,t,p),p},pk=function(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)},SW=function(){function n(e,t){var r=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new f.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(function(s){r.id===s&&(r.updatePageLinks(),r.changeDetectorRef.markForCheck(),r.changeDetectorRef.detectChanges())})}return n.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},n.prototype.ngOnChanges=function(e){this.updatePageLinks()},n.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},n.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},n.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},n.prototype.isFirstPage=function(){return 1===this.getCurrent()},n.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},n.prototype.setCurrent=function(e){this.pageChange.emit(e)},n.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},n.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},n.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},n.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},n.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(function(){e.setCurrent(r),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},n.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},n.prototype.createPageArray=function(e,t,r,s){s=+s;for(var p=[],v=Math.ceil(r/t),C=Math.ceil(s/2),A=e<=C,P=v-C<e,B=!A&&!P,G=s<v,re=1;re<=v&&re<=s;){var ge=this.calculatePageNumber(re,e,s,v);p.push({label:G&&(2===re&&(B||P)||re===s-1&&(B||A))?"...":ge,value:ge}),re++}return p},n.prototype.calculatePageNumber=function(e,t,r,s){var p=Math.ceil(r/2);return e===r?s:1===e?e:r<s?s-p<t?s-r+e:p<t?t-p+e:e:e},fk([(0,f.IIB)(),pk("design:type",String)],n.prototype,"id",void 0),fk([(0,f.IIB)(),pk("design:type",Number)],n.prototype,"maxSize",void 0),fk([(0,f.r_U)(),pk("design:type",f.vpe)],n.prototype,"pageChange",void 0),(n=fk([pk("design:paramtypes",[Yy,f.sBO])],n)).\u0275fac=function(t){return new(t||n)(f.Y36(Yy),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{maxSize:"maxSize",id:"id"},outputs:{pageChange:"pageChange"},exportAs:["paginationApi"],features:[f.TTD]}),n}(),TW=function(){function n(){}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Yy],imports:[[br]]}),n}();let eA=(()=>{class n{constructor(t){this.db=t}createPost(t){const r=JSON.parse(JSON.stringify(t));return this.db.collection("blogs").add(r)}getAllPosts(){return this.db.collection("blogs",r=>r.orderBy("createdDate","desc")).snapshotChanges().pipe((0,K.U)(r=>r.map(s=>Object.assign({postId:s.payload.doc.id},s.payload.doc.data()))))}getPostbyId(t){return this.db.doc("blogs/"+t).valueChanges()}updatePost(t,r){const s=JSON.parse(JSON.stringify(r));return this.db.doc("blogs/"+t).update(s)}deletePost(t){return this.db.doc("blogs/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(CC))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IW{constructor(e,t){this._document=t;const r=this._textarea=this._document.createElement("textarea"),s=r.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",r.setAttribute("aria-hidden","true"),r.value=e,this._document.body.appendChild(r)}copy(){const e=this._textarea;let t=!1;try{if(e){const r=this._document.activeElement;e.select(),e.setSelectionRange(0,e.value.length),t=this._document.execCommand("copy"),r&&r.focus()}}catch(r){}return t}destroy(){const e=this._textarea;e&&(e.remove(),this._textarea=void 0)}}let DW=(()=>{class n{constructor(t){this._document=t}copy(t){const r=this.beginCopy(t),s=r.copy();return r.destroy(),s}beginCopy(t){return new IW(t,this._document)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Pz=new f.OlP("shareButtonsConfig");var Cg=(()=>(function(n){n.Anchor="anchor",n.Window="window"}(Cg||(Cg={})),Cg))();function tA(n){return n&&"object"==typeof n&&!Array.isArray(n)}function nA(n,...e){if(!e.length)return n;const t=e.shift();if(tA(n)&&tA(t))for(const r in t)tA(t[r])?(n[r]||Object.assign(n,{[r]:{}}),nA(n[r],t[r])):Object.assign(n,{[r]:t[r]});return nA(n,...e)}const mk={description:n=>n.description?`${n.description}\r\n${n.url}`:n.url},RW={facebook:{type:"facebook",text:"Facebook",ariaLabel:"Share on Facebook",icon:["fab","facebook-f"],color:"#4267B2",share:{desktop:"https://www.facebook.com/sharer/sharer.php?"},params:{url:"u"}},twitter:{type:"twitter",text:"Twitter",ariaLabel:"Share on Twitter",icon:["fab","twitter"],color:"#00acee",share:{desktop:"https://twitter.com/intent/tweet?"},params:{url:"url",description:"text",tags:"hashtags",via:"via"}},linkedin:{type:"linkedin",text:"LinkedIn",ariaLabel:"Share on LinkedIn",icon:["fab","linkedin-in"],color:"#006fa6",share:{desktop:"https://www.linkedin.com/shareArticle?"},params:{url:"url",title:"title",description:"summary"}},pinterest:{type:"pinterest",text:"Pinterest",ariaLabel:"Share on Pinterest",icon:["fab","pinterest-p"],color:"#BD091D",share:{desktop:"https://pinterest.com/pin/create/button/?"},params:{url:"url",description:"description",image:"media"}},reddit:{type:"reddit",text:"Reddit",ariaLabel:"Share on Reddit",icon:["fab","reddit-alien"],color:"#FF4006",share:{desktop:"https://www.reddit.com/submit?"},params:{url:"url",title:"title"}},tumblr:{type:"tumblr",text:"Tumblr",ariaLabel:"Share on Tumblr",icon:["fab","tumblr"],color:"#36465D",share:{desktop:"https://tumblr.com/widgets/share/tool?"},params:{url:"canonicalUrl",description:"caption",tags:"tags"}},mix:{type:"mix",text:"Mix",ariaLabel:"Share on Mix",icon:["fab","mix"],color:"#eb4924",share:{desktop:"https://mix.com/add?"},params:{url:"url"}},viber:{type:"viber",text:"Viber",ariaLabel:"Share on Viber",icon:["fab","viber"],color:"#665ca7",share:{android:"viber://forward?",ios:"viber://forward?"},params:{description:"text"},paramsFunc:mk},vk:{type:"vk",text:"VKontakte",ariaLabel:"Share on VKontakte",icon:["fab","vk"],color:"#4C75A3",share:{desktop:"https://vk.com/share.php?"},params:{url:"url"}},telegram:{type:"telegram",text:"Telegram",ariaLabel:"Share on Telegram",icon:["fab","telegram-plane"],color:"#0088cc",share:{desktop:"https://t.me/share/url?"},params:{url:"url",description:"text"}},messenger:{type:"messenger",text:"Messenger",ariaLabel:"Share on Messenger",icon:["fab","facebook-messenger"],color:"#0080FF",share:{android:"fb-messenger://share/?",ios:"fb-messenger://share/?"},params:{url:"link"}},whatsapp:{type:"whatsapp",text:"WhatsApp",ariaLabel:"Share on WhatsApp",icon:["fab","whatsapp"],color:"#25D366",share:{desktop:"https://web.whatsapp.com/send?",android:"whatsapp://send?",ios:"https://api.whatsapp.com/send?"},params:{description:"text"},paramsFunc:mk},xing:{type:"xing",text:"Xing",ariaLabel:"Share on Xing",icon:["fab","xing"],color:"#006567",share:{desktop:"https://www.xing.com/spi/shares/new?"},params:{url:"url"}},line:{type:"line",text:"Line",ariaLabel:"Share on Line",icon:["fab","line"],color:"#00b900",share:{desktop:"https://social-plugins.line.me/lineit/share?"},params:{url:"url"}},sms:{type:"sms",text:"SMS",ariaLabel:"Share link via SMS",icon:["fas","sms"],color:"#20c16c",share:{desktop:"sms:?",ios:"sms:&"},params:{description:"body"},paramsFunc:mk},email:{type:"email",text:"Email",ariaLabel:"Share link via email",icon:["fas","envelope"],color:"#FF961C",share:{desktop:"mailto:?"},params:{title:"subject",description:"body"},paramsFunc:mk},print:{type:"print",text:"Print",ariaLabel:"Print page",icon:["fas","print"],color:"#765AA2",func:function(){return new ri.y(n=>document.defaultView.print())}},copy:{type:"copy",text:"Copy link",ariaLabel:"Copy link",icon:["fas","link"],color:"#607D8B",data:{text:"Copy link",icon:["fas","link"],successText:"Copied",successIcon:["fas","check"],delay:2e3},func:function({params:n,data:e,clipboard:t,updater:r}){return(0,j.of)(null).pipe((0,eo.b)(()=>{t.copy(n.url),r.next({icon:e.successIcon,text:e.successText,disabled:!0})}),YE(e.delay),(0,eo.b)(()=>r.next({icon:e.icon,text:e.text,disabled:!1})),Vo(1))}}};let Rz=(()=>{class n{constructor(t,r){this._document=r,this.config={sharerMethod:Cg.Anchor,sharerTarget:"_blank",windowObj:this._document.defaultView,windowFuncName:"open",prop:RW,theme:"default",include:[],exclude:[],autoSetMeta:!0,windowWidth:800,windowHeight:500,moreButtonIcon:"ellipsis-h",lessButtonIcon:"minus",moreButtonAriaLabel:"Show more share buttons",lessButtonAriaLabel:"Show less share buttons"},this.config$=new S1(this.config),t&&this.setConfig(t)}get prop(){return this.config.prop}get windowSize(){return`width=${this.config.windowWidth}, height=${this.config.windowHeight}`}setConfig(t){this.config=nA(this.config,t),this.config$.next(this.config)}addButton(t,r){this.setConfig({prop:{[t]:r}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Pz,8),f.LFG(ve))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OW=(()=>{class n{constructor(t,r,s,p,v,C,A){this._meta=r,this._platform=s,this._clipboard=p,this._share=v,this._cd=C,this._document=A,this._destroyed=new Ct.xQ,this._updater=new Ct.xQ,this.autoSetMeta=this._share.config.autoSetMeta,this.url=this._share.config.url,this.title=this._share.config.title,this.description=this._share.config.description,this.image=this._share.config.image,this.tags=this._share.config.tags,this.opened=new f.vpe,this.closed=new f.vpe,this._el=t.nativeElement}share(){if(this._platform.isBrowser&&this.shareButton){const t=this.autoSetMeta?this.getParamsFromMetaTags():this.getParamsFromInputs();(this.shareButton.share?this.open(t):this.shareButton.func({params:t,data:this.shareButton.data,clipboard:this._clipboard,updater:this._updater})).pipe(Mi(this._destroyed)).subscribe()}else console.warn(`${this.text} button is not compatible on this Platform`)}ngOnInit(){this._updater.pipe((0,eo.b)(t=>{this.icon=t.icon,this.text=t.text,this._el.style.pointerEvents=t.disabled?"none":"auto",this._cd.markForCheck()}),Mi(this._destroyed)).subscribe()}ngOnChanges(t){this._platform.isBrowser&&(this._shareButtonChanged(t.shareButtonName)&&this._createShareButton(),this._urlChanged(t.url)&&(this.url=function(n,e){if(n){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(n))return n;console.warn(`[ShareButtons]: Sharing link '${n}' is invalid!`)}return e}(this.autoSetMeta?this.url||this._getMetaTagContent("og:url"):this.url,this._document.defaultView.location.href)))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createShareButton(){const t=this._share.config.prop[this.shareButtonName];t?(this.shareButton=t,this._el.classList.remove(`sb-${this._buttonClass}`),this._el.classList.add(`sb-${this.shareButtonName}`),this._el.style.setProperty("--button-color",this.shareButton.color),this._buttonClass=this.shareButtonName,this.color=this.shareButton.color,this.text=this.shareButton.text,this.icon=this.shareButton.icon,this._el.setAttribute("aria-label",t.ariaLabel)):console.error(`[ShareButtons]: The share button '${this.shareButtonName}' does not exist!`)}_getMetaTagContent(t){const r=this._meta.getTag(`property="${t}"`);if(r)return r.getAttribute("content");const s=this._meta.getTag(`name="${t}"`);return s?s.getAttribute("content"):void 0}_shareButtonChanged(t){return t&&(t.firstChange||t.previousValue!==t.currentValue)}_urlChanged(t){return!this.url||t&&t.previousValue!==t.currentValue}getParamsFromMetaTags(){return{url:this.url,title:this.title||this._getMetaTagContent("og:title"),description:this.description||this._getMetaTagContent("og:description"),image:this.image||this._getMetaTagContent("og:image"),via:this._share.config.twitterAccount,tags:this.tags}}getParamsFromInputs(){return{url:this.url,title:this.title,description:this.description,image:this.image,tags:this.tags,via:this._share.config.twitterAccount}}open(t){let r;if(r=this._platform.IOS&&this.shareButton.share.ios?this.shareButton.share.ios:this._platform.ANDROID&&this.shareButton.share.android?this.shareButton.share.android:this.shareButton.share.desktop,r){this._finalUrl=r+this._serializeParams(t),this._share.config.debug&&console.log("[DEBUG SHARE BUTTON]: ",this._finalUrl);const p=this.shareButton.target||this._share.config.sharerTarget;switch(this.shareButton.method||this._share.config.sharerMethod){case Cg.Anchor:const v=this._document.createElement("a");v.setAttribute("target",p),v.setAttribute("rel","noopener noreferrer"),v.href=this._finalUrl,v.click(),v.remove();break;case Cg.Window:const A=this._share.config.windowObj[this._share.config.windowFuncName](this._finalUrl,p,this._share.windowSize);if(this._share.config.windowObj.opener=null,A)return new ri.y(P=>{const B=this._document.defaultView.setInterval(()=>{A.closed&&(this._document.defaultView.clearInterval(B),this.closed.emit(this.shareButtonName),P.next(),P.complete())},200)})}this.opened.emit(this.shareButtonName)}return G2.E}_serializeParams(t){return Object.entries(this.shareButton.params).map(([r,s])=>{const p=this.shareButton.paramsFunc?this.shareButton.paramsFunc[r]:null;if(t[r]||p){const v=p?p(t):t[r];return`${s}=${encodeURIComponent(v)}`}return""}).filter(r=>""!==r).join("&")}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.SBq),f.Y36(rs),f.Y36(Rs),f.Y36(DW),f.Y36(Rz),f.Y36(f.sBO),f.Y36(ve))},n.\u0275dir=f.lG2({type:n,selectors:[["","shareButton",""]],hostBindings:function(t,r){1&t&&f.NdJ("click",function(){return r.share()})},inputs:{shareButtonName:["shareButton","shareButtonName"],autoSetMeta:"autoSetMeta",url:"url",title:"title",description:"description",image:"image",tags:"tags"},outputs:{opened:"opened",closed:"closed"},exportAs:["shareButton"],features:[f.TTD]}),n})(),VW=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pz,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ey,zW]]}),n})();function Ky(n){return(Ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function Oz(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function BW(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ti(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),r.forEach(function(s){BW(n,s,t[s])})}return n}function iA(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=[],r=!0,s=!1,p=void 0;try{for(var C,v=n[Symbol.iterator]();!(r=(C=v.next()).done)&&(t.push(C.value),!e||t.length!==e);r=!0);}catch(A){s=!0,p=A}finally{try{!r&&null!=v.return&&v.return()}finally{if(s)throw p}}return t}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var oA={},Fz={};try{"undefined"!=typeof window&&(oA=window),"undefined"!=typeof document&&(Fz=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(n){}var jz=(oA.navigator||{}).userAgent,Uz=void 0===jz?"":jz,kg=oA,vs=Fz,n8=!!vs.documentElement&&!!vs.head&&"function"==typeof vs.addEventListener&&"function"==typeof vs.createElement,i8=(~Uz.indexOf("MSIE")||Uz.indexOf("Trident/"),"___FONT_AWESOME___"),Wz="svg-inline--fa",Qz=[1,2,3,4,5,6,7,8,9,10],rZ=Qz.concat([11,12,13,14,15,16,17,18,19,20]),c9={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Jz=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",c9.GROUP,c9.SWAP_OPACITY,c9.PRIMARY,c9.SECONDARY].concat(Qz.map(function(n){return"".concat(n,"x")})).concat(rZ.map(function(n){return"w-".concat(n)})),kg.FontAwesomeConfig||{});vs&&"function"==typeof vs.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(n){var e=iA(n,2),r=e[1],s=function(n){return""===n||"false"!==n&&("true"===n||n)}(function(n){var e=vs.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(e[0]));null!=s&&(Jz[r]=s)});var cA=ti({},{familyPrefix:"fa",replacementClass:Wz,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Jz);cA.autoReplaceSvg||(cA.observeMutations=!1);var xn=ti({},cA);kg.FontAwesomeConfig=xn;var r8=kg||{};r8[i8]||(r8[i8]={}),r8[i8].styles||(r8[i8].styles={}),r8[i8].hooks||(r8[i8].hooks={}),r8[i8].shims||(r8[i8].shims=[]);var P3=r8[i8],Xz=[];n8&&((vs.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(vs.readyState)||vs.addEventListener("DOMContentLoaded",function n(){vs.removeEventListener("DOMContentLoaded",n),Xz.map(function(e){return e()})}));var uA,lA="pending",eN="settled",_k="fulfilled",yk="rejected",fZ=function(){},tN="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,pZ="undefined"==typeof setImmediate?setTimeout:setImmediate,Qy=[];function mZ(){for(var n=0;n<Qy.length;n++)Qy[n][0](Qy[n][1]);Qy=[],uA=!1}function bk(n,e){Qy.push([n,e]),uA||(uA=!0,pZ(mZ,0))}function nN(n){var e=n.owner,t=e._state,r=e._data,s=n[t],p=n.then;if("function"==typeof s){t=_k;try{r=s(r)}catch(v){Jy(p,v)}}iN(p,r)||(t===_k&&dA(p,r),t===yk&&Jy(p,r))}function iN(n,e){var t;try{if(n===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&("function"==typeof e||"object"===Ky(e))){var r=e.then;if("function"==typeof r)return r.call(e,function(s){t||(t=!0,e===s?rN(n,s):dA(n,s))},function(s){t||(t=!0,Jy(n,s))}),!0}}catch(s){return t||Jy(n,s),!0}return!1}function dA(n,e){(n===e||!iN(n,e))&&rN(n,e)}function rN(n,e){n._state===lA&&(n._state=eN,n._data=e,bk(vZ,n))}function Jy(n,e){n._state===lA&&(n._state=eN,n._data=e,bk(_Z,n))}function oN(n){n._then=n._then.forEach(nN)}function vZ(n){n._state=_k,oN(n)}function _Z(n){n._state=yk,oN(n),!n._handled&&tN&&global.process.emit("unhandledRejection",n._data,n)}function yZ(n){global.process.emit("rejectionHandled",n)}function vl(n){if("function"!=typeof n)throw new TypeError("Promise resolver "+n+" is not a function");if(!(this instanceof vl))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(n,e){function r(s){Jy(e,s)}try{n(function(s){dA(e,s)},r)}catch(s){r(s)}}(n,this)}vl.prototype={constructor:vl,_state:lA,_then:null,_data:void 0,_handled:!1,then:function(e,t){var r={owner:this,then:new this.constructor(fZ),fulfilled:e,rejected:t};return(t||e)&&!this._handled&&(this._handled=!0,this._state===yk&&tN&&bk(yZ,this)),this._state===_k||this._state===yk?bk(nN,r):this._then.push(r),r.then},catch:function(e){return this.then(null,e)}},vl.all=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.all().");return new vl(function(e,t){var r=[],s=0;function p(A){return s++,function(P){r[A]=P,--s||e(r)}}for(var C,v=0;v<n.length;v++)(C=n[v])&&"function"==typeof C.then?C.then(p(v),t):r[v]=C;s||e(r)})},vl.race=function(n){if(!Array.isArray(n))throw new TypeError("You must pass an array to Promise.race().");return new vl(function(e,t){for(var s,r=0;r<n.length;r++)(s=n[r])&&"function"==typeof s.then?s.then(e,t):e(s)})},vl.resolve=function(n){return n&&"object"===Ky(n)&&n.constructor===vl?n:new vl(function(e){e(n)})},vl.reject=function(n){return new vl(function(e,t){t(n)})};var o8={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Xy(){for(var n=12,e="";n-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function aN(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wk(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,": ").concat(n[t],";")},"")}function fA(n){return n.size!==o8.size||n.x!==o8.x||n.y!==o8.y||n.rotate!==o8.rotate||n.flipX||n.flipY}function cN(n){var e=n.transform,r=n.iconWidth,s={transform:"translate(".concat(n.containerWidth/2," 256)")},p="translate(".concat(32*e.x,", ").concat(32*e.y,") "),v="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),C="rotate(".concat(e.rotate," 0 0)");return{outer:s,inner:{transform:"".concat(p," ").concat(v," ").concat(C)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var pA={x:0,y:0,width:"100%",height:"100%"};function lN(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function EZ(n){return"g"===n.tag?n.children:[n]}function mA(n){var e=n.icons,t=e.main,r=e.mask,s=n.prefix,p=n.iconName,v=n.transform,C=n.symbol,A=n.title,P=n.maskId,B=n.titleId,G=n.extra,re=n.watchable,ae=void 0!==re&&re,ge=r.found?r:t,Te=ge.width,Oe=ge.height,rt="fak"===s,St=rt?"":"fa-w-".concat(Math.ceil(Te/Oe*16)),Nt=[xn.replacementClass,p?"".concat(xn.familyPrefix,"-").concat(p):"",St].filter(function(fc){return-1===G.classes.indexOf(fc)}).filter(function(fc){return""!==fc||!!fc}).concat(G.classes).join(" "),kt={children:[],attributes:ti({},G.attributes,{"data-prefix":s,"data-icon":p,class:Nt,role:G.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(Te," ").concat(Oe)})},Dn=rt&&!~G.classes.indexOf("fa-fw")?{width:"".concat(Te/Oe*16*.0625,"em")}:{};ae&&(kt.attributes["data-fa-i2svg"]=""),A&&kt.children.push({tag:"title",attributes:{id:kt.attributes["aria-labelledby"]||"title-".concat(B||Xy())},children:[A]});var en=ti({},kt,{prefix:s,iconName:p,main:t,mask:r,maskId:P,transform:v,symbol:C,styles:ti({},Dn,G.styles)}),ji=r.found&&t.found?function(n){var e=n.children,t=n.attributes,r=n.main,s=n.mask,p=n.maskId,A=r.icon,B=s.icon,G=cN({transform:n.transform,containerWidth:s.width,iconWidth:r.width}),re={tag:"rect",attributes:ti({},pA,{fill:"white"})},ae=A.children?{children:A.children.map(lN)}:{},ge={tag:"g",attributes:ti({},G.inner),children:[lN(ti({tag:A.tag,attributes:ti({},A.attributes,G.path)},ae))]},Te={tag:"g",attributes:ti({},G.outer),children:[ge]},Oe="mask-".concat(p||Xy()),rt="clip-".concat(p||Xy()),St={tag:"mask",attributes:ti({},pA,{id:Oe,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[re,Te]},Nt={tag:"defs",children:[{tag:"clipPath",attributes:{id:rt},children:EZ(B)},St]};return e.push(Nt,{tag:"rect",attributes:ti({fill:"currentColor","clip-path":"url(#".concat(rt,")"),mask:"url(#".concat(Oe,")")},pA)}),{children:e,attributes:t}}(en):function(n){var e=n.children,t=n.attributes,r=n.main,s=n.transform,v=wk(n.styles);if(v.length>0&&(t.style=v),fA(s)){var C=cN({transform:s,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:ti({},C.outer),children:[{tag:"g",attributes:ti({},C.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:ti({},r.icon.attributes,C.path)}]}]})}else e.push(r.icon);return{children:e,attributes:t}}(en),hc=ji.attributes;return en.children=ji.children,en.attributes=hc,C?function(n){var t=n.iconName,r=n.children,p=n.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ti({},n.attributes,{id:!0===p?"".concat(n.prefix,"-").concat(xn.familyPrefix,"-").concat(t):p}),children:r}]}]}(en):function(n){var e=n.children,t=n.main,r=n.mask,s=n.attributes,p=n.styles,v=n.transform;if(fA(v)&&t.found&&!r.found){var P={x:t.width/t.height/2,y:.5};s.style=wk(ti({},p,{"transform-origin":"".concat(P.x+v.x/16,"em ").concat(P.y+v.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}(en)}var _A=function(e,t,r,s){var A,P,B,p=Object.keys(e),v=p.length,C=void 0!==s?function(e,t){return function(r,s,p,v){return e.call(t,r,s,p,v)}}(t,s):t;for(void 0===r?(A=1,B=e[p[0]]):(A=0,B=r);A<v;A++)B=C(B,e[P=p[A]],P,e);return B};function pN(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.skipHooks,s=void 0!==r&&r,p=Object.keys(e).reduce(function(v,C){var A=e[C];return A.icon?v[A.iconName]=A.icon:v[C]=A,v},{});"function"!=typeof P3.hooks.addPack||s?P3.styles[n]=ti({},P3.styles[n]||{},p):P3.hooks.addPack(n,p),"fas"===n&&pN("fa",e)}var mN=P3.styles,NZ=P3.shims,yN=function(){var e=function(s){return _A(mN,function(p,v,C){return p[C]=_A(v,s,{}),p},{})};e(function(r,s,p){return s[3]&&(r[s[3]]=p),r}),e(function(r,s,p){var v=s[2];return r[p]=p,v.forEach(function(C){r[C]=p}),r});var t="far"in mN;_A(NZ,function(r,s){var v=s[1];return"far"===v&&!t&&(v="fas"),r[s[0]]={prefix:v,iconName:s[2]},r},{})};function wN(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}function xg(n){var e=n.tag,t=n.attributes,r=void 0===t?{}:t,s=n.children,p=void 0===s?[]:s;return"string"==typeof n?aN(n):"<".concat(e," ").concat(function(n){return Object.keys(n||{}).reduce(function(e,t){return e+"".concat(t,'="').concat(aN(n[t]),'" ')},"").trim()}(r),">").concat(p.map(xg).join(""),"</").concat(e,">")}yN();function tb(n){this.name="MissingIcon",this.message=n||"Icon unavailable",this.stack=(new Error).stack}(tb.prototype=Object.create(Error.prototype)).constructor=tb;var Mk={fill:"currentColor"},AN={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},CA=(ti({},Mk,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),ti({},AN,{attributeName:"opacity"}));function MA(n){var e=n[0],t=n[1],p=iA(n.slice(4),1)[0];return{found:!0,width:e,height:t,icon:Array.isArray(p)?{tag:"g",attributes:{class:"".concat(xn.familyPrefix,"-").concat(c9.GROUP)},children:[{tag:"path",attributes:{class:"".concat(xn.familyPrefix,"-").concat(c9.SECONDARY),fill:"currentColor",d:p[0]}},{tag:"path",attributes:{class:"".concat(xn.familyPrefix,"-").concat(c9.PRIMARY),fill:"currentColor",d:p[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:p}}}}ti({},Mk,{cx:"256",cy:"364",r:"28"}),ti({},AN,{attributeName:"r",values:"28;14;28;28;14;28;"}),ti({},CA,{values:"1;0;1;1;0;1;"}),ti({},Mk,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),ti({},CA,{values:"1;0;0;0;0;1;"}),ti({},Mk,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),ti({},CA,{values:"0;0;1;1;0;0;"});var cY=function(){function n(){(function(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")})(this,n),this.definitions={}}return function(n,e,t){e&&Oz(n.prototype,e)}(n,[{key:"add",value:function(){for(var t=this,r=arguments.length,s=new Array(r),p=0;p<r;p++)s[p]=arguments[p];var v=s.reduce(this._pullDefinitions,{});Object.keys(v).forEach(function(C){t.definitions[C]=ti({},t.definitions[C]||{},v[C]),pN(C,v[C]),yN()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,r){var s=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(s).map(function(p){var v=s[p],C=v.prefix,A=v.iconName,P=v.icon;t[C]||(t[C]={}),t[C][A]=P}),t}}]),n}();function nb(){xn.autoAddCss&&!Ak&&(function(n){if(n&&n8){var e=vs.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;for(var t=vs.head.childNodes,r=null,s=t.length-1;s>-1;s--){var p=t[s],v=(p.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(v)>-1&&(r=p)}vs.head.insertBefore(e,r)}}(function(){var n="fa",e=Wz,t=xn.familyPrefix,r=xn.replacementClass,s='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(t!==n||r!==e){var p=new RegExp("\\.".concat(n,"\\-"),"g"),v=new RegExp("\\--".concat(n,"\\-"),"g"),C=new RegExp("\\.".concat(e),"g");s=s.replace(p,".".concat(t,"-")).replace(v,"--".concat(t,"-")).replace(C,".".concat(r))}return s}()),Ak=!0)}function Ek(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(function(r){return xg(r)})}}),Object.defineProperty(n,"node",{get:function(){if(n8){var r=vs.createElement("div");return r.innerHTML=n.html,r.children}}}),n}function xk(n){var e=n.prefix,t=void 0===e?"fa":e,r=n.iconName;if(r)return wN(zN.definitions,t,r)||wN(P3.styles,t,r)}var zN=new cY,Ak=!1,AA_transform=function(e){return function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(r,s){var p=s.toLowerCase().split("-"),v=p[0],C=p.slice(1).join("-");if(v&&"h"===C)return r.flipX=!0,r;if(v&&"v"===C)return r.flipY=!0,r;if(C=parseFloat(C),isNaN(C))return r;switch(v){case"grow":r.size=r.size+C;break;case"shrink":r.size=r.size-C;break;case"left":r.x=r.x-C;break;case"right":r.x=r.x+C;break;case"up":r.y=r.y-C;break;case"down":r.y=r.y+C;break;case"rotate":r.rotate=r.rotate+C}return r},t):t}(e)},NN=function(n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:xk(e||{}),s=t.mask;return s&&(s=(s||{}).icon?s:xk(s||{})),n(r,ti({},t,{mask:s}))}}(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.transform,r=void 0===t?o8:t,s=e.symbol,p=void 0!==s&&s,v=e.mask,C=void 0===v?null:v,A=e.maskId,P=void 0===A?null:A,B=e.title,G=void 0===B?null:B,re=e.titleId,ae=void 0===re?null:re,ge=e.classes,Te=void 0===ge?[]:ge,Oe=e.attributes,rt=void 0===Oe?{}:Oe,St=e.styles,Nt=void 0===St?{}:St;if(n){var kt=n.prefix,Dn=n.iconName,en=n.icon;return Ek(ti({type:"icon"},n),function(){return nb(),xn.autoA11y&&(G?rt["aria-labelledby"]="".concat(xn.replacementClass,"-title-").concat(ae||Xy()):(rt["aria-hidden"]="true",rt.focusable="false")),mA({icons:{main:MA(en),mask:C?MA(C.icon):{found:!1,width:null,height:null,icon:{}}},prefix:kt,iconName:Dn,transform:ti({},o8,r),symbol:p,title:G,maskId:P,titleId:ae,extra:{attributes:rt,styles:Nt,classes:Te}})})}});class O3{constructor(){this.defaultPrefix="fas",this.globalLibrary="unset"}}O3.\u0275fac=function(e){return new(e||O3)},O3.\u0275prov=f.Yz7({token:O3,factory:O3.\u0275fac,providedIn:"root"}),O3.ngInjectableDef=(0,f.Yz7)({factory:function(){return new O3},token:O3,providedIn:"root"});class u6{constructor(){this.definitions={}}addIcons(...e){for(let t=0;t<e.length;t++){const r=e[t];r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r}}addIconPacks(...e){for(let t=0;t<e.length;t++){const r=e[t],s=Object.keys(r).map(p=>r[p]);this.addIcons(...s)}}getIconDefinition(e,t){return e in this.definitions&&t in this.definitions[e]?this.definitions[e][t]:null}}u6.\u0275fac=function(e){return new(e||u6)},u6.\u0275prov=f.Yz7({token:u6,factory:u6.\u0275fac,providedIn:"root"}),u6.ngInjectableDef=(0,f.Yz7)({factory:function(){return new u6},token:u6,providedIn:"root"});const RN=n=>{const e={"fa-spin":n.spin,"fa-pulse":n.pulse,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-li":n.listItem,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let kY=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[f.TTD]}),n})(),ON=(()=>{class n{constructor(t,r,s,p){this.sanitizer=t,this.config=r,this.iconLibrary=s,this.stackItem=p,this.classes=[]}get iconProp(){return this.icon}set iconProp(t){this.icon=t}ngOnChanges(t){if(null!=this.icon){if(t){const r=this.findIconDefinition(this.icon);if(null!=r){const s=this.buildParams();this.renderIcon(r,s)}}}else console.error("FontAwesome: Property `icon` is required for `fa-icon`/`fa-duotone-icon` components. This warning will become a hard error in 0.6.0.")}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:Array.isArray(n)&&2===n.length?{prefix:n[0],iconName:n[1]}:"string"==typeof n?{prefix:e,iconName:n}:void 0)(t,this.config.defaultPrefix);if("icon"in r)return r;const s=this.iconLibrary.getIconDefinition(r.prefix,r.iconName);if(null!=s)return s;const p=xk(r);if(null!=p){const v="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+v);else if(!this.config.globalLibrary)throw new Error(v);return p}return(n=>{console.error(`FontAwesome: Could not find icon with iconName=${n.iconName} and prefix=${n.prefix}. This warning will become a hard error in 0.6.0.`)})(r),null}buildParams(){const t={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,listItem:this.listItem,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:this.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?AA_transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...RN(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const s=NN(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(s.html.join("\n"))}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Z1),f.Y36(O3),f.Y36(u6),f.Y36(kY,8))},n.\u0275cmp=f.Xpm({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(t,r){2&t&&(f.Ikx("innerHTML",r.renderedIconHTML,f.oJD),f.uIk("title",r.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",listItem:"listItem",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[f.TTD],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();class lh{constructor(e){this.config=e}get defaultPrefix(){return this.config.defaultPrefix}set defaultPrefix(e){this.config.defaultPrefix=e}}lh.\u0275fac=function(e){return new(e||lh)(f.LFG(O3))},lh.\u0275prov=f.Yz7({token:lh,factory:lh.\u0275fac,providedIn:"root"}),lh.ngInjectableDef=(0,f.Yz7)({factory:function(){return new lh((0,f.LFG)(O3))},token:lh,providedIn:"root"});let xY=(()=>{class n{constructor(t){this.share=t}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Rz))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-social-share"]],decls:20,vars:24,consts:[[1,"my-3","p-1"],["mat-fab","","shareButton","facebook"],["size","lg",3,"icon"],["mat-fab","","shareButton","twitter"],["mat-fab","","shareButton","linkedin"],["mat-fab","","shareButton","reddit"],["mat-fab","","shareButton","whatsapp"],["mat-fab","","shareButton","telegram"],["mat-fab","","shareButton","print"],["mat-fab","","shareButton","email"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"p"),f.TgZ(2,"strong"),f._uU(3,"Found this article helpful!!! Share this with your Friends"),f.qZA(),f.qZA(),f.TgZ(4,"button",1),f._UZ(5,"fa-icon",2),f.qZA(),f.TgZ(6,"button",3),f._UZ(7,"fa-icon",2),f.qZA(),f.TgZ(8,"button",4),f._UZ(9,"fa-icon",2),f.qZA(),f.TgZ(10,"button",5),f._UZ(11,"fa-icon",2),f.qZA(),f.TgZ(12,"button",6),f._UZ(13,"fa-icon",2),f.qZA(),f.TgZ(14,"button",7),f._UZ(15,"fa-icon",2),f.qZA(),f.TgZ(16,"button",8),f._UZ(17,"fa-icon",2),f.qZA(),f.TgZ(18,"button",9),f._UZ(19,"fa-icon",2),f.qZA(),f.qZA()),2&t&&(f.xp6(4),f.Udp("background-color",r.share.prop.facebook.color),f.xp6(1),f.Q6J("icon",r.share.prop.facebook.icon),f.xp6(1),f.Udp("background-color",r.share.prop.twitter.color),f.xp6(1),f.Q6J("icon",r.share.prop.twitter.icon),f.xp6(1),f.Udp("background-color",r.share.prop.linkedin.color),f.xp6(1),f.Q6J("icon",r.share.prop.linkedin.icon),f.xp6(1),f.Udp("background-color",r.share.prop.reddit.color),f.xp6(1),f.Q6J("icon",r.share.prop.reddit.icon),f.xp6(1),f.Udp("background-color",r.share.prop.whatsapp.color),f.xp6(1),f.Q6J("icon",r.share.prop.whatsapp.icon),f.xp6(1),f.Udp("background-color",r.share.prop.telegram.color),f.xp6(1),f.Q6J("icon",r.share.prop.telegram.icon),f.xp6(1),f.Udp("background-color",r.share.prop.print.color),f.xp6(1),f.Q6J("icon",r.share.prop.print.icon),f.xp6(1),f.Udp("background-color",r.share.prop.email.color),f.xp6(1),f.Q6J("icon",r.share.prop.email.icon))},directives:[hg,OW,ON],styles:["button[_ngcontent-%COMP%]{margin:5px}"]}),n})();class AY{}let HN=(()=>{class n{constructor(t){this.db=t}saveComment(t){const r=JSON.parse(JSON.stringify(t));return this.db.collection("comments").add(r)}getAllCommentsForBlog(t){return this.db.collection("comments",s=>s.where("blogId","==",t).orderBy("commentDate","desc")).snapshotChanges().pipe((0,K.U)(s=>s.map(p=>Object.assign({commentId:p.payload.doc.id},p.payload.doc.data()))))}deleteAllCommentForBlog(t){this.db.collection("comments",s=>s.where("blogId","==",t)).snapshotChanges().forEach(s=>{s.forEach(p=>{this.db.doc("comments/"+p.payload.doc.id).delete()})})}deleteSingleComment(t){return this.db.doc("comments/"+t).delete()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(CC))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BN=(()=>{class n{constructor(t){this.snackBar=t}showSnackBar(t){this.snackBar.open(t,"Close",{duration:2e3,panelClass:"snackbar-ribon",verticalPosition:"top",horizontalPosition:"center"})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(eW))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SY(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"mat-card",3),f.TgZ(1,"a",4),f.NdJ("click",function(){return f.CHM(t),f.oxw().login()}),f._uU(2,"Login with Google"),f.qZA(),f._uU(3," to post comments "),f.qZA()}}function TY(n,e){1&n&&(f.TgZ(0,"mat-error"),f._uU(1,"Name is required"),f.qZA())}function IY(n,e){1&n&&(f.TgZ(0,"mat-error"),f._uU(1,"Email is required"),f.qZA())}function DY(n,e){1&n&&(f.TgZ(0,"mat-error"),f._uU(1,"Invalid email"),f.qZA())}function zY(n,e){1&n&&(f.TgZ(0,"mat-error"),f._uU(1,"Comment is required"),f.qZA())}function NY(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"mat-card",5),f.TgZ(1,"mat-card-title"),f._uU(2," LEAVE A REPLY "),f.qZA(),f.TgZ(3,"mat-card-subtitle"),f._uU(4," Your email address will not be published. Required fields are marked * "),f.qZA(),f.TgZ(5,"mat-card-content"),f.TgZ(6,"form",6,7),f.NdJ("ngSubmit",function(){f.CHM(t);const s=f.MAs(7),p=f.oxw();return s.form.valid&&p.onCommentPost(s)}),f.TgZ(8,"mat-form-field",8),f.TgZ(9,"input",9,10),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().comments.commentedBy=s}),f.qZA(),f.YNc(11,TY,2,0,"mat-error",11),f.qZA(),f.TgZ(12,"mat-form-field",8),f.TgZ(13,"input",12,13),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().comments.email=s}),f.qZA(),f.YNc(15,IY,2,0,"mat-error",11),f.YNc(16,DY,2,0,"mat-error",11),f.qZA(),f.TgZ(17,"mat-form-field",8),f.TgZ(18,"textarea",14,15),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().comments.content=s}),f.qZA(),f.YNc(20,zY,2,0,"mat-error",11),f.qZA(),f.TgZ(21,"mat-card-actions"),f.TgZ(22,"button",16),f._uU(23," Post Comment "),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&n){const t=f.MAs(7),r=f.MAs(10),s=f.MAs(14),p=f.MAs(19),v=f.oxw();f.xp6(9),f.Q6J("ngModel",v.comments.commentedBy),f.xp6(2),f.Q6J("ngIf",t.submitted&&(null==r.errors?null:r.errors.required)),f.xp6(2),f.Q6J("ngModel",v.comments.email),f.xp6(2),f.Q6J("ngIf",t.submitted&&(null==s.errors?null:s.errors.required)),f.xp6(1),f.Q6J("ngIf",t.submitted&&(null==s.errors?null:s.errors.email)),f.xp6(2),f.Q6J("ngModel",v.comments.content),f.xp6(2),f.Q6J("ngIf",t.submitted&&(null==p.errors?null:p.errors.required))}}function LY(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"button",18),f.NdJ("click",function(){f.CHM(t);const s=f.oxw().$implicit;return f.oxw().deleteComment(null==s?null:s.commentId)}),f.TgZ(2,"mat-icon"),f._uU(3,"delete"),f.qZA(),f.qZA(),f.qZA()}}function PY(n,e){if(1&n&&(f.TgZ(0,"mat-card",3),f.TgZ(1,"mat-card-title"),f.TgZ(2,"div",17),f.TgZ(3,"div"),f._uU(4),f.qZA(),f.YNc(5,LY,4,0,"div",11),f.qZA(),f.qZA(),f.TgZ(6,"mat-card-subtitle"),f._uU(7),f.ALo(8,"date"),f.qZA(),f.TgZ(9,"mat-card-content"),f.TgZ(10,"p"),f._uU(11),f.qZA(),f.qZA(),f.qZA()),2&n){const t=e.$implicit,r=f.oxw();f.xp6(4),f.hij(" ",null==t?null:t.commentedBy," "),f.xp6(1),f.Q6J("ngIf",null==r.appUser?null:r.appUser.isAdmin),f.xp6(2),f.Oqu(f.xi3(8,4,null==t?null:t.commentDate,"medium")),f.xp6(4),f.Oqu(null==t?null:t.content)}}let RY=(()=>{class n{constructor(t,r,s,p){this.datePipe=t,this.commentService=r,this.authService=s,this.snackBarService=p,this.comments=new AY,this.unsubscribe$=new Ct.xQ}ngOnInit(){this.authService.appUser$.pipe(Mi(this.unsubscribe$)).subscribe(t=>this.appUser=t),this.commentList$=this.commentService.getAllCommentsForBlog(this.blogId)}onCommentPost(t){this.comments.commentDate=this.datePipe.transform(Date.now(),"MM-dd-yyyy HH:mm:ss"),this.comments.blogId=this.blogId,this.commentService.saveComment(this.comments).then(t.resetForm())}deleteComment(t){confirm("Do you want to delete this comment!!!")&&this.commentService.deleteSingleComment(t).then(()=>{this.snackBarService.showSnackBar("Comment Deleted successfully")})}login(){this.authService.login()}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ia),f.Y36(HN),f.Y36(K7),f.Y36(BN))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-comments"]],inputs:{blogId:"blogId"},features:[f._Bn([Ia])],decls:5,vars:5,consts:[["anonymousUser",""],["class","my-2 mat-elevation-z2",4,"ngIf","ngIfElse"],["class","my-3 mat-elevation-z2",4,"ngFor","ngForOf"],[1,"my-3","mat-elevation-z2"],[3,"click"],[1,"my-2","mat-elevation-z2"],["novalidate","",3,"ngSubmit"],["commentForm","ngForm"],[1,"full-width"],["matInput","","placeholder","Name","name","commentedBy","required","",3,"ngModel","ngModelChange"],["commentedBy","ngModel"],[4,"ngIf"],["matInput","","placeholder","Email","name","email","email","","required","",3,"ngModel","ngModelChange"],["email","ngModel"],["matInput","","placeholder","Comment","name","content","required","",3,"ngModel","ngModelChange"],["content","ngModel"],["type","\n            submit","mat-raised-button","","color","primary"],[1,"d-flex","justify-content-between"],["mat-icon-button","","matTooltip","Delete comment","matTooltipPosition","before","color","accent",3,"click"]],template:function(t,r){if(1&t&&(f.YNc(0,SY,4,0,"ng-template",null,0,f.W1O),f.YNc(2,NY,24,7,"mat-card",1),f.YNc(3,PY,12,7,"mat-card",2),f.ALo(4,"async")),2&t){const s=f.MAs(1);f.xp6(2),f.Q6J("ngIf",r.appUser)("ngIfElse",s),f.xp6(1),f.Q6J("ngForOf",f.lcZ(4,3,r.commentList$))}},directives:[ar,f1,Iy,bT,GE,RC,Hx,Tx,a9,gz,fG,Fy,Wy,ek,$y,$x,WE,hg,eG,lW,fI],pipes:[T2,Ia],styles:["a[_ngcontent-%COMP%]:not([href]):not([tabindex]){text-decoration:underline;cursor:pointer;color:#1565c0}.full-width[_ngcontent-%COMP%]{width:100%}"]}),n})();function OY(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"div",1),f.NdJ("click",function(){return f.CHM(t),f.oxw().gotoTop()}),f._UZ(1,"i",2),f.qZA()}}let jN=(()=>{class n{constructor(){this.showScrollerPosition=100}checkScroll(){this.showScroller=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)>=this.showScrollerPosition}gotoTop(){window.scroll({top:0,left:0,behavior:"smooth"})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-scroller"]],hostBindings:function(t,r){1&t&&f.NdJ("scroll",function(){return r.checkScroll()},!1,f.Jf7)},decls:1,vars:1,consts:[["class","scroll-to-top",3,"click",4,"ngIf"],[1,"scroll-to-top",3,"click"],[1,"fas","fa-angle-up"]],template:function(t,r){1&t&&f.YNc(0,OY,2,0,"div",0),2&t&&f.Q6J("ngIf",r.showScroller)},directives:[ar],styles:[".scroll-to-top[_ngcontent-%COMP%]{display:block;background:rgba(100,100,100,.4);color:#fff;bottom:4%;cursor:pointer;position:fixed;right:20px;z-index:999;font-size:24px;text-align:center;width:45px;height:45px;border-radius:50%}.scroll-to-top[_ngcontent-%COMP%]:hover{background-color:#b2b2b2}"]}),n})();function VY(n,e){if(1&n&&(f.ynx(0),f.TgZ(1,"mat-card",3),f.TgZ(2,"mat-card-title"),f.TgZ(3,"h1",4),f._uU(4),f.qZA(),f.qZA(),f.TgZ(5,"mat-card-subtitle",5),f._UZ(6,"i",6),f._uU(7),f.ALo(8,"date"),f._UZ(9,"i",7),f._uU(10),f.ALo(11,"titlecase"),f.qZA(),f._UZ(12,"mat-divider"),f.TgZ(13,"mat-card-content",8),f._UZ(14,"div",9),f.qZA(),f.qZA(),f.BQk()),2&n){const t=e.ngIf;f.xp6(4),f.Oqu(null==t?null:t.title),f.xp6(3),f.hij(" ",f.xi3(8,4,null==t?null:t.createdDate,"longDate")," "),f.xp6(3),f.hij(" ",f.lcZ(11,7,null==t?null:t.author)," "),f.xp6(4),f.Q6J("innerHTML",null==t?null:t.content,f.oJD)}}function FY(n,e){1&n&&(f.TgZ(0,"div",10),f._UZ(1,"mat-spinner"),f.qZA())}let HY=(()=>{class n{constructor(t,r){this.route=t,this.blogService=r,this.unsubscribe$=new Ct.xQ,this.route.paramMap.pipe(Mi(this.unsubscribe$)).subscribe(s=>{this.postId=s.get("id"),this.postData$=this.blogService.getPostbyId(this.postId)})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(va),f.Y36(eA))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-blog"]],decls:8,vars:5,consts:[[4,"ngIf","ngIfElse"],["loader",""],[3,"blogId"],[1,"mt-3","p-4","mat-elevation-z2","bg-white"],[1,"my-2","display-4"],[1,"my-4"],["aria-hidden","true",1,"fas","fa-calendar"],["aria-hidden","true",1,"fas","fa-user","ml-2"],[1,"py-3","align-items-center","align-content-center"],[3,"innerHTML"],[1,"d-flex","justify-content-center"]],template:function(t,r){if(1&t&&(f.YNc(0,VY,15,9,"ng-container",0),f.ALo(1,"async"),f.YNc(2,FY,2,0,"ng-template",null,1,f.W1O),f._UZ(4,"app-social-share"),f._UZ(5,"mat-divider"),f._UZ(6,"app-comments",2),f._UZ(7,"app-scroller")),2&t){const s=f.MAs(3);f.Q6J("ngIf",f.lcZ(1,3,r.postData$))("ngIfElse",s),f.xp6(6),f.Q6J("blogId",r.postId)}},directives:[ar,xY,Gx,RY,jN,Iy,bT,GE,RC,yz],pipes:[T2,Ia,m1],styles:[""]}),n})();function BY(n,e){if(1&n&&(f.TgZ(0,"mat-option",4),f._uU(1),f.qZA()),2&n){const t=e.$implicit;f.Q6J("value",t),f.xp6(1),f.hij(" ",t," ")}}let jY=(()=>{class n{constructor(t){this.router=t}pageChange(t){this.router.navigate(["/page/",t])}changePageItemCount(t){sessionStorage.setItem("pageSize",t.value),this.config.itemsPerPage=t.value}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Dr))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-paginator"]],inputs:{pageSizeOptions:"pageSizeOptions",config:"config"},decls:9,vars:2,consts:[[1,"d-flex","justify-content-between","py-3"],[1,"my-pagination",3,"pageChange"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div"),f.TgZ(2,"pagination-controls",1),f.NdJ("pageChange",function(p){return r.pageChange(p)}),f.qZA(),f.qZA(),f.TgZ(3,"div"),f.TgZ(4,"mat-form-field"),f.TgZ(5,"mat-label"),f._uU(6,"Items per page: "),f.qZA(),f.TgZ(7,"mat-select",2),f.NdJ("ngModelChange",function(p){return r.config.itemsPerPage=p})("selectionChange",function(p){return r.changePageItemCount(p)}),f.YNc(8,BY,2,2,"mat-option",3),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(7),f.Q6J("ngModel",r.config.itemsPerPage),f.xp6(1),f.Q6J("ngForOf",r.pageSizeOptions))},directives:[AW,gz,Wx,jG,ek,$y,f1,gT],styles:[".my-pagination[_ngcontent-%COMP%]     .ngx-pagination{margin:10px 0;-webkit-padding-start:0px;padding-inline-start:0px}@media screen and (min-width: 320px) and (max-width: 420px){.paginator-controls[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]}),n})(),UY=(()=>{class n{transform(t){return t.trim().toLowerCase().replace(/ /g,"-")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=f.Yjl({name:"slug",type:n,pure:!0}),n})(),qY=(()=>{class n{transform(t){const r=t.replace(/(<([^>]+)>)/gi,"");return r.length>300?r.substr(0,300)+" [...]":r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=f.Yjl({name:"excerpt",type:n,pure:!0}),n})();function $Y(n,e){1&n&&(f.TgZ(0,"div",2),f._UZ(1,"mat-spinner"),f.qZA())}const GY=function(n){return["/editpost",n]};function WY(n,e){if(1&n){const t=f.EpF();f.ynx(0),f.TgZ(1,"button",16),f._uU(2," Edit "),f.qZA(),f.TgZ(3,"button",17),f.NdJ("click",function(){f.CHM(t);const s=f.oxw().$implicit;return f.oxw(3).delete(s.postId)}),f._uU(4," Delete "),f.qZA(),f.BQk()}if(2&n){const t=f.oxw().$implicit;f.xp6(1),f.Q6J("routerLink",f.VKq(1,GY,t.postId))}}const UN=function(n,e){return["/blog/",n,e]};function ZY(n,e){if(1&n&&(f.TgZ(0,"div"),f.TgZ(1,"mat-card",6),f.TgZ(2,"mat-card-content"),f.TgZ(3,"a",7),f.ALo(4,"slug"),f.TgZ(5,"h2"),f._uU(6),f.qZA(),f.qZA(),f.qZA(),f.TgZ(7,"mat-card-subtitle",8),f._UZ(8,"i",9),f._uU(9),f.ALo(10,"date"),f._UZ(11,"i",10),f._uU(12),f.ALo(13,"titlecase"),f.qZA(),f.TgZ(14,"mat-card-content"),f._UZ(15,"div",11),f.ALo(16,"excerpt"),f.qZA(),f._UZ(17,"mat-divider"),f.TgZ(18,"mat-card-actions",12),f.YNc(19,WY,5,3,"ng-container",13),f.ALo(20,"async"),f._UZ(21,"span",14),f.TgZ(22,"button",15),f.ALo(23,"slug"),f._uU(24," Read More "),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&n){const t=e.$implicit,r=f.oxw(3);let s;f.xp6(3),f.Q6J("routerLink",f.WLB(20,UN,t.postId,f.lcZ(4,7,t.title))),f.xp6(3),f.Oqu(t.title),f.xp6(3),f.hij(" ",f.xi3(10,9,t.createdDate,"longDate")," "),f.xp6(3),f.hij(" ",f.lcZ(13,12,t.author)," "),f.xp6(3),f.Q6J("innerHTML",f.lcZ(16,14,t.content),f.oJD),f.xp6(4),f.Q6J("ngIf",null==(s=f.lcZ(20,16,r.appUser$))?null:s.isAdmin),f.xp6(3),f.Q6J("routerLink",f.WLB(23,UN,t.postId,f.lcZ(23,18,t.title)))}}function YY(n,e){if(1&n&&(f.ynx(0),f.YNc(1,ZY,25,26,"div",4),f.ALo(2,"paginate"),f._UZ(3,"mat-divider"),f._UZ(4,"app-paginator",5),f.BQk()),2&n){const t=f.oxw().ngIf,r=f.oxw();f.xp6(1),f.Q6J("ngForOf",f.xi3(2,3,t,r.config)),f.xp6(3),f.Q6J("pageSizeOptions",r.pageSizeOptions)("config",r.config)}}function KY(n,e){1&n&&(f.TgZ(0,"h3"),f._uU(1,"No data found"),f.qZA())}function QY(n,e){if(1&n&&(f.ynx(0),f.YNc(1,YY,5,6,"ng-container",1),f.YNc(2,KY,2,0,"ng-template",null,3,f.W1O),f.BQk()),2&n){const t=e.ngIf,r=f.MAs(3);f.xp6(1),f.Q6J("ngIf",(null==t?null:t.length)>0)("ngIfElse",r)}}let JY=(()=>{class n{constructor(t,r,s,p,v){this.blogService=t,this.commentService=r,this.authService=s,this.route=p,this.snackBarService=v,this.pageSizeOptions=[],this.appUser$=this.authService.appUser$,this.unsubscribe$=new Ct.xQ,this.pageSizeOptions=[2,4,6];const C=sessionStorage.getItem("pageSize");this.config={currentPage:1,itemsPerPage:C?+C:this.pageSizeOptions[0]}}ngOnInit(){this.route.paramMap.pipe(Mi(this.unsubscribe$)).subscribe(t=>{this.config.currentPage=t.get("pagenum"),this.blogPost$=this.blogService.getAllPosts()})}delete(t){confirm("Are you sure?")&&this.blogService.deletePost(t).then(()=>{this.commentService.deleteAllCommentForBlog(t),this.snackBarService.showSnackBar("Blog post deleted successfully")})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(eA),f.Y36(HN),f.Y36(K7),f.Y36(va),f.Y36(BN))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-blog-card"]],decls:4,vars:4,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"d-flex","justify-content-center"],["noData",""],[4,"ngFor","ngForOf"],[3,"pageSizeOptions","config"],[1,"mat-elevation-z2","mb-3"],[1,"blog-title",3,"routerLink"],[1,"my-4"],["aria-hidden","true",1,"fas","fa-calendar"],["aria-hidden","true",1,"fas","fa-user","ml-2"],[3,"innerHTML"],["align","end"],[4,"ngIf"],[1,"spacer"],["mat-raised-button","","color","primary",3,"routerLink"],["mat-raised-button","","color","accent",3,"routerLink"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,r){if(1&t&&(f.YNc(0,$Y,2,0,"ng-template",null,0,f.W1O),f.YNc(2,QY,4,2,"ng-container",1),f.ALo(3,"async")),2&t){const s=f.MAs(1);f.xp6(2),f.Q6J("ngIf",f.lcZ(3,2,r.blogPost$))("ngIfElse",s)}},directives:[ar,yz,f1,Gx,jY,Iy,RC,N5,GE,WE,hg,N0],pipes:[T2,xW,UY,Ia,m1,qY],styles:[".blog-title[_ngcontent-%COMP%]{text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#cd5c5c}"]}),n})(),XY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-author-profile"]],decls:16,vars:0,consts:[[1,"mb-3","mat-elevation-z2"],[1,"text-center"],["mat-card-avatar","","src","../../../assets/Profile_Chaitanya.jpg",1,"text-center"],[1,"d-flex","justify-content-center","py-2"],["href","#","target","_blank"],[1,"fab","fa-facebook-square"],["aria-hidden","true",1,"fab","fa-twitter-square"],["aria-hidden","true",1,"fab","fa-linkedin"],["aria-hidden","true",1,"fab","fa-github-square"]],template:function(t,r){1&t&&(f.TgZ(0,"mat-card",0),f.TgZ(1,"mat-card-content"),f.TgZ(2,"div",1),f._UZ(3,"img",2),f.TgZ(4,"h5"),f._uU(5,"Chaitanya Goswami"),f.qZA(),f.qZA(),f.qZA(),f._UZ(6,"mat-divider"),f.TgZ(7,"mat-card-content",3),f.TgZ(8,"a",4),f._UZ(9,"i",5),f.qZA(),f.TgZ(10,"a",4),f._UZ(11,"i",6),f.qZA(),f.TgZ(12,"a",4),f._UZ(13,"i",7),f.qZA(),f.TgZ(14,"a",4),f._UZ(15,"i",8),f.qZA(),f.qZA(),f.qZA())},directives:[Iy,RC,wT,Gx],styles:[".fa-twitter-square[_ngcontent-%COMP%]{color:#55acee}.fa-facebook-square[_ngcontent-%COMP%]{color:#3b5998}.fa-linkedin-square[_ngcontent-%COMP%]{color:#0976b4}.fa-github-square[_ngcontent-%COMP%]{color:#333}.fab[_ngcontent-%COMP%]{font-size:3em;margin:0 5px}.mat-card-avatar[_ngcontent-%COMP%]{width:100px;height:100px;margin:auto;padding:5px}"]}),n})(),SA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"row","mt-3"],[1,"col-md-9"],[1,"col-md-3"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f._UZ(2,"app-blog-card"),f.qZA(),f.TgZ(3,"div",2),f._UZ(4,"app-author-profile"),f.qZA(),f._UZ(5,"app-scroller"),f.qZA())},directives:[JY,XY,jN],styles:[""]}),n})();var eK=F(9217);class tK{constructor(){this.title="",this.content=""}}function nK(n,e){1&n&&(f.TgZ(0,"span",13),f._uU(1," Title is required "),f.qZA())}let qN=(()=>{class n{constructor(t,r,s,p,v){this.route=t,this.datePipe=r,this.blogService=s,this.router=p,this.authService=v,this.Editor=eK,this.postData=new tK,this.formTitle="Add",this.unsubscribe$=new Ct.xQ,this.route.paramMap.pipe(Mi(this.unsubscribe$)).subscribe(C=>{this.postId=C.get("id")})}ngOnInit(){this.authService.appUser$.pipe(Mi(this.unsubscribe$)).subscribe(t=>this.appUser=t),this.setEditorConfig(),this.postId&&(this.formTitle="Edit",this.blogService.getPostbyId(this.postId).pipe(Mi(this.unsubscribe$)).subscribe(t=>{this.setPostFormData(t)}))}setPostFormData(t){this.postData.title=t.title,this.postData.content=t.content}saveBlogPost(){this.postId?this.blogService.updatePost(this.postId,this.postData).then(()=>{this.router.navigate(["/"])}):(this.postData.createdDate=this.datePipe.transform(Date.now(),"MM-dd-yyyy HH:mm"),this.postData.author=this.appUser.name,this.blogService.createPost(this.postData).then(()=>{this.router.navigate(["/"])}))}setEditorConfig(){this.ckeConfig={heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"},{model:"heading4",view:"h4",title:"Heading 4",class:"ck-heading_heading4"},{model:"heading5",view:"h5",title:"Heading 5",class:"ck-heading_heading5"},{model:"heading6",view:"h6",title:"Heading 6",class:"ck-heading_heading6"},{model:"Formatted",view:"pre",title:"Formatted"}]}}}cancel(){this.router.navigate(["/"])}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(va),f.Y36(Ia),f.Y36(eA),f.Y36(Dr),f.Y36(K7))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-blog-editor"]],features:[f._Bn([Ia])],decls:19,vars:6,consts:[[1,"mt-2"],[1,"mat-elevation-z2","mt-3"],["accept-charset","UTF-8","novalidate","",3,"ngSubmit"],["myForm","ngForm"],["type","text","placeholder","Add title...","name","postTitle","required","",1,"form-control",3,"ngModel","ngModelChange"],["postTitle","ngModel"],["class","text-danger",4,"ngIf"],[1,"form-group"],["name","myckeditor","debounce","300",3,"config","ngModel","editor","ngModelChange"],["myckeditor","ngModel"],["fxflex",""],["type","submit","mat-raised-button","","color","primary"],["mat-raised-button","","color","warn",3,"click"],[1,"text-danger"]],template:function(t,r){if(1&t){const s=f.EpF();f.TgZ(0,"h1",0),f._uU(1),f.qZA(),f._UZ(2,"hr"),f.TgZ(3,"mat-card",1),f.TgZ(4,"form",2,3),f.NdJ("ngSubmit",function(){return f.CHM(s),f.MAs(5).form.valid&&r.saveBlogPost()}),f.TgZ(6,"input",4,5),f.NdJ("ngModelChange",function(v){return r.postData.title=v}),f.qZA(),f.YNc(8,nK,2,0,"span",6),f._UZ(9,"br"),f.TgZ(10,"div",7),f.TgZ(11,"ckeditor",8,9),f.NdJ("ngModelChange",function(v){return r.postData.content=v}),f.qZA(),f.qZA(),f.TgZ(13,"mat-card-actions"),f._UZ(14,"div",10),f.TgZ(15,"button",11),f._uU(16,"Save"),f.qZA(),f.TgZ(17,"button",12),f.NdJ("click",function(){return r.cancel()}),f._uU(18,"CANCEL"),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&t){const s=f.MAs(5),p=f.MAs(7);f.xp6(1),f.hij("",r.formTitle," Post"),f.xp6(5),f.Q6J("ngModel",r.postData.title),f.xp6(2),f.Q6J("ngIf",s.submitted&&(null==p.errors?null:p.errors.required)),f.xp6(3),f.Q6J("config",r.ckeConfig)("ngModel",r.postData.content)("editor",r.Editor)}},directives:[Iy,Hx,Tx,a9,Fy,Wy,ek,$y,ar,L$,WE,hg],styles:[""]}),n})(),iK=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return this.authService.appUser$.pipe((0,K.U)(s=>!!s||(this.router.navigate(["/"],{queryParams:{returnUrl:r.url}}),!1)))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Dr),f.LFG(K7))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rK=(()=>{class n{constructor(t,r){this.router=t,this.authService=r}canActivate(t,r){return this.authService.appUser$.pipe((0,K.U)(s=>!(!s||!s.isAdmin)||(this.router.navigate(["/"],{queryParams:{returnUrl:r.url}}),!1)))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Dr),f.LFG(K7))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V7e=[{prefix:"fab",iconName:"facebook-f",icon:[320,512,[],"f39e","M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"]},{prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]},{prefix:"fab",iconName:"linkedin-in",icon:[448,512,[],"f0e1","M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"]},{prefix:"fab",iconName:"pinterest-p",icon:[384,512,[],"f231","M204 6.5C101.4 6.5 0 74.9 0 185.6 0 256 39.6 296 63.6 296c9.9 0 15.6-27.6 15.6-35.4 0-9.3-23.7-29.1-23.7-67.8 0-80.4 61.2-137.4 140.4-137.4 68.1 0 118.5 38.7 118.5 109.8 0 53.1-21.3 152.7-90.3 152.7-24.9 0-46.2-18-46.2-43.8 0-37.8 26.4-74.4 26.4-113.4 0-66.2-93.9-54.2-93.9 25.8 0 16.8 2.1 35.4 9.6 50.7-13.8 59.4-42 147.9-42 209.1 0 18.9 2.7 37.5 4.5 56.4 3.4 3.8 1.7 3.4 6.9 1.5 50.4-69 48.6-82.5 71.4-172.8 12.3 23.4 44.1 36 69.3 36 106.2 0 153.9-103.5 153.9-196.8C384 71.3 298.2 6.5 204 6.5z"]},{prefix:"fab",iconName:"reddit-alien",icon:[512,512,[],"f281","M440.3 203.5c-15 0-28.2 6.2-37.9 15.9-35.7-24.7-83.8-40.6-137.1-42.3L293 52.3l88.2 19.8c0 21.6 17.6 39.2 39.2 39.2 22 0 39.7-18.1 39.7-39.7s-17.6-39.7-39.7-39.7c-15.4 0-28.7 9.3-35.3 22l-97.4-21.6c-4.9-1.3-9.7 2.2-11 7.1L246.3 177c-52.9 2.2-100.5 18.1-136.3 42.8-9.7-10.1-23.4-16.3-38.4-16.3-55.6 0-73.8 74.6-22.9 100.1-1.8 7.9-2.6 16.3-2.6 24.7 0 83.8 94.4 151.7 210.3 151.7 116.4 0 210.8-67.9 210.8-151.7 0-8.4-.9-17.2-3.1-25.1 49.9-25.6 31.5-99.7-23.8-99.7zM129.4 308.9c0-22 17.6-39.7 39.7-39.7 21.6 0 39.2 17.6 39.2 39.7 0 21.6-17.6 39.2-39.2 39.2-22 .1-39.7-17.6-39.7-39.2zm214.3 93.5c-36.4 36.4-139.1 36.4-175.5 0-4-3.5-4-9.7 0-13.7 3.5-3.5 9.7-3.5 13.2 0 27.8 28.5 120 29 149 0 3.5-3.5 9.7-3.5 13.2 0 4.1 4 4.1 10.2.1 13.7zm-.8-54.2c-21.6 0-39.2-17.6-39.2-39.2 0-22 17.6-39.7 39.2-39.7 22 0 39.7 17.6 39.7 39.7-.1 21.5-17.7 39.2-39.7 39.2z"]},{prefix:"fab",iconName:"tumblr",icon:[320,512,[],"f173","M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z"]},{prefix:"fab",iconName:"whatsapp",icon:[448,512,[],"f232","M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"]},{prefix:"fab",iconName:"viber",icon:[512,512,[],"f409","M444 49.9C431.3 38.2 379.9.9 265.3.4c0 0-135.1-8.1-200.9 52.3C27.8 89.3 14.9 143 13.5 209.5c-1.4 66.5-3.1 191.1 117 224.9h.1l-.1 51.6s-.8 20.9 13 25.1c16.6 5.2 26.4-10.7 42.3-27.8 8.7-9.4 20.7-23.2 29.8-33.7 82.2 6.9 145.3-8.9 152.5-11.2 16.6-5.4 110.5-17.4 125.7-142 15.8-128.6-7.6-209.8-49.8-246.5zM457.9 287c-12.9 104-89 110.6-103 115.1-6 1.9-61.5 15.7-131.2 11.2 0 0-52 62.7-68.2 79-5.3 5.3-11.1 4.8-11-5.7 0-6.9.4-85.7.4-85.7-.1 0-.1 0 0 0-101.8-28.2-95.8-134.3-94.7-189.8 1.1-55.5 11.6-101 42.6-131.6 55.7-50.5 170.4-43 170.4-43 96.9.4 143.3 29.6 154.1 39.4 35.7 30.6 53.9 103.8 40.6 211.1zm-139-80.8c.4 8.6-12.5 9.2-12.9.6-1.1-22-11.4-32.7-32.6-33.9-8.6-.5-7.8-13.4.7-12.9 27.9 1.5 43.4 17.5 44.8 46.2zm20.3 11.3c1-42.4-25.5-75.6-75.8-79.3-8.5-.6-7.6-13.5.9-12.9 58 4.2 88.9 44.1 87.8 92.5-.1 8.6-13.1 8.2-12.9-.3zm47 13.4c.1 8.6-12.9 8.7-12.9.1-.6-81.5-54.9-125.9-120.8-126.4-8.5-.1-8.5-12.9 0-12.9 73.7.5 133 51.4 133.7 139.2zM374.9 329v.2c-10.8 19-31 40-51.8 33.3l-.2-.3c-21.1-5.9-70.8-31.5-102.2-56.5-16.2-12.8-31-27.9-42.4-42.4-10.3-12.9-20.7-28.2-30.8-46.6-21.3-38.5-26-55.7-26-55.7-6.7-20.8 14.2-41 33.3-51.8h.2c9.2-4.8 18-3.2 23.9 3.9 0 0 12.4 14.8 17.7 22.1 5 6.8 11.7 17.7 15.2 23.8 6.1 10.9 2.3 22-3.7 26.6l-12 9.6c-6.1 4.9-5.3 14-5.3 14s17.8 67.3 84.3 84.3c0 0 9.1.8 14-5.3l9.6-12c4.6-6 15.7-9.8 26.6-3.7 14.7 8.3 33.4 21.2 45.8 32.9 7 5.7 8.6 14.4 3.8 23.6z"]},{prefix:"fab",iconName:"vk",icon:[576,512,[],"f189","M545 117.7c3.7-12.5 0-21.7-17.8-21.7h-58.9c-15 0-21.9 7.9-25.6 16.7 0 0-30 73.1-72.4 120.5-13.7 13.7-20 18.1-27.5 18.1-3.7 0-9.4-4.4-9.4-16.9V117.7c0-15-4.2-21.7-16.6-21.7h-92.6c-9.4 0-15 7-15 13.5 0 14.2 21.2 17.5 23.4 57.5v86.8c0 19-3.4 22.5-10.9 22.5-20 0-68.6-73.4-97.4-157.4-5.8-16.3-11.5-22.9-26.6-22.9H38.8c-16.8 0-20.2 7.9-20.2 16.7 0 15.6 20 93.1 93.1 195.5C160.4 378.1 229 416 291.4 416c37.5 0 42.1-8.4 42.1-22.9 0-66.8-3.4-73.1 15.4-73.1 8.7 0 23.7 4.4 58.7 38.1 40 40 46.6 57.9 69 57.9h58.9c16.8 0 25.3-8.4 20.4-25-11.2-34.9-86.9-106.7-90.3-111.5-8.7-11.2-6.2-16.2 0-26.2.1-.1 72-101.3 79.4-135.6z"]},{prefix:"fab",iconName:"facebook-messenger",icon:[512,512,[],"f39f","M256.55 8C116.52 8 8 110.34 8 248.57c0 72.3 29.71 134.78 78.07 177.94 8.35 7.51 6.63 11.86 8.05 58.23A19.92 19.92 0 0 0 122 502.31c52.91-23.3 53.59-25.14 62.56-22.7C337.85 521.8 504 423.7 504 248.57 504 110.34 396.59 8 256.55 8zm149.24 185.13l-73 115.57a37.37 37.37 0 0 1-53.91 9.93l-58.08-43.47a15 15 0 0 0-18 0l-78.37 59.44c-10.46 7.93-24.16-4.6-17.11-15.67l73-115.57a37.36 37.36 0 0 1 53.91-9.93l58.06 43.46a15 15 0 0 0 18 0l78.41-59.38c10.44-7.98 24.14 4.54 17.09 15.62z"]},{prefix:"fab",iconName:"telegram-plane",icon:[448,512,[],"f3fe","M446.7 98.6l-67.6 318.8c-5.1 22.5-18.4 28.1-37.3 17.5l-103-75.9-49.7 47.8c-5.5 5.5-10.1 10.1-20.7 10.1l7.4-104.9 190.9-172.5c8.3-7.4-1.8-11.5-12.9-4.1L117.8 284 16.2 252.2c-22.1-6.9-22.5-22.1 4.6-32.7L418.2 66.4c18.4-6.9 34.5 4.1 28.5 32.2z"]},{prefix:"fab",iconName:"mix",icon:[448,512,[],"f3cb","M0 64v348.9c0 56.2 88 58.1 88 0V174.3c7.9-52.9 88-50.4 88 6.5v175.3c0 57.9 96 58 96 0V240c5.3-54.7 88-52.5 88 4.3v23.8c0 59.9 88 56.6 88 0V64H0z"]},{prefix:"fab",iconName:"xing",icon:[384,512,[],"f168","M162.7 210c-1.8 3.3-25.2 44.4-70.1 123.5-4.9 8.3-10.8 12.5-17.7 12.5H9.8c-7.7 0-12.1-7.5-8.5-14.4l69-121.3c.2 0 .2-.1 0-.3l-43.9-75.6c-4.3-7.8.3-14.1 8.5-14.1H100c7.3 0 13.3 4.1 18 12.2l44.7 77.5zM382.6 46.1l-144 253v.3L330.2 466c3.9 7.1.2 14.1-8.5 14.1h-65.2c-7.6 0-13.6-4-18-12.2l-92.4-168.5c3.3-5.8 51.5-90.8 144.8-255.2 4.6-8.1 10.4-12.2 17.5-12.2h65.7c8 0 12.3 6.7 8.5 14.1z"]},{prefix:"fas",iconName:"sms",icon:[512,512,[],"f7cd","M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7 1.3 3 4.1 4.8 7.3 4.8 66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128.2 304H116c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H156c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-19 38.6-42.4 38.6zm191.8-8c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8v-68.2l-24.8 55.8c-2.9 5.9-11.4 5.9-14.3 0L224 227.8V296c0 4.4-3.6 8-8 8h-16c-4.4 0-8-3.6-8-8V192c0-8.8 7.2-16 16-16h16c6.1 0 11.6 3.4 14.3 8.8l17.7 35.4 17.7-35.4c2.7-5.4 8.3-8.8 14.3-8.8h16c8.8 0 16 7.2 16 16v104zm48.3 8H356c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h12.3c6 0 10.4-3.5 10.4-6.6 0-1.3-.8-2.7-2.1-3.8l-21.9-18.8c-8.5-7.2-13.3-17.5-13.3-28.1 0-21.3 19-38.6 42.4-38.6H396c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-12.3c-6 0-10.4 3.5-10.4 6.6 0 1.3.8 2.7 2.1 3.8l21.9 18.8c8.5 7.2 13.3 17.5 13.3 28.1.1 21.3-18.9 38.6-42.3 38.6z"]},{prefix:"fas",iconName:"envelope",icon:[512,512,[],"f0e0","M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"]},{prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},{prefix:"fas",iconName:"print",icon:[512,512,[],"f02f","M448 192V77.25c0-8.49-3.37-16.62-9.37-22.63L393.37 9.37c-6-6-14.14-9.37-22.63-9.37H96C78.33 0 64 14.33 64 32v160c-35.35 0-64 28.65-64 64v112c0 8.84 7.16 16 16 16h48v96c0 17.67 14.33 32 32 32h320c17.67 0 32-14.33 32-32v-96h48c8.84 0 16-7.16 16-16V256c0-35.35-28.65-64-64-64zm-64 256H128v-96h256v96zm0-224H128V64h192v48c0 8.84 7.16 16 16 16h48v96zm48 72c-13.25 0-24-10.75-24-24 0-13.26 10.75-24 24-24s24 10.74 24 24c0 13.25-10.75 24-24 24z"]},{prefix:"fas",iconName:"exclamation",icon:[192,512,[],"f12a","M176 432c0 44.112-35.888 80-80 80s-80-35.888-80-80 35.888-80 80-80 80 35.888 80 80zM25.26 25.199l13.6 272C39.499 309.972 50.041 320 62.83 320h66.34c12.789 0 23.331-10.028 23.97-22.801l13.6-272C167.425 11.49 156.496 0 142.77 0H49.23C35.504 0 24.575 11.49 25.26 25.199z"]},{prefix:"fas",iconName:"link",icon:[512,512,[],"f0c1","M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"]},{prefix:"fas",iconName:"ellipsis-h",icon:[512,512,[],"f141","M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zm104-72c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm-352 0c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72z"]},{prefix:"fas",iconName:"minus",icon:[448,512,[],"f068","M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"fab",iconName:"line",icon:[448,512,[],"f3c0","M272.1 204.2v71.1c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.1 0-2.1-.6-2.6-1.3l-32.6-44v42.2c0 1.8-1.4 3.2-3.2 3.2h-11.4c-1.8 0-3.2-1.4-3.2-3.2v-71.1c0-1.8 1.4-3.2 3.2-3.2H219c1 0 2.1.5 2.6 1.4l32.6 44v-42.2c0-1.8 1.4-3.2 3.2-3.2h11.4c1.8-.1 3.3 1.4 3.3 3.1zm-82-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 1.8 1.4 3.2 3.2 3.2h11.4c1.8 0 3.2-1.4 3.2-3.2v-71.1c0-1.7-1.4-3.2-3.2-3.2zm-27.5 59.6h-31.1v-56.4c0-1.8-1.4-3.2-3.2-3.2h-11.4c-1.8 0-3.2 1.4-3.2 3.2v71.1c0 .9.3 1.6.9 2.2.6.5 1.3.9 2.2.9h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.7-1.4-3.2-3.1-3.2zM332.1 201h-45.7c-1.7 0-3.2 1.4-3.2 3.2v71.1c0 1.7 1.4 3.2 3.2 3.2h45.7c1.8 0 3.2-1.4 3.2-3.2v-11.4c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2V234c0-1.8-1.4-3.2-3.2-3.2H301v-12h31.1c1.8 0 3.2-1.4 3.2-3.2v-11.4c-.1-1.7-1.5-3.2-3.2-3.2zM448 113.7V399c-.1 44.8-36.8 81.1-81.7 81H81c-44.8-.1-81.1-36.9-81-81.7V113c.1-44.8 36.9-81.1 81.7-81H367c44.8.1 81.1 36.8 81 81.7zm-61.6 122.6c0-73-73.2-132.4-163.1-132.4-89.9 0-163.1 59.4-163.1 132.4 0 65.4 58 120.2 136.4 130.6 19.1 4.1 16.9 11.1 12.6 36.8-.7 4.1-3.3 16.1 14.1 8.8 17.4-7.3 93.9-55.3 128.2-94.7 23.6-26 34.9-52.3 34.9-81.5z"]}];let F7e=(()=>{class n{constructor(t){t.addIcons(...V7e)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(u6))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[FN]]}),n})();const H7e={autoSetMeta:!0,twitterAccount:"ankitsharma_007"};let B7e=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[TV]}),n.\u0275inj=f.cJS({imports:[[c2.hO.initializeApp(mI_firebaseConfig),SP,F7e,TW,dV,FN,VW.withConfig(H7e),Sl,k,hW,P$,lz,gv.forRoot([{path:"",component:SA,pathMatch:"full"},{path:"page/:pagenum",component:SA},{path:"addpost",component:qN,canActivate:[iK]},{path:"editpost/:id",component:qN,canActivate:[rK]},{path:"blog/:id/:slug",component:HY},{path:"**",component:SA}],{relativeLinkResolution:"legacy"})]]}),n})();(0,f.G48)(),Ba().bootstrapModule(B7e).catch(n=>console.error(n))},4762:(wt,Ve,F)=>{"use strict";function R(Se,De){var Fe={};for(var ze in Se)Object.prototype.hasOwnProperty.call(Se,ze)&&De.indexOf(ze)<0&&(Fe[ze]=Se[ze]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(ze=Object.getOwnPropertySymbols(Se);it<ze.length;it++)De.indexOf(ze[it])<0&&Object.prototype.propertyIsEnumerable.call(Se,ze[it])&&(Fe[ze[it]]=Se[ze[it]])}return Fe}function W(Se,De,Fe,ze){return new(Fe||(Fe=Promise))(function(Pe,Zt){function Un(an){try{Wt(ze.next(an))}catch(tn){Zt(tn)}}function Ui(an){try{Wt(ze.throw(an))}catch(tn){Zt(tn)}}function Wt(an){an.done?Pe(an.value):function(Pe){return Pe instanceof Fe?Pe:new Fe(function(Zt){Zt(Pe)})}(an.value).then(Un,Ui)}Wt((ze=ze.apply(Se,De||[])).next())})}F.d(Ve,{_T:()=>R,mG:()=>W})},3668:(wt,Ve,F)=>{"use strict";F.d(Ve,{deG:()=>O2,tb:()=>pm,AFp:()=>hm,ip1:()=>g7,CZH:()=>e6,hGG:()=>xd,z2F:()=>Cd,sBO:()=>bM,Sil:()=>h_,_Vd:()=>Ai,EJc:()=>c_,SBq:()=>c4,qLn:()=>Zc,vpe:()=>hl,tBr:()=>H2,XFs:()=>Tt,OlP:()=>Hi,zs3:()=>Ki,IIB:()=>Kk,ZZ4:()=>n6,aQg:()=>d4,soG:()=>gm,YKP:()=>rd,h0i:()=>Y0,PXZ:()=>lw,R0b:()=>bo,FiY:()=>ra,r_U:()=>Qk,Lbi:()=>s_,g9A:()=>_d,n_E:()=>cd,Qsj:()=>Z0,FYo:()=>W0,JOm:()=>xi,Tiy:()=>Pv,q3G:()=>Ei,tp0:()=>Js,Rgc:()=>ld,dDg:()=>p_,q4F:()=>Ov,GfV:()=>Rv,s_b:()=>tm,ifc:()=>gt,eFA:()=>y_,G48:()=>sc,Gpc:()=>se,f3M:()=>Rl,X6Q:()=>v_,_c5:()=>I_,VLi:()=>wm,c2e:()=>a_,zSh:()=>W6,wAp:()=>$t,vHH:()=>Je,EiD:()=>ua,mCW:()=>jl,qzn:()=>e2,JVY:()=>qr,pB0:()=>w8,eBb:()=>aa,L6k:()=>Ts,LAX:()=>b8,cg1:()=>i4,Tjo:()=>SM,kL8:()=>nc,yhl:()=>Bc,dqk:()=>Jn,sIi:()=>o3,CqO:()=>fu,QGY:()=>Mf,F4k:()=>wp,RDi:()=>Ec,AaK:()=>W,z3N:()=>Vn,qOj:()=>rf,TTD:()=>Da,_Bn:()=>Eb,xp6:()=>D6,uIk:()=>af,Gre:()=>Vf,ekj:()=>R5,Suo:()=>jb,Xpm:()=>Xn,lG2:()=>Fs,Yz7:()=>si,cJS:()=>dn,oAB:()=>A2,Yjl:()=>F1,Y36:()=>ul,_UZ:()=>wf,BQk:()=>kf,ynx:()=>E5,qZA:()=>bf,TgZ:()=>yf,EpF:()=>x5,n5z:()=>Q1,Ikx:()=>H0,LFG:()=>cn,$8M:()=>Wa,$Z:()=>bp,NdJ:()=>A5,CRH:()=>Ub,O4$:()=>p6,oxw:()=>xf,ALo:()=>Kv,lcZ:()=>Kp,xi3:()=>Qp,Hsn:()=>Sf,F$t:()=>Af,Q6J:()=>_f,s9C:()=>S5,DdM:()=>o7,VKq:()=>Gv,WLB:()=>u4,iGM:()=>Hb,MAs:()=>uf,Jf7:()=>K,CHM:()=>Ws,oJD:()=>r0,LSH:()=>o0,kYT:()=>pc,Udp:()=>dl,WFA:()=>pu,d8E:()=>B0,YNc:()=>up,W1O:()=>Ru,_uU:()=>Rf,Oqu:()=>Sp,hij:()=>Kn,AsE:()=>Of,Gf:()=>Bb});var f=F(3405),Z=F(1346),q=F(5548),R=F(8526),te=F(6669);function pe(a){for(let c in a)if(a[c]===pe)return c;throw Error("Could not find renamed property on target object.")}function ve(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function W(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(W).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function de(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const ne=pe({__forward_ref__:pe});function se(a){return a.__forward_ref__=se,a.toString=function(){return W(this())},a}function le(a){return Ie(a)?a():a}function Ie(a){return"function"==typeof a&&a.hasOwnProperty(ne)&&a.__forward_ref__===se}class Je extends Error{constructor(c,u){super(function(a,c){return`${a?`NG0${a}: `:""}${c}`}(c,u)),this.code=c}}function me(a){return"string"==typeof a?a:null==a?"":String(a)}function Ee(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():me(a)}function It(a,c){const u=c?` in ${c}`:"";throw new Je("201",`No provider for ${Ee(a)} found${u}`)}function an(a,c){null==a&&function(a,c,u,m){throw new Error(`ASSERTION ERROR: ${a}`+(null==m?"":` [Expected=> ${u} ${m} ${c} <=Actual]`))}(c,a,null,"!=")}function si(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function dn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ti(a){return qi(a,ys)||qi(a,yr)}function qi(a,c){return a.hasOwnProperty(c)?a[c]:null}function V1(a){return a&&(a.hasOwnProperty(rr)||a.hasOwnProperty(d1))?a[rr]:null}const ys=pe({\u0275prov:pe}),rr=pe({\u0275inj:pe}),yr=pe({ngInjectableDef:pe}),d1=pe({ngInjectorDef:pe});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let $i;function xo(a){const c=$i;return $i=a,c}function Ut(a,c,u){const m=Ti(a);return m&&"root"==m.providedIn?void 0===m.value?m.value=m.factory():m.value:u&Tt.Optional?null:void 0!==c?c:void It(W(a),"Injector")}function An(a){return{toString:a}.toString()}var pn=(()=>((pn=pn||{})[pn.OnPush=0]="OnPush",pn[pn.Default=1]="Default",pn))(),gt=(()=>{return(a=gt||(gt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",gt;var a})();const Ht="undefined"!=typeof globalThis&&globalThis,Qo="undefined"!=typeof window&&window,Vs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jn=Ht||"undefined"!=typeof global&&global||Qo||Vs,ye={},fe=[],_e=pe({\u0275cmp:pe}),We=pe({\u0275dir:pe}),Me=pe({\u0275pipe:pe}),xt=pe({\u0275mod:pe}),Dt=pe({\u0275fac:pe}),vn=pe({__NG_ELEMENT_ID__:pe});let wi=0;function Xn(a){return An(()=>{const u={},m={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||fe,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||gt.Emulated,id:"c",styles:a.styles||fe,_:null,setInput:null,schemas:a.schemas||null,tView:null},_=a.directives,w=a.features,x=a.pipes;return m.id+=wi++,m.inputs=yl(a.inputs,u),m.outputs=yl(a.outputs),w&&w.forEach(T=>T(m)),m.directiveDefs=_?()=>("function"==typeof _?_():_).map(hn):null,m.pipeDefs=x?()=>("function"==typeof x?x():x).map(sr):null,m})}function hn(a){return ui(a)||function(a){return a[We]||null}(a)}function sr(a){return function(a){return a[Me]||null}(a)}const Wr={};function A2(a){return An(()=>{const c={type:a.type,bootstrap:a.bootstrap||fe,declarations:a.declarations||fe,imports:a.imports||fe,exports:a.exports||fe,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Wr[a.id]=a.type),c})}function pc(a,c){return An(()=>{const u=ai(a,!0);u.declarations=c.declarations||fe,u.imports=c.imports||fe,u.exports=c.exports||fe})}function yl(a,c){if(null==a)return ye;const u={};for(const m in a)if(a.hasOwnProperty(m)){let _=a[m],w=_;Array.isArray(_)&&(w=_[1],_=_[0]),u[_]=m,c&&(c[_]=w)}return u}const Fs=Xn;function F1(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ui(a){return a[_e]||null}function ai(a,c){const u=a[xt]||null;if(!u&&!0===c)throw new Error(`Type ${W(a)} does not have '\u0275mod' property.`);return u}function cr(a){return Array.isArray(a)&&"object"==typeof a[1]}function ws(a){return Array.isArray(a)&&!0===a[1]}function m4(a){return 0!=(8&a.flags)}function j1(a){return 2==(2&a.flags)}function vc(a){return 1==(1&a.flags)}function Zr(a){return null!==a.template}function Ta(a){return 0!=(512&a[2])}function Do(a,c){return a.hasOwnProperty(Dt)?a[Dt]:null}class bc{constructor(c,u,m){this.previousValue=c,this.currentValue=u,this.firstChange=m}isFirstChange(){return this.firstChange}}function Da(){return wc}function wc(a){return a.type.prototype.ngOnChanges&&(a.setInput=br),l8}function l8(){const a=ks(this),c=null==a?void 0:a.current;if(c){const u=a.previous;if(u===ye)a.previous=c;else for(let m in c)u[m]=c[m];a.current=null,this.ngOnChanges(c)}}function br(a,c,u,m){const _=ks(a)||function(a,c){return a[y4]=c}(a,{previous:ye,current:null}),w=_.current||(_.current={}),x=_.previous,T=this.declaredInputs[u],L=x[T];w[T]=new bc(L&&L.currentValue,c,x===ye),a[m]=c}Da.ngInherit=!0;const y4="__ngSimpleChanges__";function ks(a){return a[y4]||null}const Mc="http://www.w3.org/2000/svg";let za;function Ec(a){za=a}function wl(){return void 0!==za?za:"undefined"!=typeof document?document:void 0}function On(a){return!!a.listen}const xc={createRenderer:(a,c)=>wl()};function fi(a){for(;Array.isArray(a);)a=a[0];return a}function Na(a,c){return fi(c[a])}function wr(a,c){return fi(c[a.index])}function q1(a,c){return a.data[c]}function g1(a,c){return a[c]}function mn(a,c){const u=c[a];return cr(u)?u:u[0]}function v1(a){return 4==(4&a[2])}function La(a){return 128==(128&a[2])}function Yr(a,c){return null==c?null:a[c]}function kl(a){a[18]=0}function z2(a,c){a[5]+=c;let u=a,m=a[3];for(;null!==m&&(1===c&&1===u[5]||-1===c&&0===u[5]);)m[5]+=c,u=m,m=m[3]}const qt={lFrame:Lo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function w4(){return qt.bindingsEnabled}function et(){return qt.lFrame.lView}function Cn(){return qt.lFrame.tView}function Ws(a){return qt.lFrame.contextLView=a,a[8]}function pi(){let a=$1();for(;null!==a&&64===a.type;)a=a.parent;return a}function $1(){return qt.lFrame.currentTNode}function Xi(a,c){const u=qt.lFrame;u.currentTNode=a,u.isParent=c}function El(){return qt.lFrame.isParent}function In(){qt.lFrame.isParent=!1}function fo(){return qt.isInCheckNoChangesMode}function Ic(a){qt.isInCheckNoChangesMode=a}function Cr(){const a=qt.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function zi(){return qt.lFrame.bindingIndex++}function zo(a){const c=qt.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function Ra(a,c){const u=qt.lFrame;u.bindingIndex=u.bindingRootIndex=a,G1(c)}function G1(a){qt.lFrame.currentDirectiveIndex=a}function Al(a){const c=qt.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}function Zs(){return qt.lFrame.currentQueryIndex}function lr(a){qt.lFrame.currentQueryIndex=a}function L2(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function Ys(a,c,u){if(u&Tt.SkipSelf){let _=c,w=a;for(;!(_=_.parent,null!==_||u&Tt.Host||(_=L2(w),null===_||(w=w[15],10&_.type))););if(null===_)return!1;c=_,a=w}const m=qt.lFrame=No();return m.currentTNode=c,m.lView=a,!0}function Ln(a){const c=No(),u=a[1];qt.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function No(){const a=qt.lFrame,c=null===a?null:a.child;return null===c?Lo(a):c}function Lo(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function ns(){const a=qt.lFrame;return qt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Oa=ns;function Va(){const a=ns();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function kr(){return qt.lFrame.selectedIndex}function W1(a){qt.lFrame.selectedIndex=a}function ii(){const a=qt.lFrame;return q1(a.tView,a.selectedIndex)}function p6(){qt.lFrame.currentNamespace=Mc}function Fa(a,c){for(let u=c.directiveStart,m=c.directiveEnd;u<m;u++){const w=a.data[u].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:T,ngAfterViewInit:L,ngAfterViewChecked:V,ngOnDestroy:$}=w;x&&(a.contentHooks||(a.contentHooks=[])).push(-u,x),T&&((a.contentHooks||(a.contentHooks=[])).push(u,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,T)),L&&(a.viewHooks||(a.viewHooks=[])).push(-u,L),V&&((a.viewHooks||(a.viewHooks=[])).push(u,V),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,V)),null!=$&&(a.destroyHooks||(a.destroyHooks=[])).push(u,$)}}function P2(a,c,u){m6(a,c,3,u)}function is(a,c,u,m){(3&a[2])===u&&m6(a,c,u,m)}function Ha(a,c){let u=a[2];(3&u)===c&&(u&=2047,u+=1,a[2]=u)}function m6(a,c,u,m){const w=null!=m?m:-1,x=c.length-1;let T=0;for(let L=void 0!==m?65535&a[18]:0;L<x;L++)if("number"==typeof c[L+1]){if(T=c[L],null!=m&&T>=m)break}else c[L]<0&&(a[18]+=65536),(T<w||-1==w)&&(x4(a,u,c,L),a[18]=(4294901760&a[18])+L+2),L++}function x4(a,c,u,m){const _=u[m]<0,w=u[m+1],T=a[_?-u[m]:u[m]];if(_){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{w.call(T)}finally{}}}else try{w.call(T)}finally{}}class Ba{constructor(c,u,m){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=m}}function S4(a,c,u){const m=On(a);let _=0;for(;_<u.length;){const w=u[_];if("number"==typeof w){if(0!==w)break;_++;const x=u[_++],T=u[_++],L=u[_++];m?a.setAttribute(c,T,L,x):c.setAttributeNS(x,T,L)}else{const x=w,T=u[++_];Hr(x)?m&&a.setProperty(c,x,T):m?a.setAttribute(c,x,T):c.setAttribute(x,T),_++}}return _}function Nc(a){return 3===a||4===a||6===a}function Hr(a){return 64===a.charCodeAt(0)}function Po(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let m=0;m<c.length;m++){const _=c[m];"number"==typeof _?u=_:0===u||g6(a,u,_,null,-1===u||2===u?c[++m]:null)}}return a}function g6(a,c,u,m,_){let w=0,x=a.length;if(-1===c)x=-1;else for(;w<a.length;){const T=a[w++];if("number"==typeof T){if(T===c){x=-1;break}if(T>c){x=w-1;break}}}for(;w<a.length;){const T=a[w];if("number"==typeof T)break;if(T===u){if(null===m)return void(null!==_&&(a[w+1]=_));if(m===a[w+1])return void(a[w+2]=_)}w++,null!==m&&w++,null!==_&&w++}-1!==x&&(a.splice(x,0,c),w=x+1),a.splice(w++,0,u),null!==m&&a.splice(w++,0,m),null!==_&&a.splice(w++,0,_)}function v6(a){return-1!==a}function Ks(a){return 32767&a}function gi(a,c){let u=function(a){return a>>16}(a),m=c;for(;u>0;)m=m[15],u--;return m}let ja=!0;function Br(a){const c=ja;return ja=a,c}let T4=0;function Pc(a,c){const u=at(a,c);if(-1!==u)return u;const m=c[1];m.firstCreatePass&&(a.injectorIndex=c.length,Wi(m.data,a),Wi(c,null),Wi(m.blueprint,null));const _=Et(a,c),w=a.injectorIndex;if(v6(_)){const x=Ks(_),T=gi(_,c),L=T[1].data;for(let V=0;V<8;V++)c[w+V]=T[x+V]|L[x+V]}return c[w+8]=_,w}function Wi(a,c){a.push(0,0,0,0,0,0,0,0,c)}function at(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function Et(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,m=null,_=c;for(;null!==_;){const w=_[1],x=w.type;if(m=2===x?w.declTNode:1===x?_[6]:null,null===m)return-1;if(u++,_=_[15],-1!==m.injectorIndex)return m.injectorIndex|u<<16}return-1}function Es(a,c,u){!function(a,c,u){let m;"string"==typeof u?m=u.charCodeAt(0)||0:u.hasOwnProperty(vn)&&(m=u[vn]),null==m&&(m=u[vn]=T4++);const _=255&m;c.data[a+(_>>5)]|=1<<_}(a,c,u)}function nn(a,c,u){if(u&Tt.Optional)return a;It(c,"NodeInjector")}function Qr(a,c,u,m){if(u&Tt.Optional&&void 0===m&&(m=null),0==(u&(Tt.Self|Tt.Host))){const _=a[9],w=xo(void 0);try{return _?_.get(c,m,u&Tt.Optional):Ut(c,m,u&Tt.Optional)}finally{xo(w)}}return nn(m,c,u)}function Y1(a,c,u,m=Tt.Default,_){if(null!==a){const w=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(vn)?a[vn]:void 0;return"number"==typeof c?c>=0?255&c:I4:c}(u);if("function"==typeof w){if(!Ys(c,a,m))return m&Tt.Host?nn(_,u,m):Qr(c,u,m,_);try{const x=w(m);if(null!=x||m&Tt.Optional)return x;It(u)}finally{Oa()}}else if("number"==typeof w){let x=null,T=at(a,c),L=-1,V=m&Tt.Host?c[16][6]:null;for((-1===T||m&Tt.SkipSelf)&&(L=-1===T?Et(a,c):c[T+8],-1!==L&&ss(m,!1)?(x=c[1],T=Ks(L),c=gi(L,c)):T=-1);-1!==T;){const $=c[1];if(xs(w,T,$.data)){const X=qa(T,c,u,x,m,V);if(X!==Mr)return X}L=c[T+8],-1!==L&&ss(m,c[1].data[T+8]===V)&&xs(w,T,c)?(x=$,T=Ks(L),c=gi(L,c)):T=-1}}}return Qr(c,u,m,_)}const Mr={};function I4(){return new $a(pi(),et())}function qa(a,c,u,m,_,w){const x=c[1],T=x.data[a+8],$=os(T,x,u,null==m?j1(T)&&ja:m!=x&&0!=(3&T.type),_&Tt.Host&&w===T);return null!==$?K1(c,x,$,T):Mr}function os(a,c,u,m,_){const w=a.providerIndexes,x=c.data,T=1048575&w,L=a.directiveStart,$=w>>20,ie=_?T+$:a.directiveEnd;for(let he=m?T:T+$;he<ie;he++){const we=x[he];if(he<L&&u===we||he>=L&&we.type===u)return he}if(_){const he=x[L];if(he&&Zr(he)&&he.type===u)return L}return null}function K1(a,c,u,m){let _=a[u];const w=c.data;if(function(a){return a instanceof Ba}(_)){const x=_;x.resolving&&function(a,c){throw new Je("200",`Circular dependency in DI detected for ${a}`)}(Ee(w[u]));const T=Br(x.canSeeViewProviders);x.resolving=!0;const L=x.injectImpl?xo(x.injectImpl):null;Ys(a,m,Tt.Default);try{_=a[u]=x.factory(void 0,w,a,m),c.firstCreatePass&&u>=m.directiveStart&&function(a,c,u){const{ngOnChanges:m,ngOnInit:_,ngDoCheck:w}=c.type.prototype;if(m){const x=wc(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,x),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,x)}_&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,_),w&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,w),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,w))}(u,w[u],c)}finally{null!==L&&xo(L),Br(T),x.resolving=!1,Oa()}}return _}function xs(a,c,u){return!!(u[c+(a>>5)]&1<<a)}function ss(a,c){return!(a&Tt.Self||a&Tt.Host&&c)}class $a{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,m){return Y1(this._tNode,this._lView,c,m,u)}}function Q1(a){return An(()=>{const c=a.prototype.constructor,u=c[Dt]||Ga(c),m=Object.prototype;let _=Object.getPrototypeOf(a.prototype).constructor;for(;_&&_!==m;){const w=_[Dt]||Ga(_);if(w&&w!==u)return w;_=Object.getPrototypeOf(_)}return w=>new w})}function Ga(a){return Ie(a)?()=>{const c=Ga(le(a));return c&&c()}:Do(a)}function Wa(a){return function(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const m=u.length;let _=0;for(;_<m;){const w=u[_];if(Nc(w))break;if(0===w)_+=2;else if("number"==typeof w)for(_++;_<m&&"string"==typeof u[_];)_++;else{if(w===c)return u[_+1];_+=2}}}return null}(pi(),a)}const Sn="__parameters__",J1="__prop__metadata__";function Jt(a){return function(...u){if(a){const m=a(...u);for(const _ in m)this[_]=m[_]}}}function Fi(a,c,u){return An(()=>{const m=Jt(c);function _(...w){if(this instanceof _)return m.apply(this,w),this;const x=new _(...w);return T.annotation=x,T;function T(L,V,$){const X=L.hasOwnProperty(Sn)?L[Sn]:Object.defineProperty(L,Sn,{value:[]})[Sn];for(;X.length<=$;)X.push(null);return(X[$]=X[$]||[]).push(x),L}}return u&&(_.prototype=Object.create(u.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}function As(a,c,u,m){return An(()=>{const _=Jt(c);function w(...x){if(this instanceof w)return _.apply(this,x),this;const T=new w(...x);return function(V,$){const X=V.constructor,ie=X.hasOwnProperty(J1)?X[J1]:Object.defineProperty(X,J1,{value:{}})[J1];ie[$]=ie.hasOwnProperty($)&&ie[$]||[],ie[$].unshift(T),m&&m(V,$,...x)}}return u&&(w.prototype=Object.create(u.prototype)),w.prototype.ngMetadataName=a,w.annotationCls=w,w})}class Hi{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=si({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const O2=new Hi("AnalyzeForEntryComponents");function Tn(a,c){void 0===c&&(c=a);for(let u=0;u<a.length;u++){let m=a[u];Array.isArray(m)?(c===a&&(c=a.slice(0,u)),Tn(m,c)):c!==a&&c.push(m)}return c}function as(a,c){a.forEach(u=>Array.isArray(u)?as(u,c):c(u))}function Qa(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function Er(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function Li(a,c){const u=[];for(let m=0;m<a;m++)u.push(c);return u}function Zi(a,c,u){let m=Ur(a,c);return m>=0?a[1|m]=u:(m=~m,function(a,c,u,m){let _=a.length;if(_==c)a.push(u,m);else if(1===_)a.push(m,a[0]),a[0]=u;else{for(_--,a.push(a[_-1],a[_]);_>c;)a[_]=a[_-2],_--;a[c]=u,a[c+1]=m}}(a,m,c,u)),m}function Ss(a,c){const u=Ur(a,c);if(u>=0)return a[1|u]}function Ur(a,c){return function(a,c,u){let m=0,_=a.length>>u;for(;_!==m;){const w=m+(_-m>>1),x=a[w<<u];if(c===x)return w<<u;x>c?_=w:m=w+1}return~(_<<u)}(a,c,1)}const Q={},ce="__NG_DI_FLAG__",ke="ngTempTokenPath",Ke=/\n/gm,mt="__source",kn=pe({provide:String,useValue:pe});let fn;function Yi(a){const c=fn;return fn=a,c}function Jr(a,c=Tt.Default){if(void 0===fn)throw new Error("inject() must be called from an injection context");return null===fn?Ut(a,void 0,c):fn.get(a,c&Tt.Optional?null:void 0,c)}function cn(a,c=Tt.Default){return($i||Jr)(le(a),c)}const Rl=cn;function Ro(a){const c=[];for(let u=0;u<a.length;u++){const m=le(a[u]);if(Array.isArray(m)){if(0===m.length)throw new Error("Arguments array must have arguments.");let _,w=Tt.Default;for(let x=0;x<m.length;x++){const T=m[x],L=k1(T);"number"==typeof L?-1===L?_=T.token:w|=L:_=T}c.push(cn(_,w))}else c.push(cn(m))}return c}function Ar(a,c){return a[ce]=c,a.prototype[ce]=c,a}function k1(a){return a[ce]}function Ol(a,c,u,m){const _=a[ke];throw c[mt]&&_.unshift(c[mt]),a.message=function(a,c,u,m=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let _=W(c);if(Array.isArray(c))_=c.map(W).join(" -> ");else if("object"==typeof c){let w=[];for(let x in c)if(c.hasOwnProperty(x)){let T=c[x];w.push(x+":"+("string"==typeof T?JSON.stringify(T):W(T)))}_=`{${w.join(", ")}}`}return`${u}${m?"("+m+")":""}[${_}]: ${a.replace(Ke,"\n  ")}`}("\n"+a.message,_,u,m),a.ngTokenPath=_,a[ke]=null,a}const H2=Ar(Fi("Inject",a=>({token:a})),-1),ra=Ar(Fi("Optional"),8),Js=Ar(Fi("SkipSelf"),4);let R4,K3;function j2(a){var c;return(null==(c=function(){if(void 0===R4&&(R4=null,Jn.trustedTypes))try{R4=Jn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return R4}())?void 0:c.createHTML(a))||a}function J3(a){var c;return(null==(c=function(){if(void 0===K3&&(K3=null,Jn.trustedTypes))try{K3=Jn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return K3}())?void 0:c.createHTML(a))||a}class sa{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class _8 extends sa{getTypeName(){return"HTML"}}class y8 extends sa{getTypeName(){return"Style"}}class Wn extends sa{getTypeName(){return"Script"}}class V4 extends sa{getTypeName(){return"URL"}}class e0 extends sa{getTypeName(){return"ResourceURL"}}function Vn(a){return a instanceof sa?a.changingThisBreaksApplicationSecurity:a}function e2(a,c){const u=Bc(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function Bc(a){return a instanceof sa&&a.getTypeName()||null}function qr(a){return new _8(a)}function Ts(a){return new y8(a)}function aa(a){return new Wn(a)}function b8(a){return new V4(a)}function w8(a){return new e0(a)}class C8{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(j2(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Xs{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const m=this.inertDocument.createElement("body");u.appendChild(m)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=j2(c),u;const m=this.inertDocument.createElement("body");return m.innerHTML=j2(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(m),m}stripCustomNsAttrs(c){const u=c.attributes;for(let _=u.length-1;0<_;_--){const x=u.item(_).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&c.removeAttribute(x)}let m=c.firstChild;for(;m;)m.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(m),m=m.nextSibling}}const Bl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,F4=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function jl(a){return(a=String(a)).match(Bl)||a.match(F4)?a:"unsafe:"+a}function M1(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function E1(...a){const c={};for(const u of a)for(const m in u)u.hasOwnProperty(m)&&(c[m]=!0);return c}const Pn=M1("area,br,col,hr,img,wbr"),x1=M1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U2=M1("rp,rt"),tt=E1(Pn,E1(x1,M1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),E1(U2,M1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),E1(U2,x1)),Sr=M1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),la=M1("srcset"),H4=E1(Sr,la,M1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),M1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),t0=M1("script,style,template");class Uc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,m=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?m=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,m&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let _=this.checkClobberedElement(u,u.nextSibling);if(_){u=_;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!tt.hasOwnProperty(u))return this.sanitizedSomething=!0,!t0.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const m=c.attributes;for(let _=0;_<m.length;_++){const w=m.item(_),x=w.name,T=x.toLowerCase();if(!H4.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let L=w.value;Sr[T]&&(L=jl(L)),la[T]&&(a=L,L=(a=String(a)).split(",").map(c=>jl(c.trim())).join(", ")),this.buf.push(" ",x,'="',M6(L),'"')}var a;return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();tt.hasOwnProperty(u)&&!Pn.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(M6(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const q2=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M8=/([^\#-~ |!])/g;function M6(a){return a.replace(/&/g,"&amp;").replace(q2,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(M8,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let r2;function ua(a,c){let u=null;try{r2=r2||function(a){const c=new Xs(a);return function(){try{return!!(new window.DOMParser).parseFromString(j2(""),"text/html")}catch(a){return!1}}()?new C8(c):c}(a);let m=c?String(c):"";u=r2.getInertBodyElement(m);let _=5,w=m;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,m=w,w=u.innerHTML,u=r2.getInertBodyElement(m)}while(m!==w);return j2((new Uc).sanitizeChildren(n0(u)||u))}finally{if(u){const m=n0(u)||u;for(;m.firstChild;)m.removeChild(m.firstChild)}}}function n0(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function r0(a){const c=$c();return c?J3(c.sanitize(Ei.HTML,a)||""):e2(a,"HTML")?J3(Vn(a)):ua(wl(),me(a))}function o0(a){const c=$c();return c?c.sanitize(Ei.URL,a)||"":e2(a,"URL")?Vn(a):jl(me(a))}function $c(){const a=et();return a&&a[12]}const a0="__ngContext__";function hr(a,c){a[a0]=c}function $2(a){const c=function(a){return a[a0]||null}(a);return c?Array.isArray(c)?c:c.lView:null}function u0(a){return a.ngOriginalError}function q4(a,...c){a.error(...c)}class Zc{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c),m=this._findContext(c),_=(a=c)&&a.ngErrorLogger||q4;var a;_(this._console,"ERROR",c),u&&_(this._console,"ORIGINAL ERROR",u),m&&_(this._console,"ERROR CONTEXT",m)}_findContext(c){return c?c.ngDebugContext||this._findContext(u0(c)):null}_findOriginalError(c){let u=c&&u0(c);for(;u&&u0(u);)u=u0(u);return u||null}}const j=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jn))();function K(a){return a.ownerDocument.defaultView}function pt(a){return a instanceof Function?a():a}var xi=(()=>((xi=xi||{})[xi.Important=1]="Important",xi[xi.DashCase=2]="DashCase",xi))();function ql(a,c){return undefined(a,c)}function Kc(a){const c=a[3];return ws(c)?c[3]:c}function Ir(a){return a2(a[13])}function Xr(a){return a2(a[4])}function a2(a){for(;null!==a&&!ws(a);)a=a[4];return a}function rn(a,c,u,m,_){if(null!=m){let w,x=!1;ws(m)?w=m:cr(m)&&(x=!0,m=m[0]);const T=fi(m);0===a&&null!==u?null==_?r1(c,u,T):Bi(c,u,T,_||null,!0):1===a&&null!==u?Bi(c,u,T,_||null,!0):2===a?function(a,c,u){const m=T6(a,c);m&&function(a,c,u,m){On(a)?a.removeChild(c,u,m):c.removeChild(u)}(a,m,c,u)}(c,T,x):3===a&&c.destroyNode(T),null!=w&&function(a,c,u,m,_){const w=u[7];w!==fi(u)&&rn(c,a,m,w,_);for(let T=10;T<u.length;T++){const L=u[T];I6(L[1],L,a,c,m,w)}}(c,a,w,u,_)}}function vh(a,c,u){return On(a)?a.createElement(c,u):null===u?a.createElement(c):a.createElementNS(u,c)}function g9(a,c){const u=a[9],m=u.indexOf(c),_=c[3];1024&c[2]&&(c[2]&=-1025,z2(_,-1)),u.splice(m,1)}function _h(a,c){if(a.length<=10)return;const u=10+c,m=a[u];if(m){const _=m[17];null!==_&&_!==a&&g9(_,m),c>0&&(a[u-1][4]=m[4]);const w=Er(a,10+c);!function(a,c){I6(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(m[1],m);const x=w[19];null!==x&&x.detachView(w[1]),m[3]=null,m[4]=null,m[2]&=-129}return m}function R8(a,c){if(!(256&c[2])){const u=c[11];On(u)&&u.destroyNode&&I6(a,c,u,3,null,null),function(a){let c=a[13];if(!c)return O8(a[1],a);for(;c;){let u=null;if(cr(c))u=c[13];else{const m=c[10];m&&(u=m)}if(!u){for(;c&&!c[4]&&c!==a;)cr(c)&&O8(c[1],c),c=c[3];null===c&&(c=a),cr(c)&&O8(c[1],c),u=c&&c[4]}c=u}}(c)}}function O8(a,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let m=0;m<u.length;m+=2){const _=c[u[m]];if(!(_ instanceof Ba)){const w=u[m+1];if(Array.isArray(w))for(let x=0;x<w.length;x+=2){const T=_[w[x]],L=w[x+1];try{L.call(T)}finally{}}else try{w.call(_)}finally{}}}}(a,c),function(a,c){const u=a.cleanup,m=c[7];let _=-1;if(null!==u)for(let w=0;w<u.length-1;w+=2)if("string"==typeof u[w]){const x=u[w+1],T="function"==typeof x?x(c):fi(c[x]),L=m[_=u[w+2]],V=u[w+3];"boolean"==typeof V?T.removeEventListener(u[w],L,V):V>=0?m[_=V]():m[_=-V].unsubscribe(),w+=2}else{const x=m[_=u[w+1]];u[w].call(x)}if(null!==m){for(let w=_+1;w<m.length;w++)m[w]();c[7]=null}}(a,c),1===c[1].type&&On(c[11])&&c[11].destroy();const u=c[17];if(null!==u&&ws(c[3])){u!==c[3]&&g9(u,c);const m=c[19];null!==m&&m.detachView(a)}}}function V8(a,c,u){return function(a,c,u){let m=c;for(;null!==m&&40&m.type;)m=(c=m).parent;if(null===m)return u[0];if(2&m.flags){const _=a.data[m.directiveStart].encapsulation;if(_===gt.None||_===gt.Emulated)return null}return wr(m,u)}(a,c.parent,u)}function Bi(a,c,u,m,_){On(a)?a.insertBefore(c,u,m,_):c.insertBefore(u,m,_)}function r1(a,c,u){On(a)?a.appendChild(c,u):c.appendChild(u)}function Fn(a,c,u,m,_){null!==m?Bi(a,c,u,m,_):r1(a,c,u)}function T6(a,c){return On(a)?a.parentNode(c):c.parentNode}function y9(a,c,u){return bh(a,c,u)}let bh=function(a,c,u){return 40&a.type?wr(a,u):null};function wh(a,c,u,m){const _=V8(a,m,c),w=c[11],T=y9(m.parent||c[6],m,c);if(null!=_)if(Array.isArray(u))for(let L=0;L<u.length;L++)Fn(w,_,u[L],T,!1);else Fn(w,_,u,T,!1)}function H8(a,c){if(null!==c){const u=c.type;if(3&u)return wr(c,a);if(4&u)return Ch(-1,a[c.index]);if(8&u){const m=c.child;if(null!==m)return H8(a,m);{const _=a[c.index];return ws(_)?Ch(-1,_):fi(_)}}if(32&u)return ql(c,a)()||fi(a[c.index]);{const m=b9(a,c);return null!==m?Array.isArray(m)?m[0]:H8(Kc(a[16]),m):H8(a,c.next)}}return null}function b9(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Ch(a,c){const u=10+a+1;if(u<c.length){const m=c[u],_=m[1].firstChild;if(null!==_)return H8(m,_)}return c[7]}function w9(a,c,u,m,_,w,x){for(;null!=u;){const T=m[u.index],L=u.type;if(x&&0===c&&(T&&hr(fi(T),m),u.flags|=4),64!=(64&u.flags))if(8&L)w9(a,c,u.child,m,_,w,!1),rn(c,a,_,T,w);else if(32&L){const V=ql(u,m);let $;for(;$=V();)rn(c,a,_,$,w);rn(c,a,_,T,w)}else 16&L?C9(a,c,m,u,_,w):rn(c,a,_,T,w);u=x?u.projectionNext:u.next}}function I6(a,c,u,m,_,w){w9(u,m,a.firstChild,c,_,w,!1)}function C9(a,c,u,m,_,w){const x=u[16],L=x[6].projection[m.projection];if(Array.isArray(L))for(let V=0;V<L.length;V++)rn(c,a,_,L[V],w);else w9(a,c,L,x[3],_,w,!0)}function $e(a,c,u){On(a)?a.setAttribute(c,"style",u):c.style.cssText=u}function l2(a,c,u){On(a)?""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u):c.className=u}function f0(a,c,u){let m=a.length;for(;;){const _=a.indexOf(c,u);if(-1===_)return _;if(0===_||a.charCodeAt(_-1)<=32){const w=c.length;if(_+w===m||a.charCodeAt(_+w)<=32)return _}u=_+1}}const Qc="ng-template";function kh(a,c,u){let m=0;for(;m<a.length;){let _=a[m++];if(u&&"class"===_){if(_=a[m],-1!==f0(_.toLowerCase(),c,0))return!0}else if(1===_){for(;m<a.length&&"string"==typeof(_=a[m++]);)if(_.toLowerCase()===c)return!0;return!1}}return!1}function k9(a){return 4===a.type&&a.value!==Qc}function M9(a,c,u){return c===(4!==a.type||u?a.value:Qc)}function vi(a,c,u){let m=4;const _=a.attrs||[],w=function(a){for(let c=0;c<a.length;c++)if(Nc(a[c]))return c;return a.length}(_);let x=!1;for(let T=0;T<c.length;T++){const L=c[T];if("number"!=typeof L){if(!x)if(4&m){if(m=2|1&m,""!==L&&!M9(a,L,u)||""===L&&1===c.length){if(er(m))return!1;x=!0}}else{const V=8&m?L:c[++T];if(8&m&&null!==a.attrs){if(!kh(a.attrs,V,u)){if(er(m))return!1;x=!0}continue}const X=p0(8&m?"class":L,_,k9(a),u);if(-1===X){if(er(m))return!1;x=!0;continue}if(""!==V){let ie;ie=X>w?"":_[X+1].toLowerCase();const he=8&m?ie:null;if(he&&-1!==f0(he,V,0)||2&m&&V!==ie){if(er(m))return!1;x=!0}}}}else{if(!x&&!er(m)&&!er(L))return!1;if(x&&er(L))continue;x=!1,m=L|1&m}}return er(m)||x}function er(a){return 0==(1&a)}function p0(a,c,u,m){if(null===c)return-1;let _=0;if(m||!u){let w=!1;for(;_<c.length;){const x=c[_];if(x===a)return _;if(3===x||6===x)w=!0;else{if(1===x||2===x){let T=c[++_];for(;"string"==typeof T;)T=c[++_];continue}if(4===x)break;if(0===x){_+=4;continue}}_+=w?1:2}return-1}return function(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const m=a[u];if("number"==typeof m)return-1;if(m===c)return u;u++}return-1}(c,a)}function m0(a,c,u=!1){for(let m=0;m<c.length;m++)if(vi(a,c[m],u))return!0;return!1}function g0(a,c){e:for(let u=0;u<c.length;u++){const m=c[u];if(a.length===m.length){for(let _=0;_<a.length;_++)if(a[_]!==m[_])continue e;return!0}}return!1}function E9(a,c){return a?":not("+c.trim()+")":c}function x9(a){let c=a[0],u=1,m=2,_="",w=!1;for(;u<a.length;){let x=a[u];if("string"==typeof x)if(2&m){const T=a[++u];_+="["+x+(T.length>0?'="'+T+'"':"")+"]"}else 8&m?_+="."+x:4&m&&(_+=" "+x);else""!==_&&!er(x)&&(c+=E9(w,_),_=""),m=x,w=w||!er(m);u++}return""!==_&&(c+=E9(w,_)),c}const Rt={};function D6(a){Mh(Cn(),et(),kr()+a,fo())}function Mh(a,c,u,m){if(!m)if(3==(3&c[2])){const w=a.preOrderCheckHooks;null!==w&&P2(c,w,u)}else{const w=a.preOrderHooks;null!==w&&is(c,w,0,u)}W1(u)}function G4(a,c){return a<<17|c<<2}function Ds(a){return a>>17&32767}function $l(a){return 2|a}function fa(a){return(131068&a)>>2}function N6(a,c){return-131069&a|c<<2}function q8(a){return 1|a}function w0(a,c){const u=a.contentQueries;if(null!==u)for(let m=0;m<u.length;m+=2){const _=u[m],w=u[m+1];if(-1!==w){const x=a.data[w];lr(_),x.contentQueries(2,c[w],w)}}}function F6(a,c,u,m,_,w,x,T,L,V){const $=c.blueprint.slice();return $[0]=_,$[2]=140|m,kl($),$[3]=$[15]=a,$[8]=u,$[10]=x||a&&a[10],$[11]=T||a&&a[11],$[12]=L||a&&a[12]||null,$[9]=V||a&&a[9]||null,$[6]=w,$[16]=2==c.type?a[16]:$,$}function W2(a,c,u,m,_){let w=a.data[c];if(null===w)w=function(a,c,u,m,_){const w=$1(),x=El(),L=a.data[c]=function(a,c,u,m,_,w){return{type:u,index:m,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?w:w&&w.parent,u,c,m,_);return null===a.firstChild&&(a.firstChild=L),null!==w&&(x?null==w.child&&null!==L.parent&&(w.child=L):null===w.next&&(w.next=L)),L}(a,c,u,m,_),qt.lFrame.inI18n&&(w.flags|=64);else if(64&w.type){w.type=u,w.value=m,w.attrs=_;const x=function(){const a=qt.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}();w.injectorIndex=null===x?-1:x.injectorIndex}return Xi(w,!0),w}function Z2(a,c,u,m){if(0===u)return-1;const _=c.length;for(let w=0;w<u;w++)c.push(m),a.blueprint.push(m),a.data.push(null);return _}function W4(a,c,u){Ln(c);try{const m=a.viewQuery;null!==m&&K4(1,m,u);const _=a.template;null!==_&&e5(a,c,_,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&w0(a,c),a.staticViewQueries&&K4(2,a.viewQuery,u);const w=a.components;null!==w&&function(a,c){for(let u=0;u<c.length;u++)Zl(a,c[u])}(c,w)}catch(m){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),m}finally{c[2]&=-5,Va()}}function Z4(a,c,u,m){const _=c[2];if(256==(256&_))return;Ln(c);const w=fo();try{kl(c),function(a){qt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&e5(a,c,u,2,m);const x=3==(3&_);if(!w)if(x){const V=a.preOrderCheckHooks;null!==V&&P2(c,V,null)}else{const V=a.preOrderHooks;null!==V&&is(c,V,0,null),Ha(c,0)}if(function(a){for(let c=Ir(a);null!==c;c=Xr(c)){if(!c[2])continue;const u=c[9];for(let m=0;m<u.length;m++){const _=u[m],w=_[3];0==(1024&_[2])&&z2(w,1),_[2]|=1024}}}(c),function(a){for(let c=Ir(a);null!==c;c=Xr(c))for(let u=10;u<c.length;u++){const m=c[u],_=m[1];La(m)&&Z4(_,m,_.template,m[8])}}(c),null!==a.contentQueries&&w0(a,c),!w)if(x){const V=a.contentCheckHooks;null!==V&&P2(c,V)}else{const V=a.contentHooks;null!==V&&is(c,V,1),Ha(c,1)}!function(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let m=0;m<u.length;m++){const _=u[m];if(_<0)W1(~_);else{const w=_,x=u[++m],T=u[++m];Ra(x,w),T(2,c[w])}}}finally{W1(-1)}}(a,c);const T=a.components;null!==T&&function(a,c){for(let u=0;u<c.length;u++)Hg(a,c[u])}(c,T);const L=a.viewQuery;if(null!==L&&K4(2,L,m),!w)if(x){const V=a.viewCheckHooks;null!==V&&P2(c,V)}else{const V=a.viewHooks;null!==V&&is(c,V,2),Ha(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),w||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,z2(c[3],-1))}finally{Va()}}function Nh(a,c,u,m){const _=c[10],w=!fo(),x=v1(c);try{w&&!x&&_.begin&&_.begin(),x&&W4(a,c,m),Z4(a,c,u,m)}finally{w&&!x&&_.end&&_.end()}}function e5(a,c,u,m,_){const w=kr(),x=2&m;try{W1(-1),x&&c.length>20&&Mh(a,c,20,fo()),u(m,_)}finally{W1(w)}}function Lg(a,c,u){if(m4(c)){const _=c.directiveEnd;for(let w=c.directiveStart;w<_;w++){const x=a.data[w];x.contentQueries&&x.contentQueries(1,u[w],w)}}}function H6(a,c,u){!w4()||(function(a,c,u,m){const _=u.directiveStart,w=u.directiveEnd;a.firstCreatePass||Pc(u,c),hr(m,c);const x=u.initialInputs;for(let T=_;T<w;T++){const L=a.data[T],V=Zr(L);V&&j6(c,u,L);const $=K1(c,a,T,u);hr($,c),null!==x&&S1(0,T-_,$,L,0,x),V&&(mn(u.index,c)[8]=$)}}(a,c,u,wr(u,c)),128==(128&u.flags)&&function(a,c,u){const m=u.directiveStart,_=u.directiveEnd,x=u.index,T=qt.lFrame.currentDirectiveIndex;try{W1(x);for(let L=m;L<_;L++){const V=a.data[L],$=c[L];G1(L),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Vh(V,$)}}finally{W1(-1),G1(T)}}(a,c,u))}function Hn(a,c,u=wr){const m=c.localNames;if(null!==m){let _=c.index+1;for(let w=0;w<m.length;w+=2){const x=m[w+1],T=-1===x?u(c,a):a[x];a[_++]=T}}}function Pg(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=Y4(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function Y4(a,c,u,m,_,w,x,T,L,V){const $=20+m,X=$+_,ie=function(a,c){const u=[];for(let m=0;m<c;m++)u.push(m<a?null:Rt);return u}($,X),he="function"==typeof V?V():V;return ie[1]={type:a,blueprint:ie,template:u,queries:null,viewQuery:T,declTNode:c,data:ie.slice().fill(null,$),bindingStartIndex:$,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:L,consts:he,incompleteFirstPass:!1}}function t5(a,c,u,m){const _=K2(c);null===u?_.push(m):(_.push(u),a.firstCreatePass&&Gh(a).push(m,_.length-1))}function tl(a,c,u){for(let m in a)if(a.hasOwnProperty(m)){const _=a[m];(u=null===u?{}:u).hasOwnProperty(m)?u[m].push(c,_):u[m]=[c,_]}return u}function Ho(a,c,u,m,_,w,x,T){const L=wr(c,u);let $,V=c.inputs;!T&&null!=V&&($=V[m])?(Q4(a,u,$,m,_),j1(c)&&function(a,c){const u=mn(c,a);16&u[2]||(u[2]|=64)}(u,c.index)):3&c.type&&(m=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(m),_=null!=x?x(_,c.value||"",m):_,On(w)?w.setProperty(L,m,_):Hr(m)||(L.setProperty?L.setProperty(m,_):L[m]=_))}function Rh(a,c,u,m){let _=!1;if(w4()){const w=function(a,c,u){const m=a.directiveRegistry;let _=null;if(m)for(let w=0;w<m.length;w++){const x=m[w];m0(u,x.selectors,!1)&&(_||(_=[]),Es(Pc(u,c),a,x.type),Zr(x)?(Hh(a,u),_.unshift(x)):_.push(x))}return _}(a,c,u),x=null===m?null:{"":-1};if(null!==w){_=!0,B6(u,a.data.length,w.length);for(let $=0;$<w.length;$++){const X=w[$];X.providersResolver&&X.providersResolver(X)}let T=!1,L=!1,V=Z2(a,c,w.length,null);for(let $=0;$<w.length;$++){const X=w[$];u.mergedAttrs=Po(u.mergedAttrs,X.hostAttrs),jh(a,u,c,V,X),Bh(V,X,x),null!==X.contentQueries&&(u.flags|=8),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(u.flags|=128);const ie=X.type.prototype;!T&&(ie.ngOnChanges||ie.ngOnInit||ie.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),T=!0),!L&&(ie.ngOnChanges||ie.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),L=!0),V++}!function(a,c){const m=c.directiveEnd,_=a.data,w=c.attrs,x=[];let T=null,L=null;for(let V=c.directiveStart;V<m;V++){const $=_[V],X=$.inputs,ie=null===w||k9(c)?null:r5(X,w);x.push(ie),T=tl(X,V,T),L=tl($.outputs,V,L)}null!==T&&(T.hasOwnProperty("class")&&(c.flags|=16),T.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=x,c.inputs=T,c.outputs=L}(a,u)}x&&function(a,c,u){if(c){const m=a.localNames=[];for(let _=0;_<c.length;_+=2){const w=u[c[_+1]];if(null==w)throw new Je("301",`Export of name '${c[_+1]}' not found!`);m.push(c[_],w)}}}(u,m,x)}return u.mergedAttrs=Po(u.mergedAttrs,u.attrs),_}function Og(a,c,u,m,_,w){const x=w.hostBindings;if(x){let T=a.hostBindingOpCodes;null===T&&(T=a.hostBindingOpCodes=[]);const L=~c.index;(function(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(T)!=L&&T.push(L),T.push(m,_,x)}}function Vh(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Hh(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Bh(a,c,u){if(u){if(c.exportAs)for(let m=0;m<c.exportAs.length;m++)u[c.exportAs[m]]=a;Zr(c)&&(u[""]=a)}}function B6(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}function jh(a,c,u,m,_){a.data[m]=_;const w=_.factory||(_.factory=Do(_.type)),x=new Ba(w,Zr(_),null);a.blueprint[m]=x,u[m]=x,Og(a,c,0,m,Z2(a,u,_.hostVars,Rt),_)}function j6(a,c,u){const m=wr(c,a),_=Pg(u),w=a[10],x=q6(a,F6(a,_,null,u.onPush?64:16,m,c,w,w.createRenderer(m,u),null,null));a[c.index]=x}function Bn(a,c,u,m,_,w){const x=wr(a,c);!function(a,c,u,m,_,w,x){if(null==w)On(a)?a.removeAttribute(c,_,u):c.removeAttribute(_);else{const T=null==x?me(w):x(w,m||"",_);On(a)?a.setAttribute(c,_,T,u):u?c.setAttributeNS(u,_,T):c.setAttribute(_,T)}}(c[11],x,w,a.value,u,m,_)}function S1(a,c,u,m,_,w){const x=w[c];if(null!==x){const T=m.setInput;for(let L=0;L<x.length;){const V=x[L++],$=x[L++],X=x[L++];null!==T?m.setInput(u,X,V,$):u[$]=X}}}function r5(a,c){let u=null,m=0;for(;m<c.length;){const _=c[m];if(0!==_)if(5!==_){if("number"==typeof _)break;a.hasOwnProperty(_)&&(null===u&&(u=[]),u.push(_,a[_],c[m+1])),m+=2}else m+=2;else m+=4}return u}function V9(a,c,u,m){return new Array(a,!0,!1,c,null,0,m,u,null,null)}function Hg(a,c){const u=mn(c,a);if(La(u)){const m=u[1];80&u[2]?Z4(m,u,m.template,u[8]):u[5]>0&&il(u)}}function il(a){for(let m=Ir(a);null!==m;m=Xr(m))for(let _=10;_<m.length;_++){const w=m[_];if(1024&w[2]){const x=w[1];Z4(x,w,x.template,w[8])}else w[5]>0&&il(w)}const u=a[1].components;if(null!==u)for(let m=0;m<u.length;m++){const _=mn(u[m],a);La(_)&&_[5]>0&&il(_)}}function Zl(a,c){const u=mn(c,a),m=u[1];(function(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(m,u),W4(m,u,u[8])}function q6(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function s5(a){for(;a;){a[2]|=64;const c=Kc(a);if(Ta(a)&&!c)return a;a=c}return null}function k0(a,c,u){const m=c[10];m.begin&&m.begin();try{Z4(a,c,a.template,u)}catch(_){throw jo(c,_),_}finally{m.end&&m.end()}}function $6(a){!function(a){for(let c=0;c<a.components.length;c++){const u=a.components[c],m=$2(u),_=m[1];Nh(_,m,_.template,u)}}(a[8])}function K4(a,c,u){lr(0),c(a,u)}const jg=(()=>Promise.resolve(null))();function K2(a){return a[7]||(a[7]=[])}function Gh(a){return a.cleanup||(a.cleanup=[])}function Wh(a,c,u){return(null===a||Zr(a))&&(u=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[c.index])),u[11]}function jo(a,c){const u=a[9],m=u?u.get(Zc,null):null;m&&m.handleError(c)}function Q4(a,c,u,m,_){for(let w=0;w<u.length;){const x=u[w++],T=u[w++],L=c[x],V=a.data[x];null!==V.setInput?V.setInput(L,_,m,T):L[T]=_}}function pa(a,c,u){const m=Na(c,a);!function(a,c,u){On(a)?a.setValue(c,u):c.textContent=u}(a[11],m,u)}function c5(a,c,u){let m=u?a.styles:null,_=u?a.classes:null,w=0;if(null!==c)for(let x=0;x<c.length;x++){const T=c[x];"number"==typeof T?w=T:1==w?_=de(_,T):2==w&&(m=de(m,T+": "+c[++x]+";"))}u?a.styles=m:a.stylesWithoutHost=m,u?a.classes=_:a.classesWithoutHost=_}const G6=new Hi("INJECTOR",-1);class l5{get(c,u=Q){if(u===Q){const m=new Error(`NullInjectorError: No provider for ${W(c)}!`);throw m.name="NullInjectorError",m}return u}}const W6=new Hi("Set Injector scope."),Z6={},rl={};let Y6;function M0(){return void 0===Y6&&(Y6=new l5),Y6}function B9(a,c=null,u=null,m){return new Ug(a,u,c||M0(),m)}class Ug{constructor(c,u,m,_=null){this.parent=m,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const w=[];u&&as(u,T=>this.processProvider(T,c,u)),as([c],T=>this.processInjectorType(T,[],w)),this.records.set(G6,Yl(void 0,this));const x=this.records.get(W6);this.scope=null!=x?x.value:null,this.source=_||("object"==typeof c?null:W(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,u=Q,m=Tt.Default){this.assertNotDestroyed();const _=Yi(this),w=xo(void 0);try{if(!(m&Tt.SkipSelf)){let T=this.records.get(c);if(void 0===T){const L=("function"==typeof(a=c)||"object"==typeof a&&a instanceof Hi)&&Ti(c);T=L&&this.injectableDefInScope(L)?Yl(u5(c),Z6):null,this.records.set(c,T)}if(null!=T)return this.hydrate(c,T)}return(m&Tt.Self?M0():this.parent).get(c,u=m&Tt.Optional&&u===Q?null:u)}catch(x){if("NullInjectorError"===x.name){if((x[ke]=x[ke]||[]).unshift(W(c)),_)throw x;return Ol(x,c,"R3InjectorError",this.source)}throw x}finally{xo(w),Yi(_)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((m,_)=>c.push(W(_))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(c,u,m){if(!(c=le(c)))return!1;let _=V1(c);const w=null==_&&c.ngModule||void 0,x=void 0===w?c:w,T=-1!==m.indexOf(x);if(void 0!==w&&(_=V1(w)),null==_)return!1;if(null!=_.imports&&!T){let $;m.push(x);try{as(_.imports,X=>{this.processInjectorType(X,u,m)&&(void 0===$&&($=[]),$.push(X))})}finally{}if(void 0!==$)for(let X=0;X<$.length;X++){const{ngModule:ie,providers:he}=$[X];as(he,we=>this.processProvider(we,ie,he||fe))}}this.injectorDefTypes.add(x);const L=Do(x)||(()=>new x);this.records.set(x,Yl(L,Z6));const V=_.providers;if(null!=V&&!T){const $=c;as(V,X=>this.processProvider(X,$,V))}return void 0!==w&&void 0!==c.providers}processProvider(c,u,m){let _=Kl(c=le(c))?c:le(c&&c.provide);const w=(a=c,K6(a)?Yl(void 0,a.useValue):Yl(q9(a),Z6));var a;if(Kl(c)||!0!==c.multi)this.records.get(_);else{let x=this.records.get(_);x||(x=Yl(void 0,Z6,!0),x.factory=()=>Ro(x.multi),this.records.set(_,x)),_=c,x.multi.push(c)}this.records.set(_,w)}hydrate(c,u){return u.value===Z6&&(u.value=rl,u.value=u.factory()),"object"==typeof u.value&&u.value&&null!==(a=u.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(u.value),u.value;var a}injectableDefInScope(c){if(!c.providedIn)return!1;const u=le(c.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function u5(a){const c=Ti(a),u=null!==c?c.factory:Do(a);if(null!==u)return u;if(a instanceof Hi)throw new Error(`Token ${W(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const c=a.length;if(c>0){const m=Li(c,"?");throw new Error(`Can't resolve all parameters for ${W(a)}: (${m.join(", ")}).`)}const u=function(a){const c=a&&(a[ys]||a[yr]);if(c){const u=function(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Error("unreachable")}function q9(a,c,u){let m;if(Kl(a)){const _=le(a);return Do(_)||u5(_)}if(K6(a))m=()=>le(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))m=()=>a.useFactory(...Ro(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))m=()=>cn(le(a.useExisting));else{const _=le(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Do(_)||u5(_);m=()=>new _(...Ro(a.deps))}return m}function Yl(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function K6(a){return null!==a&&"object"==typeof a&&kn in a}function Kl(a){return"function"==typeof a}const X6=function(a,c,u){return function(a,c=null,u=null,m){const _=B9(a,c,u,m);return _._resolveInjectorDefTypes(),_}({name:u},c,a,u)};let Ki=(()=>{class a{static create(u,m){return Array.isArray(u)?X6(u,m,""):X6(u.providers,u.parent,u.name||"")}}return a.THROW_IF_NOT_FOUND=Q,a.NULL=new l5,a.\u0275prov=si({token:a,providedIn:"any",factory:()=>cn(G6)}),a.__NG_ELEMENT_ID__=-1,a})();function ru(a,c){Fa($2(a)[1],pi())}function rf(a){let c=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const m=[a];for(;c;){let _;if(Zr(a))_=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Error("Directives cannot inherit Components");_=c.\u0275dir}if(_){if(u){m.push(_);const x=a;x.inputs=p5(a.inputs),x.declaredInputs=p5(a.declaredInputs),x.outputs=p5(a.outputs);const T=_.hostBindings;T&&sf(a,T);const L=_.viewQuery,V=_.contentQueries;if(L&&rp(a,L),V&&i3(a,V),ve(a.inputs,_.inputs),ve(a.declaredInputs,_.declaredInputs),ve(a.outputs,_.outputs),Zr(_)&&_.data.animation){const $=a.data;$.animation=($.animation||[]).concat(_.data.animation)}}const w=_.features;if(w)for(let x=0;x<w.length;x++){const T=w[x];T&&T.ngInherit&&T(a),T===rf&&(u=!1)}}c=Object.getPrototypeOf(c)}!function(a){let c=0,u=null;for(let m=a.length-1;m>=0;m--){const _=a[m];_.hostVars=c+=_.hostVars,_.hostAttrs=Po(_.hostAttrs,u=Po(u,_.hostAttrs))}}(m)}function p5(a){return a===ye?{}:a===fe?[]:a}function rp(a,c){const u=a.viewQuery;a.viewQuery=u?(m,_)=>{c(m,_),u(m,_)}:c}function i3(a,c){const u=a.contentQueries;a.contentQueries=u?(m,_,w)=>{c(m,_,w),u(m,_,w)}:c}function sf(a,c){const u=a.hostBindings;a.hostBindings=u?(m,_)=>{c(m,_),u(m,_)}:c}let Ql=null;function r3(){if(!Ql){const a=Jn.Symbol;if(a&&a.iterator)Ql=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const m=c[u];"entries"!==m&&"size"!==m&&Map.prototype[m]===Map.prototype.entries&&(Ql=m)}}}return Ql}function o3(a){return!!m5(a)&&(Array.isArray(a)||!(a instanceof Map)&&r3()in a)}function m5(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function o1(a,c,u){return a[c]=u}function $r(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function vo(a,c,u,m){const _=$r(a,c,u);return $r(a,c+1,m)||_}function af(a,c,u,m){const _=et();return $r(_,zi(),c)&&(Cn(),Bn(ii(),_,a,c,u,m)),af}function S0(a,c,u,m){return $r(a,zi(),u)?c+me(u)+m:Rt}function J2(a,c,u,m,_,w){const T=vo(a,qt.lFrame.bindingIndex,u,_);return zo(2),T?c+me(u)+m+me(_)+w:Rt}function up(a,c,u,m,_,w,x,T){const L=et(),V=Cn(),$=a+20,X=V.firstCreatePass?function(a,c,u,m,_,w,x,T,L){const V=c.consts,$=W2(c,a,4,x||null,Yr(V,T));Rh(c,u,$,Yr(V,L)),Fa(c,$);const X=$.tViews=Y4(2,$,m,_,w,c.directiveRegistry,c.pipeRegistry,null,c.schemas,V);return null!==c.queries&&(c.queries.template(c,$),X.queries=c.queries.embeddedTView($)),$}($,V,L,c,u,m,_,w,x):V.data[$];Xi(X,!1);const ie=L[11].createComment("");wh(V,L,ie,X),hr(ie,L),q6(L,L[$]=V9(ie,L,ie,X)),vc(X)&&H6(V,L,X),null!=x&&Hn(L,X,T)}function uf(a){return g1(qt.lFrame.contextLView,20+a)}function ul(a,c=Tt.Default){const u=et();return null===u?cn(a,c):Y1(pi(),u,le(a),c)}function bp(){throw new Error("invalid")}function _f(a,c,u){const m=et();return $r(m,zi(),c)&&Ho(Cn(),ii(),m,a,c,m[11],u,!1),_f}function f3(a,c,u,m,_){const x=_?"class":"style";Q4(a,u,c.inputs[x],x,m)}function yf(a,c,u,m){const _=et(),w=Cn(),x=20+a,T=_[11],L=_[x]=vh(T,c,qt.lFrame.currentNamespace),V=w.firstCreatePass?function(a,c,u,m,_,w,x){const T=c.consts,V=W2(c,a,2,_,Yr(T,w));return Rh(c,u,V,Yr(T,x)),null!==V.attrs&&c5(V,V.attrs,!1),null!==V.mergedAttrs&&c5(V,V.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,V),V}(x,w,_,0,c,u,m):w.data[x];Xi(V,!0);const $=V.mergedAttrs;null!==$&&S4(T,L,$);const X=V.classes;null!==X&&l2(T,L,X);const ie=V.styles;null!==ie&&$e(T,L,ie),64!=(64&V.flags)&&wh(w,_,L,V),0===qt.lFrame.elementDepthCount&&hr(L,_),qt.lFrame.elementDepthCount++,vc(V)&&(H6(w,_,V),Lg(w,V,_)),null!==m&&Hn(_,V)}function bf(){let a=pi();El()?In():(a=a.parent,Xi(a,!1));const c=a;qt.lFrame.elementDepthCount--;const u=Cn();u.firstCreatePass&&(Fa(u,a),m4(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(c)&&f3(u,c,et(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(c)&&f3(u,c,et(),c.stylesWithoutHost,!1)}function wf(a,c,u,m){yf(a,c,u,m),bf()}function E5(a,c,u){const m=et(),_=Cn(),w=a+20,x=_.firstCreatePass?function(a,c,u,m,_){const w=c.consts,x=Yr(w,m),T=W2(c,a,8,"ng-container",x);return null!==x&&c5(T,x,!0),Rh(c,u,T,Yr(w,_)),null!==c.queries&&c.queries.elementStart(c,T),T}(w,_,m,c,u):_.data[w];Xi(x,!0);const T=m[w]=m[11].createComment("");wh(_,m,T,x),hr(T,m),vc(x)&&(H6(_,m,x),Lg(_,x,m)),null!=u&&Hn(m,x)}function kf(){let a=pi();const c=Cn();El()?In():(a=a.parent,Xi(a,!1)),c.firstCreatePass&&(Fa(c,a),m4(a)&&c.queries.elementEnd(a))}function x5(){return et()}function Mf(a){return!!a&&"function"==typeof a.then}function wp(a){return!!a&&"function"==typeof a.subscribe}const fu=wp;function A5(a,c,u,m){const _=et(),w=Cn(),x=pi();return lv(w,_,_[11],x,a,c,!!u,m),A5}function pu(a,c){const u=pi(),m=et(),_=Cn();return lv(_,m,Wh(Al(_.data),u,m),u,a,c,!1),pu}function lv(a,c,u,m,_,w,x,T){const L=vc(m),$=a.firstCreatePass&&Gh(a),X=c[8],ie=K2(c);let he=!0;if(3&m.type||T){const Ae=wr(m,c),ct=T?T(Ae):Ae,Ye=ie.length,Bt=T?on=>T(fi(on[m.index])):m.index;if(On(u)){let on=null;if(!T&&L&&(on=function(a,c,u,m){const _=a.cleanup;if(null!=_)for(let w=0;w<_.length-1;w+=2){const x=_[w];if(x===u&&_[w+1]===m){const T=c[7],L=_[w+2];return T.length>L?T[L]:null}"string"==typeof x&&(w+=2)}return null}(a,c,_,m.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=w,on.__ngLastListenerFn__=w,he=!1;else{w=z0(m,c,X,w,!1);const wn=u.listen(ct,_,w);ie.push(w,wn),$&&$.push(_,Bt,Ye,Ye+1)}}else w=z0(m,c,X,w,!0),ct.addEventListener(_,w,x),ie.push(w),$&&$.push(_,Bt,Ye,x)}else w=z0(m,c,X,w,!1);const we=m.outputs;let Le;if(he&&null!==we&&(Le=we[_])){const Ae=Le.length;if(Ae)for(let ct=0;ct<Ae;ct+=2){const wo=c[Le[ct]][Le[ct+1]].subscribe(w),Ma=ie.length;ie.push(w,wo),$&&$.push(_,m.index,Ma,-(Ma+1))}}}function Ef(a,c,u,m){try{return!1!==u(m)}catch(_){return jo(a,_),!1}}function z0(a,c,u,m,_){return function w(x){if(x===Function)return m;const T=2&a.flags?mn(a.index,c):c;0==(32&c[2])&&s5(T);let L=Ef(c,0,m,x),V=w.__ngNextListenerFn__;for(;V;)L=Ef(c,0,V,x)&&L,V=V.__ngNextListenerFn__;return _&&!1===L&&(x.preventDefault(),x.returnValue=!1),L}}function xf(a=1){return function(a){return(qt.lFrame.contextLView=function(a,c){for(;a>0;)c=c[15],a--;return c}(a,qt.lFrame.contextLView))[8]}(a)}function kp(a,c){let u=null;const m=function(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(a);for(let _=0;_<c.length;_++){const w=c[_];if("*"!==w){if(null===m?m0(a,w,!0):g0(m,w))return _}else u=_}return u}function Af(a){const c=et()[16][6];if(!c.projection){const m=c.projection=Li(a?a.length:1,null),_=m.slice();let w=c.child;for(;null!==w;){const x=a?kp(w,a):0;null!==x&&(_[x]?_[x].projectionNext=w:m[x]=w,_[x]=w),w=w.next}}}function Sf(a,c=0,u){const m=et(),_=Cn(),w=W2(_,20+a,16,null,u||null);null===w.projection&&(w.projection=c),In(),64!=(64&w.flags)&&function(a,c,u){C9(c[11],0,c,u,V8(a,u,c),y9(u.parent||c[6],u,c))}(_,m,w)}function S5(a,c,u){return T5(a,"",c,"",u),S5}function T5(a,c,u,m,_){const w=et(),x=S0(w,c,u,m);return x!==Rt&&Ho(Cn(),ii(),w,a,x,w[11],_,!1),T5}function z5(a,c,u,m,_){const w=a[u+1],x=null===c;let T=m?Ds(w):fa(w),L=!1;for(;0!==T&&(!1===L||x);){const $=a[T+1];fv(a[T],c)&&(L=!0,a[T+1]=m?q8($):$l($)),T=m?Ds($):fa($)}L&&(a[u+1]=m?$l(w):q8(w))}function fv(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&Ur(a,c)>=0}const to={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dr(a){return a.substring(to.key,to.keyEnd)}function N0(a,c){const u=to.textEnd;return u===c?-1:(c=to.keyEnd=function(a,c,u){for(;c<u&&a.charCodeAt(c)>32;)c++;return c}(a,to.key=c,u),L0(a,c,u))}function L0(a,c,u){for(;c<u&&a.charCodeAt(c)<=32;)c++;return c}function dl(a,c,u){return m2(a,c,u,!1),dl}function R5(a,c){return m2(a,c,null,!0),R5}function ec(a,c){for(let u=function(a){return function(a){to.key=0,to.keyEnd=0,to.value=0,to.valueEnd=0,to.textEnd=a.length}(a),N0(a,L0(a,0,to.textEnd))}(c);u>=0;u=N0(c,u))Zi(a,Dr(c),!0)}function m2(a,c,u,m){const _=et(),w=Cn(),x=zo(2);w.firstUpdatePass&&Ep(w,a,x,m),c!==Rt&&$r(_,x,c)&&V5(w,w.data[kr()],_,_[11],a,_[x+1]=function(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=W(Vn(a)))),a}(c,u),m,x)}function Nf(a,c){return c>=a.expandoStartIndex}function Ep(a,c,u,m){const _=a.data;if(null===_[u+1]){const w=_[kr()],x=Nf(a,u);Ap(w,m)&&null===c&&!x&&(c=!1),c=function(a,c,u,m){const _=Al(a);let w=m?c.residualClasses:c.residualStyles;if(null===_)0===(m?c.classBindings:c.styleBindings)&&(u=P0(u=Pf(null,a,c,u,m),c.attrs,m),w=null);else{const x=c.directiveStylingLast;if(-1===x||a[x]!==_)if(u=Pf(_,a,c,u,m),null===w){let L=function(a,c,u){const m=u?c.classBindings:c.styleBindings;if(0!==fa(m))return a[Ds(m)]}(a,c,m);void 0!==L&&Array.isArray(L)&&(L=Pf(null,a,c,L[1],m),L=P0(L,c.attrs,m),function(a,c,u,m){a[Ds(u?c.classBindings:c.styleBindings)]=m}(a,c,m,L))}else w=function(a,c,u){let m;const _=c.directiveEnd;for(let w=1+c.directiveStylingLast;w<_;w++)m=P0(m,a[w].hostAttrs,u);return P0(m,c.attrs,u)}(a,c,m)}return void 0!==w&&(m?c.residualClasses=w:c.residualStyles=w),u}(_,w,c,m),function(a,c,u,m,_,w){let x=w?c.classBindings:c.styleBindings,T=Ds(x),L=fa(x);a[m]=u;let $,V=!1;if(Array.isArray(u)){const X=u;$=X[1],(null===$||Ur(X,$)>0)&&(V=!0)}else $=u;if(_)if(0!==L){const ie=Ds(a[T+1]);a[m+1]=G4(ie,T),0!==ie&&(a[ie+1]=N6(a[ie+1],m)),a[T+1]=function(a,c){return 131071&a|c<<17}(a[T+1],m)}else a[m+1]=G4(T,0),0!==T&&(a[T+1]=N6(a[T+1],m)),T=m;else a[m+1]=G4(L,0),0===T?T=m:a[L+1]=N6(a[L+1],m),L=m;V&&(a[m+1]=$l(a[m+1])),z5(a,$,m,!0),z5(a,$,m,!1),function(a,c,u,m,_){const w=_?a.residualClasses:a.residualStyles;null!=w&&"string"==typeof c&&Ur(w,c)>=0&&(u[m+1]=q8(u[m+1]))}(c,$,a,m,w),x=G4(T,L),w?c.classBindings=x:c.styleBindings=x}(_,w,c,u,x,m)}}function Pf(a,c,u,m,_){let w=null;const x=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<x&&(w=c[T],m=P0(m,w.hostAttrs,_),w!==a);)T++;return null!==a&&(u.directiveStylingLast=T),m}function P0(a,c,u){const m=u?1:2;let _=-1;if(null!==c)for(let w=0;w<c.length;w++){const x=c[w];"number"==typeof x?_=x:_===m&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Zi(a,x,!!u||c[++w]))}return void 0===a?null:a}function V5(a,c,u,m,_,w,x,T){if(!(3&c.type))return;const L=a.data,V=L[T+1];tc(function(a){return 1==(1&a)}(V)?tr(L,c,u,_,fa(V),x):void 0)||(tc(w)||function(a){return 2==(2&a)}(V)&&(w=tr(L,null,u,_,T,x)),function(a,c,u,m,_){const w=On(a);if(c)_?w?a.addClass(u,m):u.classList.add(m):w?a.removeClass(u,m):u.classList.remove(m);else{let x=-1===m.indexOf("-")?void 0:xi.DashCase;if(null==_)w?a.removeStyle(u,m,x):u.style.removeProperty(m);else{const T="string"==typeof _&&_.endsWith("!important");T&&(_=_.slice(0,-10),x|=xi.Important),w?a.setStyle(u,m,_,x):u.style.setProperty(m,_,T?"important":"")}}}(m,x,Na(kr(),u),_,w))}function tr(a,c,u,m,_,w){const x=null===c;let T;for(;_>0;){const L=a[_],V=Array.isArray(L),$=V?L[1]:L,X=null===$;let ie=u[_+1];ie===Rt&&(ie=X?fe:void 0);let he=X?Ss(ie,m):$===m?ie:void 0;if(V&&!tc(he)&&(he=Ss(L,m)),tc(he)&&(T=he,x))return T;const we=a[_+1];_=x?Ds(we):fa(we)}if(null!==c){let L=w?c.residualClasses:c.residualStyles;null!=L&&(T=Ss(L,m))}return T}function tc(a){return void 0!==a}function Ap(a,c){return 0!=(a.flags&(c?16:32))}function Rf(a,c=""){const u=et(),m=Cn(),_=a+20,w=m.firstCreatePass?W2(m,_,1,c,null):m.data[_],x=u[_]=function(a,c){return On(a)?a.createText(c):a.createTextNode(c)}(u[11],c);wh(m,u,x,w),Xi(w,!1)}function Sp(a){return Kn("",a,""),Sp}function Kn(a,c,u){const m=et(),_=S0(m,a,c,u);return _!==Rt&&pa(m,kr(),_),Kn}function Of(a,c,u,m,_){const w=et(),x=J2(w,a,c,u,m,_);return x!==Rt&&pa(w,kr(),x),Of}function Vf(a,c,u){!function(a,c,u,m){const _=Cn(),w=zo(2);_.firstUpdatePass&&Ep(_,null,w,m);const x=et();if(u!==Rt&&$r(x,w,u)){const T=_.data[kr()];if(Ap(T,m)&&!Nf(_,w)){let L=m?T.classesWithoutHost:T.stylesWithoutHost;null!==L&&(u=de(L,u||"")),f3(_,T,x,u,m)}else!function(a,c,u,m,_,w,x,T){_===Rt&&(_=fe);let L=0,V=0,$=0<_.length?_[0]:null,X=0<w.length?w[0]:null;for(;null!==$||null!==X;){const ie=L<_.length?_[L+1]:void 0,he=V<w.length?w[V+1]:void 0;let Le,we=null;$===X?(L+=2,V+=2,ie!==he&&(we=X,Le=he)):null===X||null!==$&&$<X?(L+=2,we=$):(V+=2,we=X,Le=he),null!==we&&V5(a,c,u,m,we,Le,x,T),$=L<_.length?_[L]:null,X=V<w.length?w[V]:null}}(_,T,x,x[11],x[w+1],x[w+1]=function(a,c,u){if(null==u||""===u)return fe;const m=[],_=Vn(u);if(Array.isArray(_))for(let w=0;w<_.length;w++)a(m,_[w],!0);else if("object"==typeof _)for(const w in _)_.hasOwnProperty(w)&&a(m,w,_[w]);else"string"==typeof _&&c(m,_);return m}(a,c,u),m,w)}}(Zi,ec,S0(et(),a,c,u),!0)}function H0(a,c,u){const m=et();return $r(m,zi(),c)&&Ho(Cn(),ii(),m,a,c,m[11],u,!0),H0}function B0(a,c,u){const m=et();if($r(m,zi(),c)){const w=Cn(),x=ii();Ho(w,x,m,a,c,Wh(Al(w.data),x,m),u,!0)}return B0}const t4=void 0;var Np=["en",[["a","p"],["AM","PM"],t4],[["AM","PM"],t4,t4],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],t4,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],t4,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",t4,"{1} 'at' {0}",t4],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const u=Math.floor(Math.abs(a)),m=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===m?1:5}];let n4={};function i4(a){const c=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=Mu(c);if(u)return u;const m=c.split("-")[0];if(u=Mu(m),u)return u;if("en"===m)return Np;throw new Error(`Missing locale data for the locale "${a}".`)}function nc(a){return i4(a)[$t.PluralCase]}function Mu(a){return a in n4||(n4[a]=Jn.ng&&Jn.ng.common&&Jn.ng.common.locales&&Jn.ng.common.locales[a]),n4[a]}var $t=(()=>(($t=$t||{})[$t.LocaleId=0]="LocaleId",$t[$t.DayPeriodsFormat=1]="DayPeriodsFormat",$t[$t.DayPeriodsStandalone=2]="DayPeriodsStandalone",$t[$t.DaysFormat=3]="DaysFormat",$t[$t.DaysStandalone=4]="DaysStandalone",$t[$t.MonthsFormat=5]="MonthsFormat",$t[$t.MonthsStandalone=6]="MonthsStandalone",$t[$t.Eras=7]="Eras",$t[$t.FirstDayOfWeek=8]="FirstDayOfWeek",$t[$t.WeekendRange=9]="WeekendRange",$t[$t.DateFormat=10]="DateFormat",$t[$t.TimeFormat=11]="TimeFormat",$t[$t.DateTimeFormat=12]="DateTimeFormat",$t[$t.NumberSymbols=13]="NumberSymbols",$t[$t.NumberFormats=14]="NumberFormats",$t[$t.CurrencyCode=15]="CurrencyCode",$t[$t.CurrencySymbol=16]="CurrencySymbol",$t[$t.CurrencyName=17]="CurrencyName",$t[$t.Currencies=18]="Currencies",$t[$t.Directionality=19]="Directionality",$t[$t.PluralCase=20]="PluralCase",$t[$t.ExtraData=21]="ExtraData",$t))();const Eu="en-US";let U0=Eu;function _3(a,c,u,m,_){if(a=le(a),Array.isArray(a))for(let w=0;w<a.length;w++)_3(a[w],c,u,m,_);else{const w=Cn(),x=et();let T=Kl(a)?a:le(a.provide),L=q9(a);const V=pi(),$=1048575&V.providerIndexes,X=V.directiveStart,ie=V.providerIndexes>>20;if(Kl(a)||!a.multi){const he=new Ba(L,_,ul),we=e7(T,c,_?$:$+ie,X);-1===we?(Es(Pc(V,x),w,T),Xf(w,a,c.length),c.push(T),V.directiveStart++,V.directiveEnd++,_&&(V.providerIndexes+=1048576),u.push(he),x.push(he)):(u[we]=he,x[we]=he)}else{const he=e7(T,c,$+ie,X),we=e7(T,c,$,$+ie),Le=he>=0&&u[he],Ae=we>=0&&u[we];if(_&&!Ae||!_&&!Le){Es(Pc(V,x),w,T);const ct=function(a,c,u,m,_){const w=new Ba(a,u,ul);return w.multi=[],w.index=c,w.componentProviders=0,kb(w,_,m&&!u),w}(_?Dv:nd,u.length,_,m,L);!_&&Ae&&(u[we].providerFactory=ct),Xf(w,a,c.length,0),c.push(T),V.directiveStart++,V.directiveEnd++,_&&(V.providerIndexes+=1048576),u.push(ct),x.push(ct)}else Xf(w,a,he>-1?he:we,kb(u[_?we:he],L,!_&&m));!_&&m&&Ae&&u[we].componentProviders++}}}function Xf(a,c,u,m){const _=Kl(c);if(_||function(a){return!!a.useClass}(c)){const x=(c.useClass||c).prototype.ngOnDestroy;if(x){const T=a.destroyHooks||(a.destroyHooks=[]);if(!_&&c.multi){const L=T.indexOf(u);-1===L?T.push(u,[m,x]):T[L+1].push(m,x)}else T.push(u,x)}}}function kb(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function e7(a,c,u,m){for(let _=u;_<m;_++)if(c[_]===a)return _;return-1}function nd(a,c,u,m){return y3(this.multi,[])}function Dv(a,c,u,m){const _=this.multi;let w;if(this.providerFactory){const x=this.providerFactory.componentProviders,T=K1(u,u[1],this.providerFactory.index,m);w=T.slice(0,x),y3(_,w);for(let L=x;L<T.length;L++)w.push(T[L])}else w=[],y3(_,w);return w}function y3(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function Eb(a,c=[]){return u=>{u.providersResolver=(m,_)=>function(a,c,u){const m=Cn();if(m.firstCreatePass){const _=Zr(a);_3(u,m.data,m.blueprint,_,!0),_3(c,m.data,m.blueprint,_,!1)}}(m,_?_(a):a,c)}}class s4{}const n7="ngComponent";class xb{resolveComponentFactory(c){throw function(a){const c=Error(`No component factory found for ${W(a)}. Did you add it to @NgModule.entryComponents?`);return c[n7]=a,c}(c)}}let Ai=(()=>{class a{}return a.NULL=new xb,a})();function Up(...a){}function a4(a,c){return new c4(wr(a,c))}const Nk=function(){return a4(pi(),et())};let c4=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Nk,a})();function Ab(a){return a instanceof c4?a.nativeElement:a}class W0{}let Z0=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>Tb(),a})();const Tb=function(){const a=et(),u=mn(pi().index,a);return function(a){return a[11]}(cr(u)?u:a)};let Pv=(()=>{class a{}return a.\u0275prov=si({token:a,providedIn:"root",factory:()=>null}),a})();class Rv{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const Ov=new Rv("13.0.2"),zu={};function r7(a,c,u,m,_=!1){for(;null!==u;){const w=c[u.index];if(null!==w&&m.push(fi(w)),ws(w))for(let T=10;T<w.length;T++){const L=w[T],V=L[1].firstChild;null!==V&&r7(L[1],L,V,m)}const x=u.type;if(8&x)r7(a,c,u.child,m);else if(32&x){const T=ql(u,c);let L;for(;L=T();)m.push(L)}else if(16&x){const T=b9(c,u);if(Array.isArray(T))m.push(...T);else{const L=Kc(c[16]);r7(L[1],L,T,m,!0)}}u=_?u.projectionNext:u.next}return m}class Nu{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return r7(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(ws(c)){const u=c[8],m=u?u.indexOf(this):-1;m>-1&&(_h(c,m),Er(u,m))}this._attachedToViewContainer=!1}R8(this._lView[1],this._lView)}onDestroy(c){t5(this._lView[1],this._lView,null,c)}markForCheck(){s5(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){k0(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,c,u){Ic(!0);try{k0(a,c,u)}finally{Ic(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var c;this._appRef=null,I6(this._lView[1],c=this._lView,c[11],2,null,null)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=c}}class Vv extends Nu{constructor(c){super(c),this._view=c}detectChanges(){$6(this._view)}checkNoChanges(){!function(a){Ic(!0);try{$6(a)}finally{Ic(!1)}}(this._view)}get context(){return null}}class Fv extends Ai{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=ui(c);return new jv(u,this.ngModule)}}function Hv(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}const Rk=new Hi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>j});class jv extends s4{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=c.selectors.map(x9).join(","),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Hv(this.componentDef.inputs)}get outputs(){return Hv(this.componentDef.outputs)}create(c,u,m,_){const w=(_=_||this.ngModule)?function(a,c){return{get:(u,m,_)=>{const w=a.get(u,zu,_);return w!==zu||m===zu?w:c.get(u,m,_)}}}(c,_.injector):c,x=w.get(W0,xc),T=w.get(Pv,null),L=x.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",$=m?function(a,c,u){if(On(a))return a.selectRootElement(c,u===gt.ShadowDom);let m="string"==typeof c?a.querySelector(c):c;return m.textContent="",m}(L,m,this.componentDef.encapsulation):vh(x.createRenderer(null,this.componentDef),V,function(a){const c=a.toLowerCase();return"svg"===c?Mc:"math"===c?"http://www.w3.org/1998/MathML/":null}(V)),X=this.componentDef.onPush?576:528,ie=function(a,c){return{components:[],scheduler:a||j,clean:jg,playerHandler:c||null,flags:0}}(),he=Y4(0,null,null,1,0,null,null,null,null,null),we=F6(null,he,ie,X,null,null,x,L,T,w);let Le,Ae;Ln(we);try{const ct=function(a,c,u,m,_,w){const x=u[1];u[20]=a;const L=W2(x,20,2,"#host",null),V=L.mergedAttrs=c.hostAttrs;null!==V&&(c5(L,V,!0),null!==a&&(S4(_,a,V),null!==L.classes&&l2(_,a,L.classes),null!==L.styles&&$e(_,a,L.styles)));const $=m.createRenderer(a,c),X=F6(u,Pg(c),null,c.onPush?64:16,u[20],L,m,$,w||null,null);return x.firstCreatePass&&(Es(Pc(L,u),x,c.type),Hh(x,L),B6(L,u.length,1)),q6(u,X),u[20]=X}($,this.componentDef,we,x,L);if($)if(m)S4(L,$,["ng-version",Ov.full]);else{const{attrs:Ye,classes:Bt}=function(a){const c=[],u=[];let m=1,_=2;for(;m<a.length;){let w=a[m];if("string"==typeof w)2===_?""!==w&&c.push(w,a[++m]):8===_&&u.push(w);else{if(!er(_))break;_=w}m++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Ye&&S4(L,$,Ye),Bt&&Bt.length>0&&l2(L,$,Bt.join(" "))}if(Ae=q1(he,20),void 0!==u){const Ye=Ae.projection=[];for(let Bt=0;Bt<this.ngContentSelectors.length;Bt++){const on=u[Bt];Ye.push(null!=on?Array.from(on):null)}}Le=function(a,c,u,m,_){const w=u[1],x=function(a,c,u){const m=pi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),jh(a,m,c,Z2(a,c,1,null),u));const _=K1(c,a,m.directiveStart,m);hr(_,c);const w=wr(m,c);return w&&hr(w,c),_}(w,u,c);if(m.components.push(x),a[8]=x,_&&_.forEach(L=>L(x,c)),c.contentQueries){const L=pi();c.contentQueries(1,x,L.directiveStart)}const T=pi();return!w.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(W1(T.index),Og(u[1],T,0,T.directiveStart,T.directiveEnd,c),Vh(c,x)),x}(ct,this.componentDef,we,ie,[ru]),W4(he,we,null)}finally{Va()}return new Gp(this.componentType,Le,a4(Ae,we),we,Ae)}}class Gp extends class{}{constructor(c,u,m,_,w){super(),this.location=m,this._rootLView=_,this._tNode=w,this.instance=u,this.hostView=this.changeDetectorRef=new Vv(_),this.componentType=c}get injector(){return new $a(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class Y0{}class rd{}const l4=new Map;class $v extends Y0{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fv(this);const m=ai(c);this._bootstrapComponents=pt(m.bootstrap),this._r3Injector=B9(c,u,[{provide:Y0,useValue:this},{provide:Ai,useValue:this.componentFactoryResolver}],W(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,u=Ki.THROW_IF_NOT_FOUND,m=Tt.Default){return c===Ki||c===Y0||c===G6?this:this._r3Injector.get(c,u,m)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Wp extends rd{constructor(c){super(),this.moduleType=c,null!==ai(c)&&function(a){const c=new Set;!function u(m){const _=ai(m,!0),w=_.id;null!==w&&(function(a,c,u){if(c&&c!==u)throw new Error(`Duplicate module registered for ${a} - ${W(c)} vs ${W(c.name)}`)}(w,l4.get(w),m),l4.set(w,m));const x=pt(_.imports);for(const T of x)c.has(T)||(c.add(T),u(T))}(a)}(c)}create(c){return new $v(this.moduleType,c)}}function o7(a,c,u){const m=Cr()+a,_=et();return _[m]===Rt?o1(_,m,u?c.call(u):c()):function(a,c){return a[c]}(_,m)}function Gv(a,c,u,m){return Yp(et(),Cr(),a,c,u,m)}function u4(a,c,u,m,_){return a7(et(),Cr(),a,c,u,m,_)}function od(a,c){const u=a[c];return u===Rt?void 0:u}function Yp(a,c,u,m,_,w){const x=c+u;return $r(a,x,_)?o1(a,x+1,w?m.call(w,_):m(_)):od(a,x+1)}function a7(a,c,u,m,_,w,x){const T=c+u;return vo(a,T,_,w)?o1(a,T+2,x?m.call(x,_,w):m(_,w)):od(a,T+2)}function Kv(a,c){const u=Cn();let m;const _=a+20;u.firstCreatePass?(m=function(a,c){if(c)for(let u=c.length-1;u>=0;u--){const m=c[u];if(a===m.name)return m}throw new Je("302",`The pipe '${a}' could not be found!`)}(c,u.pipeRegistry),u.data[_]=m,m.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(_,m.onDestroy)):m=u.data[_];const w=m.factory||(m.factory=Do(m.type)),x=xo(ul);try{const T=Br(!1),L=w();return Br(T),function(a,c,u,m){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=m}(u,et(),_,L),L}finally{xo(x)}}function Kp(a,c,u){const m=a+20,_=et(),w=g1(_,m);return ad(_,m)?Yp(_,Cr(),c,w.transform,u,w):w.transform(u)}function Qp(a,c,u,m){const _=a+20,w=et(),x=g1(w,_);return ad(w,_)?a7(w,Cr(),c,x.transform,u,m,x):x.transform(u,m)}function ad(a,c){return a[1].data[c].pure}function Xp(a){return c=>{setTimeout(a,void 0,c)}}const hl=class extends f.xQ{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,m){var L,V,$;let _=c,w=u||(()=>null),x=m;if(c&&"object"==typeof c){const X=c;_=null==(L=X.next)?void 0:L.bind(X),w=null==(V=X.error)?void 0:V.bind(X),x=null==($=X.complete)?void 0:$.bind(X)}this.__isAsync&&(w=Xp(w),_&&(_=Xp(_)),x&&(x=Xp(x)));const T=super.subscribe({next:_,error:w,complete:x});return c instanceof Z.w&&c.add(T),T}};function Ob(){return this._results[r3()]()}class cd{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=r3(),m=cd.prototype;m[u]||(m[u]=Ob)}get changes(){return this._changes||(this._changes=new hl)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const m=this;m.dirty=!1;const _=Tn(c);(this._changesDetected=!function(a,c,u){if(a.length!==c.length)return!1;for(let m=0;m<a.length;m++){let _=a[m],w=c[m];if(u&&(_=u(_),w=u(w)),w!==_)return!1}return!0}(m._results,_,u))&&(m._results=_,m.length=_.length,m.last=_[this.length-1],m.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const Vb=function(){return dd(pi(),et())};let ld=(()=>{class a{}return a.__NG_ELEMENT_ID__=Vb,a})();const ud=ld,Hk=class extends ud{constructor(c,u,m){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=m}createEmbeddedView(c){const u=this._declarationTContainer.tViews,m=F6(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null);m[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(m[19]=w.createEmbeddedView(u)),W4(u,m,c),new Nu(m)}};function dd(a,c){return 4&a.type?new Hk(c,a,a4(a,c)):null}const Fb=function(){return b3(pi(),et())};let tm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Fb,a})();const Uk=tm,Qv=class extends Uk{constructor(c,u,m){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=m}get element(){return a4(this._hostTNode,this._hostLView)}get injector(){return new $a(this._hostTNode,this._hostLView)}get parentInjector(){const c=Et(this._hostTNode,this._hostLView);if(v6(c)){const u=gi(c,this._hostLView),m=Ks(c);return new $a(u[1].data[m+8],u)}return new $a(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=us(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,m){const _=c.createEmbeddedView(u||{});return this.insert(_,m),_}createComponent(c,u,m,_,w){const x=c&&!("function"==typeof c);let T;if(x)T=u;else{const X=u||{};T=X.index,m=X.injector,_=X.projectableNodes,w=X.ngModuleRef}const L=x?c:new jv(ui(c)),V=m||this.parentInjector;if(!w&&null==L.ngModule&&V){const X=V.get(Y0,null);X&&(w=X)}const $=L.create(V,_,void 0,w);return this.insert($.hostView,T),$}insert(c,u){const m=c._lView,_=m[1];if(ws(m[3])){const $=this.indexOf(c);if(-1!==$)this.detach($);else{const X=m[3],ie=new Qv(X,X[6],X[3]);ie.detach(ie.indexOf(c))}}const w=this._adjustIndex(u),x=this._lContainer;!function(a,c,u,m){const _=10+m,w=u.length;m>0&&(u[_-1][4]=c),m<w-10?(c[4]=u[_],Qa(u,10+m,c)):(u.push(c),c[4]=null),c[3]=u;const x=c[17];null!==x&&u!==x&&function(a,c){const u=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===u?a[9]=[c]:u.push(c)}(x,c);const T=c[19];null!==T&&T.insertView(a),c[2]|=128}(_,m,x,w);const T=Ch(w,x),L=m[11],V=T6(L,x[7]);return null!==V&&function(a,c,u,m,_,w){m[0]=_,m[6]=c,I6(a,m,u,1,_,w)}(_,x[6],L,m,V,T),c.attachToViewContainerRef(),Qa(K0(x),w,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=us(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),m=_h(this._lContainer,u);m&&(Er(K0(this._lContainer),u),R8(m[1],m))}detach(c){const u=this._adjustIndex(c,-1),m=_h(this._lContainer,u);return m&&null!=Er(K0(this._lContainer),u)?new Nu(m):null}_adjustIndex(c,u=0){return null==c?this.length+u:c}};function us(a){return a[8]}function K0(a){return a[8]||(a[8]=[])}function b3(a,c){let u;const m=c[a.index];if(ws(m))u=m;else{let _;if(8&a.type)_=fi(m);else{const w=c[11];_=w.createComment("");const x=wr(a,c);Bi(w,T6(w,x),_,function(a,c){return On(a)?a.nextSibling(c):c.nextSibling}(w,x),!1)}c[a.index]=u=V9(m,c,_,a),q6(c,u)}return new Qv(u,a,c)}class Gr{constructor(c){this.queryList=c,this.matches=null}clone(){return new Gr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pu{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const m=null!==c.contentQueries?c.contentQueries[0]:u.length,_=[];for(let w=0;w<m;w++){const x=u.getByIndex(w);_.push(this.queries[x.indexInDeclarationView].clone())}return new Pu(_)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Rn(c,u).matches&&this.queries[u].setDirty()}}class im{constructor(c,u,m=null){this.predicate=c,this.flags=u,this.read=m}}class Ot{constructor(c=[]){this.queries=c}elementStart(c,u){for(let m=0;m<this.queries.length;m++)this.queries[m].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let m=0;m<this.length;m++){const _=null!==u?u.length:0,w=this.getByIndex(m).embeddedTView(c,_);w&&(w.indexInDeclarationView=m,null!==u?u.push(w):u=[w])}return null!==u?new Ot(u):null}template(c,u){for(let m=0;m<this.queries.length;m++)this.queries[m].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class Xt{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new Xt(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let m=c.parent;for(;null!==m&&8&m.type&&m.index!==u;)m=m.parent;return u===(null!==m?m.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const m=this.metadata.predicate;if(Array.isArray(m))for(let _=0;_<m.length;_++){const w=m[_];this.matchTNodeWithReadOption(c,u,$k(u,w)),this.matchTNodeWithReadOption(c,u,os(u,c,w,!1,!1))}else m===ld?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,os(u,c,m,!1,!1))}matchTNodeWithReadOption(c,u,m){if(null!==m){const _=this.metadata.read;if(null!==_)if(_===c4||_===tm||_===ld&&4&u.type)this.addMatch(u.index,-2);else{const w=os(u,c,_,!1,!1);null!==w&&this.addMatch(u.index,w)}else this.addMatch(u.index,m)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function $k(a,c){const u=a.localNames;if(null!==u)for(let m=0;m<u.length;m+=2)if(u[m]===c)return u[m+1];return null}function He(a,c,u,m){return-1===u?function(a,c){return 11&a.type?a4(a,c):4&a.type?dd(a,c):null}(c,a):-2===u?function(a,c,u){return u===c4?a4(c,a):u===ld?dd(c,a):u===tm?b3(c,a):void 0}(a,c,m):K1(a,a[1],u,c)}function $o(a,c,u,m){const _=c[19].queries[m];if(null===_.matches){const w=a.data,x=u.matches,T=[];for(let L=0;L<x.length;L+=2){const V=x[L];T.push(V<0?null:He(c,w[V],x[L+1],u.metadata.read))}_.matches=T}return _.matches}function rm(a,c,u,m){const _=a.queries.getByIndex(u),w=_.matches;if(null!==w){const x=$o(a,c,_,u);for(let T=0;T<w.length;T+=2){const L=w[T];if(L>0)m.push(x[T/2]);else{const V=w[T+1],$=c[-L];for(let X=10;X<$.length;X++){const ie=$[X];ie[17]===ie[3]&&rm(ie[1],ie,V,m)}if(null!==$[9]){const X=$[9];for(let ie=0;ie<X.length;ie++){const he=X[ie];rm(he[1],he,V,m)}}}}}return m}function Hb(a){const c=et(),u=Cn(),m=Zs();lr(m+1);const _=Rn(u,m);if(a.dirty&&v1(c)===(2==(2&_.metadata.flags))){if(null===_.matches)a.reset([]);else{const w=_.crossesNgTemplate?rm(u,c,m,[]):$o(u,c,_,m);a.reset(w,Ab),a.notifyOnChanges()}return!0}return!1}function Bb(a,c,u){const m=Cn();m.firstCreatePass&&(qb(m,new im(a,c,u),-1),2==(2&c)&&(m.staticViewQueries=!0)),_a(m,et(),c)}function jb(a,c,u,m){const _=Cn();if(_.firstCreatePass){const w=pi();qb(_,new im(c,u,m),w.index),function(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(_,a),2==(2&u)&&(_.staticContentQueries=!0)}_a(_,et(),u)}function Ub(){return a=et(),c=Zs(),a[19].queries[c].queryList;var a,c}function _a(a,c,u){const m=new cd(4==(4&u));t5(a,c,m,m.destroy),null===c[19]&&(c[19]=new Pu),c[19].queries.push(new Gr(m))}function qb(a,c,u){null===a.queries&&(a.queries=new Ot),a.queries.track(new Xt(c,u))}function Rn(a,c){return a.queries.getByIndex(c)}function Ru(a,c){return dd(a,c)}const Kk=As("Input",a=>({bindingPropertyName:a})),Qk=As("Output",a=>({bindingPropertyName:a})),g7=new Hi("Application Initializer");let e6=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Up,this.reject=Up,this.initialized=!1,this.done=!1,this.donePromise=new Promise((m,_)=>{this.resolve=m,this.reject=_})}runInitializers(){if(this.initialized)return;const u=[],m=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const w=this.appInits[_]();if(Mf(w))u.push(w);else if(fu(w)){const x=new Promise((T,L)=>{w.subscribe({complete:T,error:L})});u.push(x)}}Promise.all(u).then(()=>{m()}).catch(_=>{this.reject(_)}),0===u.length&&m(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(cn(g7,8))},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();const hm=new Hi("AppId"),oc={provide:hm,useFactory:function(){return`${fm()}${fm()}${fm()}`},deps:[]};function fm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _d=new Hi("Platform Initializer"),s_=new Hi("Platform ID"),pm=new Hi("appBootstrapListener");let a_=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();const gm=new Hi("LocaleId"),c_=new Hi("DefaultCurrencyCode");class yd{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}const k3=function(a){return new Wp(a)},tw=k3,nw=function(a){return Promise.resolve(k3(a))},iw=function(a){const c=k3(a),m=pt(ai(a).declarations).reduce((_,w)=>{const x=ui(w);return x&&_.push(new jv(x)),_},[]);return new yd(c,m)},lM=iw,_m=function(a){return Promise.resolve(iw(a))};let h_=(()=>{class a{constructor(){this.compileModuleSync=tw,this.compileModuleAsync=nw,this.compileModuleAndAllComponentsSync=lM,this.compileModuleAndAllComponentsAsync=_m}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();const rw=(()=>Promise.resolve(0))();function ym(a){"undefined"==typeof Zone?rw.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class bo{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:m=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hl(!1),this.onMicrotaskEmpty=new hl(!1),this.onStable=new hl(!1),this.onError=new hl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!m&&u,_.shouldCoalesceRunChangeDetection=m,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function(){let a=Jn.requestAnimationFrame,c=Jn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const m=c[Zone.__symbol__("OriginalDelegate")];m&&(c=m)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function(a){const c=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Jn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,b7(a),a.isCheckStableRunning=!0,bm(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),b7(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,m,_,w,x,T)=>{try{return aw(a),u.invokeTask(_,w,x,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||a.shouldCoalesceRunChangeDetection)&&c(),ao(a)}},onInvoke:(u,m,_,w,x,T,L)=>{try{return aw(a),u.invoke(_,w,x,T,L)}finally{a.shouldCoalesceRunChangeDetection&&c(),ao(a)}},onHasTask:(u,m,_,w)=>{u.hasTask(_,w),m===_&&("microTask"==w.change?(a._hasPendingMicrotasks=w.microTask,b7(a),bm(a)):"macroTask"==w.change&&(a.hasPendingMacrotasks=w.macroTask))},onHandleError:(u,m,_,w)=>(u.handleError(_,w),a.runOutsideAngular(()=>a.onError.emit(w)),!1)})}(_)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,u,m){return this._inner.run(c,u,m)}runTask(c,u,m,_){const w=this._inner,x=w.scheduleEventTask("NgZoneEvent: "+_,c,ow,Up,Up);try{return w.runTask(x,u,m)}finally{w.cancelTask(x)}}runGuarded(c,u,m){return this._inner.runGuarded(c,u,m)}runOutsideAngular(c){return this._outer.run(c)}}const ow={};function bm(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function b7(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function aw(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function ao(a){a._nesting--,bm(a)}class ei{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hl,this.onMicrotaskEmpty=new hl,this.onStable=new hl,this.onError=new hl}run(c,u,m){return c.apply(u,m)}runGuarded(c,u,m){return c.apply(u,m)}runOutsideAngular(c){return c()}runTask(c,u,m,_){return c.apply(u,m)}}let p_=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{bo.assertNotInAngularZone(),ym(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ym(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(m=>!m.updateCb||!m.updateCb(u)||(clearTimeout(m.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,m,_){let w=-1;m&&m>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==w),u(this._didWork,this.getPendingTasks())},m)),this._callbacks.push({doneCb:u,timeoutId:w,updateCb:_})}whenStable(u,m,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,m,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,m,_){return[]}}return a.\u0275fac=function(u){return new(u||a)(cn(bo))},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})(),m_=(()=>{class a{constructor(){this._applications=new Map,Zo.addToWindow(this)}registerApplication(u,m){this._applications.set(u,m)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,m=!0){return Zo.findTestabilityInTree(this,u,m)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();class Wo{addToWindow(c){}findTestabilityInTree(c,u,m){return null}}function wm(a){Zo=a}let Zo=new Wo,Pr=!0,g_=!1;function v_(){return g_=!0,Pr}function sc(){if(g_)throw new Error("Cannot enable prod mode after platform setup.");Pr=!1}let fl;const C7=new Hi("AllowMultipleToken");class lw{constructor(c,u){this.name=c,this.token=u}}function y_(a,c,u=[]){const m=`Platform: ${c}`,_=new Hi(m);return(w=[])=>{let x=b_();if(!x||x.injector.get(C7,!1))if(a)a(u.concat(w).concat({provide:_,useValue:!0}));else{const T=u.concat(w).concat({provide:_,useValue:!0},{provide:W6,useValue:"platform"});!function(a){if(fl&&!fl.destroyed&&!fl.injector.get(C7,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fl=a.get(dw);const c=a.get(_d,null);c&&c.forEach(u=>u())}(Ki.create({providers:T,name:m}))}return function(a){const c=b_();if(!c)throw new Error("No platform exists!");if(!c.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return c}(_)}}function b_(){return fl&&!fl.destroyed?fl:null}let dw=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,m){const T=function(a,c){let u;return u="noop"===a?new ei:("zone.js"===a?void 0:a)||new bo({enableLongStackTrace:v_(),shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),u}(m?m.ngZone:void 0,{ngZoneEventCoalescing:m&&m.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:m&&m.ngZoneRunCoalescing||!1}),L=[{provide:bo,useValue:T}];return T.run(()=>{const V=Ki.create({providers:L,parent:this.injector,name:u.moduleType.name}),$=u.create(V),X=$.injector.get(Zc,null);if(!X)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return T.runOutsideAngular(()=>{const ie=T.onError.subscribe({next:he=>{X.handleError(he)}});$.onDestroy(()=>{w_(this._modules,$),ie.unsubscribe()})}),function(a,c,u){try{const m=u();return Mf(m)?m.catch(_=>{throw c.runOutsideAngular(()=>a.handleError(_)),_}):m}catch(m){throw c.runOutsideAngular(()=>a.handleError(m)),m}}(X,T,()=>{const ie=$.injector.get(e6);return ie.runInitializers(),ie.donePromise.then(()=>(function(a){an(a,"Expected localeId to be defined"),"string"==typeof a&&(U0=a.toLowerCase().replace(/_/g,"-"))}($.injector.get(gm,Eu)||Eu),this._moduleDoBootstrap($),$))})})}bootstrapModule(u,m=[]){const _=wd({},m);return function(a,c,u){const m=new Wp(u);return Promise.resolve(m)}(0,0,u).then(w=>this.bootstrapModuleFactory(w,_))}_moduleDoBootstrap(u){const m=u.injector.get(Cd);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(_=>m.bootstrap(_));else{if(!u.instance.ngDoBootstrap)throw new Error(`The module ${W(u.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);u.instance.ngDoBootstrap(m)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(cn(Ki))},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();function wd(a,c){return Array.isArray(c)?c.reduce(wd,a):lt(lt({},a),c)}let Cd=(()=>{class a{constructor(u,m,_,w,x){this._zone=u,this._injector=m,this._exceptionHandler=_,this._componentFactoryResolver=w,this._initStatus=x,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const T=new q.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),L=new q.y(V=>{let $;this._zone.runOutsideAngular(()=>{$=this._zone.onStable.subscribe(()=>{bo.assertNotInAngularZone(),ym(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const X=this._zone.onUnstable.subscribe(()=>{bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{$.unsubscribe(),X.unsubscribe()}});this.isStable=(0,R.T)(T,L.pipe((0,te.B)()))}bootstrap(u,m){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let _;_=u instanceof s4?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(_.componentType);const w=function(a){return a.isBoundToModule}(_)?void 0:this._injector.get(Y0),T=_.create(Ki.NULL,[],m||_.selector,w),L=T.location.nativeElement,V=T.injector.get(p_,null),$=V&&T.injector.get(m_);return V&&$&&$.registerApplication(L,V),T.onDestroy(()=>{this.detachView(T.hostView),w_(this.components,T),$&&$.unregisterApplication(L)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const m=u;this._views.push(m),m.attachToAppRef(this)}detachView(u){const m=u;w_(this._views,m),m.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(pm,[]).concat(this._bootstrapListeners).forEach(_=>_(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(cn(bo),cn(Ki),cn(Zc),cn(Ai),cn(e6))},a.\u0275prov=si({token:a,factory:a.\u0275fac}),a})();function w_(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}const yM=function(a){return function(a,c,u){if(j1(a)&&!u){const m=mn(a.index,c);return new Nu(m,m)}return 47&a.type?new Nu(c[16],c):null}(pi(),et(),16==(16&a))};let bM=(()=>{class a{}return a.__NG_ELEMENT_ID__=yM,a})();const SM=function(a){return null};class t6{constructor(){}supports(c){return o3(c)}create(c){return new Md(c)}}const A3=(a,c)=>c;class Md{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||A3}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,m=this._removalsHead,_=0,w=null;for(;u||m;){const x=!m||u&&u.currentIndex<S_(m,_,w)?u:m,T=S_(x,_,w),L=x.currentIndex;if(x===m)_--,m=m._nextRemoved;else if(u=u._next,null==x.previousIndex)_++;else{w||(w=[]);const V=T-_,$=L-_;if(V!=$){for(let ie=0;ie<V;ie++){const he=ie<w.length?w[ie]:w[ie]=0,we=he+ie;$<=we&&we<V&&(w[ie]=he+1)}w[x.previousIndex]=$-V}}T!==L&&c(x,T,L)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!o3(c))throw new Error(`Error trying to diff '${W(c)}'. Only arrays and iterables are allowed`);return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let _,w,x,u=this._itHead,m=!1;if(Array.isArray(c)){this.length=c.length;for(let T=0;T<this.length;T++)w=c[T],x=this._trackByFn(T,w),null!==u&&Object.is(u.trackById,x)?(m&&(u=this._verifyReinsertion(u,w,x,T)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,x,T),m=!0),u=u._next}else _=0,function(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[r3()]();let m;for(;!(m=u.next()).done;)c(m.value)}}(c,T=>{x=this._trackByFn(_,T),null!==u&&Object.is(u.trackById,x)?(m&&(u=this._verifyReinsertion(u,T,x,_)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,x,_),m=!0),u=u._next,_++}),this.length=_;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,m,_){let w;return null===c?w=this._itTail:(w=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,w,_)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(m,_))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,w,_)):c=this._addAfter(new Ed(u,m),w,_),c}_verifyReinsertion(c,u,m,_){let w=null===this._unlinkedRecords?null:this._unlinkedRecords.get(m,null);return null!==w?c=this._reinsertAfter(w,c._prev,_):c.currentIndex!=_&&(c.currentIndex=_,this._addToMoves(c,_)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,m){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const _=c._prevRemoved,w=c._nextRemoved;return null===_?this._removalsHead=w:_._nextRemoved=w,null===w?this._removalsTail=_:w._prevRemoved=_,this._insertAfter(c,u,m),this._addToMoves(c,m),c}_moveAfter(c,u,m){return this._unlink(c),this._insertAfter(c,u,m),this._addToMoves(c,m),c}_addAfter(c,u,m){return this._insertAfter(c,u,m),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,m){const _=null===u?this._itHead:u._next;return c._next=_,c._prev=u,null===_?this._itTail=c:_._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new A_),this._linkedRecords.put(c),c.currentIndex=m,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,m=c._next;return null===u?this._itHead=m:u._next=m,null===m?this._itTail=u:m._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new A_),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class Ed{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TM{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let m;for(m=this._head;null!==m;m=m._nextDup)if((null===u||u<=m.currentIndex)&&Object.is(m.trackById,c))return m;return null}remove(c){const u=c._prevDup,m=c._nextDup;return null===u?this._head=m:u._nextDup=m,null===m?this._tail=u:m._prevDup=u,null===this._head}}class A_{constructor(){this.map=new Map}put(c){const u=c.trackById;let m=this.map.get(u);m||(m=new TM,this.map.set(u,m)),m.add(c)}get(c,u){const _=this.map.get(c);return _?_.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S_(a,c,u){const m=a.previousIndex;if(null===m)return m;let _=0;return u&&m<u.length&&(_=u[m]),m+c+_}class nt{constructor(){}supports(c){return c instanceof Map||m5(c)}create(){return new Sm}}class Sm{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||m5(c)))throw new Error(`Error trying to diff '${W(c)}'. Only maps and objects are allowed`)}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(m,_)=>{if(u&&u.key===_)this._maybeAddToChanges(u,m),this._appendAfter=u,u=u._next;else{const w=this._getOrCreateRecordForKey(_,m);u=this._insertBeforeOrAppend(u,w)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let m=u;null!==m;m=m._nextRemoved)m===this._mapHead&&(this._mapHead=null),this._records.delete(m.key),m._nextRemoved=m._next,m.previousValue=m.currentValue,m.currentValue=null,m._prev=null,m._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const m=c._prev;return u._next=c,u._prev=m,c._prev=u,m&&(m._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const _=this._records.get(c);this._maybeAddToChanges(_,u);const w=_._prev,x=_._next;return w&&(w._next=x),x&&(x._prev=w),_._next=null,_._prev=null,_}const m=new pl(c);return this._records.set(c,m),m.currentValue=u,this._addToAdditions(m),m}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(m=>u(c[m],m))}}class pl{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yw(){return new n6([new t6])}let n6=(()=>{class a{constructor(u){this.factories=u}static create(u,m){if(null!=m){const _=m.factories.slice();u=u.concat(_)}return new a(u)}static extend(u){return{provide:a,useFactory:m=>a.create(u,m||yw()),deps:[[a,new Js,new ra]]}}find(u){const m=this.factories.find(_=>_.supports(u));if(null!=m)return m;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function(a){return a.name||typeof a}(u)}'`)}}return a.\u0275prov=si({token:a,providedIn:"root",factory:yw}),a})();function bw(){return new d4([new nt])}let d4=(()=>{class a{constructor(u){this.factories=u}static create(u,m){if(m){const _=m.factories.slice();u=u.concat(_)}return new a(u)}static extend(u){return{provide:a,useFactory:m=>a.create(u,m||bw()),deps:[[a,new Js,new ra]]}}find(u){const m=this.factories.find(_=>_.supports(u));if(m)return m;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return a.\u0275prov=si({token:a,providedIn:"root",factory:bw}),a})();const ww=[new nt],Cw=new n6([new t6]),wa=new d4(ww),I_=y_(null,"core",[{provide:s_,useValue:"unknown"},{provide:dw,deps:[Ki]},{provide:m_,deps:[]},{provide:a_,deps:[]}]),z_=[{provide:Cd,useClass:Cd,deps:[bo,Ki,Zc,Ai,e6]},{provide:Rk,deps:[bo],useFactory:function(a){let c=[];return a.onStable.subscribe(()=>{for(;c.length;)c.pop()()}),function(u){c.push(u)}}},{provide:e6,useClass:e6,deps:[[new ra,g7]]},{provide:h_,useClass:h_,deps:[]},oc,{provide:n6,useFactory:function(){return Cw},deps:[]},{provide:d4,useFactory:function(){return wa},deps:[]},{provide:gm,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||Eu},deps:[[new H2(gm),new ra,new Js]]},{provide:c_,useValue:"USD"}];let xd=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(cn(Cd))},a.\u0275mod=A2({type:a}),a.\u0275inj=dn({providers:z_}),a})()},6293:(wt,Ve,F)=>{"use strict";F.d(Ve,{Z:()=>Je});var f=F(4213),Z=F(1177),q=F(1572),R=F(3855);class te{constructor(Ce,me){this._delegate=Ce,this.firebase=me,(0,q._addComponent)(Ce,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,q.deleteApp)(this._delegate)))}_getService(Ce,me=q._DEFAULT_ENTRY_NAME){var Ee;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(Ce);return!Ge.isInitialized()&&"EXPLICIT"===(null===(Ee=Ge.getComponent())||void 0===Ee?void 0:Ee.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:me})}_removeServiceInstance(Ce,me=q._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(me)}_addComponent(Ce){(0,q._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,q._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ve=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function de(){const qe=function(qe){const Ce={},me={__esModule:!0,initializeApp:function(jt,Ze={}){const Se=q.initializeApp(jt,Ze);if((0,f.r3)(Ce,Se.name))return Ce[Se.name];const De=new qe(Se,me);return Ce[Se.name]=De,De},app:Ge,registerVersion:q.registerVersion,setLogLevel:q.setLogLevel,onLog:q.onLog,apps:null,SDK_VERSION:q.SDK_VERSION,INTERNAL:{registerComponent:function(jt){const Ze=jt.name,Se=Ze.replace("-compat","");if(q._registerComponent(jt)&&"PUBLIC"===jt.type){const De=(Fe=Ge())=>{if("function"!=typeof Fe[Se])throw ve.create("invalid-app-argument",{appName:Ze});return Fe[Se]()};void 0!==jt.serviceProps&&(0,f.ZB)(De,jt.serviceProps),me[Se]=De,qe.prototype[Se]=function(...Fe){return this._getService.bind(this,Ze).apply(this,jt.multipleInstances?Fe:[])}}return"PUBLIC"===jt.type?me[Se]:null},removeApp:function(jt){delete Ce[jt]},useAsService:function(jt,Ze){return"serverAuth"===Ze?null:Ze},modularAPIs:q}};function Ge(jt){if(!(0,f.r3)(Ce,jt=jt||q._DEFAULT_ENTRY_NAME))throw ve.create("no-app",{appName:jt});return Ce[jt]}return me.default=me,Object.defineProperty(me,"apps",{get:function(){return Object.keys(Ce).map(jt=>Ce[jt])}}),Ge.App=qe,me}(te);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function(me){(0,f.ZB)(qe,me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),qe}(),se=new R.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=ne;(0,q.registerVersion)("@firebase/app-compat","0.1.10",undefined)},1572:(wt,Ve,F)=>{"use strict";F.r(Ve),F.d(Ve,{FirebaseError:()=>R.ZR,SDK_VERSION:()=>_r,_DEFAULT_ENTRY_NAME:()=>Ui,_addComponent:()=>ni,_addOrOverwriteComponent:()=>Vr,_apps:()=>an,_clearComponents:()=>dn,_components:()=>tn,_getProvider:()=>si,_registerComponent:()=>Mo,_removeServiceInstance:()=>bi,deleteApp:()=>yr,getApp:()=>ys,getApps:()=>rr,initializeApp:()=>V1,onLog:()=>$i,registerVersion:()=>Tt,setLogLevel:()=>Eo});var f=F(8239),Z=F(1177),q=F(3855),R=F(4213);class te{constructor(Ft){this.container=Ft}getPlatformInfoString(){return this.container.getProviders().map(An=>{if(function(Ut){const Ft=Ut.getComponent();return"VERSION"===(null==Ft?void 0:Ft.type)}(An)){const pn=An.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(An=>An).join(" ")}}const ve="@firebase/app",W="0.7.9",de=new q.Yd("@firebase/app"),Ui="[DEFAULT]",Wt={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},an=new Map,tn=new Map;function ni(Ut,Ft){try{Ut.container.addComponent(Ft)}catch(An){de.debug(`Component ${Ft.name} failed to register with FirebaseApp ${Ut.name}`,An)}}function Vr(Ut,Ft){Ut.container.addOrOverwriteComponent(Ft)}function Mo(Ut){const Ft=Ut.name;if(tn.has(Ft))return de.debug(`There were multiple attempts to register component ${Ft}.`),!1;tn.set(Ft,Ut);for(const An of an.values())ni(An,Ut);return!0}function si(Ut,Ft){return Ut.container.getProvider(Ft)}function bi(Ut,Ft,An=Ui){si(Ut,Ft).clearInstance(An)}function dn(){tn.clear()}const qi=new R.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Os{constructor(Ft,An,pn){this._isDeleted=!1,this._options=Object.assign({},Ft),this._config=Object.assign({},An),this._name=An.name,this._automaticDataCollectionEnabled=An.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ft){this._isDeleted=Ft}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}const _r="9.5.0";function V1(Ut,Ft={}){"object"!=typeof Ft&&(Ft={name:Ft});const An=Object.assign({name:Ui,automaticDataCollectionEnabled:!1},Ft),pn=An.name;if("string"!=typeof pn||!pn)throw qi.create("bad-app-name",{appName:String(pn)});const or=an.get(pn);if(or){if((0,R.vZ)(Ut,or.options)&&(0,R.vZ)(An,or.config))return or;throw qi.create("duplicate-app",{appName:pn})}const Qn=new Z.H0(pn);for(const Ht of tn.values())Qn.addComponent(Ht);const gt=new Os(Ut,An,Qn);return an.set(pn,gt),gt}function ys(Ut=Ui){const Ft=an.get(Ut);if(!Ft)throw qi.create("no-app",{appName:Ut});return Ft}function rr(){return Array.from(an.values())}function yr(Ut){return d1.apply(this,arguments)}function d1(){return(d1=(0,f.Z)(function*(Ut){const Ft=Ut.name;an.has(Ft)&&(an.delete(Ft),yield Promise.all(Ut.container.getProviders().map(An=>An.delete())),Ut.isDeleted=!0)})).apply(this,arguments)}function Tt(Ut,Ft,An){var pn;let or=null!==(pn=Wt[Ut])&&void 0!==pn?pn:Ut;An&&(or+=`-${An}`);const Qn=or.match(/\s|\//),gt=Ft.match(/\s|\//);if(Qn||gt){const Ht=[`Unable to register library "${or}" with version "${Ft}":`];return Qn&&Ht.push(`library name "${or}" contains illegal characters (whitespace or "/")`),Qn&&gt&&Ht.push("and"),gt&&Ht.push(`version name "${Ft}" contains illegal characters (whitespace or "/")`),void de.warn(Ht.join(" "))}Mo(new Z.wA(`${or}-version`,()=>({library:or,version:Ft}),"VERSION"))}function $i(Ut,Ft){if(null!==Ut&&"function"!=typeof Ut)throw qi.create("invalid-log-argument");(0,q.Am)(Ut,Ft)}function Eo(Ut){(0,q.Ub)(Ut)}Mo(new Z.wA("platform-logger",Ft=>new te(Ft),"PRIVATE")),Tt(ve,W,""),Tt(ve,W,"esm2017"),Tt("fire-js","")},1177:(wt,Ve,F)=>{"use strict";F.d(Ve,{wA:()=>q,H0:()=>W});var f=F(8239),Z=F(4213);class q{constructor(ne,se,le){this.name=ne,this.instanceFactory=se,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const R="[DEFAULT]";class te{constructor(ne,se){this.name=ne,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const se=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(se)){const le=new Z.BH;if(this.instancesDeferred.set(se,le),this.isInitialized(se)||this.shouldAutoInitialize())try{const Ie=this.getOrInitializeService({instanceIdentifier:se});Ie&&le.resolve(Ie)}catch(Ie){}}return this.instancesDeferred.get(se).promise}getImmediate(ne){var se;const le=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),Ie=null!==(se=null==ne?void 0:ne.optional)&&void 0!==se&&se;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Ie)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch(Ue){if(Ie)return null;throw Ue}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if("EAGER"===ne.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:R})}catch(se){}for(const[se,le]of this.instancesDeferred.entries()){const Ie=this.normalizeInstanceIdentifier(se);try{const Ue=this.getOrInitializeService({instanceIdentifier:Ie});le.resolve(Ue)}catch(Ue){}}}}clearInstance(ne=R){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,f.Z)(function*(){const se=Array.from(ne.instances.values());yield Promise.all([...se.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...se.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=R){return this.instances.has(ne)}getOptions(ne=R){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:se={}}=ne,le=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ie=this.getOrInitializeService({instanceIdentifier:le,options:se});for(const[Ue,Je]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier(Ue)&&Je.resolve(Ie);return Ie}onInit(ne,se){var le;const Ie=this.normalizeInstanceIdentifier(se),Ue=null!==(le=this.onInitCallbacks.get(Ie))&&void 0!==le?le:new Set;Ue.add(ne),this.onInitCallbacks.set(Ie,Ue);const Je=this.instances.get(Ie);return Je&&ne(Je,Ie),()=>{Ue.delete(ne)}}invokeOnInitCallbacks(ne,se){const le=this.onInitCallbacks.get(se);if(le)for(const Ie of le)try{Ie(ne,se)}catch(Ue){}}getOrInitializeService({instanceIdentifier:ne,options:se={}}){let le=this.instances.get(ne);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ne,de===R?void 0:de),options:se}),this.instances.set(ne,le),this.instancesOptions.set(ne,se),this.invokeOnInitCallbacks(le,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,le)}catch(Ie){}var de;return le||null}normalizeInstanceIdentifier(ne=R){return this.component?this.component.multipleInstances?ne:R:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const se=this.getProvider(ne.name);if(se.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);se.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const se=new te(ne,this);return this.providers.set(ne,se),se}getProviders(){return Array.from(this.providers.values())}}},3855:(wt,Ve,F)=>{"use strict";F.d(Ve,{in:()=>Z,Yd:()=>ve,Ub:()=>W,Am:()=>de});const f=[];var Z=(()=>{return(ne=Z||(Z={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",Z;var ne})();const q={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},R=Z.INFO,te={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},pe=(ne,se,...le)=>{if(se<ne.logLevel)return;const Ie=(new Date).toISOString(),Ue=te[se];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ue](`[${Ie}]  ${ne.name}:`,...le)};class ve{constructor(se){this.name=se,this._logLevel=R,this._logHandler=pe,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in Z))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?q[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...se),this._logHandler(this,Z.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...se),this._logHandler(this,Z.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...se),this._logHandler(this,Z.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...se),this._logHandler(this,Z.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...se),this._logHandler(this,Z.ERROR,...se)}}function W(ne){f.forEach(se=>{se.setLogLevel(ne)})}function de(ne,se){for(const le of f){let Ie=null;se&&se.level&&(Ie=q[se.level]),le.userLogHandler=null===ne?null:(Ue,Je,...qe)=>{const Ce=qe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch(Ee){return null}}).filter(me=>me).join(" ");Je>=(null!=Ie?Ie:Ue.logLevel)&&ne({level:Z[Je].toLowerCase(),message:Ce,args:qe,type:Ue.name})}}}},8239:(wt,Ve,F)=>{"use strict";function f(q,R,te,pe,ve,W,de){try{var ne=q[W](de),se=ne.value}catch(le){return void te(le)}ne.done?R(se):Promise.resolve(se).then(pe,ve)}function Z(q){return function(){var R=this,te=arguments;return new Promise(function(pe,ve){var W=q.apply(R,te);function de(se){f(W,pe,ve,de,ne,"next",se)}function ne(se){f(W,pe,ve,de,ne,"throw",se)}de(void 0)})}}F.d(Ve,{Z:()=>Z})}},wt=>{wt(wt.s=9042)}]);